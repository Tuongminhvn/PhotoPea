(function(){function OF(){this.Fr={};this.EH={}}OF.Ti=[];OF.zo=function(l){var t=OF.Ti;if(t.length!=0){var a=new Z(w.E.xx);
for(var k=0;k<t.length;k++)t[k].t(a)}window.requestAnimationFrame(OF.zo)};window.requestAnimationFrame(OF.zo);
OF.prototype.OHd=function(l){var t=this.Fr[l];if(t==null)return!1;return t.length>0};OF.prototype.addEventListener=function(l,t){this.a(l,t,null)};
OF.prototype.a=function(l,t,a){if(this.Fr[l]==null){this.Fr[l]=[];this.EH[l]=[]}this.Fr[l].push(t);this.EH[l].push(a);
if(l==w.E.xx){var k=OF.Ti;if(k.indexOf(this)==-1)k.push(this)}};OF.prototype.removeEventListener=function(l,t){var a=this.Fr[l];
if(a==null)return;var k=a.indexOf(t);if(k<0)return;var R=this.EH[l];a.splice(k,1);R.splice(k,1);if(l==w.E.xx&&a.length==0){var u=OF.Ti;
u.splice(u.indexOf(this),1)}};OF.prototype.t=function(l){l.currentTarget=this;if(l.target==null)l.target=this;
var t=this.Fr[l.type];if(t==null)return;var a=this.EH[l.type];for(var k=0;k<t.length;k++){if(a[k]==null)t[k](l);
else t[k].call(a[k],l)}};function HA(){OF.call(this);this._c={};this.$T={};this.$g={};HA.wF=this}HA.prototype=new OF;
HA.OHp=function(l,t){var a=0,k=HA.TU;while(a<k.length){if((t>>>a&1)==1)break;a++}if(t==0||k[a][1]==""){if((t&15)!=0&&HA.zp(l,[33,126])>.7)a=0;
else if(t==0)a=0;else{a=0}}return k[a][1]};HA.Tb=120;HA.hq=20;HA.cols=8;HA.hY=function(l){var t=l.name.postScriptName;
if(t==null)return null;return t.replace(/ /g,"-")};HA.O_W=function(l){var t=l.name,a=t.typoFamilyName?t.typoFamilyName:t.fontFamily,k=t.typoSubfamilyName?t.typoSubfamilyName:t.fontSubfamily,R="JUICE,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Libre Caslon,Londrina,Panefresco,Perspective Sans,Plasma Drip,SF Shai Fontai,SF Toontime,SF Wasabi,SF Wonder Comic,Sansumi,Solveig,Theano,UnifrakturMaguntia,Varela,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,itsadzoke,Noto Sans JP,Noto Sans KR,Noto Serif JP,Noto Serif KR,Mplus 1p,Rounded Mplus 1c,Abhaya Libre,Bai Jamjuree,Gothic A1,Cairo,Chakra Petch,Clear Sans,Colaborate,Diner,El Messiri,Exo 2,Exo,Fahkwang,Gaegu,IBM Plex Mono,IBM Plex Sans Condensed,IBM Plex Sans,IBM Plex Serif,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,K2D,Karnivore,Knigthings Petrock,KoHo,Kodchasan,Krub,Libre Barcode,Lunchtype,Mada,Mali,Mirza,Mukta Malar,NanumMyeongjo,Newt Serif,Niramit,Proclamate,Tajawal,Teutonic".split(",");
for(var u=0;u<R.length;u++)if(a.startsWith(R[u])){var b=a.slice(R[u].length);a=R[u];if(b.startsWith(" ")||b.startsWith("-"))b=b.slice(1);
if(b!=""){if(k=="Regular")k=b;else k=b+" "+k}break}return[a,k]};HA.prototype.hs=function(l){if(this._c[l])return this._c[l];
if(this.$T[l])return null;var t=null,a=this.Ak();if(a[l]!=null)t=a[l][5];if(t==null){var k;if(this.zw[l])k=this.zw[l];
else{var R="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),u=l.toLowerCase(),b=0;
if(u.indexOf("sans")!=-1)b=0;else if(u.indexOf("serif")!=-1)b=4;var v=u.indexOf("bold")!=-1,H=u.indexOf("italic")!=-1||u.indexOf("oblique")!=-1||u.endsWith("-it");
if(v&&H)b+=3;else if(H)b+=2;else if(v)b+=1;k=R[b]}if(this.$g[k]==null)alert(Wq.get([22,6,0])+" "+l+" "+Wq.get([22,6,1])+". "+Wq.get([22,6,2])+" "+k+".");
this.$g[k]=!0;return this.hs(k)}this.$T[l]="a";var N=new Z(w.E.J,!0);N.data={T:w.h.HJ,wd:{url:"rsrc/fonts/"+t}};
this.t(N)};HA.prototype.OAk=function(l){alert(Wq.get([22,6,0])+" "+l.name.fullName+" "+Wq.get([23,0])+".");
var t=HA.hY(l),a=!1,k=FNTS.list;for(var R=0;R<k.length;R++)if(k[R][2]==t)a=!0;if(!a){var u=HA.OAa(l),b=document.createElement("canvas"),v=b.getContext("2d");
b.width=HA.Tb;b.height=HA.hq;var H=HA.hq*.75/l.head.unitsPerEm;v.translate(5,HA.hq*.75);v.scale(H,-H);
v.fillStyle="#000000";var N=Typr.U.stringToGlyphs(l,HA.OHp(l,u[3]));Typr.U.pathToContext(Typr.U.glyphsToPath(l,N),v);
v.fill();u.$k=b.toDataURL();this.zC(u,k.length);k.push(u)}delete this.$T[t];this._c[t]=l};HA.OnQ=function(){var l=HA.TU,t=[];
for(var a=0;a<l.length;a++)t.push(l[a][0]);return t};HA.TU=[["Latin-1","Preview",[160,255],.7],["Latin Ext. A","",[256,383],.7],["Greek","",[913,929,931,969],.7],["Cyrillic","",[1040,1119],.7],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7],["Arabic","",[1569,1594,1600,1749],.7],["Hangul","\uC608\uACE0\uD3B8",[12592,12687,44032,42927],.7],["Chi-Jap-Kor","\u9810\u7FD2",[19968,40895],.05],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,4044],.7],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7]];
HA.OAa=function(l,t,a){var k=l.name,N=0;if(HA.hY(l)==null){console.log(l);throw"No postScriptName!"}var R=HA.TU,u=[];
for(var b=0;b<R.length;b++){var v=R[b][2],H=R[b][3];u[b]=HA.zp(l,v)>H?1:0}for(var b=0;b<u.length;b++)N+=u[b]<<b;
var z=HA.O_W(l);return[z[0],z[1],HA.hY(l),N,a,t]};HA.zp=function(l,t){var a=0,k=0;for(var R=0;R<t.length;
R+=2){for(var u=t[R];u<=t[R+1];u++){var b=Typr.U.codeToGlyph(l,u);if(b==0)k++;else a++}}return a/(a+k)};
HA.Ono=function(l,t){if(l[2]<t[2])return-1;if(l[2]>t[2])return 1;return 0};HA.prototype.zw={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DeajVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""};
HA.prototype.Ak=function(){if(FNTS.map==null){var l=FNTS.list;for(var t=0;t<l.length;t++)this.zC(l[t],t)}return FNTS.map};
HA.prototype.zC=function(l,t){var a=l[0],k=l[1];l.AZ=t;if(FNTS.map==null)FNTS.map={};FNTS.map[l[2]]=l;
if(FNTS.mapFS==null)FNTS.mapFS={};FNTS.mapFS[a+"---"+k]=l;if(FNTS.mapSub==null)FNTS.mapSub={};var R=FNTS.mapSub[a];
if(R==null)R=FNTS.mapSub[a]=[];if(R.indexOf(k)==-1)R.push(k)};HA.O$Y=function(l,t){return HA.c_(l)-HA.c_(t)};
HA.c_=function(l){l=l.toLowerCase();var t=HA.Ogl(l)+(HA.OIO(l)<<1);if(l.indexOf("cond")==-1)t+=1<<25;
return t};HA.Ogl=function(l){return l.indexOf("italic")!=-1||l.indexOf("oblique")!=-1?1:0};HA.OIO=function(l){var t=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"],a=-1,k=-1;
for(var R=0;R<t.length;R++){var u=t[R];if(u instanceof Array)for(var b=0;b<u.length;b++){var v=u[b];
if(l.indexOf(v)!=-1&&(a==-1||k<v.length)){a=R;k=v.length}}else if(l.indexOf(u)!=-1&&(a==-1||k<u.length)){a=R;
k=u.length}}if(a==-1)a=8;return a};HA.zv=function(l,t){var a=1e9,k=null,R=HA.c_(t);for(var u=0;u<l.length;
u++){var b=Math.abs(HA.c_(l[u])-R);if(b<a){a=b;k=l[u]}}return k};HA.prototype.TE=function(l,t){this.Ak();
return FNTS.mapFS[l+"---"+t]};HA.prototype.SV=function(l){this.Ak();return FNTS.mapSub[l]};HA.prototype.OkL=function(){this.Ak();
return FNTS.mapSub};var WY={oH:0,HQ:null,hX:null,SA:null,SW:null,Tf:null,SH:!0,Sg:0,Td:!1},Hc=0;WY.xR=function(){return WY.OVV()!=null};
WY.FG=function(){return WY.Tf};WY.TC=function(l){window.addEventListener("message",WY.OSu,!1);setInterval(WY.SI,5e3);
if(WY.xR()){WY.HQ=l;WY.wM()}else setTimeout(l,1)};WY.SI=function(){if(WY.xR()&&WY.Td){WY.Sz(WY.GV());
WY.Td=!1}};WY.TZ=function(l){WY.HQ=l;var t="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
WY.SA=window.open(t,"_blank")};WY.OzE=function(){localStorage.removeItem(WY.oH+"_uid");localStorage.removeItem(WY.oH+"_provider");
localStorage.removeItem(WY.oH+"_token");WY.Tf=null};WY.OSu=function(l){if(l.data instanceof ArrayBuffer)return;
if(l.data.charAt(0)!="{")return;var t=JSON.parse(l.data);if(t.prms==null)return;var a=t.prms.split(",");
if(a[0]=="papi_logged_in"){localStorage[WY.oH+"_uid"]=a[1];WY.cN(a[2]);localStorage[WY.oH+"_provider"]=a[3];
WY.SA.close();WY.wM()}if(a[0]=="payment_complete"){WY.SW.close();WY.wM()}};WY.OVV=function(){var l=localStorage[WY.oH+"_token"];
if(l!=null&&Date.now()*.001+10<parseInt(l.split("-")[0]))return l;return null};WY.cN=function(l){var t=localStorage[WY.oH+"_token"];
if(t!=null&&parseInt(l.split("-")[0])<parseInt(t.split("-")[0]))return;localStorage[WY.oH+"_token"]=l;
clearTimeout(WY.Sg);WY.Sg=setTimeout(WY.OOS,Math.min(1e9,parseInt(l.split("-")[0])*1e3-Date.now()-20*1e3))};
WY.OOS=function(){var l=new XMLHttpRequest;l.open("POST","https://www.photopea.com/papi/record_new.php",!0);
l.onload=WY.OAQ;var t=WY.TD()+"&read=2";l.setRequestHeader("Content-type","application/x-www-form-urlencoded");
l.send(t)};WY.wM=function(){var l=new XMLHttpRequest;l.open("POST","https://www.photopea.com/papi/record_new.php",!0);
l.onload=WY.OOj;var t=WY.TD()+"&read=1";l.setRequestHeader("Content-type","application/x-www-form-urlencoded");
l.send(t)};WY.Sz=function(l){var t=new XMLHttpRequest;t.open("POST","https://www.photopea.com/papi/record_new.php",!0);
t.onload=WY.Olw;var a=WY.TD()+"&read=0&score=0&spublic="+WY.SH+"&record="+encodeURIComponent(JSON.stringify(l));
t.setRequestHeader("Content-type","application/x-www-form-urlencoded");t.send(a)};WY.OOj=function(l){var t=JSON.parse(l.target.response);
if(t.error){}else{WY.Tf=t.user;var a=WY.GV(),k=t.record;if(t.record){WY.SH=t.spublic;WY.Sf(k)}else if(a)WY.Sz(a)}WY.cN(t.token);
if(WY.HQ){WY.HQ();WY.HQ=null}if(WY.hX){WY.hX();WY.hX=null}};WY.OAQ=function(l){var t=JSON.parse(l.target.response);
WY.cN(t.token)};WY.Olw=function(l){var t=JSON.parse(l.target.response);WY.cN(t.token);if(WY.hX)WY.wM()};
WY.TD=function(){return"app="+WY.oH+"&uid="+localStorage[WY.oH+"_uid"]+"&token="+localStorage[WY.oH+"_token"]};
WY.vr=function(){return WY.GV()};WY.Tj=function(l,t){WY.Sf(l);WY.Td=!0;if(t){WY.hX=t;WY.SI()}};WY.GV=function(){var l=localStorage[WY.oH+"_stateLocal"],t;
if(l==null)return null;try{t=JSON.parse(l)}catch(l_){return null}return t};WY.Sf=function(l){var t=JSON.stringify(l);
localStorage[WY.oH+"_stateLocal"]=t};WY.order=function(l,t,a){WY.HQ=a;var k="https://www.photopea.com/papi/order.php?ptype="+t+"&param="+l+"&uid="+localStorage[WY.oH+"_uid"]+"&token="+localStorage[WY.oH+"_token"];
WY.SW=window.open(k,"_blank")};var Wq={};Wq.wB=0;Wq.Gl={};Wq.get=function(l){var t=JSON.stringify(l);
if(Wq.Gl[t]!=null)return Wq.Gl[t];var a=LNG.tables[0],k=LNG.tables[Wq.wB],R=Wq.Sq(l,k);if(R!=null)return R;
return Wq.Sq(l,a)};Wq.Sq=function(l,t){for(var a=0;a<l.length;a++){t=t[l[a]];if(t==null)return null}return t.split("::")[0]};
Wq.OkX=function(){var l=function(a,k){var R=a.code,u=k.code;if(R=="en")return-1;if(u=="en")return 1;
var b=navigator.languages,v=b.indexOf(R)!=-1,H=b.indexOf(u)!=-1;if(v&&H)return R>u?1:-1;if(v)return-1;
if(H)return 1;return R>u?1:-1},t=LNG.langs.slice(0);t.sort(l);return t};Wq.Obi=function(l){Wq.wB=l};
Wq.OzK=function(l){for(var t=0;t<LNG.langs.length;t++)if(LNG.langs[t].code==l)Wq.wB=t};Wq.SY=function(){return LNG.langs[Wq.wB].code};
Wq.OKy=function(l){for(var t=0;t<l.length;t+=2)Wq.Gl[JSON.stringify(l[t])]=l[t+1]};Wq.Gb=function(l){var t=-1,a=LNG.langs;
for(var k=0;k<a.length;k++)if(a[k].code==l)t=k;return t};var W$={xt:0,tA:{expires_at:0},Gn:[]};W$.Ns=function(l){if(l)W$.Gn.splice(0,0,l);
if(W$.xt==1)return;if(W$.tA.expires_at>Date.now()*.001+30){while(W$.Gn.length>0)W$.Gn.pop()()}else{if(W$.xt==0)W$.xt=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:W$.xt==2?!1:!0},W$.OVo)}};
W$.OVo=function(l){if(l&&!l.error){W$.tA=l;W$.xt=!1;W$.Ns()}else if(W$.xt==1){W$.xt=2;W$.Ns()}else alert("Error: "+l.error)};
W$.Gx=function(){return"access_token="+W$.tA.access_token+"&token_type="+W$.tA.token_type};function Wr(){}Wr.SX={OOD:["PNG","JPG","SVG","GIF","PDF"],Ogg:"EMF WEBP BMP PPM TIFF ICO DDS".split(" ")};
Wr.Xv=function(l){if(!(l instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var t=new Uint8Array(l),a=Wr.Ogs,k;
if(a(t,[56,66,80,83]))k="psd";if(a(t,[103,105,109,112,32,120,99,102,32]))k="xcf";if(a(t,[137,80,78,71,13,10,26,10]))k="png";
if(a(t,[87,76]))k="cdr";if(a(t,[82,73,70,70])){var R=Oc.sj(t),u=R.bt;if(u=="WEBP")k="webp";else if(u.slice(0,3)=="CDR")k="cdr";
else k=u}if(a(t,[255,216,255]))k="jpg";if(a(t,[0,0,0,12,106,80,32,32]))k="jpg";if(a(t,[48,0,1,0],4))k="jpg";
if(a(t,[71,73,70,56]))k="gif";if(a(t,[0,0,0,2,121,102,113,76]))k="msh";if(a(t,[0,0,0,3,121,102,113,76]))k="msh";
if(a(t,[0,1]))k="aco";if(a(t,[0,2]))k="aco";if(a(t,[0,2,56,66,83,76]))k="asl";if(a(t,[0,6,0,1]))k="abr";
if(a(t,[0,6,0,2]))k="abr";if(a(t,[0,9,0,2]))k="abr";if(a(t,[0,10,0,2]))k="abr";if(a(t,[56,66,70,83]))k="shc";
if(a(t,[56,66,80,84]))k="pat";if(a(t,[0,4,0,5]))k="acv";if(a(t,[56,66,71,82]))k="grd";if(a(t,[99,117,115,104]))k="csh";
if(a(t,[0,1,0,0,0]))k="otf";if(a(t,[79,84,84,79]))k="otf";if(a(t,[116,116,99,102]))k="otf";if(a(t,[68,68,83,32]))k="dds";
if(a(t,[80,86,82,3]))k="pvr";if(a(t,[0,0,1,0]))k="ico";if(a(t,[66,77]))k="bmp";if(a(t,[80,49]))k="ppm";
if(a(t,[80,50]))k="ppm";if(a(t,[80,51]))k="ppm";if(a(t,[80,52]))k="ppm";if(a(t,[80,53]))k="ppm";if(a(t,[80,54]))k="ppm";
if(a(t,[73,73,42,0]))k="tiff";if(a(t,[77,77,0,42]))k="tiff";if(a(t,[83,81,76,105]))k="sketch";if(a(t,[80,75])){var b=UZIP.parse(l,!0);
if(b["document.json"])k="sketch";else if(b.manifest)k="xd";else k="zip"}if(a(t,[123]))k="json";if(a(t,[60,115,118,103]))k="svg";
if(a(t,[60,63,120,109]))k="svg";if(a(t,[60,33,100,111]))k="html";if(a(t,[60,33,68,79]))k="html";if(a(t,[13,10,60,33]))k="html";
if(a(t,[37,33]))k="eps";if(a(t,[197,208,211,198]))k="eps";if(a(t,[37,80,68,70]))k="pdf";if(a(t,[32,32,32,37,80,68,70]))k="pdf";
if(a(t,[215,205,198,154]))k="wmf";if(a(t,[1,0,0,0]))k="emf";return k};Wr.Ogs=function(l,t,a){if(a==null)a=0;
for(var k=0;k<t.length;k++)if(l[a+k]!=t[k])return!1;return!0};Wr.Dz=function(l){return Wr[l.toUpperCase()]};
Wr.Az=function(l){var t=Wr.SX.OOD,a=Wr.SX.Ogg,k,R=[];if(l==null)k=t.concat(a);else k=l==0?t:a;for(var l=0;
l<k.length;l++)if(Wr[k[l]].Sn)R.push(k[l]);return R};Wr.GD=function(l,t,a,k,R){var u=new Uint8Array(l),b=w.X("canvas","");
b.width=t;b.height=a;var v=b.getContext("2d"),H=v.getImageData(0,0,t,a);for(var N=0;N<t*a*4;N++)H.data[N]=u[N];
v.putImageData(H,0,0);var z=b.toDataURL("image/"+k,R),A=Wr.SR(z);return A.buffer};Wr.SR=function(l){var t=atob(l.split(",").pop()),a=new Uint8Array(t.length);
for(var k=0;k<t.length;k++)a[k]=t.charCodeAt(k);return a};Wr.RA=function(l,t,a){var k=new Uint8Array(Wr.PNG.Sn([[l.buffer,0]],t,a));
return"data:image/png;base64,"+Wr.Rk(k.buffer)};Wr.Ogh=function(l,t,a,k,R){if(R==null)R=0;var u="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",b="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+u+"<g transform=\"translate(64 64) scale("+.25*Math.round(w.m())+")\">";
if(l==1)b+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
b+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+R+")\" xlink:href=\""+t+"\" x=\""+80*a+"\" y=\""+80*k+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var v=new Uint8Array(b.length);OK.JA(b,v,0);return"data:image/svg+xml;base64,"+Wr.Rk(v.buffer)};Wr.Rk=function(l){var t=new Uint8Array(l),a="";
for(var k=0;k<t.length;k++)a+=String.fromCharCode(t[k]);return btoa(a)};Wr.RT=function(l,t,a,k,R){if(a==null)a=l.$;
if(k==null)k=l.e;var u=Wr[t.toUpperCase()];if(u.oX)return u.Sn(l,a,k,R);var b=[],v=[];for(var H=0;H<l.Q.length;
H++){var N=l.Q[H];if(N.getName().slice(0,3)=="_a_"){b.push(H);v.push(N.jY())}}if(b.length==0){var z;
if(a==l.$&&k==l.e)z=l.FY().buffer;else{var A=s.b.tS([l.FY(),new d(0,0,l.$,l.e)],new WM(a/(l.$+.001),0,0,k/(l.e+.001),0,0));
z=A.buffer}return u.Sn([[z,0,l.DS]],a,k,R)}var Q=[];for(var H=0;H<b.length;H++){var S=b[H],z;for(var o=0;
o<b.length;o++)l.Q[b[o]].Ro(b[o]==S);l.AU();l.i();l.$d();if(a==l.$&&k==l.e)z=l.FY().buffer.slice(0);
else{var A=s.b.tS([l.FY(),new d(0,0,l.$,l.e)],new WM(a/(l.$+.001),0,0,k/(l.e+.001),0,0));z=A.buffer}var p=l.Q[S].getName().split(",");
Q.push([z,p[1]?parseInt(p[1]):50,l.DS])}for(var H=0;H<b.length;H++)l.Q[b[H]].Ro(v[H]);l.i();l.$d();var O=u.Sn(Q,a,k,R);
return O};Wr.PNG={};Wr.PNG.Sn=function(l,t,a,k){if(k==null)k=[100,!1];var R={sRGB:1};if(l[0][2]!=null){var u=Math.round(l[0][2]*(1e4/254));
R.pHYs=[u,u,1]}var b=k[0],v=b==100?0:Math.max(2,Math.floor(b*5)),H=[],N=[];for(var z=0;z<l.length;z++){H.push(l[z][0]);
N.push(l[z][1])}var A=UPNG.encode(H,t,a,v,N,R,k[1]);return A};Wr.PNG.cq=function(l){var t=Date.now(),a=UPNG.decode(l),k=UPNG.toRGBA8(a),R=a.width,u=a.height,b=0;
if(a.tabs.pHYs)b=Math.round(a.tabs.pHYs[0]*254/1e4);if(k.length==1)return[{Pk:new d(0,0,R,u),data:k[0],DS:b}];
var v=[];for(var H=0;H<k.length;H++){v.push({lX:"_a_frm"+H+","+a.frames[H].delay,Pk:new d(0,0,R,u),data:k[H],DS:b})}return v};
Wr.PPM={};Wr.PPM.Sn=function(l,t,a,k){var R=new Uint8Array(l[0][0]),u=t*a,b=u*3,v="P6\n"+t+" "+a+"\n255\n",H=v.length,N=$.I(H+b,!0);
for(var z=0;z<H;z++)N[z]=v.charCodeAt(z);for(var z=0;z<u;z++){var A=z*4,Q=z*3+H;N[Q]=R[A];N[Q+1]=R[A+1];
N[Q+2]=R[A+2]}return N.buffer};Wr.PPM.cq=function(l){l=new Uint8Array(l);var t=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],a=0,k=String.fromCharCode(l[0])+String.fromCharCode(l[1]),R=[],u=0,b=k=="P1"||k=="P4"?2:3;
for(a=2;a<l.length;a++){var v=l[a],H=String.fromCharCode(v);if(v=="#".charCodeAt(0)){while(l[a]!="\n".charCodeAt(0))a++;
continue}var N=t.indexOf(v)!=-1;if(u==0&&!N){R.push(H);u=1;continue}if(u==1&&!N){R[R.length-1]+=H;continue}if(u==1&&N){u=0;
if(R.length==b)break;continue}}var z=parseInt(R[0]),A=parseInt(R[1]),Q=z*A*4,S=k=="P1"||k=="P4"?1:255/parseInt(R[2]),o=$.I(Q);
if(k=="P1"||k=="P2"||k=="P3"){var p="",O=0,u=0,E="#".charCodeAt(0);for(var L=a;L<l.length;L++){var v=l[L],H=String.fromCharCode(v),N=t.indexOf(v)!=-1;
if(v==E){while(l[L]!="\n".charCodeAt(0))L++}else if(u==0&&!N){p=H;u=1}else if(u==1){if(N){u=0;var U=parseInt(p);
p="";if(k=="P1"){o[O]=o[O+1]=o[O+2]=(1-U)*255;o[O+3]=255;O+=4}if(k=="P2"){o[O]=o[O+1]=o[O+2]=Math.round(U*S);
o[O+3]=255;O+=4}if(k=="P3"){o[O]=Math.round(U*S);O++;if((O&3)==3){o[O]=255;O++}}}else p+=H}}}var W=z*A;
if(k=="P4")for(var Y=0;Y<A;Y++){var y=Y*8*Math.ceil(z/8);for(var C=0;C<z;C++){var L=y+C,X=l[a+1+(L>>3)];
X=X>>7-(L&7)&1;var M=Y*z+C<<2;o[M]=o[M+1]=o[M+2]=(1-X)*255;o[M+3]=255}}if(k=="P5")for(var L=0;L<W;L++){var M=4*L;
o[M]=o[M+1]=o[M+2]=Math.round(l[a+1+L]*S);o[M+3]=255}if(k=="P6")for(var L=0;L<W;L++){var M=4*L,g=a+1+3*L;
o[M]=Math.round(l[g]*S);o[M+1]=Math.round(l[g+1]*S);o[M+2]=Math.round(l[g+2]*S);o[M+3]=255}return[{Pk:new d(0,0,z,A),data:o.buffer}]};
Wr.DDS={};Wr.DDS.Sn=function(l,t,a,k){var R=new Uint8Array(l[0][0]);if((t&3)!=0||(a&3)!=0){var u=t+(4-(t&3)),b=a+(4-(a&3)),v=new Uint8Array(u*b*4);
$.IK(v,4278190080);$.BM(R,new d(0,0,t,a),v,new d(0,0,u,b));R=v;t=u;a=b}return UTEX.DDS.encode(R.buffer,t,a)};
Wr.DDS.cq=function(l){var t=UTEX.DDS.decode(l)[0];return[{Pk:new d(0,0,t.width,t.height),data:t.image}]};
Wr.JPG={};Wr.JPG.Sn=function(l,t,a,k){if(k==null)k=[70];var R=new Uint8Array(l[0][0].byteLength),u=new d(0,0,t,a),v=0;
$.IK(R,4294967295);$.j.bz("norm",new Uint8Array(l[0][0]),u,R,u,u,1);var b=new Uint8Array(Wr.GD(R,t,a,"jpeg",k[0]/100));
if(l[0][2]!=null){var v=Wr.JPG.markerOffset(b,224)+2;v+=9;b[v]=1;K.Cq(b,v+1,l[0][2]);K.Cq(b,v+3,l[0][2])}return b.buffer};
Wr.JPG.markerOffset=function(l,t){var a=0;while(a<l.length){while(l[a]==255)a++;var k=l[a];a++;if(k==t)return a-2;
if(k==216)continue;if(k==217)break;if(224<=k&&k<=239||k==218||k==219||k==192||k==194||k==196||k==221||k==254){var R=K.KA(l,a);
a+=R;if(k==218)while(l[a]!=255||(l[a+1]==0||208<=l[a+1]&&l[a+1]<=215))a++;continue}console.log("unknown marker ",k.toString(16),a)}return-1};
Wr.JPG.Okj=function(l){l=new Uint8Array(l);if(l[0]!=255)return l.buffer;var t=Wr.JPG.n$(l);if(t.numComponents!=4)return l.buffer;
var a=t.width,k=t.height,R=Wr.JPG.nW(t,!0);return Wr.JPG.Sn([[R[0].data]],a,k,[85])};Wr.JPG.n$=function(l){var t=new PDFJS.JpegImage;
t.parse(l);var a=Wr.JPG.markerOffset(l,225);if(a!=-1){a+=2;var k=K.KA(l,a);a+=2;var R=K.NU(l,a,4);if(R=="Exif"){a+=6;
var u=l.slice(a,a+k-8);t.exif=UTIF.decode(u.buffer)}}return t};Wr.JPG.nW=function(l,t){var a=l.width,k=l.height,R=a*k,u=l.getData({width:a,height:k,forceRGB:!0,isSourcePDF:t}),b=$.I(R*4),z=72;
for(var v=0;v<R;v++){var H=v<<2,N=H-v;b[H]=u[N+0];b[H+1]=u[N+1];b[H+2]=u[N+2];b[H+3]=255}if(l.jfif&&l.jfif.densityUnits!=0)z=Math.round([72,1,2.54][l.jfif.densityUnits]*l.jfif.xDensity);
else if(l.exif&&l.exif[0].t282!=null)z=l.exif[0].t282[0];return[{Pk:new d(0,0,a,k),data:b.buffer,DS:z}]};
Wr.JPG.cq=function(l,t,a){l=new Uint8Array(l);if(l[0]==255){var k=Wr.JPG.n$(l);return Wr.JPG.nW(k,!1)}else if(l[0]==0&&l[4]==48&&l[6]==1){var R=l,k=new PDFJS.Jbig2Image,u=[];
if(t)u.push({data:t,start:0,end:t.length});u.push({data:R,start:0,end:R.length});var b=k.parseChunks(u);
if(!a)for(var v=0;v<b.length;v++)b[v]=~b[v];var H=K.o(l,11),N=K.o(l,15),z=Math.ceil(H/8),A=$.I(H*N*4);
for(var Q=0;Q<N;Q++){var S=Q*z;for(var o=0;o<H;o++){var p=(Q*H+o)*4,O=b[S+(o>>>3)]>>>7-(o&7)&1,E=O*255;
A[p]=E;A[p+1]=E;A[p+2]=E;A[p+3]=255}}return[{Pk:new d(0,0,H,N),data:A.buffer}]}else{var k=new PDFJS.JpxImage;
k.parse(l);var H=k.width,N=k.height,L=k.tiles,U=k.componentsCount,W=new Uint8Array(H*N*4),Y=new d(0,0,H,N);
for(var k=0;k<L.length;k++){var y=L[k],C=y.width,X=y.height,M=C*X,Hc=y.items,g=new d(y.left,y.top,C,X),n=new Uint8Array(M*4);
if(U==1)for(var v=0;v<M;v++){var V=Hc[v],p=v*4;n[p]=V;n[p+1]=V;n[p+2]=V;n[p+3]=255}else if(U==3)for(var v=0;
v<M;v++){var i=v*3,p=v*4;n[p]=Hc[i];n[p+1]=Hc[i+1];n[p+2]=Hc[i+2];n[p+3]=255}else console.log("Unknown number of components: "+U);
$.BM(n,g,W,Y)}return[{Pk:Y,data:W.buffer}]}};Wr.WEBP={};Wr.WEBP.Sn=function(l,t,a,k){if(k==null)k=[70];
var R=k[0]/100,H=0;if(l.length==1)return Wr.GD(l[0][0],t,a,"webp",R);var u=K.Rd,b=K.hC,v=new lH;u(v,H,"RIFF    WEBPVP8X");
H+=16;b(v,H,10);H+=4;b(v,H,18);H+=4;b(v,H,t-1);H+=3;b(v,H,a-1);H+=3;u(v,H,"ANIM");H+=4;b(v,H,6);H+=4;
v.hf(H,4);v.data[H+3]=255;H+=6;var N=[];for(var z=0;z<l.length;z++){N.push(l[z][0])}var A=UPNG.encode.compress(N,t,a,R==1?0:Math.max(2,Math.floor(R*500)),[!1,!0,!0,0,!0]).frames,Q=new WebPDecoder;
for(var z=0;z<l.length;z++){u(v,H,"ANMF");H+=4;var S=H;H+=4;var o=A[z],p=o.rect,O=[p.x>>>1,p.y>>>1,p.width-1,p.height-1,l[z][1]];
for(var E=0;E<5;E++)b(v,H+3*E,O[E]);H+=15;v.hf(H,1);v.data[H]=1-o.blend<<1|o.dispose;H++;var L=new Uint8Array(Wr.GD(o.img.buffer,p.width,p.height,"webp",1)),U=Oc.sj(L.buffer).sub,W=K.NU(L,12,4);
if(W!="VP8L"&&W!="VP8 "&&W!="VP8X")throw"e";var Y=W=="VP8 "?0:W=="VP8L"?12:30,y=L.length-Y;v.hf(H,y);
for(var E=0;E<y;E++)v.data[H+E]=L[Y+E];H+=y;var C=H-S-4;b(v,S,C);if((C&1)==1){v.hf(H,1);H++}}b(v,4,H-8);
return v.data.slice(0,H).buffer};Wr.WEBP.cq=function(l){var t=new Uint8Array(l),a=Wr.WEBP.OVj(t),k=Wr.WEBP.OSH,R=new WebPDecoder,u=Oc.sj(l).sub;
if(u[0]._G!="VP8X")return[k(R,a,u[0])];var b={};for(var v=0;v<u.length;v++)b[u[v]._G]=u[v];if(b.ANIM==null){var H=b.ALPH?"ALPH":"VP8 ";
return[k(R,a,{n:b[H].n-8})]}var N=b.VP8X.n,z=1+(K.Rx(t,N+4)&16777215),A=1+(K.Rx(t,N+7)&16777215),Q=[],S=new d(0,0,z,A),o=$.I(z*A*4);
for(var v=0;v<u.length;v++){var p=u[v];if(p._G!="ANMF")continue;var O=[];for(var E=0;E<5;E++)O.push(K.Rx(t,p.n+E*3)&16777215);
var L=new d(O[0]*2,O[1]*2,O[2]+1,O[3]+1),U=O[4],W=k(R,a,{n:p.n+16}),Y=new Uint8Array(W.data),y=t[p.n+15];
if(y>>>1==0)$.j.bz("norm",Y,L,o,S,L,1);else $.BM(Y,L,o,S);Q.push({lX:"_a_"+Q.length+","+U,Pk:S.clone(),data:o.buffer.slice(0)});
if((y&1)==1){$.IK(Y,0);$.BM(Y,L,o,S)}}return Q};Wr.WEBP.OSH=function(l,t,a){var k=[0],R=[0],u=l.WebPDecodeRGBA(t,a.n,t.length-a.n,k,R),b=u.length,v=new Uint8Array(b);
for(var H=0;H<b;H++)v[H]=u[H];return{Pk:new d(0,0,k[0],R[0]),data:v.buffer}};Wr.WEBP.OVj=function(l){var t=[],a=l.length;
for(var k=0;k<a;k++)t.push(l[k]);return t};Wr.BMP={};Wr.BMP.Sn=function(l,t,a,k){var R=new Uint8Array(l[0][0]),u={wa:t,Ii:a,wI:24,EP:0,$E:0},b=new lH,v=4*Math.floor((u.wI*u.wa+31)/32),H=0;
K.Rd(b,H,"BM");H+=2;K.hC(b,H,v*a+16+40);H+=4;K.hC(b,H,0);H+=4;K.hC(b,H,54);H+=4;b.hf(H,40);K.hC(b,H,40);
H+=4;Wr.BMP.OVv(b.data,H,u);H+=36;b.hf(H,v*a);for(var N=0;N<a;N++){var z=H+(a-1-N)*v;for(var A=0;A<t;
A++){var Q=(N*t+A)*4,S=R[Q+3]*(1/255);b.data[z+A*3+2]=R[Q]*S;b.data[z+A*3+1]=R[Q+1]*S;b.data[z+A*3+0]=R[Q+2]*S}}H+=v*a+2;
var o=new Uint8Array(H);for(var p=0;p<H;p++)o[p]=b.data[p];return o.buffer};Wr.BMP.cq=function(l){l=new Uint8Array(l);
var t=0,a=K.NU(l,t,2);t+=2;if(a!="BM"){alert("Unsupported BMP format: "+a);return}var k=K.Rx(l,t);t+=4;
t+=4;var R=K.Rx(l,t);t+=4;return[Wr.BMP.nH(l.buffer,t)]};Wr.BMP.nH=function(l,t){l=new Uint8Array(l);
var a=K.Rx(l,t),k;t+=4;if(a==40)k=Wr.BMP.OVQ(l,t);else{alert("Unsupported BMP header format: "+a+" Bytes");
return}t+=a-4;if(k.EP!=0){alert("Unsupported BMP compression: "+k.EP);return}var R=t,u=4*Math.floor((k.wI*k.wa+31)/32),b=new Uint8Array(k.wa*k.Ii*4);
$.set(b,255);var v=t;if(k.wI<24)v+=4*Math.pow(2,k.wI);if(k.wI==32)for(var H=0;H<k.Ii;H++){var N=v+(k.Ii-1-H)*u;
for(var z=0;z<k.wa;z++){var A=(H*k.wa+z)*4;b[A]=l[N+z*4+2];b[A+1]=l[N+z*4+1];b[A+2]=l[N+z*4+0];b[A+3]=l[N+z*4+3]}}if(k.wI==24)for(var H=0;
H<k.Ii;H++){var N=v+(k.Ii-1-H)*u;for(var z=0;z<k.wa;z++){var A=(H*k.wa+z)*4;b[A]=l[N+z*3+2];b[A+1]=l[N+z*3+1];
b[A+2]=l[N+z*3+0]}}if(k.wI==8)for(var H=0;H<k.Ii;H++){var N=v+(k.Ii-1-H)*u;for(var z=0;z<k.wa;z++){var A=(H*k.wa+z)*4,Q=l[N+z];
b[A]=l[R+4*Q+2];b[A+1]=l[R+4*Q+1];b[A+2]=l[R+4*Q+0]}}if(k.wI==4)for(var H=0;H<k.Ii;H++){var N=v+(k.Ii-1-H)*u;
for(var z=0;z<k.wa;z++){var A=(H*k.wa+z)*4,Q=l[N+(z>>1)];Q=Q>>4-4*(z&1);Q=Q&15;b[A]=l[R+4*Q+2];b[A+1]=l[R+4*Q+1];
b[A+2]=l[R+4*Q+0]}}if(k.wI==1)for(var H=0;H<k.Ii;H++){var N=v+(k.Ii-1-H)*u;for(var z=0;z<k.wa;z++){var A=(H*k.wa+z)*4,S=l[N+(z>>3)];
S=S>>7-(z&7);S=S&1;b[A]=l[R+4*S+2];b[A+1]=l[R+4*S+1];b[A+2]=l[R+4*S+0]}}return{Pk:new d(0,0,k.wa,k.Ii),data:b.buffer}};
Wr.BMP.OVQ=function(l,t){var a={};a.wa=K.Of(l,t);t+=4;a.Ii=K.Of(l,t);t+=4;var k=K.zV(l,t);t+=2;if(k!=1)alert("unsupported number of color planes: "+k);
a.wI=K.zV(l,t);t+=2;a.EP=K.Rx(l,t);t+=4;var R=K.Rx(l,t);t+=4;var u=K.Rx(l,t);t+=4;var b=K.Rx(l,t);t+=4;
a.$E=K.Rx(l,t);t+=4;t+=4;return a};Wr.BMP.OVv=function(l,t,a){K.Nj(l,t,a.wa);t+=4;K.Nj(l,t,a.Ii);t+=4;
K.OI(l,t,1);t+=2;K.OI(l,t,a.wI);t+=2;K.Nj(l,t,a.EP);t+=4;var k=4*Math.floor((a.wI*a.wa+31)/32);K.Nj(l,t,k*a.Ii+2);
t+=4;K.Nj(l,t,2834);t+=4;K.Nj(l,t,2834);t+=4;K.Nj(l,t,a.$E);t+=4;t+=4};Wr.GIF={};Wr.GIF.Sn=function(l,t,a,k){if(k==null)k=[100,!1];
if(k[1]){l=l.slice(0);l.reverse()}var R=[],u=[],b=t*a*4,O=null;for(var v=0;v<l.length;v++){var H=new Uint8Array(l[v][0].slice(0));
for(var N=0;N<b;N+=4){var z=H[N+3]=H[N+3]>127?255:0;if(z==0)H[N]=H[N+1]=H[N+2]=0}R.push(H.buffer);u.push(l[v][1])}var A=Math.round(2+254*k[0]/100),Q=UPNG.encode.compress(R,t,a,A,[!0,!1,!1,8,!1]),S=Q.plte,o=new Uint8Array(4),p=new Uint32Array(o.buffer);
for(var N=0;N<S.length;N++){p[0]=S[N];var E=o[0];o[0]=o[2];o[2]=E;S[N]=p[0];if(p[0]==0)O=N}while(S.length<256)S.push(0);
var L=new Uint8Array(2e3+t*a*l.length),U=new GifWriter(L,t,a,{palette:S,loop:0});for(var N=0;N<l.length;
N++){var W=Q.frames[N],Y=W.rect,y=W.blend,C=W.dispose;U.addFrame(Y.x,Y.y,Y.width,Y.height,W.img,{transparent:O,disposal:C+1,delay:Math.round(u[N]/10)})}return L.slice(0,U.end()).buffer};
Wr.GIF.cq=function(l){var t=new Uint8Array(l),a=new GifReader(t),k=[],R=a.numFrames(),u=a.width,b=a.height,v=$.I(u*b*4),H=new d(0,0,u,b);
for(var N=0;N<R;N++){var z=a.frameInfo(N),A=z.disposal,Q=A==3?v.slice(0):null;a.decodeAndBlitFrameRGBA(N,v);
k.push({Pk:H.clone(),lX:"_a_frm"+N+","+z.delay*10,data:v.slice(0).buffer});if(z.disposal==2){var S=$.I(z.width*z.height*4);
$.BM(S,new d(z.x,z.y,z.width,z.height),v,H)}if(A==3){for(var o=0;o<v.length;o++)v[o]=Q[o]}}return k};
Wr.ICO={};Wr.ICO.Sn=function(l,t,a,k){if(t>256||a>256){alert("Maximum ICO size is 256x256 px.");return}var R=new lH,u=0,b=k&&k[0]==!0;
K.Hd(R,u,0);u+=2;K.Hd(R,u,b?2:1);u+=2;K.Hd(R,u,1);u+=2;var v=new Uint8Array(Wr.PNG.Sn(l,t,a));R.hf(u,16);
R.data[u]=t==256?0:t;u++;R.data[u]=a==256?0:a;u++;u+=2;K.Hd(R,u,b?Math.round(t/2):1);u+=2;K.Hd(R,u,b?Math.round(a/2):32);
u+=2;K.hC(R,u,v.length);u+=4;K.hC(R,u,6+16);u+=4;R.hf(u,v.length);for(var H=0;H<v.length;H++)R.data[u+H]=v[H];
u+=v.length;var N=new Uint8Array(u);for(var H=0;H<u;H++)N[H]=R.data[H];return N.buffer};Wr.ICO.cq=function(l){l=new Uint8Array(l);
var t=4,a=K.zV(l,t);t+=2;var k=[];for(var R=0;R<a;R++){var u=Wr.ICO.OOi(l,t+R*16),b=l.buffer.slice(u.offset,u.offset+u.size),v=Wr.Xv(b);
v=v?v:"bmp";if(v=="png"){var H=Wr.Dz(v);return H.cq(b)}else{var N=Wr.BMP.nH(b,0),b=$.I(u.wa*u.Ii*4);
$.BM(new Uint8Array(N.data),new d(0,0,N.Pk.$,N.Pk.e),b,new d(0,u.Ii,u.wa,u.Ii));N.data=b.buffer;N.Pk.e=u.Ii;
u.$G=N;k.push(u)}}k.sort(function(z,A){if(z.wa!=A.wa)return z.wa-A.wa;return z.$X-A.$X});return[k.pop().$G]};
Wr.ICO.OOi=function(l,t){var a={};a.wa=l[t];t++;if(a.wa==0)a.wa=256;a.Ii=l[t];t++;if(a.Ii==0)a.Ii=256;
a.OnK=l[t];t++;t++;a.Ond=K.zV(l,t);t+=2;a.$X=K.zV(l,t);t+=2;a.size=K.Rx(l,t);t+=4;a.offset=K.Rx(l,t);
t+=4;return a};Wr.TIFF={};Wr.TIFF.cq=function(l){var t=Date.now(),a=UTIF.decode(l);UTIF.decodeImages(l,a);
for(var k=0;k<a.length;k++){var R=a[k]}for(var k=0;k<a.length;k++){var R=a[k];if(R.t37724!=null){var u=R.t37724}if(R.t33421==null)continue;
if(a[0]!=R){for(var b in a[0])if(b[0]=="t"&&R[b]==null)R[b]=a[0][b]}R.OUA=a[0].t274[0];if(a[0].t34665)R.$u=a[a.length-1];
return[R]}var v=[];for(var k=0;k<a.length;k++){var R=a[k];if(R.width==null)continue;var H=UTIF.toRGBA8(R).buffer;
v.push({Pk:new d(0,0,R.width,R.height),data:H})}return v};Wr.TIFF.Sn=function(l,t,a,k){return UTIF.encodeImage(l[0][0],t,a)};
Wr.PSD={};Wr.PSD.oX=!0;Wr.PSD.cq=function(l,t){HZ.sj(l,t)};Wr.PSD.Sn=function(l,t,a,k){if(k==null)k=[!1,!1];
if(!k[0])l.FY();var R=new lH,u=HZ.Sh(l,R,k),b=new Uint8Array(R.data.buffer.slice(0,u));return b.buffer};
Wr.SKETCH={};Wr.SKETCH.oX=!0;Wr.SKETCH.cq=function(l,t){OG.sj(l,t)};Wr.XD={};Wr.XD.oX=!0;Wr.XD.cq=function(l,t){Aa.sj(l,t)};
Wr.XCF={};Wr.XCF.oX=!0;Wr.XCF.cq=function(l,t){HD.sj(l,t)};Wr.SVG={};Wr.SVG.oX=!0;Wr.SVG.Sn=function(l,t,a,k){if(k==null)k=[!0,!1,!1,!1,!0,!0];
var R=Wo.DF(l,{OUk:k[0],hidden:k[1],jF:k[2],OUz:k[3],names:k[4],HV:k[5],OUY:t,OUy:a});return R};Wr.SVG.cq=function(l,t){Wo.sj(l,t)};
Wr.EPS={};Wr.EPS.oX=!0;Wr.EPS.cq=function(l,t){var a=150,k=new WM(1,0,0,-1,0,0);k.scale(a/72,a/72);t.DS=a;
var R=new Hi(t,k,!0);FromPS.Parse(l,R)};Wr.PDF={};Wr.PDF.oX=!0;Wr.PDF.Sn=function(l,t,a,k){if(k==null)k=[!1,!1];
k[2]=["jpg"];var R=new ToPDF;WI.DF(l,k,R);return R.buffer};Wr.PDF.cq=function(l,t){var a=150,k=new WM(1,0,0,-1,0,0);
k.scale(a/72,a/72);t.DS=a;var R=new Hi(t,k,!0);FromPDF.Parse(l,R)};Wr.WMF={};Wr.WMF.oX=!0;Wr.WMF.cq=function(l,t){var a=72,k=new WM(1,0,0,1,0,0);
k.scale(a/72,a/72);t.DS=a;var R=new Hi(t,k,!1);FromWMF.Parse(l,R)};Wr.EMF={};Wr.EMF.nl=!0;Wr.EMF.oX=!0;
Wr.EMF.Sn=function(l,t,a,k){if(k==null)k=[!1,!1];k[2]=[];var R=new ToEMF;WI.DF(l,k,R);var u=R.buffer;
return u};Wr.EMF.cq=function(l,t){var a=72,k=new WM(1,0,0,1,0,0);k.scale(a/72,a/72);t.DS=a;var R=new Hi(t,k,!1);
FromEMF.Parse(l,R)};Wr.CDR={};Wr.CDR.oX=!0;Wr.CDR.cq=function(l,t){return OU.sj(l,t)};function $(){}$.kc=document.createElement("canvas");
$.cO=$.kc.getContext("2d");$.tH=function(l,t,a,k){k=Math.log(k)/Math.log(2);k=Math.round(k);for(var R=0;
R<a;R++)for(var u=0;u<t;u++){var b=R*t+u<<2,v=(R>>k)+(u>>k)&1==1?204:255;l[b]=l[b+1]=l[b+2]=v;l[b+3]=255}};
$.mW=function(l){var t=l.toString(16);while(t.length<6)t="0"+t;return t};$.O$j=function(l){return parseInt(l,16)};
$.Be=function(l){return.3*l.D+.59*l.K+.11*l.l};$.tl=function(l){return Math.max(l.D,l.K,l.l)-Math.min(l.D,l.K,l.l)};
$.RN=function(l,t,a){return.3*l+.59*t+.11*a};$.OnB=function(l,t,a){return Math.max(l,t,a)-Math.min(l,t,a)};
$.OO=function(l,t){var a=t-l,k=Math.abs(a),R=a-1,u=a+1;if(Math.abs(R)<k)a=R;else if(Math.abs(u)<k)a=u;
return a};$.Hw=function(l,t,a,k){return(t-a)*k/(l-a)};$.Gq=function(l){return l<.0031308?12.92*l:1.055*Math.pow(l,1/2.4)-.055};
$.O$q=function(l){return l<.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)};$.Ont=function(l,t,a,k){if(a<t)a+=k;
if(l<t)l+=k;return(l-t)/(a-t)};$.Olo=function(l,t){var a=Math.min(l.length,t.length);for(var k=0;k<a;
k+=4){var R=l[k],u=l[k+1],b=l[k+2];t[k]=16+Math.floor(65.481/255*R+128.553/255*u+24.966/255*b+.5);t[k+1]=128-Math.floor(37.797/255*R-74.203/255*u+112/255*b+.5);
t[k+2]=128+Math.floor(112/255*R-93.786/255*u-18.214/255*b+.5);t[k+3]=l[k+3]}};$.kG=function(l,t,a){var k=Math.max(l,t,a),R=Math.min(l,t,a),u=0,b=0,v=(k+R)*.5;
if(k!=R){var H=k-R;b=v>.5?H/(2-(k+R)):H/(k+R);switch(k){case l:u=(t-a)/H+(t<a?6:0);break;case t:u=(a-l)/H+2;
break;case a:u=(l-t)/H+4;break}u*=1/6}return{Ii:u,RI:b,jl:v}};$.AF=function(l,t,a){var k,R,u;if(t==0)k=R=u=a;
else{var b=a<.5?a*(1+t):a+t-a*t,v=2*a-b;k=$.lu(v,b,l+1/3);R=$.lu(v,b,l);u=$.lu(v,b,l-1/3)}return{D:k,K:R,l:u}};
$.lu=function(l,t,a){if(a<0)a+=1;if(a>1)a-=1;if(a<1/6)return l+(t-l)*6*a;if(a<1/2)return t;if(a<2/3)return l+(t-l)*(2/3-a)*6;
return l};$.HC=function(l,t,a){var k=Math.max(l,t,a),R=Math.min(l,t,a),u,b,v=k,H=k-R;b=k==0?0:H/k;if(k==R)u=0;
else{switch(k){case l:u=(t-a)/H+(t<a?6:0);break;case t:u=(a-l)/H+2;break;case a:u=(l-t)/H+4;break}u*=1/6}return{Ii:u,RI:b,cI:v}};
$.gU=function(l,t,a){var k,R,u,b,v,H,N,z;b=Math.floor(l*6);v=l*6-b;H=a*(1-t);N=a*(1-v*t);z=a*(1-(1-v)*t);
switch(b%6){case 0:k=a,R=z,u=H;break;case 1:k=N,R=a,u=H;break;case 2:k=H,R=a,u=z;break;case 3:k=H,R=N,u=a;
break;case 4:k=z,R=H,u=a;break;case 5:k=a,R=H,u=N;break}return{D:k,K:R,l:u}};$.l$=function(l,t,a){var k=t-$.Be(l);
a.D=l.D+k;a.K=l.K+k;a.l=l.l+k;$.OIz(a)};$.tg=function(l,t,a){var k=l.D,R=l.K,u=l.l;if(k==R&&R==u){a.D=a.K=a.l=0}else if(k>R){if(k>u){if(R>u){a.D=t;
a.K=$.Hw(k,R,u,t);a.l=0}else{a.D=t;a.l=$.Hw(k,u,R,t);a.K=0}}else{a.l=t;a.D=$.Hw(u,k,R,t);a.K=0}}else{if(k<u){if(R>u){a.K=t;
a.l=$.Hw(R,u,k,t);a.D=0}else{a.l=t;a.K=$.Hw(u,R,k,t);a.D=0}}else{a.K=t;a.D=$.Hw(R,k,u,t);a.l=0}}};$.OIz=function(l){var t=l.D,a=l.K,k=l.l,R=$.RN(t,a,k),u=Math.min(t,a,k),b=Math.max(t,a,k);
if(u<0){var v=R/(R-u);t=R+(t-R)*v;a=R+(a-R)*v;k=R+(k-R)*v}if(b>1){var v=(1-R)/(b-R);t=R+(t-R)*v;a=R+(a-R)*v;
k=R+(k-R)*v}l.D=t;l.K=a;l.l=k};$.O$=function(l,t,a,k,R,u){var b=new Uint32Array(l.buffer),v=0;k=Math.log(k)/Math.log(2);
k=Math.round(k);for(var H=0;H<a;H++)for(var N=0;N<t;N++){b[v++]=(H+u>>k)+(N+R>>k)&1==1?4291348680:4294967295}};
$.OnN=function(l,t,a){return(l>>a)+(t>>a)&1==1?200:255};$.OW=function(l,t){var a=l.length;for(var k=0;
k<a;k+=4)t[k>>2]=Math.floor(l[k+0]*.3+l[k+1]*.59+l[k+2]*.11+.5)};$.OIU=function(l,t){var a=t.length;
for(var k=0;k<a;k+=4){var R=l[k>>2];t[k]=R;t[k+1]=R;t[k+2]=R}};$.Dc=function(l,t){var a=l.w,k=l.D,R=l.K,u=l.l,b=Math.min(l.w.length,t.buffer.byteLength>>>2),v=4*Math.floor(b/4),H=new Uint32Array(t.buffer),N=new Uint32Array(a.buffer),z=new Uint32Array(k.buffer),A=new Uint32Array(R.buffer),Q=new Uint32Array(u.buffer);
for(var S=0;S<v;S+=4){var o=N[S>>2],p=Q[S>>2],O=A[S>>2],E=z[S>>2];H[S]=o<<24|(p&255)<<16|(O&255)<<8|E&255;
H[S+1]=(o&65280)<<16|(p&65280)<<8|O&65280|(E&65280)>>>8;H[S+2]=(o&16711680)<<8|p&16711680|(O&16711680)>>>8|(E&16711680)>>>16;
H[S+3]=o&4278190080|(p&4278190080)>>>8|(O&4278190080)>>>16|(E&4278190080)>>>24}for(var S=v;S<b;S++)H[S]=a[S]<<24|u[S]<<16|R[S]<<8|k[S]};
$.OU$=function(l,t,a,k){var R=l.w,u=l.D,b=l.K,v=l.l,H=new Uint32Array(t.buffer),N=k.x-a.x,z=N+k.$,A=k.y-a.y,Q=A+k.e;
for(var S=A;S<Q;S++){var o=S*a.$+N;for(var p=N;p<z;p++){H[o]=R[o]<<24|v[o]<<16|b[o]<<8|u[o];o++}}};$.jk=function(l,t){var a=t.w,k=t.D,R=t.K,u=t.l,b=Math.min(t.w.length,l.buffer.byteLength>>>2),v=4*Math.floor(b/4),H=new Uint32Array(l.buffer),N=new Uint32Array(a.buffer),z=new Uint32Array(k.buffer),A=new Uint32Array(R.buffer),Q=new Uint32Array(u.buffer);
for(var S=0;S<v;S+=4){var o=H[S],p=H[S+1],O=H[S+2],E=H[S+3];z[S>>2]=o&255|(p&255)<<8|(O&255)<<16|E<<24;
A[S>>2]=(o&65280)>>8|p&65280|(O&65280)<<8|(E&65280)<<16;Q[S>>2]=(o&16711680)>>16|(p&16711680)>>8|O&16711680|(E&16711680)<<8;
N[S>>2]=o>>>24|p>>>24<<8|O>>>24<<16|E&4278190080}for(var S=v;S<b;S++){var L=H[S];k[S]=L>>0&255;R[S]=L>>8&255;
u[S]=L>>16&255;a[S]=L>>24&255}};$.Du=function(l,t,a){var k=new Uint8Array(l.buffer),R=Math.min(k.length/4,t.length);
for(var u=0;u<R;u++){t[u]=k[(u<<2)+a]}};$.xm=function(l,t,a){var k=new Uint8Array(t.buffer),R=new Uint32Array(l.buffer),u=Math.min(k.length/4,l.length),b=0;
while(b+4<u){var v=R[b>>>2];k[(b<<2)+a]=v&255;k[(b<<2)+a+4]=v>>>8&255;k[(b<<2)+a+8]=v>>>16&255;k[(b<<2)+a+12]=v>>>24;
b+=4}while(b<u){k[(b<<2)+a]=l[b];b++}};$.clone=function(l){return l.slice(0)};$.lB=function(l,t){$.set(l.w,t);
$.set(l.D,t);$.set(l.K,t);$.set(l.l,t)};$.set=function(l,t){t=Math.round(t);var a=t<<24|t<<16|t<<8|t,k=new Uint32Array(l.buffer),R=k.length;
for(var u=0;u<R;u++)k[u]=a};$.IK=function(l,t,a){if(a==null)a=0;var k=new Uint32Array(l.buffer),R=k.length;
for(var u=0;u<R;u++)k[u]=k[u]&a|t};$.OUH=function(l,t,a,k,R){if(R==null)R=0;var u=new Uint32Array(l.buffer);
a=a.gk(t);var b=a.x-t.x,v=a.y-t.y,H=a.$,N=a.e,z=t.$;for(var A=0;A<N;A++){var Q=(v+A)*z+b;for(var S=0;
S<H;S++){u[Q]=u[Q]&R|k;Q++}}};$.OUl=function(l,t){$.Ll(l.w,t.w);$.Ll(l.D,t.D);$.Ll(l.K,t.K);$.Ll(l.l,t.l)};
$.Ll=function(l,t){var a=Math.min(l.buffer.byteLength,t.buffer.byteLength),k=a>>>2,l=new Uint32Array(l.buffer,0,k),t=new Uint32Array(t.buffer,0,k);
t.set(l)};$.OUb=function(l,t){return $.cG(l.w,t.w)&&$.cG(l.D,t.D)&&$.cG(l.K,t.K)&&$.cG(l.l,t.l)};$.cG=function(l,t){var a=l.buffer.byteLength,k=t.buffer.byteLength,R=new Uint32Array(l.buffer,0,a>>2),u=new Uint32Array(t.buffer,0,k>>2);
if(a!=k)return!1;var b=R.length;for(var v=0;v<b;v++)if(u[v]!=R[v])return!1;return!0};$.sI=function(l){var t=new Uint32Array(l.buffer),a=t.length;
for(var k=0;k<a;k++)t[k]=~t[k]};$.OUx=function(l){var t=l.length;for(var a=3;a<t;a+=4)l[a]=~l[a]};$.OSQ=function(l){return l+(l%4==0?0:4-l%4)};
$.I=function(l,t){if(t==null)t=!1;if(!t)l=$.OSQ(l);try{var a=new Uint8Array(l)}catch(l_){alert("Not enough RAM! (need "+Math.round(l/(1<<20))+" MB)",7e3);
throw l_}return a};$.nz=function(l){var t=l.length,a=l[t-2],k=l[t-1];while(k.$>=2||k.e>=2){var R=$.wu(a,k);
l.push(R.nr,R.rect);a=R.nr;k=R.rect}};$.wu=function(l,t,a){var k=t.$,R=t.e,u=k>>1,b=R>>1,v=new d(t.x,t.y,u,b);
if(l==null)return{rect:v};var H=a&&a.length==u*b*4?a:$.I(u*b*4),N=new Uint32Array(l.buffer),z=new Uint32Array(H.buffer);
for(var A=0;A<b;A++)for(var Q=0;Q<u;Q++){var S=A*u+Q,o=(A<<1)*k+(Q<<1),p=N[o],O=N[o+1],E=N[o+k],L=N[o+k+1],U=p>>>24,W=O>>>24,Y=E>>>24,y=L>>>24,C=(p>>>0&255)*U+(O>>>0&255)*W+(E>>>0&255)*Y+(L>>>0&255)*y,X=(p>>>8&255)*U+(O>>>8&255)*W+(E>>>8&255)*Y+(L>>>8&255)*y,M=(p>>>16&255)*U+(O>>>16&255)*W+(E>>>16&255)*Y+(L>>>16&255)*y,g=U+W+Y+y;
if(g==0)z[S]=0;else{var n=1/g;C=~~(C*n+.5);X=~~(X*n+.5);M=~~(M*n+.5);z[S]=g+2>>>2<<24|M<<16|X<<8|C}}return{rect:v,nr:H}};
$.OEk=function(l,t,a){var k=t.$,R=t.e,u=k>>1,b=R>>1,v=new d(t.x,t.y,u,b);if(l==null)return{rect:v};var H=a&&a.length==u*b*4?a:$.I(u*b*4),N=new Uint32Array(l.buffer),z=new Uint32Array(H.buffer);
for(var A=0;A<b;A++)for(var Q=0;Q<u;Q++){var S=A*u+Q,o=(A<<1)*k+(Q<<1),p=N[o],O=N[o+1],E=N[o+k],L=N[o+k+1],U=2+(p>>>0&255)+(O>>>0&255)+(E>>>0&255)+(L>>>0&255)>>>2,W=2+(p>>>8&255)+(O>>>8&255)+(E>>>8&255)+(L>>>8&255)>>>2,Y=2+(p>>>16&255)+(O>>>16&255)+(E>>>16&255)+(L>>>16&255)>>>2;
z[S]=4278190080|Y<<16|W<<8|U}return{rect:v,nr:H}};$.O_L=function(l,t,a){var k=t.$,R=t.e,u=2*Math.floor(k/3),b=2*Math.floor(R/3),v=new d(t.x,t.y,u,b);
if(l==null)return{rect:v};var H=a&&a.length==u*b*4?a:$.I(u*b*4),N=new Uint32Array(l.buffer),z=new Uint32Array(H.buffer);
for(var A=0;A<b;A+=2)for(var Q=0;Q<u;Q+=2){var S=A*u+Q,o=(A*3>>>1)*k+(Q*3>>>1),p=N[o],O=N[o+1],E=N[o+2],L=N[o+k],U=N[o+1+k],W=N[o+2+k],Y=N[o+k+k],y=N[o+1+k+k],C=N[o+2+k+k],X=p>>>24<<2,M=(p>>>16&255)*X,g=(p>>>8&255)*X,n=(p&255)*X,V=O>>>24<<1,i=(O>>>16&255)*V,f=(O>>>8&255)*V,r=(O&255)*V,e=E>>>24<<2,D=(E>>>16&255)*e,B=(E>>>8&255)*e,h=(E&255)*e,I=L>>>24<<1,j=(L>>>16&255)*I,c=(L>>>8&255)*I,m=(L&255)*I,F=U>>>24,G=(U>>>16&255)*F,q=(U>>>8&255)*F,W_=(U&255)*F,WU=W>>>24<<1,Wd=(W>>>16&255)*WU,WZ=(W>>>8&255)*WU,WL=(W&255)*WU,Wj=Y>>>24<<2,Or=(Y>>>16&255)*Wj,Wu=(Y>>>8&255)*Wj,WE=(Y&255)*Wj,Wf=y>>>24<<1,WS=(y>>>16&255)*Wf,Wx=(y>>>8&255)*Wf,WQ=(y&255)*Wf,WJ=C>>>24<<2,Ww=(C>>>16&255)*WJ,Wv=(C>>>8&255)*WJ,Oi=(C&255)*WJ,Wc=X+V+I+F,Wh=e+V+WU+F,Om=Wj+Wf+I+F,WN=WJ+Wf+WU+F,WR=Wc==0?0:1/Wc,Wp=Wh==0?0:1/Wh,OP=Om==0?0:1/Om,Hz=WN==0?0:1/WN,HP=0,OW=0,WX=0,Az=0;
HP=~~(.5+(n+r+m+W_)*WR);OW=~~(.5+(g+f+c+q)*WR);WX=~~(.5+(M+i+j+G)*WR);Az=~~(.5+Wc*(1/9));z[S]=Az<<24|WX<<16|OW<<8|HP;
HP=~~(.5+(h+r+WL+W_)*Wp);OW=~~(.5+(B+f+WZ+q)*Wp);WX=~~(.5+(D+i+Wd+G)*Wp);Az=~~(.5+Wh*(1/9));z[S+1]=Az<<24|WX<<16|OW<<8|HP;
HP=~~(.5+(WE+WQ+m+W_)*OP);OW=~~(.5+(Wu+Wx+c+q)*OP);WX=~~(.5+(Or+WS+j+G)*OP);Az=~~(.5+Om*(1/9));z[S+u]=Az<<24|WX<<16|OW<<8|HP;
HP=~~(.5+(Oi+WQ+WL+W_)*Hz);OW=~~(.5+(Wv+Wx+WZ+q)*Hz);WX=~~(.5+(Ww+WS+Wd+G)*Hz);Az=~~(.5+WN*(1/9));z[S+u+1]=Az<<24|WX<<16|OW<<8|HP}return{rect:v,nr:H}};
$.O_e=function(l,t,a){var k=t.$,R=t.e,u=2*Math.floor(k/3),b=2*Math.floor(R/3),v=new d(t.x,t.y,u,b);if(l==null)return{rect:v};
var H=a&&a.length==u*b*4?a:$.I(u*b*4),N=new Uint32Array(l.buffer),z=new Uint32Array(H.buffer);for(var A=0;
A<b;A+=2)for(var Q=0;Q<u;Q+=2){var S=A*u+Q,o=(A*3>>>1)*k+(Q*3>>>1),p=N[o],O=N[o+1],E=N[o+2],L=N[o+k],U=N[o+1+k],W=N[o+2+k],Y=N[o+k+k],y=N[o+1+k+k],C=N[o+2+k+k],X=(p>>>16&255)<<2,M=(p>>>8&255)<<2,g=(p&255)<<2,n=(O>>>16&255)<<1,V=(O>>>8&255)<<1,i=(O&255)<<1,f=(E>>>16&255)<<2,r=(E>>>8&255)<<2,e=(E&255)<<2,D=(L>>>16&255)<<1,B=(L>>>8&255)<<1,h=(L&255)<<1,I=U>>>16&255,j=U>>>8&255,c=U&255,m=(W>>>16&255)<<1,F=(W>>>8&255)<<1,G=(W&255)<<1,q=(Y>>>16&255)<<2,W_=(Y>>>8&255)<<2,WU=(Y&255)<<2,Wd=(y>>>16&255)<<1,WZ=(y>>>8&255)<<1,WL=(y&255)<<1,Wj=(C>>>16&255)<<2,Or=(C>>>8&255)<<2,Wu=(C&255)<<2,WE=0,Wf=0,WS=0;
WE=~~(.5+(g+i+h+c)*(1/9));Wf=~~(.5+(M+V+B+j)*(1/9));WS=~~(.5+(X+n+D+I)*(1/9));z[S]=255<<24|WS<<16|Wf<<8|WE;
WE=~~(.5+(e+i+G+c)*(1/9));Wf=~~(.5+(r+V+F+j)*(1/9));WS=~~(.5+(f+n+m+I)*(1/9));z[S+1]=255<<24|WS<<16|Wf<<8|WE;
WE=~~(.5+(WU+WL+h+c)*(1/9));Wf=~~(.5+(W_+WZ+B+j)*(1/9));WS=~~(.5+(q+Wd+D+I)*(1/9));z[S+u]=255<<24|WS<<16|Wf<<8|WE;
WE=~~(.5+(Wu+WL+G+c)*(1/9));Wf=~~(.5+(Or+WZ+F+j)*(1/9));WS=~~(.5+(Wj+Wd+m+I)*(1/9));z[S+u+1]=255<<24|WS<<16|Wf<<8|WE}return{rect:v,nr:H}};
$.ti=function(l,t,a,k){var R=$.wu,u=$.O_L,N=0,A;if(l){var b=255,v=l.length;v-=(v>>>3&7)<<3;for(var H=3;
H<v;H+=32)b=b&l[H]&l[H+4]&l[H+8]&l[H+12]&l[H+16]&l[H+20]&l[H+24]&l[H+28];if(b==255){R=$.OEk;u=$.O_e}}var z=a;
while(z<.499){N++;z*=2}if(z<.5001)A=R(l,t,k);else A=u(l,t,k);for(var H=0;H<N;H++)A=R(A.nr,A.rect,k);
return A};$.co=function(l,t,a,k){var R=t.gk(k),u=Math.max(0,R.x-t.x),b=Math.max(0,R.x-k.x),v=Math.max(0,R.y-t.y),H=Math.max(0,R.y-k.y),N=R.$,z=R.e;
for(var A=0;A<z;A++){var Q=(v+A)*t.$+u,S=(H+A)*k.$+b;for(var o=0;o<N;o++){a[S+o]=l[Q+o]}}};$.nj=function(l,t,a,k){if(t.cG(k)){$.xm(l,a,3);
return}var R=t.gk(k),u=Math.max(0,R.x-t.x),b=Math.max(0,R.x-k.x),v=Math.max(0,R.y-t.y),H=Math.max(0,R.y-k.y),N=R.$,z=R.e;
for(var A=0;A<z;A++){var Q=(v+A)*t.$+u,S=(H+A)*k.$+b;for(var o=0;o<N;o++)a[(S+o<<2)+3]=l[Q+o]}};$.Gs=function(l,t,a,k){var R=t.gk(k),u=Math.max(0,R.x-t.x),b=Math.max(0,R.x-k.x),v=Math.max(0,R.y-t.y),H=Math.max(0,R.y-k.y),N=R.$,z=R.e;
for(var A=0;A<z;A++){var Q=(v+A)*t.$+u,S=(H+A)*k.$+b;for(var o=0;o<N;o++)a[S+o]=l[(Q+o<<2)+3]}};$.OUD=function(l,t,a,k){var R=t.gk(k),u=Math.max(0,R.x-t.x),b=Math.max(0,R.x-k.x),v=Math.max(0,R.y-t.y),H=Math.max(0,R.y-k.y),N=R.$,z=R.e;
for(var A=0;A<z;A++){var Q=(v+A)*t.$+u,S=(H+A)*k.$+b;for(var o=0;o<N;o++)a[S++]=l[Q++]}};$.BM=function(l,t,a,k,R){if(t.cG(k)&&(R==null||R.cG(k))){$.Ll(l,a);
return}l=new Uint32Array(l.buffer),a=new Uint32Array(a.buffer);var u=t.gk(k);if(R)u=u.gk(R);var b=Math.max(0,u.x-t.x),v=Math.max(0,u.x-k.x),H=Math.max(0,u.y-t.y),N=Math.max(0,u.y-k.y),z=u.$,A=u.e,Q=z&3,S=Q==0?z:z-Q;
for(var o=0;o<A;o++){var p=(H+o)*t.$+b,O=(N+o)*k.$+v,E=0;while(E<S){a[O+E]=l[p+E];a[O+E+1]=l[p+E+1];
a[O+E+2]=l[p+E+2];a[O+E+3]=l[p+E+3];E+=4}if(Q==1){a[O+E]=l[p+E]}else if(Q==2){a[O+E]=l[p+E];a[O+E+1]=l[p+E+1]}else if(Q==3){a[O+E]=l[p+E];
a[O+E+1]=l[p+E+1];a[O+E+2]=l[p+E+2]}}};$.GJ=function(l,t,a,k){var R=t.gk(k),u=Math.max(0,R.x-t.x),b=Math.max(0,R.x-k.x),v=Math.max(0,R.y-t.y),H=Math.max(0,R.y-k.y),N=R.$,z=R.e,A=l.w,Q=l.D,S=l.K,o=l.l,p=a.w,O=a.D,E=a.K,L=a.l;
for(var U=0;U<z;U++){var W=(v+U)*t.$+u,Y=(H+U)*k.$+b;for(var y=0;y<N;y++){p[Y+y]=A[W+y];O[Y+y]=Q[W+y];
E[Y+y]=S[W+y];L[Y+y]=o[W+y]}}};$.nG=function(l){var t=l.length;for(var a=0;a<t;a+=4){var k=l[a+3];if(k==255)continue;
l[a]=$.nS(l[a]*k);l[a+1]=$.nS(l[a+1]*k);l[a+2]=$.nS(l[a+2]*k)}};$.ns=function(l){var t=l.length;for(var a=0;
a<t;a+=4){var k=l[a+3];if(k==0||k==255)continue;var R=255/k;l[a]=~~(l[a]*R+.5);l[a+1]=~~(l[a+1]*R+.5);
l[a+2]=~~(l[a+2]*R+.5)}};$.OUj=function(){var l=new Uint8Array(256*256);for(var t=0;t<256;t++)for(var a=0;
a<256;a++)l[a*256+t]=Math.round(255*t/a);return l}();$.GQ=function(l,t){for(var a=0;a<l.length;a++)if(l[a]!=t)return!1;
return!0};$.nS=function(l){return l+1+(l>>>8)>>>8};$.round=function(l,t){if(t==null)t=128;var a=l.length;
for(var k=0;k<a;k++)l[k]=l[k]<t?0:255};$.tP=function(l,t){var a=l.length;for(var k=0;k<a;k++)l[k]=Math.round(l[k]*t)};
$.OUT=function(l,t){var a=l.length;for(var k=0;k<a;k+=4)l[k+3]=Math.round(l[k+3]*t)};$.tb=function(l,t){var a=new Uint32Array(l.buffer),k=new Uint32Array(t.buffer),R=a.length;
for(var u=0;u<R;u++){var b=a[u],v=k[u];k[u]=$.nS((b>>>24)*(v>>>24))<<24|$.nS((b>>>16&255)*(v>>>16&255))<<16|$.nS((b>>>8&255)*(v>>>8&255))<<8|$.nS((b&255)*(v&255))}};
$.nM=function(l,t){var a=l.length;for(var k=0;k<a;k++)t[(k<<2)+3]=$.nS(t[(k<<2)+3]*l[k])};$.OVl=function(l,t,a,k){var R=Math.max(0,k.x-t.x),u=Math.max(0,t.x-k.x),b=Math.max(0,k.y-t.y),v=Math.max(0,t.y-k.y),H=Math.min(t.x+t.$,k.x+k.$)-Math.max(t.x,k.x),N=Math.min(t.y+t.e,k.y+k.e)-Math.max(t.y,k.y);
for(var z=0;z<N;z++){var A=(b+z)*t.$+R,Q=(v+z)*k.$+u;for(var S=0;S<H;S++){a[Q]=$.nS(a[Q]*l[A]);A++;Q++}}};
$.$t=function(l,t,a,k){var R=Math.max(0,k.x-t.x),u=Math.max(0,t.x-k.x),b=Math.max(0,k.y-t.y),v=Math.max(0,t.y-k.y),H=Math.min(t.x+t.$,k.x+k.$)-Math.max(t.x,k.x),N=Math.min(t.y+t.e,k.y+k.e)-Math.max(t.y,k.y);
for(var z=0;z<N;z++){var A=(b+z)*t.$+R,Q=((v+z)*k.$+u<<2)+3;for(var S=0;S<H;S++){a[Q]=$.nS(a[Q]*l[A]);
A++;Q+=4}}};$.GX=function(l,t,a,k){var R=Math.max(0,k.x-t.x),u=Math.max(0,t.x-k.x),b=Math.max(0,k.y-t.y),v=Math.max(0,t.y-k.y),H=Math.min(t.x+t.$,k.x+k.$)-Math.max(t.x,k.x),N=Math.min(t.y+t.e,k.y+k.e)-Math.max(t.y,k.y);
for(var z=0;z<N;z++){var A=((b+z)*t.$+R<<2)+3,Q=((v+z)*k.$+u<<2)+3;for(var S=0;S<H;S++){a[Q]=$.nS(a[Q]*l[A]);
A+=4;Q+=4}}};$.OUs=function(l,t,a,k){var R=1/255,u=Math.max(0,k.x-t.x),b=Math.max(0,t.x-k.x),v=Math.max(0,k.y-t.y),H=Math.max(0,t.y-k.y),N=Math.min(t.x+t.$,k.x+k.$)-Math.max(t.x,k.x),z=Math.min(t.y+t.e,k.y+k.e)-Math.max(t.y,k.y);
for(var A=0;A<z;A++){var Q=(v+A)*t.$+u,S=(H+A)*k.$+b;for(var o=0;o<N;o++){a[S]=R*a[S]*(255-l[Q]);Q++;
S++}}};$.OUL=function(l,t){var a=[];for(var k=0;k<256;k++)a.push(0);var R=l.length,u=1/255;for(var k=0;
k<R;k++)a[l[k]]+=t[k]*u;return a};$.Og=function(l){var t=new Float64Array(256),a=new Float64Array(256),k=new Float64Array(256),R=new Float64Array(256),u=l.length;
for(var b=0;b<u;b+=4){var v=l[b+3]*(1/255);a[l[b+0]]+=v;k[l[b+1]]+=v;R[l[b+2]]+=v}for(var b=0;b<256;
b++)t[b]=a[b]+k[b]+R[b];return[t,a,k,R]};$.Dn=function(l,t){var a=new Uint32Array(l.buffer),k=a.length;
for(var R=0;R<k;R++){var u=a[R],b=u&255,v=u>>8&255,H=u>>16&255,N=u>>24&255;a[R]=t[b]|t[v]<<8|t[H]<<16|t[N]<<24}};
$.OVJ=function(l,t,a,k,R,u,b){var v=new Uint32Array(l.buffer),H=new Uint32Array(t.buffer),N=v.length,z=0;
while(256<<z<a.length)z++;if(!b&&!u){for(var A=0;A!=N;A++){var Q=v[A],S=(Q&255)<<z,o=(Q>>>8&255)<<z,p=(Q>>>16&255)<<z,O=a[S],E=k[o],L=R[p];
H[A]=O|E<<8|L<<16|Q&4278190080}return}for(var A=0;A<N;A++){var Q=v[A],S=(Q&255)<<z,o=(Q>>>8&255)<<z,p=(Q>>>16&255)<<z;
if(u)S=o=p=Math.round(S*.3+o*.59+p*.11);var O=a[S],E=k[o],L=R[p];if(b){var U=$.RN(S,o,p),W=$.RN(O,E,L);
if(U>W){var Y=(U-W)/(255-W);O+=Y*(255-O);E+=Y*(255-E);L+=Y*(255-L)}else if(W==0)O=E=L=0;else{var Y=U/W;
O=Y*O;E=Y*E;L=Y*L}}H[A]=O|E<<8|L<<16|Q&4278190080}};$.OUQ=function(l){var t=new Uint32Array(256),k=0;
for(var a=0;a<l.length;a++)t[l[a]]++;for(var a=0;a<256;a++)if(t[a]>t[k])k=a;return k};$.wv=function(l,t){var a=t.$,k=t.e,top=0,R=0,u=0,b=0,v=!1,H=0;
v=!1;for(var N=0;N<k;N++){var z=N*a;for(var A=0;A<a;A++)if(l[z+A]!=H)v=!0;if(v)break;else top++}v=!1;
for(var N=k-1;N>=0;N--){var z=N*a;for(var A=0;A<a;A++)if(l[z+A]!=H)v=!0;if(v)break;else u++}v=!1;for(var A=0;
A<a;A++){for(var N=0;N<k;N++)if(l[N*a+A]!=H)v=!0;if(v)break;else R++}v=!1;for(var A=a-1;A>=0;A--){for(var N=0;
N<k;N++)if(l[N*a+A]!=H)v=!0;if(v)break;else b++}var Q=new d(t.x+R,t.y+top,a-R-b,k-top-u);return Q.wp()?new d(0,0,0,0):Q};
$.Ge=function(l,t,a){var k=new Uint32Array(l.buffer),R=t.$,u=t.e,top=0,b=0,v=0,H=0,N=!1,z=a==null?k[0]:a;
N=!1;for(var A=0;A<u;A++){var Q=A*R;for(var S=0;S<R;S++)if(k[Q+S]!=z)N=!0;if(N)break;else top++}N=!1;
for(var A=u-1;A>=0;A--){var Q=A*R;for(var S=0;S<R;S++)if(k[Q+S]!=z)N=!0;if(N)break;else v++}N=!1;for(var S=0;
S<R;S++){for(var A=0;A<u;A++)if(k[A*R+S]!=z)N=!0;if(N)break;else b++}N=!1;for(var S=R-1;S>=0;S--){for(var A=0;
A<u;A++)if(k[A*R+S]!=z)N=!0;if(N)break;else H++}var o=new d(t.x+b,t.y+top,R-b-H,u-top-v);return o.wp()?new d(0,0,0,0):o};
$.$e=function(l){var t=$.wv(l.channel,l.rect);if(t.cG(l.rect))return;var a=$.I(t.s());$.co(l.channel,l.rect,a,t);
l.channel=a;l.rect=t};$.to=function(l){var t=$.I(l.buffer.length>>2);$.Du(l.buffer,t,3);var a=$.wv(t,l.rect);
if(a.cG(l.rect))return;var k=new $.I(a.s()*4);$.BM(l.buffer,l.rect,k,a);l.buffer=k;l.rect=a};$.extend=function(l,t,a){if(l.rect.rI(t))return;
var k=l.rect.wm(t),R=$.I(k.s());if(a!=null)$.set(R,a);$.co(l.channel,l.rect,R,k);l.rect=k;l.channel=R};
$.OOO=function(l,t){if(t.wp()||l.rect.rI(t))return;var a=l.rect.wm(t),k=$.I(a.s()*4);$.BM(l.buffer,l.rect,k,a);
l.rect=a;l.buffer=k};$.OUX=function(l,t,a){var k=t.clone(),R=a.s(),u=l.wm(k);while(u.s()/l.s()<2&&u.s()<R){k.RK(16,16);
u=u.wm(k).gk(a)}if(R/u.s()<2)u=a.clone();return u};$.km=function(l,t,a){if(!a.ML(l))return!1;var k=Math.floor(l.x)-a.x,R=Math.floor(l.y)-a.y,u=R*a.$+k;
return t[u]>128};$.OOZ=function(l,t,a){if(!a.ML(l))return!1;var k=Math.floor(l.x)-a.x,R=Math.floor(l.y)-a.y,u=R*a.$+k;
return t[4*u+3]>128};$.nL=function(l){if($.th.length<l){$.th=$.I(l);$.set($.th,255)}return $.th};$.th=$.I(0);
$.kY=function(l){if($.Go.length<l)$.Go=$.I(l);return $.Go};$.Go=$.I(0);$.gL=function(l){this.w=$.I(l);
this.D=$.I(l);this.K=$.I(l);this.l=$.I(l)};$.gL.prototype.clone=function(){var l=this.w.length,t=new $.gL(1);
t.w=$.clone(this.w);t.D=$.clone(this.D);t.K=$.clone(this.K);t.l=$.clone(this.l);return t};$.j={};$.j.tv=new Float64Array(256);
$.j.xN=new Uint8Array(256*256);$.j.Gw=new Uint8Array(256*256);(function(){for(var l=0;l<256;l++)$.j.tv[l]=255/l;
for(var l=0;l<256;l++)for(var t=0;t<256;t++)$.j.xN[l*256+t]=l==0?0:Math.round(t*255/l);for(var l=0;l<256;
l++)for(var t=0;t<256;t++)$.j.Gw[l*256+t]=Math.round(l*(255-t)/255)}());$.j.bz=function(l,t,a,k,R,u,b,v){if(v==null)v=WD.EI();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(l)==-1){b=b*v.fill;v.fill=1;v.style=!1}var H="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),N="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),z=$.j[l+"F"];
if(l=="norm")$.j.OHD(t,a,k,R,u,b,z,v.ZE?1:0);else if(l=="diss")$.j.Ozf(t,a,k,R,u,b,z,v.ZE?1:0);else if(H.indexOf(l)!=-1)$.j.OIP(t,a,k,R,u,b,z,v);
else if(N.indexOf(l)!=-1)$.j.Oz_(t,a,k,R,u,b,z,v.ZE?1:0)};$.j.OOc=function(l,t,a){return l==0?0:1-Math.min(1,(1-t)/(l*a+1-a))};
$.j.O$R=function(l,t,a){return l*a==1?1:Math.min(1,t/(1-l*a))};$.j.gf=function(l){return l<=.25?((16*l-12)*l+4)*l:Math.sqrt(l)};
$.j.normF=function(l,t,a){return l};$.j.darkF=function(l,t,a){return Math.min(l,t)};$.j["mul F"]=function(l,t,a){return l*t};
$.j.idivF=function(l,t,a){var k=l*a+1-a;return t==1?1:1-t>=k?0:1-(1-t)/k};$.j.lbrnF=function(l,t,a){return Math.max(0,l*a+t-a)};
$.j.dkClF=function(l,t,a){var k=$.Be(l)<$.Be(t)?l:t;a.D=k.D;a.K=k.K;a.l=k.l;return a};$.j.liteF=function(l,t,a){return Math.max(l,t)};
$.j.scrnF=function(l,t,a){return t+l-t*l};$.j["div F"]=function(l,t,a){l*=a;return t==0?0:t>=1-l?1:t/(1-l)};
$.j.lddgF=function(l,t,a){l*=a;return Math.min(1,l+t)};$.j.lgClF=function(l,t,a){var k=$.Be(l)>$.Be(t)?l:t;
a.D=k.D;a.K=k.K;a.l=k.l;return a};$.j.overF=function(l,t,a){return $.j.hLitF(t,l,a)};$.j.sLitF=function(l,t,a){return l<=.5?t-(1-2*l)*t*(1-t):t+(2*l-1)*($.j.gf(t)-t)};
$.j.hLitF=function(l,t,a){return l<=.5?$.j["mul F"](2*l,t,a):$.j.scrnF(2*l-1,t,a)};$.j.vLitF=function(l,t,a){return l<=.5?$.j.OOc(2*l,t,a):$.j.O$R(2*l-1,t,a)};
$.j.lLitF=function(l,t,a){return l<=.5?$.j.lbrnF(2*l,t,a):$.j.lddgF(2*l-1,t,a)};$.j.pLitF=function(l,t,a){return l<=.5?$.j.darkF(2*l,t,a):$.j.liteF(2*l-1,t,a)};
$.j.hMixF=function(l,t,a){if(a>.99)return l+t<1?0:1;return Math.min(1,Math.max(0,(t+l*a-a)/(1-a+1e-6)))};
$.j.diffF=function(l,t,a){l*=a;return Math.abs(l-t)};$.j.smudF=function(l,t,a){return l+t-2*l*t};$.j.fsubF=function(l,t,a){return Math.max(t-l,0)};
$.j.fdivF=function(l,t,a){return Math.min(t/l,1)};$.j["hue F"]=function(l,t,a){$.tg(l,$.tl(t),a);$.l$(a,$.Be(t),a)};
$.j["sat F"]=function(l,t,a){$.tg(t,$.tl(l),a);$.l$(a,$.Be(t),a)};$.j.colrF=function(l,t,a){$.l$(l,$.Be(t),a)};
$.j["lum F"]=function(l,t,a){$.l$(t,$.Be(l),a)};$.j.OHD=function(l,t,a,k,R,u,b,v){var H=t.gk(k).gk(R),N=Math.max(0,H.x-t.x),z=Math.max(0,H.x-k.x),A=Math.max(0,H.y-t.y),Q=Math.max(0,H.y-k.y),S=H.$,o=H.e,p=t.$,O=k.$,E=$.j.xN,L=$.j.Gw,U=new Uint32Array(l.buffer),W=new Uint32Array(a.buffer);
for(var Y=0;Y<o;Y++){var y=(A+Y)*p+N,C=(Q+Y)*O+z;for(var X=0;X<S;X++){var M=U[y+X],V=255;if(M>>>24==0)continue;
if(M>>>24==255&&u==1&&v==0){W[C+X]=U[y+X];continue}var g=W[C+X],n=255*u&255;if(v==0){n=(M>>>24)*u&255;
V=g>>>24}var i=L[V<<8|n],f=n+i,r=M&255,e=M>>>8&255,D=M>>>16&255,B=g&255,h=g>>>8&255,I=g>>>16&255;W[C+X]=v*(g>>>24)+(1-v)*f<<24|E[f<<8|$.nS(D*n+I*i)]<<16|E[f<<8|$.nS(e*n+h*i)]<<8|E[f<<8|$.nS(r*n+B*i)]}}};
$.j.Ogn=function(l,t,a,k,R,u){var b=t.gk(k).gk(R),v=Math.max(0,b.x-t.x),H=Math.max(0,b.x-k.x),N=Math.max(0,b.y-t.y),z=Math.max(0,b.y-k.y),A=b.$,Q=b.e,S=t.$,o=k.$,p=$.j.xN,O=$.j.Gw,E=new Uint32Array(l.buffer),L=new Uint32Array(a.buffer),U=Math.floor(Math.random()*16777215),W=0;
for(var Y=0;Y<Q;Y++){var y=(N+Y)*S+v,C=(z+Y)*o+H;for(var X=0;X<A;X++){var M=E[y+X];if(M>>>24==0)continue;
if(M>>24==255&&u==1){L[C+X]=M;continue}var g=L[C+X],n=(M>>>24)*u*(1/255),V=(g>>>24)*(1/255),i=V*(1-n),f=n+i,r=M&255,e=M>>>8&255,D=M>>>16&255,B=g&255,h=g>>>8&255,I=g>>>16&255;
W>>>=8;if((X&3)==0)W=$.j.$R(C+X+U);var j=f==0?0:1/f,c=Math.floor(f*(256*255))+(W&255)>>>8,m=Math.floor((D*n+I*i)*j+.5),F=Math.floor((e*n+h*i)*j+.5),G=Math.floor((r*n+B*i)*j+.5);
L[C+X]=c<<24|m<<16|F<<8|G}}};$.j.OIP=function(l,t,a,k,R,u,b,v){var H=1/255,N=H*u,z=v.ZE?1:0,A=v.fill,Q=v.style,S=t.gk(k).gk(R),o=Math.max(0,S.x-t.x),p=Math.max(0,S.x-k.x),O=Math.max(0,S.y-t.y),E=Math.max(0,S.y-k.y),L=S.$,U=S.e,W=t.$,Y=k.$,y=new Uint32Array(l.buffer),C=new Uint32Array(a.buffer);
for(var X=0;X<U;X++){var M=(O+X)*W+o,g=(E+X)*Y+p;for(var n=0;n<L;n++,M++,g++){var V=y[M],r=1;if(V>>>24==0)continue;
var i=C[g],f=u;if(z==0){f=(V>>>24)*N;r=(i>>>24)*H}var e=r*(1-f),D=f+e,B=255/D,h=(V&255)*H,I=(V>>>8&255)*H,j=(V>>>16&255)*H,c=(i&255)*H,m=(i>>>8&255)*H,F=(i>>>16&255)*H,G=Q?1:f,q=((1-r)*f*h+(1-G)*r*c+G*r*b(h,c,(1+f-G)*A))*B,W_=((1-r)*f*I+(1-G)*r*m+G*r*b(I,m,(1+f-G)*A))*B,WU=((1-r)*f*j+(1-G)*r*F+G*r*b(j,F,(1+f-G)*A))*B;
D=f*A+r*(1-f*A);var Wd=Math.round(D*255);C[g]=z*(i>>>24)+(1-z)*Wd<<24|WU<<16|W_<<8|q}}};$.j.Oz_=function(l,t,a,k,R,u,b,v){var H=1/255,N=H*u,z=t.gk(k).gk(R),A=Math.max(0,z.x-t.x),Q=Math.max(0,z.x-k.x),S=Math.max(0,z.y-t.y),o=Math.max(0,z.y-k.y),p=z.$,O=z.e,E=new Uint32Array(l.buffer),L=new Uint32Array(a.buffer),U={D:0,K:0,l:0},W={D:0,K:0,l:0},Y={D:0,K:0,l:0};
for(var y=0;y<O;y++){var C=(S+y)*t.$+A,X=(o+y)*k.$+Q;for(var M=0;M<p;M++,C++,X++){var g=E[C],n=L[X],V=u,i=1;
if(v==0){V=(g>>>24)*N;i=(n>>>24)*H}var f=i*(1-V),r=V+f,e=255/r,D=(g&255)*H,B=(g>>>8&255)*H,h=(g>>>16&255)*H,I=(n&255)*H,j=(n>>>8&255)*H,c=(n>>>16&255)*H;
U.D=D;U.K=B;U.l=h;W.D=I;W.K=j;W.l=c;b(U,W,Y);var m=(((1-i)*D+i*Y.D)*V+I*f)*e,F=(((1-i)*B+i*Y.K)*V+j*f)*e,G=(((1-i)*h+i*Y.l)*V+c*f)*e,q=v*(n>>>24)+(1-v)*Math.round(r*255);
L[X]=q<<24|G<<16|F<<8|m}}};$.j.nJ=function(l){l=l^61^l>>>16;l=l+(l<<3);l=l^l>>>4;l=l*668265261;l=l^l>>15;
return(l&16777215)*(1/16777215)};$.j.$R=function(l){l=l^61^l>>>16;l=l+(l<<3);l=l^l>>>4;l=l*668265261;
l=l^l>>>15;return l};$.j.Ozf=function(l,t,a,k,R,u,b,v){var H=1/255,N=H*u,z=Math.round(u*(256*256*256/255)),A=t.gk(k).gk(R),Q=Math.max(0,A.x-t.x),S=Math.max(0,A.x-k.x),o=Math.max(0,A.y-t.y),p=Math.max(0,A.y-k.y),O=A.$,E=A.e,L=new Uint32Array(l.buffer),U=new Uint32Array(a.buffer);
for(var W=0;W<E;W++){var Y=(o+W)*t.$+Q,y=(p+W)*k.$+S;for(var C=0;C<O;C++,Y++,y++){var X=L[Y],M=U[y],g=v*255+(1-v)*(X>>>24);
if(($.j.$R(Y)&16777215)>=g*z)continue;U[y]=X&16777215|v*(M>>>24)+(1-v)*255<<24}}};$.j.OUe=function(l,t,a){for(var k=0;
k<l.length;k+=4){var R=a[k>>>2];if(R==0)continue;var u=R*(1/255),b=1/u,v=t[k],H=t[k+1],N=t[k+2],z=l[k],A=l[k+1],Q=l[k+2];
t[k]=Math.min(255,Math.max(0,Math.round((v-(1-u)*z)*b)));t[k+1]=Math.min(255,Math.max(0,Math.round((H-(1-u)*A)*b)));
t[k+2]=Math.min(255,Math.max(0,Math.round((N-(1-u)*Q)*b)));t[k+3]=255}};$.j.wq=function(l,t,a,k,R,u,b,v,H,N){if(N==null)N=!1;
if(R&&!t.cG(u)){var z=$.I(t.s()*4);$.set(z,b);$.co(R,u,z,t);R=z;u=t}if(N){if(R==null)$.j.O_g(l,t,a,k,R,v,H);
else $.j.OAY(l,t,a,k,R,v,H)}else{if(R==null)$.j.Ozj(l,t,a,k,R,v,H);else $.j.OrI(l,t,a,k,R,v,H)}};$.j.Ozj=function(l,t,a,k,R,u,b){var v=1/255,H=t.gk(k).gk(u),N=Math.max(0,H.x-t.x),z=Math.max(0,H.x-k.x),A=Math.max(0,H.y-t.y),Q=Math.max(0,H.y-k.y),S=H.$,o=H.e,p=new Uint32Array(l.buffer),O=new Uint32Array(a.buffer),E=$.j.xN,L=b*255&255;
for(var U=0;U<o;U++){var W=(A+U)*t.$+N,Y=(Q+U)*k.$+z;for(var y=0;y<S;y++,W++,Y++){var C=p[W],X=O[Y],M=C>>>24,g=X>>>24,n=$.nS(L*M+(255-L)*g),V=$.nS(M*L),i=$.nS(g*(255-L)),f=C&255,r=C>>>8&255,e=C>>>16&255,D=X&255,B=X>>>8&255,h=X>>>16&255,I=V*f+D*i,j=V*r+B*i,c=V*e+h*i;
I=E[n<<8|$.nS(I)];j=E[n<<8|$.nS(j)];c=E[n<<8|$.nS(c)];O[Y]=n<<24|c<<16|j<<8|I}}};$.j.O_g=function(l,t,a,k,R,u,b){var v=1/255,H=t.gk(k).gk(u),N=Math.max(0,H.x-t.x),z=Math.max(0,H.x-k.x),A=Math.max(0,H.y-t.y),Q=Math.max(0,H.y-k.y),S=H.$,o=H.e,p=new Uint32Array(l.buffer),O=new Uint32Array(a.buffer),E=$.j.xN,L=b*16777215&16777215;
for(var U=0;U<o;U++){var W=(A+U)*t.$+N,Y=(Q+U)*k.$+z;for(var y=0;y<S;y++,W++,Y++){if(($.j.$R(W)&16777215)<L)O[Y]=p[W]}}};
$.j.OrI=function(l,t,a,k,R,u,b){var v=1/255,H=t.gk(k).gk(u),N=Math.max(0,H.x-t.x),z=Math.max(0,H.x-k.x),A=Math.max(0,H.y-t.y),Q=Math.max(0,H.y-k.y),S=H.$,o=H.e,p=new Uint32Array(l.buffer),O=new Uint32Array(a.buffer),E=$.j.xN;
for(var L=0;L<o;L++){var U=(A+L)*t.$+N,W=(Q+L)*k.$+z;for(var Y=0;Y<S;Y++,U++,W++){var y=R[U]*b&255;if(y==0)continue;
if(y==255){O[W]=p[U];continue}var C=p[U],X=O[W],M=C>>>24,g=X>>>24,n=$.nS(y*M+(255-y)*g),V=$.nS(M*y),i=$.nS(g*(255-y)),f=C&255,r=C>>>8&255,e=C>>>16&255,D=X&255,B=X>>>8&255,h=X>>>16&255,I=E[n<<8|$.nS(V*f+D*i)],j=E[n<<8|$.nS(V*r+B*i)],c=E[n<<8|$.nS(V*e+h*i)];
O[W]=n<<24|c<<16|j<<8|I}}};$.j.OAY=function(l,t,a,k,R,u,b){var v=1/255,H=t.gk(k).gk(u),N=Math.max(0,H.x-t.x),z=Math.max(0,H.x-k.x),A=Math.max(0,H.y-t.y),Q=Math.max(0,H.y-k.y),S=H.$,o=H.e,p=new Uint32Array(l.buffer),O=new Uint32Array(a.buffer),E=$.j.xN,L=Math.round(b*257);
for(var U=0;U<o;U++){var W=(A+U)*t.$+N,Y=(Q+U)*k.$+z;for(var y=0;y<S;y++,W++,Y++){var C=R[W]*L;if(($.j.$R(W)&65535)<C)O[Y]=p[W]}}};
$.j.no=function(l,t,a,k,R,u,b){var v=1/255,H=t.gk(k).gk(u),N=Math.max(0,H.x-t.x),z=Math.max(0,H.x-k.x),A=Math.max(0,H.y-t.y),Q=Math.max(0,H.y-k.y),S=H.$,o=H.e,p=new Uint32Array(l.buffer),O=new Uint32Array(a.buffer),E=Math.floor(Math.random()*k.s()),L=$.j.OWm;
for(var U=0;U<o;U++){var W=(A+U)*t.$+N,Y=(Q+U)*k.$+z;for(var y=0;y<S;y++){var C=R[W+y]*b;if(C==0)continue;
if(C==255){O[Y+y]=p[W+y];continue}var X=p[W+y],M=O[Y+y],g=X>>>24,n=M>>>24,V=g*C*(1/255),i=n*(255-C)*(1/255),f=X&255,r=X>>>8&255,e=X>>>16&255,D=M&255,B=M>>>8&255,h=M>>>16&255,I=$.j.$R(Y+y+E),j=Math.floor((V+i)*256+.5)+(I>>>0&255)>>>8,c=j==0?0:256/(V+i),m=f*V+D*i,F=r*V+B*i,G=e*V+h*i,q=Math.floor(m*c+.5)+(I>>>8&255)>>>8,W_=Math.floor(F*c+.5)+(I>>>16&255)>>>8,WU=Math.floor(G*c+.5)+(I>>>21&248)>>>8;
O[Y+y]=j<<24|WU<<16|W_<<8|q}}};$.j.OWm=function(l){return Math.floor(l+Math.random())};$.j.lN=function(l,t,a,k,R,u,b){var v=1/255,H=t.gk(k).gk(u),N=Math.max(0,H.x-t.x),z=Math.max(0,H.x-k.x),A=Math.max(0,H.y-t.y),Q=Math.max(0,H.y-k.y),S=H.$,o=H.e;
for(var p=0;p<o;p++){var O=(A+p)*t.$+N,E=(Q+p)*k.$+z;for(var L=0;L<S;L++,O++,E++){var U=b*R[O]*v;if(U==0)continue;
if(U==1){a[E]=l[O];continue}a[E]=l[O]*U+a[E]*(1-U)}}};$.blur={};$.blur.OS=function(l){if($.blur.tN.length<l)$.blur.tN=$.I(l);
return $.blur.tN};$.blur.tN=$.I(0);$.blur.ny=function(l){if($.blur.aA.length<l)$.blur.aA=new Float32Array(l);
return $.blur.aA};$.blur.aA=new Float32Array(0);$.blur.gW=function(l,t,a,k){var R=a.$,u=a.e;$.blur.OHY(l,t,R,u,k)};
$.blur.OHn=function(l,t,a){var k=t.$,R=t.e;$.blur.OHL(l,k,R,a)};$.blur.a$=function(l,t,a,k){var R=a.$,u=a.e;
$.blur.Olq(l,t,R,u,k)};$.blur.OHU=function(l,t,a,k){var R=a.$,u=a.e;k=Math.round(k);var b=$.blur.OS(R*u);
$.Ll(l,t);$.blur.tR(t,b,R,u,k)};$.blur.np=function(l,t,a){var k=t.$,R=t.e;a=Math.round(a);var u=$.blur.OS(k*R*4);
$.blur.C$(l,u,k,R,a)};$.blur.aW=function(l,t,a,k){var R=a.$,u=a.e;k=Math.round(k);var b=$.blur.ny(R*u);
$.Ll(l,t);$.blur.CS(t,b,R,u,k)};$.blur.nw=function(l,t,a){var k=t.$,R=t.e;a=Math.round(a);var u=$.blur.OS(k*R*4);
$.blur.nt(l,u,k,R,a);$.Ll(u,l)};$.blur.az=function(l,t){var a=Math.sqrt(12*l*l/t+1),k=Math.floor(a);
if(k%2==0)k--;var R=k+2,u=(12*l*l-t*k*k-4*t*k-3*t)/(-4*k-4),b=Math.round(u),v=[];for(var H=0;H<t;H++)v.push(H<b?k:R);
return v};$.blur.OHY=function(l,t,a,k,R){var u=$.blur.az(R,3),b=$.blur.OS(a*k);$.Ll(l,t);$.blur.tR(t,b,a,k,u[0]-1>>1);
$.blur.tR(t,b,a,k,u[1]-1>>1);$.blur.tR(t,b,a,k,u[2]-1>>1)};$.blur.OHL=function(l,t,a,k){var R=$.blur.az(k,3),u=$.blur.OS(t*a*4);
$.blur.C$(l,u,t,a,R[0]-1>>1);$.blur.C$(l,u,t,a,R[1]-1>>1);$.blur.C$(l,u,t,a,R[2]-1>>1)};$.blur.Olq=function(l,t,a,k,R){var u=$.blur.az(R,3),b=$.blur.ny(a*k);
$.Ll(l,t);$.blur.CS(t,b,a,k,(u[0]-1)/2);$.blur.CS(t,b,a,k,(u[1]-1)/2);$.blur.CS(t,b,a,k,(u[2]-1)/2)};
$.blur.tR=function(l,t,a,k,R){$.blur.Ola(l,t,a,k,R);$.blur.Oiz(t,l,a,k,R)};$.blur.C$=function(l,t,a,k,R){$.blur.nt(l,t,a,k,R);
$.blur.OkI(t,l,a,k,R)};$.blur.CS=function(l,t,a,k,R){$.blur.OIr(l,t,a,k,R);$.blur.Ozr(t,l,a,k,R)};$.blur.aS=[];
$.blur.Cn=function(l){if($.blur.aS[l])return $.blur.aS[l];var t=1/(l+l+1),a=(l+l+1)*256,k=$.I(a);for(var R=0;
R<a;R++)k[R]=Math.round(R*t);$.blur.aS[l]=k;return k};$.blur.Ola=function(l,t,a,k,R){var u=1/(R+R+1),b=a-R-R-1,v=$.blur.Cn(R);
for(var H=0;H<k;H++){var N=H*a,z=N,A=N+R,Q=l[N],S=l[N+a-1],o=(R+1)*Q;for(var p=0;p<R;p++)o+=l[N+p];for(var p=0;
p<=R;p++){o+=l[A+p]-Q;t[N+p]=v[o]}A+=R+1;N+=R+1;for(var p=0;p<b;p++){o+=l[A+p]-l[z+p];t[N+p]=v[o]}A+=b;
z+=b;N+=b;for(var p=a-R;p<a;p++){o+=S-l[z++];t[N++]=v[o]}}};$.blur.nt=function(l,t,a,k,R){var u=a<<2,b=R<<2,v=1/(R+R+1),H=a-R-R-1,N=H<<2,z=$.blur.Cn(R);
for(var A=0;A<k;A++){var Q=A*u,S=Q,o=Q+b,p=Q+u,O=l[Q],E=l[Q+1],L=l[Q+2],U=l[Q+3],W=(R+1)*O,Y=(R+1)*E,y=(R+1)*L,C=(R+1)*U;
for(var X=0;X<b;X+=4){W+=l[Q+X];Y+=l[Q+X+1];y+=l[Q+X+2];C+=l[Q+X+3]}for(var X=0;X<=b;X+=4){W+=l[o]-O;
t[Q]=z[W];Y+=l[o+1]-E;t[Q+1]=z[Y];y+=l[o+2]-L;t[Q+2]=z[y];C+=l[o+3]-U;t[Q+3]=z[C];o+=4;Q+=4}for(var X=0;
X<N;X+=4){W+=l[o+X]-l[S+X];t[Q+X]=z[W];Y+=l[o+X+1]-l[S+X+1];t[Q+X+1]=z[Y];y+=l[o+X+2]-l[S+X+2];t[Q+X+2]=z[y];
C+=l[o+X+3]-l[S+X+3];t[Q+X+3]=z[C]}o+=N;S+=N;Q+=N;O=l[p-4];E=l[p-3];L=l[p-2];U=l[p-1];for(var X=a-R;
X<a;X++){W+=O-l[S];t[Q]=z[W];Y+=E-l[S+1];t[Q+1]=z[Y];y+=L-l[S+2];t[Q+2]=z[y];C+=U-l[S+3];t[Q+3]=z[C];
S+=4;Q+=4}}};$.blur.OIr=function(l,t,a,k,R){var u=1/(R+R+1),b=a-R-R-1,v=0,H=0,N=0;for(var z=0;z<k;z++){v=z*a;
H=v;N=v+R;var A=l[v],Q=l[v+a-1],S=(R+1)*A;for(var o=0;o<R;o++){S+=l[v+o]}for(var o=0;o<=R;o++){S+=l[N++]-A;
t[v++]=S*u}for(var o=0;o<b;o++){S+=l[N+o]-l[H+o];t[v+o]=S*u}N+=b;H+=b;v+=b;for(var o=a-R;o<a;o++){S+=Q-l[H++];
t[v++]=S*u}}};$.blur.Oiz=function(l,t,a,k,R){var u=1/(R+R+1),b=k-R-R-1,v=$.blur.Cn(R);for(var H=0;H<a;
H++){var N=H,z=N,A=N+R*a,Q=l[N],S=l[N+a*(k-1)],o=(R+1)*Q;for(var p=0;p<R;p++)o+=l[N+p*a];for(var p=0;
p<=R;p++){o+=l[A]-Q;t[N]=v[o];A+=a;N+=a}for(var p=0;p<b;p++){var O=p*a;o+=l[A+O]-l[z+O];t[N+O]=v[o]}z+=b*a;
A+=b*a;N+=b*a;for(var p=k-R;p<k;p++){o+=S-l[z];t[N]=v[o];z+=a;N+=a}}};$.blur.OkI=function(l,t,a,k,R){var u=a<<2,b=R<<2,v=1/(R+R+1),H=k-R-R-1,N=H<<2,z=$.blur.Cn(R);
for(var A=0;A<a;A++){var Q=A<<2,S=Q,o=Q+R*u,p=Q+u*(k-1),O=l[Q],E=l[Q+1],L=l[Q+2],U=l[Q+3],W=(R+1)*O,Y=(R+1)*E,y=(R+1)*L,C=(R+1)*U;
for(var X=0;X<R;X++){var M=Q+X*u;W+=l[M];Y+=l[M+1];y+=l[M+2];C+=l[M+3]}for(var X=0;X<=R;X++){W+=l[o]-O;
t[Q]=z[W];Y+=l[o+1]-E;t[Q+1]=z[Y];y+=l[o+2]-L;t[Q+2]=z[y];C+=l[o+3]-U;t[Q+3]=z[C];o+=u;Q+=u}for(var X=0;
X<H;X++){var g=X*u;W+=l[o+g]-l[S+g];t[Q+g]=z[W];Y+=l[o+g+1]-l[S+g+1];t[Q+g+1]=z[Y];y+=l[o+g+2]-l[S+g+2];
t[Q+g+2]=z[y];C+=l[o+g+3]-l[S+g+3];t[Q+g+3]=z[C]}S+=H*u;o+=H*u;Q+=H*u;O=l[p];E=l[p+1];L=l[p+2];U=l[p+3];
for(var X=k-R;X<k;X++){W+=O-l[S];t[Q]=z[W];Y+=E-l[S+1];t[Q+1]=z[Y];y+=L-l[S+2];t[Q+2]=z[y];C+=U-l[S+3];
t[Q+3]=z[C];S+=u;Q+=u}}};$.blur.Ozr=function(l,t,a,k,R){var u=1/(R+R+1),b=k-R-R-1;for(var v=0;v<a;v++){var H=v,N=H,z=H+R*a,A=l[H],Q=l[H+a*(k-1)],S=(R+1)*A;
for(var o=0;o<R;o++)S+=l[H+o*a];for(var o=0;o<=R;o++){S+=l[z]-A;t[H]=S*u;z+=a;H+=a}for(var o=0;o<b;o++){var p=o*a;
S+=l[z+p]-l[N+p];t[H+p]=S*u}N+=b*a;z+=b*a;H+=b*a;for(var o=k-R;o<k;o++){S+=Q-l[N];t[H]=S*u;N+=a;H+=a}}};
$.wS={};$.wS.I=function(l,t,a,k){var R=[];for(var u=0;u<4;u++)for(var b=0;b<4;b++)R.push(l+a*b/3,t+k*u/3);
return R};$.wS.nN=function(l,t){var a=l.slice(0);for(var k=0;k<4;k++)for(var R=0;R<4;R++){var u=2*(k*4+R),b=2*(R*4+(3-k));
if(t){var v=u;u=b;b=v}a[b]=l[u];a[b+1]=l[u+1]}return a};$.wS.OUd=new Float64Array(16);$.wS.drawImage=function(l,t,a,k,R,u,b){if(b==null)b=!1;
var v=u.$,H=u.e,Q=2;R=new Uint32Array(R.buffer);t=new Uint32Array(t.buffer);var N=$.wS.f.Uo(l,0,1,0,1,a,k),z=N.dw,A=N.EU,S=1/Q,o=$.wS.CD,p=new Float64Array(2),O=new Uint32Array(30);
for(var E=0;E<H;E++)for(var L=0;L<v;L++){var U=L+u.x+.5,W=E+u.y+.5,Y=$.wS.f.OOz(z,A,U,W,O),V=0,i=0,f=0,r=0;
if(Y==0)continue;var y=E*v+L,C=$.wS.km(l,U,W,z,O,Y,!0),X=o[0]*a,M=o[1]*k;if(b){if(C!=-1&&0<X&&X<a&&0<M&&M<k){var g=Math.floor(M)*a+Math.floor(X);
R[y]=t[g]}continue}var n=C!=-1&&(1<X&&X<a-1)&&(1<M&&M<k-1);if(z[C+8]<.95){$.U.It(X,M,t,a,k,R,y,0);continue}for(var e=0;
e<Q;e++)for(var D=0;D<Q;D++){var U=L+u.x+(e+.5)*S,W=E+u.y+(D+.5)*S,C=0;C=$.wS.km(l,U,W,z,O,Y,!0);if(C!=-1){var X=o[0],M=o[1],X=Math.floor(X*a);
M=Math.floor(M*k);var B=t[M*a+X],h=B>>>24;V+=(B&255)*h;i+=(B>>>8&255)*h;f+=(B>>>16&255)*h;r+=h}}if(r!=0){var I=1/r;
V=~~(V*I+.5);i=~~(i*I+.5);f=~~(f*I+.5);r=~~(r*S*S+.5);R[y]=r<<24|f<<16|i<<8|V}}};$.wS.CD=new Float64Array(5*20);
$.wS.O_z=new Uint32Array(5*5*20);$.wS.km=function(l,t,a,k,R,u,b){var v=$.wS.CD,H=$.wS.O_z,N=0,z=0;for(var A=0;
A<u;A++){var Q=R[A],S=N;N=$.wS.an(l,t,a,k,Q+4,b,v,N);if(N!=S){H[z]=Q;z+=5}}if(N==0)return-1;else if(N==5)return H[0];
else{var o=0;for(var A=0;A<N;A+=5)if(v[A+4]<v[o+4])o=A;v[0]=v[o];v[1]=v[o+1];v[2]=v[o+2];v[3]=v[o+3];
return H[o]}};$.wS.gs=new Array(10);$.wS.an=function(l,t,a,k,R,u,b,v){var H=$.wS.gs,N=0,z=0,A=0,Q=0,S=0,o=0,p=0,O=k[R],E=k[R+1],L=k[R+2],U=k[R+3],W=(L-t)*(L-t)+(U-a)*(U-a);
for(var Y=0;Y<5&&W>.05;Y++){$.wS.wN(H,0,E);$.wS.IS(H,4,O);$.wS.FA(l,H);N=H[8];z=H[9];$.wS.IS(H,0,E);
$.wS.wN(H,4,O);$.wS.FA(l,H);A=H[8];Q=H[9];S=1/(N*Q-z*A);o=(L-t)*S;p=(U-a)*S;O+=-Q*o+A*p;E+=+z*o-N*p;
$.wS.aU(l,O,E,H);L=H[8];U=H[9];W=(L-t)*(L-t)+(U-a)*(U-a)}if(u&&(O<0||O>1||E<0||E>1||W>.25))return v;
b[v]=O;b[v+1]=E;b[v+2]=L;b[v+3]=U;b[v+4]=N*Q-z*A;return v+5};$.wS.apply=function(l,t,a){var k=a.x,R=a.y,u=1/a.$,b=1/a.e,v=$.wS.gs;
for(var H=0;H<t.length;H+=2){var N=(t[H]-k)*u,z=(t[H+1]-R)*b;$.wS.aU(l,N,z,v);t[H]=v[8];t[H+1]=v[9]}};
$.wS.aU=function(l,t,a,k){$.wS.wN(k,0,a);$.wS.wN(k,4,t);$.wS.FA(l,k)};$.wS.IS=function(l,t,a){var k=1-a;
l[t]=-3*(k*k);l[t+1]=3*(k*k)-6*(a*k);l[t+2]=6*(a*k)-3*(a*a);l[t+3]=3*(a*a)};$.wS.wN=function(l,t,a){var k=1-a;
l[t]=k*(k*k);l[t+1]=3*a*(k*k);l[t+2]=3*(a*a)*k;l[t+3]=a*a*a};$.wS.FA=function(l,t){var a=0,k=0,R=0;R=t[0]*t[4];
a+=l[0]*R;k+=l[1]*R;R=t[0]*t[5];a+=l[2]*R;k+=l[3]*R;R=t[0]*t[6];a+=l[4]*R;k+=l[5]*R;R=t[0]*t[7];a+=l[6]*R;
k+=l[7]*R;R=t[1]*t[4];a+=l[8]*R;k+=l[9]*R;R=t[1]*t[5];a+=l[10]*R;k+=l[11]*R;R=t[1]*t[6];a+=l[12]*R;k+=l[13]*R;
R=t[1]*t[7];a+=l[14]*R;k+=l[15]*R;R=t[2]*t[4];a+=l[16]*R;k+=l[17]*R;R=t[2]*t[5];a+=l[18]*R;k+=l[19]*R;
R=t[2]*t[6];a+=l[20]*R;k+=l[21]*R;R=t[2]*t[7];a+=l[22]*R;k+=l[23]*R;R=t[3]*t[4];a+=l[24]*R;k+=l[25]*R;
R=t[3]*t[5];a+=l[26]*R;k+=l[27]*R;R=t[3]*t[6];a+=l[28]*R;k+=l[29]*R;R=t[3]*t[7];a+=l[30]*R;k+=l[31]*R;
t[8]=a;t[9]=k};$.wS.f={};$.wS.f.gf=12;$.wS.f.Uk=new Uint32Array(50);$.wS.f.OOz=function(l,t,a,k,R){var u=0,b=$.wS.f.Uk,v=1;
b[0]=0;while(v!=0){var H=b[--v];if(l[H+0]<=a&&l[H+1]<=k&&a<l[H+2]&&k<l[H+3]){if(t[H+H+18]==0){R[u]=H;
u++}else{b[v]=t[H+H+18];b[v+1]=t[H+H+19];v+=2}}}return u};$.wS.f.OAF=function(l,t,a,k,R){var u=0,b=$.wS.f.OAp,v=$.wS.f.Uk,H=1,N=0,z=999999999999;
v[0]=0;while(H!=0){var A=v[--H],Q=b(a,k,l[A+0],l[A+1]),S=b(a,k,l[A+0],l[A+3]),o=b(a,k,l[A+2],l[A+1]),p=b(a,k,l[A+2],l[A+3]),O=Math.min(Q,Math.min(S,Math.min(o,p))),E=Math.max(Q,Math.max(S,Math.max(o,p)));
if(O>z)continue;if(t[A+A+18]==0){if(E<z){z=E;N=A}}else{v[H]=t[A+A+18];v[H+1]=t[A+A+19];H+=2}}R[u]=N;
u++;return u};$.wS.f.OAp=function(l,t,a,k){return(a-l)*(a-l)+(k-t)*(k-t)};$.wS.f.OE=null;$.wS.f.Um=null;
$.wS.f.Uo=function(l,t,a,k,R,u,b){if(u==null){u=1;b=1}$.wS.f.Um=l;if($.wS.f.OE==null){$.wS.f.OE={dw:new Float64Array(15e3*8),EU:null};
$.wS.f.OE.EU=new Uint32Array($.wS.f.OE.dw.buffer)}var v=$.wS.f.OE;$.wS.f.aE(l,t,a,k,R,0,v.dw,v.EU,0,u,b);
return v};$.wS.f.aE=function(l,t,a,k,R,u,b,v,H,N,z){var A=$.M._f(l),Q=H,S=$.wS.f.Um,o=(t+a)/2,p=(k+R)/2,O=$.wS.gs,E=$.wS.CD,L=$.wS.OUd,q,W_,WU;
$.wS.aU(S,o,p,O);var U=O[8],W=O[9];L[0]=o;L[1]=p;L[2]=U;L[3]=W;$.wS.an(S,U+1,W,L,0,!1,E,0);var Y=(o-E[0])*N,y=(p-E[1])*z,C=Math.sqrt(Y*Y+y*y);
$.wS.an(S,U,W+1,L,0,!1,E,0);var X=(o-E[0])*N,M=(p-E[1])*z,g=Math.sqrt(X*X+M*M);b[Q]=A.x;b[Q+1]=A.y;b[Q+2]=A.x+A.$;
b[Q+3]=A.y+A.e;b[Q+4]=o;b[Q+5]=p;b[Q+6]=U;b[Q+7]=W;b[Q+8]=.5*(C+g);v[Q+Q+18]=0;v[Q+Q+19]=0;H+=10;$.wS.wN(O,0,.1);
$.wS.IS(O,4,.1);$.wS.FA(l,O);var n=O[8],V=O[9];$.wS.IS(O,0,.1);$.wS.wN(O,4,.7);$.wS.FA(l,O);var i=O[8],f=O[9];
$.wS.wN(O,0,.8);$.wS.IS(O,4,.8);$.wS.FA(l,O);var r=O[8],e=O[9];$.wS.IS(O,0,.9);$.wS.wN(O,4,.2);$.wS.FA(l,O);
var D=O[8],B=O[9],h=(r-n)*(r-n)+(D-i)*(D-i)+(e-V)*(e-V)+(B-f)*(B-f);if(H>=b.length){console.log("Buffer not long enough");
throw"e"}if(u==$.wS.f.gf||h<2)return H;var I=$.wS.f.Uv(l,!0),j=$.M._f(I[0]),c=$.M._f(I[1]),m=$.wS.f.Uv(l,!1),F=$.M._f(m[0]),G=$.M._f(m[1]);
if(j.$+j.e+c.$+c.e<F.$+F.e+G.$+G.e){WU=!0;q=I[0];W_=I[1]}else{WU=!1;q=m[0];W_=m[1]}var Wd=(t+a)/2,WZ=(k+R)/2,WL=t,Wj=k,Or=a,Wu=R,WE=t,Wf=k,WS=a,Wx=R;
if(WU){Or=WE=Wd}else{Wu=Wf=WZ}v[Q+Q+18]=H;H=$.wS.f.aE(q,WL,Or,Wj,Wu,u+1,b,v,H,N,z);v[Q+Q+19]=H;H=$.wS.f.aE(W_,WE,WS,Wf,Wx,u+1,b,v,H,N,z);
var WQ=v[Q+Q+18],WJ=v[Q+Q+19];b[Q]=Math.min(b[WQ],b[WJ]);b[Q+1]=Math.min(b[WQ+1],b[WJ+1]);b[Q+2]=Math.max(b[WQ+2],b[WJ+2]);
b[Q+3]=Math.max(b[WQ+3],b[WJ+3]);return H};$.wS.f.Uv=function(l,t){var a=0,k=0,R=0,u=0,b=0,v=0,H=0,N=0,z=l.slice(0),A=l.slice(0);
for(var Q=0;Q<4;Q++){a=t?l[Q*8+2*0]:l[0*8+2*Q];k=t?l[Q*8+2*0+1]:l[0*8+2*Q+1];R=t?l[Q*8+2*1]:l[1*8+2*Q];
u=t?l[Q*8+2*1+1]:l[1*8+2*Q+1];b=t?l[Q*8+2*2]:l[2*8+2*Q];v=t?l[Q*8+2*2+1]:l[2*8+2*Q+1];H=t?l[Q*8+2*3]:l[3*8+2*Q];
N=t?l[Q*8+2*3+1]:l[3*8+2*Q+1];var S=(a+R)/2,o=(k+u)/2,p=(R+b)/2,O=(u+v)/2,E=(b+H)/2,L=(v+N)/2,U=(S+p)/2,W=(o+O)/2,Y=(p+E)/2,y=(O+L)/2,C=(U+Y)/2,X=(W+y)/2;
if(t){z[Q*8+2*0]=a;z[Q*8+2*0+1]=k;z[Q*8+2*1]=S;z[Q*8+2*1+1]=o;z[Q*8+2*2]=U;z[Q*8+2*2+1]=W;z[Q*8+2*3]=C;
z[Q*8+2*3+1]=X;A[Q*8+2*0]=C;A[Q*8+2*0+1]=X;A[Q*8+2*1]=Y;A[Q*8+2*1+1]=y;A[Q*8+2*2]=E;A[Q*8+2*2+1]=L;A[Q*8+2*3]=H;
A[Q*8+2*3+1]=N}else{z[0*8+2*Q]=a;z[0*8+2*Q+1]=k;z[1*8+2*Q]=S;z[1*8+2*Q+1]=o;z[2*8+2*Q]=U;z[2*8+2*Q+1]=W;
z[3*8+2*Q]=C;z[3*8+2*Q+1]=X;A[0*8+2*Q]=C;A[0*8+2*Q+1]=X;A[1*8+2*Q]=Y;A[1*8+2*Q+1]=y;A[2*8+2*Q]=E;A[2*8+2*Q+1]=L;
A[3*8+2*Q]=H;A[3*8+2*Q+1]=N}}return[z,A]};$.nm={};$.nm.O$V=function(l,t,a){var k=$.nm.OHZ(t,a),R=$.nm.OHF(k,l,t,a);
return{YR:k,jl:R}};$.nm.O$$=function(l,t,a){var k=Math.round(l.length/8),R=new Uint32Array(k),u=new Uint8Array(k),b=new Uint32Array(k);
$.IK(R,4294967295,0);R[a]=0;var v=new lh(k);v.push(a,R[a]);var H={YR:l,jl:t,YJ:R,EK:u,Hu:b,IL:v,Onm:a};
return H};$.nm.a_=function(l,t){var a=l.YR,k=l.jl,R=l.YJ,u=l.EK,b=l.Hu,v=l.IL;while(!v.wp()&&(t==null||u[t]==0)){var H=v.pop();
u[H]=1;for(var N=0;N<8;N++){var z=a[8*H+N];if(z==-1||u[z])continue;var A=R[H]+k[8*H+N];if(v.contains(z)&&A<R[z])v.remove(z,R[z]);
if(!v.contains(z)){R[z]=A;b[z]=H;v.push(z,R[z])}}}};function lh(l){this.Fw=new Uint32Array(l);this.list=[];
this.dC=0;this.Zz=4294967295}lh.prototype.wp=function(){return this.dC==0};lh.prototype.push=function(l,t){var a=this.list;
if(a[t]==null)a[t]=[];a[t].push(l);this.dC++;this.Fw[l]=a[t].length-1+1;this.Zz=Math.min(this.Zz,t)};
lh.prototype.pop=function(){this.dC--;var l=this.list,t=this.Zz,a=l[t].pop();if(l[t].length==0)l[t]=null;
this.UN();this.Fw[a]=0;return a};lh.prototype.contains=function(l){return this.Fw[l]!=0};lh.prototype.remove=function(l,t){this.dC--;
var a=this.list,k=this.Fw[l]-1;if(k==a[t].length-1)a[t].pop();else{var R=a[t].pop();a[t][k]=R;this.Fw[R]=k+1}if(a[t].length==0)a[t]=null;
this.Fw[l]=0;this.UN()};lh.prototype.UN=function(){if(this.dC==0){this.Zz=4294967295;return}var l=this.Zz,t=this.list;
while(t[l]==null)l++;this.Zz=l};$.nm.OWl=function(l,t,a){var k=new Float32Array(t*a);for(var R=0;R<a;
R++)for(var u=0;u<t;u++){var b=R*t+u,v=-16*l[b];if(1<u&&u<t-2&&1<R&&R<a-2){v+=l[b-t-t];v+=l[b-t-1]+2*l[b-t]+l[b-t+1];
v+=l[b-2]+2*l[b-1]+2*l[b+1]+l[b+2];v+=l[b+t-1]+2*l[b+t]+l[b+t+1];v+=l[b+t+t]}k[b]=v/16}return k};$.nm.OWo=function(l,t,a){var k=new Float32Array(t*a),R=0,u=0;
for(var b=0;b<a;b++)for(var v=0;v<t;v++){var H=0,N=0;if(0<v&&v<t-1)H=l[R+1]-l[R-1];if(0<b&&b<a-1)N=l[R+t]-l[R-t];
k[R]=Math.sqrt(H*H+N*N);if(k[R]>u)u=k[R];R++}var z=t*a,A=u==0?0:1/u;for(var R=0;R<z;R++)k[R]=1-k[R]*A;
return k};$.nm.OWR=function(l,t,a){var k=new Float32Array(t*a*2),R=0;for(var u=0;u<a;u++)for(var b=0;
b<t;b++){var v=0,H=0;if(0<b&&b<t-1&&0<u&&u<a-1){v=2*l[R+1]-2*l[R-1];H=2*l[R+t]-2*l[R-t]}var N=Math.sqrt(v*v+H*H);
if(N!=0){k[2*R]=v/N;k[2*R+1]=H/N}else{k[2*R]=v;k[2*R+1]=H}R++}return k};$.nm.OHF=function(l,t,a,k){var R=$.nm.OWl(t,a,k),u=$.nm.OWo(t,a,k),b=$.nm.OWR(t,a,k),v=256,H=new Float32Array(v);
for(var N=0;N<v;N++)H[N]=Math.acos(-1+2*N/(v-1));var z=[-1,0,1,1,1,0,-1,-1],A=[-1,-1,-1,0,1,1,1,0],Q=1/Math.sqrt(2),S=new Uint8Array(a*k*8),o=a*k;
for(var p=0;p<o;p++){var O=R[p],E=b[2*p+1],L=-b[2*p];for(var U=0;U<8;U++){var W=8*p+U,Y=l[W];if(Y==-1)S[W]=-1;
else{var y=(U&1)==0,C=O*R[Y]>=0?0:1,X=u[Y]*(y?1:Q),M=1,g=b[2*Y+1],n=-b[2*Y];if(!(E==0&&L==0||g==0&&n==0)){var V=z[U],i=A[U];
if(E*z[U]+L*A[U]<0){V=-V;i=-i}if(y){V*=Q;i*=Q}var f=E*V+L*i,r=g*V+n*i,e=2/(3*Math.PI)*(H[Math.floor((.5+.5*f)*(v-1))]+H[Math.floor((.5+.5*r)*(v-1))]);
M=e}var D=Math.round(20*(.43*C+.43*M+.14*X));S[W]=Math.max(1,Math.min(255,D))}}}console.log(S);return S};
$.nm.OHZ=function(l,t){var a=new Int32Array(l*t*8),k=a,R=0,u=0;k.fill(-1);for(var b=0;b<t;b++)for(var v=0;
v<l;v++){if(b>0&&v>0)k[u+0]=R-l-1;if(b>0)k[u+1]=R-l;if(b>0&&v<l-1)k[u+2]=R-l+1;if(v<l-1)k[u+3]=R+1;if(b<t-1&&v<l-1)k[u+4]=R+l+1;
if(b<t-1)k[u+5]=R+l;if(b<t-1&&v>0)k[u+6]=R+l-1;if(v>0)k[u+7]=R-1;R++;u+=8}return a};$.Fu={};$.Fu.OUN=function(l,t){var a=l.slice(0);
for(var k=0;k<l.length;k++)a[k]*=t;return a};$.Fu.UR=function(l){var t=l.slice(0),a=0;for(var k=0;k<l.length;
k++)a+=l[k];for(var k=0;k<l.length;k++)t[k]/=a;return t};$.Fu.Cj=function(l,t,a,k,R,u,b){var v=u-1>>1,H=new Uint32Array(l.buffer),t=new Uint8ClampedArray(t.buffer);
for(var N=0;N<k;N++)for(var z=0;z<a;z++){var A=0,Q=0,S=0,o=0;for(var p=0;p<u;p++)for(var O=0;O<u;O++){var E=R[p*u+O];
if(E==0)continue;var L=Math.min(a-1,Math.max(0,z-v+O)),U=Math.min(k-1,Math.max(0,N-v+p)),W=H[U*a+L];
A+=(W&255)*E;Q+=(W>>8&255)*E;S+=(W>>16&255)*E;o+=(W>>24&255)*E}if(A<0)A=-A;if(Q<0)Q=-Q;if(S<0)S=-S;if(o<0)o=-o;
var Y=N*a+z<<2;t[Y]=~~(.5+A);t[Y+1]=~~(.5+Q);t[Y+2]=~~(.5+S);t[Y+3]=255-b&t[Y+3]|b&~~(.5+o)}};$.Fu.un=function(l,t,a,k,R,u,b,v){if(u<=10)$.Fu.Ogp(l,t,a,k,R,u,b,v);
else $.Fu.Olu(l,t,a,k,R,u,b,v)};$.Fu.Olu=function(l,t,a,k,R,u,b,v){var H=0,N=new Uint32Array(16),z=new Uint32Array(256),A=new Uint32Array(1*k),Q=new Uint32Array(16*k),S=new Uint32Array(256*k),o=Math.min(u,k),p=Math.min(u,R);
for(var O=0;O<p;O++)$.Fu.Cp(S,Q,A,l,t,k,O);for(var O=0;O<R;O++){if(O+u<R)$.Fu.Cp(S,Q,A,l,t,k,O+u);if(O-u-1>=0)$.Fu.OSx(S,Q,A,l,t,k,O-u-1);
$.set(z,0);$.set(N,0);H=0;for(var E=0;E<o;E++){$.Fu.EW(z,N,S,Q,E);H+=A[E]}for(var E=0;E<k;E++){if(E+u<k&&A[E+u]!=0){H+=A[E+u];
$.Fu.EW(z,N,S,Q,E+u)}if(E-u-1>=0&&A[E-u-1]!=0){H-=A[E-u-1];$.Fu.OSe(z,N,S,Q,E-u-1)}var L=H==0?0:b(z,N,l[O*k+E],H,v);
a[O*k+E]=L}}};$.Fu.Ogp=function(l,t,a,k,R,u,b,v){var H=0,N=new Uint32Array(16),z=new Uint32Array(256);
for(var A=0;A<R;A++){$.set(z,0);$.set(N,0);H=0;var Q=Math.max(A-u,0),S=Math.min(R,A+u+1);for(var o=0;
o<u;o++)H+=$.Fu.ar(z,N,l,t,Q*k+o,k,S*k+o,1);for(var o=0;o<k;o++){if(o+u<k)H+=$.Fu.ar(z,N,l,t,Q*k+o+u,k,S*k+o+u,1);
if(o-u-1>=0)H+=$.Fu.ar(z,N,l,t,Q*k+o-u-1,k,S*k+o-u-1,-1);var p=H==0?0:b(z,N,l[A*k+o],H,v);a[A*k+o]=p}}};
$.Fu.ar=function(l,t,a,k,R,u,b,v){var H=0;while(R<b){var N=k[R]*v,z=a[R];l[z]+=N;t[z>>>4]+=N;H+=N;R+=u}return H};
$.Fu.OII=function(l,t,a,k,R){var u=15;while(t[u]==0&&u>0)u--;u=(u<<4)+15;while(l[u]==0&&u>0)u--;return u};
$.Fu.OPg=function(l,t,a,k,R){var u=0;while(t[u]==0&&u<15)u++;u=u<<4;while(l[u]==0&&u<255)u++;return u};
$.Fu.OzA=function(l,t,a,k,R){var u=k>>>1,b=0,v=0;while(b<=u)b+=t[v++];if(v>0){v--;b-=t[v]}v=v<<4;while(b<=u)b+=l[v++];
return v-1};$.Fu.IB=function(l,t,a,k,R){var u=R[0],b=0,v=0,H=Math.max(0,a-u),N=Math.min(256,a+u+1);while(H<N){b+=H*l[H];
v+=l[H];H++}return v==0?0:b/v};$.Fu.Cp=function(l,t,a,k,R,u,b){var v=b*u;for(var H=0;H<u;H++,v++){var N=R[v],z=k[v];
l[H<<8|z]+=N;t[H<<4|z>>>4]+=N;a[H]+=N}};$.Fu.OSx=function(l,t,a,k,R,u,b){var v=b*u;for(var H=0;H<u;H++,v++){var N=R[v],z=k[v];
l[H<<8|z]-=N;t[H<<4|z>>>4]-=N;a[H]-=N}};$.Fu.WZ=function(l){var t=l.length,a=0;for(var k=0;k<t;k++)a+=l[k];
return a};$.Fu.EW=function(l,t,a,k,R){for(var u=0;u<16;u++){if(k[R<<4|u]==0)continue;t[u]+=k[R<<4|u];
var b=u<<4,v=R<<8|b;l[b]+=a[v];l[b+1]+=a[v+1];l[b+2]+=a[v+2];l[b+3]+=a[v+3];l[b+4]+=a[v+4];l[b+5]+=a[v+5];
l[b+6]+=a[v+6];l[b+7]+=a[v+7];l[b+8]+=a[v+8];l[b+9]+=a[v+9];l[b+10]+=a[v+10];l[b+11]+=a[v+11];l[b+12]+=a[v+12];
l[b+13]+=a[v+13];l[b+14]+=a[v+14];l[b+15]+=a[v+15]}};$.Fu.OSe=function(l,t,a,k,R){for(var u=0;u<16;u++){if(k[R<<4|u]==0)continue;
t[u]-=k[R<<4|u];var b=u<<4,v=R<<8|b;l[b]-=a[v];l[b+1]-=a[v+1];l[b+2]-=a[v+2];l[b+3]-=a[v+3];l[b+4]-=a[v+4];
l[b+5]-=a[v+5];l[b+6]-=a[v+6];l[b+7]-=a[v+7];l[b+8]-=a[v+8];l[b+9]-=a[v+9];l[b+10]-=a[v+10];l[b+11]-=a[v+11];
l[b+12]-=a[v+12];l[b+13]-=a[v+13];l[b+14]-=a[v+14];l[b+15]-=a[v+15]}};$.U={};$.U.Ez=function(l){var t=s.b._W(l.Trnf),a=l.Sz.v,k=$.U.DY(t,new d(0,0,a.Wdth.v,a.Hght.v));
return $.U.gd(k)};$.U.DY=function(l,t){var l=l.slice(0),a=l[0],k=l[1],R=l[2],u=l[3],b=l[6],v=l[7],H=l[4],N=l[5],z=0,A=0,Q=1,S=0,o=0,p=1,O=1,E=1;
if(t){z=t.x;A=t.y;Q=t.x+t.$;S=t.y;o=t.x;p=t.y+t.e;O=t.x+t.$;E=t.y+t.e}var L=[[z,A,1,0,0,0,-z*a,-A*a,a],[0,0,0,z,A,1,-z*k,-A*k,k],[Q,S,1,0,0,0,-Q*R,-S*R,R],[0,0,0,Q,S,1,-Q*u,-S*u,u],[o,p,1,0,0,0,-o*b,-p*b,b],[0,0,0,o,p,1,-o*v,-p*v,v],[O,E,1,0,0,0,-O*H,-E*H,H],[0,0,0,O,E,1,-O*N,-E*N,N]],U=[0,0,0,0,0,0,0,0],W=$.Fa.CJ.Aw(L,U);
if(W!=0)U=[0,0,0,0,0,0,0,0];return U};$.U.Ed=function(l){return Math.abs(l[6])<1e-10&&Math.abs(l[7])<1e-10};
$.U.gd=function(l){return new WM(l[0],l[3],l[1],l[4],l[2],l[5])};$.U.tU=function(l){return[l.w,l.Mn,l.Pu,l.l,l.N_,l.wf,0,0]};
$.U.apply=function(l,t){var a=new Float64Array(2);for(var k=0;k<t.length;k+=2){var R=t[k],u=t[k+1];$.U.af(R,u,l,a);
t[k]=a[0];t[k+1]=a[1]}};$.U.af=function(l,t,a,k){var R=1/(a[6]*l+a[7]*t+1);k[0]=(a[0]*l+a[1]*t+a[2])*R;
k[1]=(a[3]*l+a[4]*t+a[5])*R};$.U.EY=function(l,t){var a=new Float64Array(2);$.U.af(t.x,t.y,l,a);return new x(a[0],a[1])};
$.U.CC=function(l,t,a,k){l=new Uint32Array(l.buffer);t=new Uint32Array(t.buffer);for(var R=0;R<k;R++){for(var u=0;
u<a;u++){t[u*k+R]=l[R*a+u]}}};$.U.Es=function(l){return Math.abs(l[6])<1e-9&&Math.abs(l[7])<1e-9};$.U.EM=function(l){return Math.abs(l[0])<1e-9&&Math.abs(l[4])<1e-9||Math.abs(l[1])<1e-9&&Math.abs(l[3])<1e-9};
$.U.drawImage=function(l,t,a,k,R,u,b,v){if(b==null)b=!1;if(v==null)v=!1;var H=$.U.sI(l),N=!0,z=0,A=1/Math.sqrt(Math.abs(l[0]/a*l[4]/k-l[1]/a*l[3]/k));
for(var Q=0;Q<8;Q++){var S=Math.round(l[Q]);if(Q!=2&&Q!=5)z+=Math.abs(S);if(Math.abs(S-l[Q])>1e-9)N=!1}var o=$.U.Es(l),p=$.U.EM(l)&&o,O=p?1:0;
if(b||N&&z==a+k&&o){$.U.OSc(H,t,a,k,R,u,v,o);return}var E=u.$,L=u.e,U=new Float64Array(2);R=new Uint32Array(R.buffer);
t=new Uint32Array(t.buffer);for(var W=0;W<L;W++)for(var Y=0;Y<E;Y++){var y=W*E+Y,C,X,M,g,G=0,q=0,W_=0,WU=0;
R[y]=0;var n=Y+u.x+.5,V=W+u.y+.5;C=n;X=V;M=H;g=1/(M[6]*C+M[7]*X+1);var i=(M[0]*C+M[1]*X+M[2])*g,f=(M[3]*C+M[4]*X+M[5])*g,r=i*a,e=f*k,D=r<-1||r>a+1||e<-1||e>k+1;
if(v){r=Math.max(.001,Math.min(a-1,r));e=Math.max(.001,Math.min(k-1,e))}else if(D)continue;var B=A;if(!o){var h=0,I=0;
M=l;C=i+1/a;X=f;g=1/(M[6]*C+M[7]*X+1);h=(M[0]*C+M[1]*X+M[2])*g-n;I=(M[3]*C+M[4]*X+M[5])*g-V;var j=h*h+I*I;
C=i;X=f+1/k;g=1/(M[6]*C+M[7]*X+1);h=(M[0]*C+M[1]*X+M[2])*g-n;I=(M[3]*C+M[4]*X+M[5])*g-V;var c=h*h+I*I;
B=1/Math.sqrt(Math.max(j,c))}if(B<.8){$.U.It(r,e,t,a,k,R,y,O);continue}var m=Math.round(B*2.3);if(!v&&(r<.6||r>a-.6||e<.6||e>k-.6)){m=Math.max(m,5)}if(v&&D)m=1;
var F=1/m,Wd=u.x+Y,WZ=u.y+W;M=H;for(var Q=0;Q<m;Q++)for(var WL=0;WL<m;WL++){C=Wd+(Q+.5)*F;X=WZ+(WL+.5)*F;
g=1/(M[6]*C+M[7]*X+1);var r=(M[0]*C+M[1]*X+M[2])*g,e=(M[3]*C+M[4]*X+M[5])*g;if(v){r=Math.max(.001,Math.min(.999,r));
e=Math.max(.001,Math.min(.999,e))}else if(r<0||r>=1||e<0||e>=1)continue;r=Math.floor(r*a);e=Math.floor(e*k);
var Wj=e*a+r,Or=t[Wj],Wu=Or>>>24;G+=(Or&255)*Wu;q+=(Or>>>8&255)*Wu;W_+=(Or>>>16&255)*Wu;WU+=Wu}if(WU!=0){var WE=1/WU;
G=~~(G*WE+.5);q=~~(q*WE+.5);W_=~~(W_*WE+.5);WU=~~(WU*F*F+.5);R[y]=WU<<24|W_<<16|q<<8|G}}};$.U.OSc=function(l,t,a,k,R,u,b,v){var H=u.x+u.$,N=u.y+u.e,z=0,A=new Uint32Array(R.buffer),Q=new Uint32Array(t.buffer),S=l[0]*a,o=l[1]*a,p=l[2]*a,O=l[3]*k,E=l[4]*k,L=l[5]*k,U=l[6],W=l[7];
if(v&&!b)for(var Y=u.y+.5;Y<N;Y++)for(var y=u.x+.5;y<H;y++){var C=S*y+o*Y+p,X=O*y+E*Y+L;if(0<C&&C<a&&0<X&&X<k){var M=Math.floor(X)*a+Math.floor(C);
A[z]=Q[M]}else A[z]=0;z++}else for(var Y=u.y+.5;Y<N;Y++)for(var y=u.x+.5;y<H;y++){var g=1/(U*y+W*Y+1),C=(S*y+o*Y+p)*g,X=(O*y+E*Y+L)*g;
if(b){C=Math.max(.001,Math.min(a-1,C));X=Math.max(.001,Math.min(k-1,X))}if(0<C&&C<a&&0<X&&X<k){var M=Math.floor(X)*a+Math.floor(C);
A[z]=Q[M]}else A[z]=0;z++}};$.U.sI=function(l){var t=l[4]-l[5]*l[7],a=l[2]*l[7]-l[1],k=l[1]*l[5]-l[2]*l[4],R=l[5]*l[6]-l[3],u=l[0]-l[2]*l[6],b=l[3]*l[2]-l[0]*l[5],v=l[3]*l[7]-l[4]*l[6],H=l[1]*l[6]-l[0]*l[7],N=1/(l[0]*l[4]-l[1]*l[3]);
return[t*N,a*N,k*N,R*N,u*N,b*N,v*N,H*N]};$.U.bL=function(l,t){var a=l[0],k=l[1],R=l[2],u=l[3],b=l[4],v=l[5],H=l[6],N=l[7],z=t[0],A=t[1],Q=t[2],S=t[3],o=t[4],p=t[5],O=t[6],E=t[7],L=[a*z+k*S+R*O,a*A+k*o+R*E,a*Q+k*p+R,u*z+b*S+v*O,u*A+b*o+v*E,u*Q+b*p+v,H*z+N*S+O,H*A+N*o+E],U=1/(H*Q+N*p+1);
for(var W=0;W<8;W++)L[W]*=U;return L};$.U.It=function(l,t,a,k,R,u,b,v){var H=l,N=t,Q=0,S=0,o=0,p=0;l-=.499999;
t-=.499999;var z=Math.floor(l),A=Math.floor(t);if(v==0){var O=A*k+z,E=z>=0&&z<k,L=z+1>=0&&z+1<k,U=A>=0&&A<R,W=A+1>=0&&A+1<R;
if(E&&U)Q=a[O];if(L&&U)S=a[O+1];if(E&&W)o=a[O+k];if(L&&W)p=a[O+k+1]}else if(v==1){var Y=z<0?0:z>k-1?k-1:z,y=z<-1?0:z>k-2?k-1:z+1,C=A<0?0:A>R-1?R-1:A,X=A<-1?0:A>R-2?R-1:A+1;
Q=a[C*k+Y];S=a[C*k+y];o=a[X*k+Y];p=a[X*k+y]}else{var Y=(z+k)%k,y=(z+1+k)%k,C=(A+R)%R,X=(A+1+R)%R;Q=a[C*k+Y];
S=a[C*k+y];o=a[X*k+Y];p=a[X*k+y]}var M=l-z,g=t-A,n=(1-g)*(1-M)*(Q>>>24),V=(1-g)*M*(S>>>24),i=g*(1-M)*(o>>>24),f=g*M*(p>>>24),r=n+V+i+f,e=n*(Q&255)+V*(S&255)+i*(o&255)+f*(p&255),D=n*(Q>>>8&255)+V*(S>>>8&255)+i*(o>>>8&255)+f*(p>>>8&255),B=n*(Q>>>16&255)+V*(S>>>16&255)+i*(o>>>16&255)+f*(p>>>16&255);
if(r==0)u[b]=0;else{var h=1/r;e=~~(e*h+.5);D=~~(D*h+.5);B=~~(B*h+.5);r=~~(r+.5);u[b]=r<<24|B<<16|D<<8|e}};
$.U.EX=function(l,t,a,k,R,u,b,v,H,N,z,A){var Q=new Uint32Array(l.buffer),S=new Uint32Array(k.buffer),o=(1+2*N)/R,p=[],O=[];
for(var E=0;E<R;E++){var L=-.25+N-E*o;p.push(Math.cos(2*Math.PI*L)*A/z);p.push(Math.sin(2*Math.PI*L)/z)}b*=t;
v*=a;for(var U=0;U<u;U++){var W=Math.pow(U/u,H)*u;for(var E=0;E<R;E++){var Y=b+p[E<<1]*W,y=v+p[(E<<1)+1]*W,C=~~(.5+(Y<0?0:Y>t-1?t-1:Y)),X=~~(.5+(y<0?0:y>a-1?a-1:y));
S[U*R+E]=Q[X*t+C]}}};$.U.Ee=function(l,t,a,k,R,u,b,v,H,N,z,A){var Q=new Uint32Array(l.buffer),S=new Uint32Array(k.buffer),o=1/A,p=[],O=a*4,E=1/O;
for(var L=0;L<O;L++)p.push(Math.pow(L*E,1/H)*a*z);b*=R;v*=u;for(var L=0;L<u;L++)for(var U=0;U<R;U++){var W=o*(U-b),Y=L-v,y=1.75-Math.atan2(Y,W)*(1/(2*Math.PI));
y=y-~~y;y=(y+N)*(1/(1+2*N));var C=Math.sqrt(W*W+Y*Y);C=p[~~(C*4)];$.U.It(y*t+.5,C+.5,Q,t,a,S,L*R+U,1)}};
$.C={};$.C.OUR=function(l,t){return l+.5};$.C.OEV=function(l,t){return 2*Math.sqrt(l*l+t*t)};$.C.OEl=function(l,t){return(Math.PI+Math.atan2(-t,-l))/(2*Math.PI)};
$.C.OEf=function(l,t){return Math.abs(l*2)};$.C.OEx=function(l,t){return 2*(Math.abs(l)+Math.abs(t))};
$.C.Or=function(l,t,a,k,R,u,b,v,H,N,z){var A=a.$,Q=a.e,S=a.x,o=a.y,p=k[0],O=k[1],E=k[2],L=k[3],Y=512;
if(l.Clrs==null)return;var U=$.C.hG(l.Clrs.v,H,N),W=b?0:1,y=$.C.Ey(l,U,Y),C=new Uint8Array(y.buffer),X=new Uint32Array(t.buffer);
if(v<5){for(var M=0,g=0;M<Q;M++)for(var n=0;n<A;n++,g+=4){var V=n-R+S,i=M-u+o,f=p*V+O*i,r=E*V+L*i,e=0;
if(v==0)e=f+.5;else if(v==1)e=2*Math.sqrt(f*f+r*r);else if(v==2)e=(Math.PI+Math.atan2(-r,-f))/(2*Math.PI);
else if(v==3)e=Math.abs(f*2);else if(v==4)e=2*(Math.abs(f)+Math.abs(r));e=W*e+(1-W)*(1-e);var D=Math.max(0,Math.min(Y-1,Math.round(e*Y)))<<2;
t[g]=C[D];t[g+1]=C[D+1];t[g+2]=C[D+2];t[g+3]=C[D+3]}}else{var B=z.TJ-z.CG,h=1/B,I=z.wi.$-a.$>>1,j=z.wi.e-a.e>>1,c=z.wi.$,m=-.6*h,F=(-.6+.4)*h,G=(-.6+2*.4)*h,q=(-.6+3*.4)*h;
for(var M=0,g=0;M<Q;M++)for(var n=0;n<A;n++,g+=4){var W_=0,WU=0,Wd=0,WZ=0,WL=(M+j)*c+n+I,e=(z.mP[WL]-z.CG)*h,D=0;
e=W*e+(1-W)*(1-e);if(e<=0||e>=1){D=(e<=0?0:Y-1)<<2;t[g]=C[D];t[g+1]=C[D+1];t[g+2]=C[D+2];t[g+3]=C[D+3];
continue}D=Math.max(0,Math.min(Y-1,Math.round((e+m)*Y)))<<2;WU+=C[D];Wd+=C[D+1];WZ+=C[D+2];W_+=C[D+3];
D=Math.max(0,Math.min(Y-1,Math.round((e+F)*Y)))<<2;WU+=C[D];Wd+=C[D+1];WZ+=C[D+2];W_+=C[D+3];D=Math.max(0,Math.min(Y-1,Math.round((e+G)*Y)))<<2;
WU+=C[D];Wd+=C[D+1];WZ+=C[D+2];W_+=C[D+3];D=Math.max(0,Math.min(Y-1,Math.round((e+q)*Y)))<<2;WU+=C[D];
Wd+=C[D+1];WZ+=C[D+2];W_+=C[D+3];t[g]=WU>>2;t[g+1]=Wd>>2;t[g+2]=WZ>>2;t[g+3]=W_>>2}}};$.C.hG=function(l,t,a){var k=[];
for(var R=0;R<l.length;R++){var u;if(l[R].v.Type.v.Clry=="FrgC")u={D:t>>16&255,K:t>>8&255,l:t&255};else if(l[R].v.Type.v.Clry=="BckC")u={D:a>>16&255,K:a>>8&255,l:a&255};
else u=$.C.BL(l[R].v.Clr.v);k.push(u)}return k};$.C.BL=function(l){var t,a=l.classID;if(a=="RGBC")t={D:l.Rd.v,K:l.Grn.v,l:l.Bl.v};
else if(a=="HSBC"){t=$.gU(l.H.v.val/360,l.Strt.v/100,l.Brgh.v/100);t.D*=255;t.K*=255;t.l*=255}else if(a=="CMYC"){var k=100-l.Cyn.v,R=100-l.Mgnt.v,u=100-l.Ylw.v,b=100-l.Blck.v,v=255*k*b*1e-4,H=255*(.2*k+.8*R)*b*1e-4,N=255*(.2*R+.8*u)*b*1e-4;
t={D:v,K:H,l:N}}else if(a=="Grsc")t={D:255-l.Gry.v,K:255-l.Gry.v,l:255-l.Gry.v};else console.log(l);
return t};$.C.br=function(l){return{classID:"RGBC",Rd:{t:"doub",v:l.D},Grn:{t:"doub",v:l.K},Bl:{t:"doub",v:l.l}}};
$.C.Ey=function(l,t,a){var k=new Uint32Array(a),R=1/(a-0);for(var u=0;u<a;u++)k[u]=$.C.kA(l,t,u*R);return k};
$.C.kA=function(l,t,a){var k=l.Intr.v/4096,R=4096,u=1/R,b=l.Clrs.v.length-1,v=l.Trns.v.length-1,H=-1,N=0,z=0,A=0,Q=0;
while(H<v&&l.Trns.v[H+1].v.Lctn.v<=a*R)H++;if(H==-1){N=l.Trns.v[0].v.Opct.v.val*(255/100)}else if(H==v){N=l.Trns.v[H].v.Opct.v.val*(255/100)}else{var S=$.C.Ep(l.Trns.v,u,H,a,k);
N=(S*l.Trns.v[H].v.Opct.v.val+(1-S)*l.Trns.v[H+1].v.Opct.v.val)*(255/100)}H=-1;while(H<b&&l.Clrs.v[H+1].v.Lctn.v<=a*R)H++;
if(H==-1){var o=t[0];z=o.D;A=o.K;Q=o.l}else if(H==b){var o=t[H];z=o.D;A=o.K;Q=o.l}else{var p=t[H],O=t[H+1],E=$.C.Ep(l.Clrs.v,u,H,a,k);
z=E*p.D+(1-E)*O.D;A=E*p.K+(1-E)*O.K;Q=E*p.l+(1-E)*O.l}N+=.5;z+=.5;A+=.5;Q+=.5;return N<<24|Q<<16|A<<8|z};
$.C.Ep=function(l,t,a,k,R){if(l.length==2)R*=.5;var u=l[a].v.Lctn.v*t,b=l[a+1].v.Lctn.v*t,v=u+l[a+1].v.Mdpn.v*.01*(b-u),H;
if(k<v)H=.5*(k-u)/(v-u);else H=.5+.5*(k-v)/(b-v);H=.5+.5*(R*Math.cos(Math.PI*H)+(1-R)*(1-2*H));return H};
$.C.ad=function(l,t){var a=Math.PI*l.Angl.v.val/180,k=l.Scl.v.val/100,R=l.Ofst.v,u=R.Hrzn.v.val/100,b=R.Vrtc.v.val/100,v=Math.cos(a),H=-Math.sin(a),N=.5*t.e,z=N*(v/H),A=Math.sqrt(N*N+z*z),Q=.5*t.$,S=Q*(H/v),o=Math.sqrt(Q*Q+S*S),p=Math.min(A,o)*k,O=t.x+t.$/2+u*t.$,E=t.y+t.e/2+b*t.e;
return[new x(O,E),new x(O+v*p,E+H*p)]};$.C.ax=function(l,t,a,k){var R=t.x-l.x,u=-(t.y-l.y),b=Math.sqrt(R*R+u*u),v=Math.atan2(u,R),H=Math.cos(v),N=-Math.sin(v),z=.5*a.e,A=z*(H/N),Q=Math.sqrt(z*z+A*A),S=.5*a.$,o=S*(N/H),p=Math.sqrt(S*S+o*o),O=b/Math.min(Q,p),E=(l.x-a.x-a.$/2)/a.$,L=(l.y-a.y-a.e/2)/a.e;
k.Angl.v.val=180*v/Math.PI;k.Scl.v.val=O*100;var U=k.Ofst.v;U.Hrzn.v.val=E*100;U.Vrtc.v.val=L*100};$.C.ha=function(l,t){for(var a=0;
a<l.length;a++){var k=l[a],R=Math.round(k[0]*4096),u=k[1],b=k[2];if(b==null)b=1;var v=$.C.br({D:u[0]*255,K:u[1]*255,l:u[2]*255});
t.Clrs.v[a]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:R},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:v},Type:{t:"enum",v:{Clry:"UsrS"}}}};
t.Trns.v[a]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:R},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(b*100)}}}}}};
$.XI={};$.XI.hw=function(l,t,a,k,R){var u=!1,o=1,f=0,r=0,m=0,WQ=0;if(!t.rI(R)){var b=t.wm(R),v=$.I(b.s()*4);
$.BM(l,t,v,b);l=v;t=b}var H=$.I(t.s());$.co(a,R,H,t);$.round(H);R=R.gk(t);var N=R.$,z=R.e,A=N*3<z?2:1,Q=z*3<N?2:1;
if(R.s()*(A*2+1)*(Q*2+1)<t.s()){var b=new d(R.x-N*A,R.y-z*A,N*(A*2+1),z*(Q*2+1)).gk(t),v=$.I(b.s()*4);
$.BM(l,t,v,b);var S=$.I(b.s());$.co(H,t,S,b);t=b;l=v;H=S}while((t.$+t.e)/2/o>400)o++;var p=l,O=t,E=H,L=Math.floor(O.$/o),U=Math.floor(O.e/o);
l=$.I(L*U*4);$.scale.$j(p,O.$,O.e,l,L,U,1/o);H=$.I(L*U);$.scale.Y$(E,O.$,O.e,H,L,U,1/o);$.round(H,1);
var W=$.wv(H,new d(0,0,L,U));if(W.wp())return;var Y=Math.round((W.$+W.e)/2/15),y=Date.now(),C=$.I(L*U*4);
$.Olo(l,C);var X=Int16Array,M=new X(L*U*24),g=new X(64),n=new X(64),V=new X(64),i=new X(64);for(var e=3;
e<U-4;e++)for(var D=3;D<L-4;D++){var B=e*L+D;if(H[B]==255)continue;if($.XI.OVn(C,H,D,e,L,U,g,n,V)!=0)continue;
$.XI.aG(g,i);M[f]=D;M[f+1]=e;$.XI.Ll(g,M,f+4,12);f+=16;$.XI.aG(n,i);$.XI.Ll(n,M,f,4);f+=4;$.XI.aG(V,i);
$.XI.Ll(V,M,f,4);f+=4;var h=M[f-24+5],I=M[f-24+6];M[f-24+5]=M[f-24+20];M[f-24+6]=M[f-24+16];M[f-24+16]=h;
M[f-24+20]=I;r++}if(r==0)return;if(u)console.log(Date.now()-y,"FWHT computed");y=Date.now();var j=[];
$.XI.aF(0,r-1,j,M,new X(2*24));if(u)console.log(Date.now()-y,"KD tree computed");y=Date.now();var c=new Float32Array(L*U*4);
for(var F=0;F<r;F++){var G=F,q=$.XI.O_i(G,M,j,Y);if(q==-1)continue;var W_=G*24,WU=q*24,Wd=M[W_],WZ=M[W_+1],WL=M[WU],Wj=M[WU+1];
m+=$.XI.getError(WU,W_,M,1e99);var Or=WL-Wd,Wu=Wj-WZ;c[(U+Wu)*2*L+(L+Or)]+=1}if(u)console.log(Date.now()-y,"NN found");
y=Date.now();var WE=[],Wf=1/(2*L);for(var F=0;F<c.length;F++){if(c[F]>0){var e=Math.floor(F*Wf),D=F-e*2*L;
WE.push({x:D-L,y:e-U,V:c[F],$Y:-1})}}WE.sort(function(Az,Hg){return Hg.V-Az.V});var WS=new Int32Array(L*U),Wx=[];
for(var F=0;F<L*U;F++){if(H[F]==255){WS[F]=WQ;Wx.push(F%L,Math.floor(F/L));WQ++}else if(l[(F<<2)+3]<200){WS[F]=-2}else{WS[F]=-1}}var WJ=$.XI.OUo(L,U,WE,WS,Wx,WQ);
if(WJ==null){return}var Ww=WJ.lh,top=WJ.top;Ww=$.XI.OUV(Ww,l,L,U,top,WS,Wx,WQ);if(u)console.log(Date.now()-y,"optimal labeling found");
y=Date.now();var b=R.clone();b.RK(1,1);b=b.gk(O);var Wv=$.I(b.s()*4),Oi=$.I(b.s());$.BM(p,O,Wv,b);var Wc=O.$,Wh=O.e;
for(var e=0;e<Wh;e++)for(var D=0;D<Wc;D++){if(E[e*Wc+D]==0)continue;var Om=Math.min(Math.floor(D/o),L-1),WN=Math.min(Math.floor(e/o),U-1),WR=WS[WN*L+Om],Wp=Ww[WR],OP=top[Wp],Hz=D+OP.x*o,HP=e+OP.y*o,OW=HP*Wc+Hz<<2,WX=(e-b.y+O.y)*b.$+(D-b.x+O.x)<<2;
Wv[WX]=p[OW];Wv[WX+1]=p[OW+1];Wv[WX+2]=p[OW+2];Wv[WX+3]=p[OW+3];Wv[WX+3]=p[OW+3];Oi[WX>>2]=Wp+1}if(u)console.log(Date.now()-y,"copied back");
y=Date.now();$.uY.hw(Wv,Oi,b,null,1e3);if(u)console.log(Date.now()-y,"poisson smooth");y=Date.now();
$.BM(Wv,b,k,R)};$.XI.Ew=function(l,t,a,k,R,u){return $.XI.ht(l+R.x,t+R.y,a,k)&&u[(t+R.y)*a+(l+R.x)]==-1?0:1e9};
$.XI.OUV=function(l,t,a,k,top,R,u,b){var v=Date.now(),H=[-1,0,0,-1,1,0,0,1],N=1e99,z=[],A=[],Q=2*(b*2*3+b*2),S=null,o=0,p=0,O=0,E=1e99;
while(!0&&Date.now()<v+12e3){O++;var L=null,U=N;for(var W=0;W<top.length;W++){var Y=top[W],C=0,X=b+2,M=0;
for(var g=0;g<b;g++){var n=u[g*2],V=u[g*2+1],i=top[l[g]],f=$.XI.Ew(n,V,a,k,Y,R),r=l[g]==W?1e9:$.XI.Ew(n,V,a,k,i,R);
for(var e=0;e<4;e++){if(e==0&&n==0||e==1&&V==0||e==2&&n==a-1||e==3&&V==k-1)continue;var D=H[2*e],B=H[2*e+1],h=n+D,I=V+B,j=R[I*a+h];
if(j==-2){}else if(j==-1){f+=3*$.XI.SF(h+Y.x,I+Y.y,h,I,a,k,t,R);f+=2*$.XI.SF(h+Y.x+D,I+Y.y+B,h+D,I+B,a,k,t,R);
r+=3*$.XI.SF(h+i.x,I+i.y,h,I,a,k,t,R);r+=2*$.XI.SF(h+i.x+D,I+i.y+B,h+D,I+B,a,k,t,R)}else if(e>1){if(l[g]==l[j]){var c=0;
c+=$.XI.SF(n+i.x,V+i.y,n+Y.x,V+Y.y,a,k,t,R);c+=$.XI.SF(h+i.x,I+i.y,h+Y.x,I+Y.y,a,k,t,R);z[C]=g;z[C+1]=j;
A[C]=c;A[C+1]=c;C+=2}else{var m=top[l[j]],F=X,G=0,q=0,W_=0;X++;G+=$.XI.SF(n+i.x,V+i.y,n+Y.x,V+Y.y,a,k,t,R);
G+=$.XI.SF(h+i.x,I+i.y,h+Y.x,I+Y.y,a,k,t,R);q+=$.XI.SF(n+m.x,V+m.y,n+Y.x,V+Y.y,a,k,t,R);q+=$.XI.SF(h+m.x,I+m.y,h+Y.x,I+Y.y,a,k,t,R);
W_+=$.XI.SF(n+m.x,V+m.y,n+i.x,V+i.y,a,k,t,R);W_+=$.XI.SF(h+m.x,I+m.y,h+i.x,I+i.y,a,k,t,R);z[C]=g;z[C+1]=F;
A[C]=G;A[C+1]=G;C+=2;z[C]=j;z[C+1]=F;A[C]=q;A[C+1]=q;C+=2;z[C]=F;z[C+1]=b+1;A[C]=W_;A[C+1]=0;C+=2}}}z[C]=b;
z[C+1]=g;A[C]=f;A[C+1]=0;C+=2;z[C]=g;z[C+1]=b+1;A[C]=r;A[C+1]=0;C+=2;M+=Math.min(f,r)}if(M>U)continue;
var WU=$.nK.Aw(X,C,b,b+1,z,A,U);if(WU.YJ<U){U=WU.YJ;var Wd=l.slice(0);$.XI.OUI(Wd,C,z,WU.Zr,W,b);L=Wd}}if(U*1>=N){break}N=U;
l=L;if((O&3)==0){if(U*1.03>=E)break;E=U}if((O&3)==0){var WZ=0*top.length;for(var g=0;g<top.length&&top.length>WZ;
g++){if(l.indexOf(g)!=-1)continue;top.splice(g,1);for(var j=0;j<l.length;j++)if(l[j]>g)l[j]--;g--}}}return l};
$.XI.OUI=function(l,t,a,k,R,u){for(var b=0;b<k.length;b++){var v=k[b]<<1,H=0,N=0;if(v<t){H=a[v];N=a[v+1]}else{N=a[v];
H=a[v+1]}if(H==u&&l[N]!=R)l[N]=R}};$.XI.Et=function(top,l,t,a,k,R,u,b,v){for(var H=0;H<t.length;H++){var N=t[H],z=!0;
if(b!=null&&!($.XI.ht(b+N.x,v+N.y,R,u)&&a[R*(v+N.y)+b+N.x]==-1))continue;if(N.$Y==-1)N.$Y=$.XI.OUP(N,a,k,R,u);
if(N.$Y<=0)continue;for(var A=0;A<top.length;A++){var Q=top[A],S=N.x-Q.x,o=N.y-Q.y;if(S*S+o*o<l){z=!1;
break}}if(z)return N}return null};$.XI.OUP=function(l,t,a,k,R){var u=0;for(var b=0;b<a.length;b+=2){var v=a[b]+l.x,H=a[b+1]+l.y;
if($.XI.ht(v,H,k,R)&&t[k*H+v]==-1)u++}return u/(a.length>>1)};$.XI.OUo=function(l,t,a,k,R,u){var top=[];
for(var b=0;b<60;b++){var v=$.XI.Et(top,25,a,k,R,l,t);if(v==null)break;else top.push(v)}if(top.length==0)return null;
var H=[];for(var b=0;b<u;b++){var N=R[b*2],z=R[b*2+1],A=-1,Q=0;while(!0){Q++;var S=Math.random();A=Math.floor(S*.99999*top.length);
var o=top[A],p=N+o.x,O=z+o.y;if($.XI.ht(p,O,l,t)&&k[O*l+p]==-1)break;if(Q>100){var v;v=$.XI.Et(top,0,a,k,R,l,t,N,z);
if(v==null)return null;top.push(v);Q=0}}H.push(A)}return{top:top,lh:H}};$.XI.SF=function(l,t,a,k,R,u,b,v){if(l==a&&t==k)return 0;
if(l<0||t<0||l>=R||t>=u||a<0||k<0||a>=R||k>=u||v[t*R+l]!=-1||v[k*R+a]!=-1)return 1e7;var H=t*R+l<<2,N=k*R+a<<2,z=b[H]-b[N],A=b[H+1]-b[N+1],Q=b[H+2]-b[N+2];
return 1+(z*z+A*A+Q*Q)};$.XI.ht=function(l,t,a,k){return l>=0&&l<a&&t>=0&&t<k};$.XI.O_i=function(l,t,a,k){var R=24*l,u=t[R],b=t[R+1],v=k*k,H=0,Q=1e9;
while(a[H]!=99)if(t[R+a[H]]<a[H+1])H=a[H+2];else H=a[H+3];var N=a[H+1],z=a[H+2],A=-1;for(var S=N;S<=z;
S++){var H=S,o=H*24,p=t[o],O=t[o+1];if((p-u)*(p-u)+(O-b)*(O-b)<v)continue;var E=$.XI.getError(o,R,t,Q);
if(E<Q){Q=E;A=H}}return A};$.XI.getError=function(l,t,a,k){var R=0;for(var u=4;u<24;u+=4){var b=a[t+u]-a[l+u],v=a[t+u+1]-a[l+u+1],H=a[t+u+2]-a[l+u+2],N=a[t+u+3]-a[l+u+3];
R+=b*b+v*v+H*H+N*N;if(R>=k)return R+1}return R};$.XI.aF=function(l,t,a,k,R){var u=16,S=0;if(t-l<=u){a.push(99,l,t);
return}$.XI._f(l,t,k,R);var b=-1,v=-1;for(var H=4;H<24;H++){var N=R[2*H+1]-R[2*H];if(N>v){v=N;b=H}}var z=l+t>>1,A=$.XI.Org(z,l,t,k,b),Q=-1;
for(var H=l;H<=t;H++)if(k[24*H+b]==A){if(Q==-1)Q=H;S=H}if(l+8<Q&&Q-l>t-S)z=Q;else if(S+1<t-8)z=S+1;else if(t-l<64){a.push(99,l,t);
return}else z=z;var o=a.length;a.push(b,A,0,0);a[o+2]=o+4;$.XI.aF(l,z-1,a,k,R);a[o+3]=a.length;$.XI.aF(z,t,a,k,R)};
$.XI._f=function(l,t,a,k){for(var R=0;R<48;R+=4){k[R]=3e4;k[R+1]=-3e4;k[R+2]=3e4;k[R+3]=-3e4}for(var R=l;
R<=t;R++){var u=R*24;for(var b=0;b<24;b++){var v=a[u+b],H=k[b<<1],N=k[(b<<1)+1];if(v<H)k[b<<1]=v;if(v>N)k[(b<<1)+1]=v}}};
$.XI.aZ=function(l,t,a){var k=0,R=0;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;
R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;
R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;
R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;
R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;
R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;
R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;
R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;
R++;k=a[l+R];a[l+R]=a[t+R];a[t+R]=k;R++};$.XI.aq=function(l,t,a,k){var R=a+k>>>1,u=l[24*R+t];while(a<=k){while(l[24*a+t]<u)a++;
while(l[24*k+t]>u)k--;if(a<=k){if(l[24*a+t]!=l[24*k+t])$.XI.aZ(a*24,k*24,l);a++;k--}}return a};$.XI.Org=function(l,t,a,k,R){var u=0;
while(t!=a){u=$.XI.aq(k,R,t,a);if(l<u)a=u-1;else t=u}return k[l*24+R]};$.XI.Ll=function(l,t,a,k){for(var R=0;
R<k;R++)t[a+R]=l[R]};$.XI.OVn=function(l,t,a,k,R,u,b,v,H){var N=(k-3)*R+(a-3),z=N<<2;for(var A=0;A<8;
A++){if(t[N]+t[N+1]+t[N+2]+t[N+3]+t[N+4]+t[N+5]+t[N+6]+t[N+7]!=0||l[z+3]<200||l[z+7]<200||l[z+11]<200||l[z+15]<200||l[z+19]<200||l[z+23]<200||l[z+27]<200||l[z+31]<200)return 1;
var Q=A<<3;b[Q+0]=l[z+0];v[Q+0]=l[z+1];H[Q+0]=l[z+2];b[Q+1]=l[z+4];v[Q+1]=l[z+5];H[Q+1]=l[z+6];b[Q+2]=l[z+8];
v[Q+2]=l[z+9];H[Q+2]=l[z+10];b[Q+3]=l[z+12];v[Q+3]=l[z+13];H[Q+3]=l[z+14];b[Q+4]=l[z+16];v[Q+4]=l[z+17];
H[Q+4]=l[z+18];b[Q+5]=l[z+20];v[Q+5]=l[z+21];H[Q+5]=l[z+22];b[Q+6]=l[z+24];v[Q+6]=l[z+25];H[Q+6]=l[z+26];
b[Q+7]=l[z+28];v[Q+7]=l[z+29];H[Q+7]=l[z+30];z+=R<<2;N+=R}return 0};$.XI.aG=function(l,t){t[0]=l[32]+l[0];
t[1]=l[33]+l[1];t[2]=l[34]+l[2];t[3]=l[35]+l[3];t[4]=l[36]+l[4];t[5]=l[37]+l[5];t[6]=l[38]+l[6];t[7]=l[39]+l[7];
t[8]=l[40]+l[8];t[9]=l[41]+l[9];t[10]=l[42]+l[10];t[11]=l[43]+l[11];t[12]=l[44]+l[12];t[13]=l[45]+l[13];
t[14]=l[46]+l[14];t[15]=l[47]+l[15];t[16]=l[48]+l[16];t[17]=l[49]+l[17];t[18]=l[50]+l[18];t[19]=l[51]+l[19];
t[20]=l[52]+l[20];t[21]=l[53]+l[21];t[22]=l[54]+l[22];t[23]=l[55]+l[23];t[24]=l[56]+l[24];t[25]=l[57]+l[25];
t[26]=l[58]+l[26];t[27]=l[59]+l[27];t[28]=l[60]+l[28];t[29]=l[61]+l[29];t[30]=l[62]+l[30];t[31]=l[63]+l[31];
t[32]=l[0]-l[32];t[33]=l[1]-l[33];t[34]=l[2]-l[34];t[35]=l[3]-l[35];t[36]=l[4]-l[36];t[37]=l[5]-l[37];
t[38]=l[6]-l[38];t[39]=l[7]-l[39];t[40]=l[8]-l[40];t[41]=l[9]-l[41];t[42]=l[10]-l[42];t[43]=l[11]-l[43];
t[44]=l[12]-l[44];t[45]=l[13]-l[45];t[46]=l[14]-l[46];t[47]=l[15]-l[47];t[48]=l[16]-l[48];t[49]=l[17]-l[49];
t[50]=l[18]-l[50];t[51]=l[19]-l[51];t[52]=l[20]-l[52];t[53]=l[21]-l[53];t[54]=l[22]-l[54];t[55]=l[23]-l[55];
t[56]=l[24]-l[56];t[57]=l[25]-l[57];t[58]=l[26]-l[58];t[59]=l[27]-l[59];t[60]=l[28]-l[60];t[61]=l[29]-l[61];
t[62]=l[30]-l[62];t[63]=l[31]-l[63];l[0]=t[16]+t[0];l[1]=t[17]+t[1];l[2]=t[18]+t[2];l[3]=t[19]+t[3];
l[4]=t[20]+t[4];l[5]=t[21]+t[5];l[6]=t[22]+t[6];l[7]=t[23]+t[7];l[8]=t[24]+t[8];l[9]=t[25]+t[9];l[10]=t[26]+t[10];
l[11]=t[27]+t[11];l[12]=t[28]+t[12];l[13]=t[29]+t[13];l[14]=t[30]+t[14];l[15]=t[31]+t[15];l[16]=t[0]-t[16];
l[17]=t[1]-t[17];l[18]=t[2]-t[18];l[19]=t[3]-t[19];l[20]=t[4]-t[20];l[21]=t[5]-t[21];l[22]=t[6]-t[22];
l[23]=t[7]-t[23];l[24]=t[8]-t[24];l[25]=t[9]-t[25];l[26]=t[10]-t[26];l[27]=t[11]-t[27];l[28]=t[12]-t[28];
l[29]=t[13]-t[29];l[30]=t[14]-t[30];l[31]=t[15]-t[31];t[0]=l[8]+l[0];t[1]=l[9]+l[1];t[2]=l[10]+l[2];
t[3]=l[11]+l[3];t[4]=l[12]+l[4];t[5]=l[13]+l[5];t[6]=l[14]+l[6];t[7]=l[15]+l[7];t[8]=l[0]-l[8];t[9]=l[1]-l[9];
t[10]=l[2]-l[10];t[11]=l[3]-l[11];t[12]=l[4]-l[12];t[13]=l[5]-l[13];t[14]=l[6]-l[14];t[15]=l[7]-l[15];
l[0]=t[4]+t[0];l[1]=t[5]+t[1];l[2]=t[6]+t[2];l[3]=t[7]+t[3];l[4]=t[0]-t[4];l[5]=t[1]-t[5];l[6]=t[2]-t[6];
l[7]=t[3]-t[7];l[8]=t[12]+t[8];l[9]=t[13]+t[9];l[10]=t[14]+t[10];l[11]=t[15]+t[11];l[12]=t[8]-t[12];
l[13]=t[9]-t[13];l[14]=t[10]-t[14];l[15]=t[11]-t[15];t[0]=l[2]+l[0];t[1]=l[3]+l[1];t[2]=l[0]-l[2];t[3]=l[1]-l[3];
t[4]=l[6]+l[4];t[5]=l[7]+l[5];t[6]=l[4]-l[6];t[7]=l[5]-l[7];t[8]=l[10]+l[8];t[9]=l[11]+l[9];t[10]=l[8]-l[10];
t[11]=l[9]-l[11];t[12]=l[14]+l[12];t[13]=l[15]+l[13];t[14]=l[12]-l[14];t[15]=l[13]-l[15];l[0]=t[1]+t[0];
l[1]=t[0]-t[1];l[2]=t[3]+t[2];l[3]=t[2]-t[3];l[4]=t[5]+t[4];l[5]=t[4]-t[5];l[6]=t[7]+t[6];l[7]=t[6]-t[7];
l[8]=t[9]+t[8];l[9]=t[8]-t[9];l[10]=t[11]+t[10];l[11]=t[10]-t[11];l[12]=t[13]+t[12];l[13]=t[12]-t[13];
l[14]=t[15]+t[14];l[15]=t[14]-t[15]};$.XI.OED=function(){var l="",t=64,a="v",k="t",R="a",u=5,b,v,H;for(b=t>>1;
b>0;b>>=1,u--){for(v=0;v<t;v++){H=(v>>u&1)!=0;if(H){l+=k+"["+v+"] = "+a+"["+(-b+v)+"] - "+a+"["+v+"];  "}else{l+=k+"["+v+"] = "+a+"["+(b+v)+"] + "+a+"["+v+"];  "}}R=a;
a=k;k=R;l+="\n"}console.log(l)};$.XI.OEa=function(l,t,a){var k=t,R=a,u=k,b=0,H,N,z;while(l>>b!=2)b++;
var v=b;for(H=l>>1;H>0;H>>=1,b--){for(N=0;N<l;N++){z=(N>>b&1)!=0;if(z)R[N]=k[-H+N]-k[N];else R[N]=k[H+N]+k[N]}u=k;
k=R;R=u}if((v&1)==1)for(H=0;H<l;H++)a[H]=k[H]};$.ED={};$.ED.Kl=function(l,t,a,k,R,u,b,v,H){var N=Date.now(),z=new Uint32Array(l.buffer),A=new Uint32Array(t.buffer),Q=b/a,S=v/k,o=1/Q,p=1/S,O=new Float64Array(2),E=3,L=1/E,U=1/(E*E),W=0,Y=0,y=a,C=k;
if(R){W=R.x;Y=R.y;y=R.$;C=R.e}for(var X=0;X<C;X++)for(var M=0;M<y;M++){var g=W+M,n=Y+X,V=n*a+g,i=V<<1,f=V<<2;
$.ED.OVa(u,b,v,(g+.5)*Q,(n+.5)*S,O);var r=O[0]*o,e=O[1]*p;if(r==0&&e==0)A[V]=z[V];else{$.U.It(g+r+.5,n+e+.5,z,a,k,A,V,H)}}};
$.ED.OVa=function(l,t,a,k,R,u){k-=.499999;R-=.499999;var b=~~k,v=~~R,H=k-b,N=R-v,z=(1-N)*(1-H),A=(1-N)*H,Q=N*(1-H),S=N*H,o=b<t-1?b+1:b,p=v<a-1?v+1:v,O=v*t+b<<1,E=v*t+o<<1,L=p*t+b<<1,U=p*t+o<<1;
u[0]=z*l[O]+A*l[E]+Q*l[L]+S*l[U];u[1]=z*l[O+1]+A*l[E+1]+Q*l[L+1]+S*l[U+1]};$.ED.aJ=new Float32Array(512);
$.ED.KP=function(l){if($.ED.aJ.length<l)$.ED.aJ=new Float32Array(l);return $.ED.aJ};$.ED.OVN=function(l,t,a,k,R){var u=1/l,b=[-1,1,-l,l],v=k.length,H=$.ED.KP(v*2);
for(var N=0;N<2;N++){for(var z=0;z<v;z++){var A=k[z],Q=A<<1,S=z<<1,o=Math.floor(A*u),p=A-l*o,O=a[Q],E=a[Q+1],L=0,U=0;
if(p!=0&&p!=l-1){var W=A-1<<1,Y=A+1<<1,y=a[W],C=a[Y],X=a[W+1],M=a[Y+1],g=O-(y+C)*.5,n=E-(X+M)*.5;L-=g*R;
U-=n*R}if(o!=0&&o!=t-1){var W=A-l<<1,Y=A+l<<1,y=a[W],C=a[Y],X=a[W+1],M=a[Y+1],g=O-(y+C)*.5,n=E-(X+M)*.5;
L-=g*R;U-=n*R}H[S]=O+L;H[S+1]=E+U}for(var z=0;z<v;z++){var Q=k[z]<<1,S=z<<1;a[Q]=H[S];a[Q+1]=H[S+1]}}};
$.ED.OOW=function(l,t,a,k,R,u,b,v,H,N,z,A,Q){var S=Math.max(0,Math.floor(R-b*v-1)),o=Math.min(t,Math.ceil(R+b*v+1)),p=Math.max(0,Math.floor(u-b-1)),O=Math.min(a,Math.ceil(u+b+1)),E=2*t,L=b*b,U=1/b,W=0,Y=$.ED.KP((o-S)*(O-p)*2);
for(var y=p;y<O;y++)for(var C=S;C<o;C++){var X=y*t+C,M=X<<1,g=(R-C)/v,n=u-y,V=g*g+n*n;if(V<L){A[W]=X;
var i=Math.sqrt(V),f=i*U,r=i==0?1:f/ i;g*=r;n*=r;var e=Math.exp(-4*f),D=.96*(1-f*f),B=N*((1-H)*e+H*D);
if(k==1){Y[W<<1]=l[M]*(1-B*.05);Y[(W<<1)+1]=l[M+1]*(1-B*.05)}else{var h=0,I=0,m,F,G,q;if(k==0){h=z.x*B;
I=z.y*B}else if(k==2){}else if(k==3){if(Q)B=-B;h=B*n;I=-B*g}else if(k==4){h=B*g;I=B*n}else if(k==5){h=-B*g;
I=-B*n}else if(k==6){if(Q)B=-B;h=z.y*B;I=-z.x*B}var j=l[M],c=l[M+1];if(C==0||C!=t-1&&h<0){m=1+l[M+2]-j;
G=l[M+3]-c}else{m=j-l[M-2]+1;G=c-l[M-1]}if(y==0||y!=a-1&&I<0){F=l[M+E]-j;q=1+l[M+E+1]-c}else{F=j-l[M-E];
q=c-l[M-E+1]+1}Y[W<<1]=-(m*h+F*I-j);Y[(W<<1)+1]=-(G*h+q*I-c)}W++}}for(var W_=0;W_<W;W_++){var M=A[W_]<<1,WU=W_<<1;
l[M]=Y[WU];l[M+1]=Y[WU+1]}};$.ED.OAX=function(l){var t=l[0],a=l[0],k=l[1],R=l[1];for(var u=0;u<l.length;
u+=2){var b=l[u],v=l[u+1];if(b<t)t=b;else if(b>a)a=b;if(v<k)k=v;else if(v>R)R=v}return[t,k,a,R]};$.ED.OEu=function(l,t){var a=[],k=Math.floor(t.length/3);
for(var R=0;R<k;R++)a.push(R);var u=$.ED.OAX(l);return $.ED.ay(l,t,a,a.length,u)};$.ED.ay=function(l,t,a,k,R){if(k<60)return a;
var u=R,b=R.slice(0),v=[],H=[],N=0,z=0,A=0;if(R[3]-R[1]>R[2]-R[0])A=1;else A=0;var Q=(R[0+A]+R[2+A])*.5;
u[2+A]=b[0+A]=Q;for(var S=0;S<k;S++){var o=a[S],p=o*3,O=l[(t[p+0]<<1)+A],E=l[(t[p+1]<<1)+A],L=l[(t[p+2]<<1)+A];
if(O<=Q||E<=Q||L<=Q){v[N++]=o}if(O>Q||E>Q||L>Q){H[z++]=o}}if(N==k||z==k||N+z>k*1.3)return a;return{axis:A,HY:Q,Hs:$.ED.ay(l,t,v,N,u),OEg:$.ED.ay(l,t,H,z,b)}};
$.ED.OEs=function(l,t,a,k,R){while(a.Hs!=null){if(a.axis==0&&k<=a.HY||a.axis==1&&R<=a.HY)a=a.Hs;else a=a.OEg}return $.ED.O$S(l,t,a,k,R)};
$.ED.OEM=function(l,t,a){return a[0]<=l&&l<=a[2]&&a[1]<=t&&t<=a[3]};$.ED.O$S=function(l,t,a,k,R){for(var u=0;
u<a.length;u++){var b=a[u],v=b*3,H=t[v+0]<<1,N=t[v+1]<<1,z=t[v+2]<<1,A=l[H+0],Q=l[H+1],S=l[N+0],o=l[N+1],p=l[z+0],O=l[z+1],E=S-A,L=o-Q,U=p-A,W=O-Q,Y=k-A,y=R-Q,C=E*W-U*L;
if(C==0)return[H>>>1,N>>>1,z>>>1,1,0,0];var X=1/C,M=(Y*W-U*y)*X,g=(E*y-Y*L)*X;if(M>=0&&g>=0&&M+g<=1)return[H>>>1,N>>>1,z>>>1,1-M-g,M,g]}return null};
$.sg={};$.sg.Kk=function(l){var t=~~(l+.5);return t<0?0:t>255?255:t};$.sg.transform=function(l,t,a){var k=$.sg.Kk,R=l.D.length;
for(var u=0;u<R;u++){var b=l.D[u],v=l.K[u],H=l.l[u];t.D[u]=k(a[0]*b+a[1]*v+a[2]*H+a[3]*255);t.K[u]=k(a[4]*b+a[5]*v+a[6]*H+a[7]*255);
t.l[u]=k(a[8]*b+a[9]*v+a[10]*H+a[11]*255)}};$.sg.O$E=function(l,t,a){var k=$.sg.Kk,R=l.length;for(var u=0;
u<R;u+=4){var b=l[u],v=l[u+1],H=l[u+2];t[u]=k(a[0]*b+a[1]*v+a[2]*H+a[3]*255);t[u+1]=k(a[4]*b+a[5]*v+a[6]*H+a[7]*255);
t[u+2]=k(a[8]*b+a[9]*v+a[10]*H+a[11]*255)}};$.sg.Oj=function(l,t,a){return[1,0,0,l,0,1,0,t,0,0,1,a,0,0,0,1]};
$.sg.AW=function(l,t,a){return[l,0,0,0,0,t,0,0,0,0,a,0,0,0,0,1]};$.sg.OWH=function(l){return[l[0],l[1],l[2],l[4],l[5],l[6],l[8],l[9],l[10]]};
$.sg.Fl=function(l){return[l[0],l[1],l[2],0,l[3],l[4],l[5],0,l[6],l[7],l[8],0,0,0,0,1]};$.sg.Ap=function(l,t){return[l[0]*t[0]+l[1]*t[1]+l[2]*t[2]+l[3]*t[3],l[4]*t[0]+l[5]*t[1]+l[6]*t[2]+l[7]*t[3],l[8]*t[0]+l[9]*t[1]+l[10]*t[2]+l[11]*t[3],l[12]*t[0]+l[13]*t[1]+l[14]*t[2]+l[15]*t[3]]};
$.sg.CC=function(l){var t=[];t[0]=l[0];t[1]=l[4];t[2]=l[8];t[3]=l[12];t[4]=l[1];t[5]=l[5];t[6]=l[9];
t[7]=l[13];t[8]=l[2];t[9]=l[6];t[10]=l[10];t[11]=l[14];t[12]=l[3];t[13]=l[7];t[14]=l[11];t[15]=l[15];
return t};$.sg.multiply=function(l,t){var a=[];a[0]=l[0]*t[0]+l[1]*t[4]+l[2]*t[8]+l[3]*t[12];a[1]=l[0]*t[1]+l[1]*t[5]+l[2]*t[9]+l[3]*t[13];
a[2]=l[0]*t[2]+l[1]*t[6]+l[2]*t[10]+l[3]*t[14];a[3]=l[0]*t[3]+l[1]*t[7]+l[2]*t[11]+l[3]*t[15];a[4]=l[4]*t[0]+l[5]*t[4]+l[6]*t[8]+l[7]*t[12];
a[5]=l[4]*t[1]+l[5]*t[5]+l[6]*t[9]+l[7]*t[13];a[6]=l[4]*t[2]+l[5]*t[6]+l[6]*t[10]+l[7]*t[14];a[7]=l[4]*t[3]+l[5]*t[7]+l[6]*t[11]+l[7]*t[15];
a[8]=l[8]*t[0]+l[9]*t[4]+l[10]*t[8]+l[11]*t[12];a[9]=l[8]*t[1]+l[9]*t[5]+l[10]*t[9]+l[11]*t[13];a[10]=l[8]*t[2]+l[9]*t[6]+l[10]*t[10]+l[11]*t[14];
a[11]=l[8]*t[3]+l[9]*t[7]+l[10]*t[11]+l[11]*t[15];a[12]=l[12]*t[0]+l[13]*t[4]+l[14]*t[8]+l[15]*t[12];
a[13]=l[12]*t[1]+l[13]*t[5]+l[14]*t[9]+l[15]*t[13];a[14]=l[12]*t[2]+l[13]*t[6]+l[14]*t[10]+l[15]*t[14];
a[15]=l[12]*t[3]+l[13]*t[7]+l[14]*t[11]+l[15]*t[15];return a};$.sg.sI=function(l){var t=[];t[0]=l[5]*l[10]*l[15]-l[5]*l[14]*l[11]-l[6]*l[9]*l[15]+l[6]*l[13]*l[11]+l[7]*l[9]*l[14]-l[7]*l[13]*l[10];
t[1]=-l[1]*l[10]*l[15]+l[1]*l[14]*l[11]+l[2]*l[9]*l[15]-l[2]*l[13]*l[11]-l[3]*l[9]*l[14]+l[3]*l[13]*l[10];
t[2]=l[1]*l[6]*l[15]-l[1]*l[14]*l[7]-l[2]*l[5]*l[15]+l[2]*l[13]*l[7]+l[3]*l[5]*l[14]-l[3]*l[13]*l[6];
t[3]=-l[1]*l[6]*l[11]+l[1]*l[10]*l[7]+l[2]*l[5]*l[11]-l[2]*l[9]*l[7]-l[3]*l[5]*l[10]+l[3]*l[9]*l[6];
t[4]=-l[4]*l[10]*l[15]+l[4]*l[14]*l[11]+l[6]*l[8]*l[15]-l[6]*l[12]*l[11]-l[7]*l[8]*l[14]+l[7]*l[12]*l[10];
t[5]=l[0]*l[10]*l[15]-l[0]*l[14]*l[11]-l[2]*l[8]*l[15]+l[2]*l[12]*l[11]+l[3]*l[8]*l[14]-l[3]*l[12]*l[10];
t[6]=-l[0]*l[6]*l[15]+l[0]*l[14]*l[7]+l[2]*l[4]*l[15]-l[2]*l[12]*l[7]-l[3]*l[4]*l[14]+l[3]*l[12]*l[6];
t[7]=l[0]*l[6]*l[11]-l[0]*l[10]*l[7]-l[2]*l[4]*l[11]+l[2]*l[8]*l[7]+l[3]*l[4]*l[10]-l[3]*l[8]*l[6];t[8]=l[4]*l[9]*l[15]-l[4]*l[13]*l[11]-l[5]*l[8]*l[15]+l[5]*l[12]*l[11]+l[7]*l[8]*l[13]-l[7]*l[12]*l[9];
t[9]=-l[0]*l[9]*l[15]+l[0]*l[13]*l[11]+l[1]*l[8]*l[15]-l[1]*l[12]*l[11]-l[3]*l[8]*l[13]+l[3]*l[12]*l[9];
t[10]=l[0]*l[5]*l[15]-l[0]*l[13]*l[7]-l[1]*l[4]*l[15]+l[1]*l[12]*l[7]+l[3]*l[4]*l[13]-l[3]*l[12]*l[5];
t[11]=-l[0]*l[5]*l[11]+l[0]*l[9]*l[7]+l[1]*l[4]*l[11]-l[1]*l[8]*l[7]-l[3]*l[4]*l[9]+l[3]*l[8]*l[5];t[12]=-l[4]*l[9]*l[14]+l[4]*l[13]*l[10]+l[5]*l[8]*l[14]-l[5]*l[12]*l[10]-l[6]*l[8]*l[13]+l[6]*l[12]*l[9];
t[13]=l[0]*l[9]*l[14]-l[0]*l[13]*l[10]-l[1]*l[8]*l[14]+l[1]*l[12]*l[10]+l[2]*l[8]*l[13]-l[2]*l[12]*l[9];
t[14]=-l[0]*l[5]*l[14]+l[0]*l[13]*l[6]+l[1]*l[4]*l[14]-l[1]*l[12]*l[6]-l[2]*l[4]*l[13]+l[2]*l[12]*l[5];
t[15]=l[0]*l[5]*l[10]-l[0]*l[9]*l[6]-l[1]*l[4]*l[10]+l[1]*l[8]*l[6]+l[2]*l[4]*l[9]-l[2]*l[8]*l[5];var a=l[0]*t[0]+l[1]*t[4]+l[2]*t[8]+l[3]*t[12];
for(var k=0;k<16;k++)t[k]/=a;return t};$.sg.CY=function(l){var t=[],a=l[5]*l[10]*l[15]-l[5]*l[14]*l[11]-l[6]*l[9]*l[15]+l[6]*l[13]*l[11]+l[7]*l[9]*l[14]-l[7]*l[13]*l[10],k=-l[4]*l[10]*l[15]+l[4]*l[14]*l[11]+l[6]*l[8]*l[15]-l[6]*l[12]*l[11]-l[7]*l[8]*l[14]+l[7]*l[12]*l[10],R=l[4]*l[9]*l[15]-l[4]*l[13]*l[11]-l[5]*l[8]*l[15]+l[5]*l[12]*l[11]+l[7]*l[8]*l[13]-l[7]*l[12]*l[9],u=-l[4]*l[9]*l[14]+l[4]*l[13]*l[10]+l[5]*l[8]*l[14]-l[5]*l[12]*l[10]-l[6]*l[8]*l[13]+l[6]*l[12]*l[9];
return l[0]*a+l[1]*k+l[2]*R+l[3]*u};$.sg.aN=$.sg.Fl([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
$.nK={};$.nK.Kb=new Uint32Array(1);$.nK.Kz=function(l,t,a,k,R,u){var b=new Uint32Array(l),v=0,H=$.nK.Kb;
if(H.length<t*4)$.nK.Kb=H=new Uint32Array(t*4);var N=new Float64Array(H.buffer);for(var z=0;z<t;z+=2){var A=R[z],Q=R[z+1],S=u[z],o=u[z+1];
H[v]=Q;N[v+2>>1]=S;H[v+1]=b[A];b[A]=v+1;v+=4;H[v]=A;N[v+2>>1]=o;H[v+1]=b[Q];b[Q]=v+1;v+=4}return{EK:H,HM:N,HL:b}};
$.nK.Aw=function(l,t,a,k,R,u,b){var v=1,H=$.nK.Kz(l,t,a,k,R,u),N=H.EK,z=H.HM,A=H.HL,Q=new Uint32Array(l),S=new $.nK.uA(l),p=1,W=0;
S.push(a);S.push(k);var o=new $.nK.uA(l),O=new Uint8Array(l),E=new Uint32Array(l);O[a]=1;O[k]=2;var L=new Uint32Array(l),U=new Uint32Array(l);
U[a]=U[k]=0;L[a]=L[k]=1;while(!0){var Y=-1,i=0,B=1e30;while(!S.vV()&&Y==-1){var C=S.top(),X=O[C],M=A[C]-1;
while(M!=-1){var g=N[M],n=O[g],V=M^X-1<<2;if(z[V+2>>1]!=0){if(n==0){$.nK.uO(C,M,g,O,E,U,L);S.push(g)}else if(n==X&&L[g]<=L[C]&&U[g]>U[C])$.nK.uO(C,M,g,O,E,U,L);
else if(n!=X){Y=V}}M=N[M+1]-1}if(Y!=-1)break;S.pop()}if(Y==-1){break}p++;var f=Y;while(f!=-1){Q[i]=f;
i++;f=E[N[f^4]]-1}var r=i>>1;for(var e=0;e<r;e++){var D=Q[e];Q[e]=Q[i-e-1];Q[i-e-1]=D}f=E[N[Y]]-1;while(f!=-1){Q[i]=f^4;
i++;f=E[N[f^4]]-1}for(var e=0;e<i;e++)B=Math.min(B,z[Q[e]+2>>1]);W+=B;if(W>=b)return{Zr:null,YJ:W};for(var e=0;
e<i;e++){var h=Q[e],I=h^4,C=N[I],g=N[h];z[h+2>>1]-=B;z[I+2>>1]+=B;if(z[h+2>>1]==0&&O[C]==O[g]){if(O[C]==1){E[g]=0;
o.push(g)}if(O[C]==2){E[C]=0;o.push(C)}}}while(!o.vV()){var C=o.pop(),X=O[C],M=A[C]-1,j=X==1?4:0,c=0,m=0,F=1e9;
while(M!=-1){var g=N[M],G=M^4,V=M^j;if(O[g]==X&&z[V+2>>1]>0&&$.nK.OWa(g,a,k,E,N,p,L,U)+1<F){c=g;m=G;
F=U[g]+1}M=N[M+1]-1}if(m!=0){$.nK.uO(c,m,C,O,E,U,L);continue}M=A[C]-1;while(M!=-1){var g=N[M],V=M^j;
if(O[g]==X){if(z[V+2>>1]>0){S.push(g)}if(E[g]==M+1){E[g]=0;o.push(g)}}M=N[M+1]-1}O[C]=0;S.remove(C)}}var q=[];
for(var e=0;e<t;e+=2){var C=R[e],g=R[e+1];if(O[C]==1&&O[g]!=1){q.push(e>>1)}if(O[g]==1&&O[C]!=1){q.push(t+e>>1)}}return{Zr:q,YJ:W}};
$.nK.uO=function(l,t,a,k,R,u,b){k[a]=k[l];R[a]=t+1;u[a]=u[l]+1;b[a]=b[l]};$.nK.OWa=function(l,t,a,k,R,u,b,v){var H=l,N=k[l]-1,z=0;
while(N!=-1&&b[l]!=u){l=R[N^4];N=k[l]-1;z++}if(N==-1&&l!=t&&l!=a)return 1e9;var A=v[l]+z;z=0;N=k[H]-1;
while(H!=l){v[H]=A-z;z++;b[H]=u;H=R[N^4];N=k[H]-1}return A};$.nK.OEo=function(l,t,a,k,R,u){var b=$.nK.Kz(l,t,a,k,R,u),v=b.EK,H=b.HM,N=b.HL,z=0,A=0,Q=new Uint32Array(l*2),S=new $.nK.KS(l),o=0;
while(!0){S.reset();S.push(a);for(var p=0;p<l;p++)Q[p<<1]=0;while(!S.vV()){var O=S.pop(),E=N[O]-1;while(E!=-1){o=v[E];
if(Q[o<<1]==0&&H[E+2>>1]>0&&o!=a){Q[o<<1]=O+1;Q[(o<<1)+1]=E;S.push(o)}E=v[E+1]-1}if(Q[k<<1]!=0){break}}if(Q[k<<1]==0){break}var L=1e30;
o=k;while(!0){var U=Q[o<<1]-1;if(U==-1)break;var W=Q[(o<<1)+1];L=Math.min(L,H[W+2>>1]);o=U}o=k;while(!0){var U=Q[o<<1]-1;
if(U==-1)break;var W=Q[(o<<1)+1],Y=W^4;H[W+2>>1]-=L;H[Y+2>>1]+=L;o=U}z+=L}var C=[];for(var p=0;p<t;p+=2){var U=R[p],o=R[p+1];
if((Q[U<<1]!=0||U==a)&&Q[o<<1]==0&&o!=a){C.push(p>>1)}if((Q[o<<1]!=0||o==a)&&Q[U<<1]==0&&U!=a){C.push(t+p>>1)}}return{Zr:C,YJ:z}};
$.nK.KS=function(l){l|=l>>1;l|=l>>2;l|=l>>4;l|=l>>8;l|=l>>16;this.gI=new Uint32Array(l+1);this.JG=l;
this.T_=0;this.Tq=0};$.nK.KS.prototype={push:function(l){var t=this.Tq;this.gI[t]=l;this.Tq=t+1&this.JG},pop:function(){var l=this.T_,t=this.gI[l];
this.T_=l+1&this.JG;return t},vV:function(){return this.T_==this.Tq},reset:function(){this.T_=0;this.Tq=0}};
$.nK.uA=function(l){l|=l>>1;l|=l>>2;l|=l>>4;l|=l>>8;l|=l>>16;this.gI=new Uint32Array(l+1);this.ZZ=new Uint32Array(l+1);
this.JG=l;this.T_=0;this.Tq=0};$.nK.uA.prototype={top:function(){return this.gI[this.T_]},OEy:function(){return this.gI[this.Tq]},push:function(l){if(this.ZZ[l]!=0)return;
this.ZZ[l]=this.Tq+1;var t=this.Tq;this.gI[t]=l;this.Tq=t+1&this.JG},pop:function(){var l=this.T_,t=this.gI[l];
this.ZZ[t]=0;this.T_=l+1&this.JG;return t},vV:function(){return this.T_==this.Tq},remove:function(l){var t=this.ZZ[l]-1;
if(t==-1)return;this.ZZ[l]=0;if(t==this.T_){this.pop();return}var a=this.pop();this.gI[t]=a;this.ZZ[a]=t+1},tf:function(l){return l+this.JG+1&this.JG}};
$.nK.KU=function(l,t,a){var k=$.nK.aq(l,t,a);if(t<k-1)$.nK.KU(l,t,k-1);if(k<a)$.nK.KU(l,k,a)};$.nK.aq=function(l,t,a){var k=l[t+a>>>1];
while(t<=a){while(l[t]<k)t++;while(l[a]>k)a--;if(t<=a){$.nK.aZ(l,t,a);t++;a--}}return t};$.nK.aZ=function(l,t,a){var k=l[t];
l[t]=l[a];l[a]=k};$.$F={};$.$F.OWu=function(l){for(var t=0;t<l.length;t++)$.$F.vf(l,t)};$.$F.vf=function(l,t){l[t].v.keyShapeInvalidated={t:"bool",v:!0}};
$.$F.OHO=function(l){for(var t=0;t<l.length;t++)l[t].v.keyOriginIndex.v=t};$.$F.kY=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
$.$F.ni=function(l,t,a){var k=$.$F.kY(),R=k.v;delete R.keyShapeInvalidated;var u={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
R.keyOriginType={t:"long",v:l};R.keyOriginResolution={t:"doub",v:75};R.keyOriginShapeBBox={t:"Objc",v:u};
$.$F.uz(R,t);if(a!=null){var b={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};R.keyOriginRRectRadii={t:"Objc",v:b};
$.$F.um(R,a)}return k};$.$F.N=function(l,t,a,k){var R=$.U.EM(t),u=$.U.Es(t),b=Math.max(Math.abs(t[0]),Math.abs(t[1])),v=Math.max(Math.abs(t[3]),Math.abs(t[4]));
for(var H=0;H<l.length;H++){var N=l[H].v,z=N.keyShapeInvalidated;if(z&&z.v)continue;if(a.length!=0&&a.indexOf(H)==-1)continue;
var A=N.keyOriginType.v;if(!R||!u||k&&A==2&&Math.abs(1-b/v)>.01){$.$F.vf(l,H);continue}var Q=$.$F.vm(N);
$.U.apply(t,Q);$.$F.uz(N,[Math.min(Q[0],Q[2]),Math.min(Q[1],Q[3]),Math.max(Q[0],Q[2]),Math.max(Q[1],Q[3])]);
if(A==2){var S=$.$F.u_(N),o=new WM(t[0],t[1],t[3],t[4],0,0);o.fN();if(o.w==0){S.push(S.shift());o.rotate(Math.PI/2);
o.fN()}if(o.w<0){var p=S[0];S[0]=S[1];S[1]=p;p=S[2];S[2]=S[3];S[3]=p}if(o.N_<0){var p=S[0];S[0]=S[3];
S[3]=p;p=S[1];S[1]=S[2];S[2]=p}if(k)for(var O=0;O<4;O++)S[O]=S[O]*b;$.$F.um(N,S)}if(A==4){N.keyOriginLineWeight.v*=b;
var E=$.$F.KE(N);$.U.apply(t,E);$.$F.OgF(N,E)}}};$.$F.uI=function(l,t){var a=t.k;for(var k=0;k<l.length;
k++){var R=l[k].v,u=R.keyShapeInvalidated,Q;if(u&&u.v)continue;var b=R.keyOriginType.v,v=$.$F.vm(R),H=v[0],N=v[1],z=v[2],A=v[3];
if(b==1)Q=$.r.Wa.Rect(H,N,z-H,A-N,0);else if(b==2){var S=$.$F.u_(R);Q=$.r.Wa.Rect(H,N,z-H,A-N,S)}else if(b==4){var o=$.$F.KE(R);
Q=$.r.Wa.kK(o[0],o[1],o[2],o[3],R.keyOriginLineWeight.v)}else if(b==5)Q=$.r.Wa.ie(H,N,z-H,A-N);var p=$.r.jQ(a,k),O=$.r._U(a,k);
Q[2].mZ=a[p].mZ;var E=a;a=a.slice(0,p);for(var L=2;L<Q.length;L++)a.push(Q[L]);for(var L=p+O;L<E.length;
L++)a.push(E[L])}t.k=a;t.wU=!0};$.$F.DY=function(l){var t=1e9,a=-t,k=1e9,R=-k,u=null;for(var b=0;b<l._.length;
b++){var v=l.Q[l._[b]],H=v.add.vogk;if(H==null)continue;var N=v.add.vmsk._;for(var z=0;z<H.length;z++){var A=H[z].v,Q=A.keyShapeInvalidated;
if(Q&&Q.v)continue;if(l._.length==1&&N.length!=0&&N.indexOf(z)==-1)continue;var S=A.keyOriginType.v;
if(S!=4){var o=$.$F.vm(A);t=Math.min(t,o[0]);k=Math.min(k,o[1]);a=Math.max(a,o[2]);R=Math.max(R,o[3])}if(S==2&&u==null){u=$.$F.u_(A)}}}return[t<a?[t,k,a,R]:null,u]};
$.$F.OHW=function(l,t,a){var k=$.$F.DY(l)[0],R;if(k){var u=new WM;u.translate(-k[0],-k[1]);u.scale(1/(k[2]-k[0]),1/(k[3]-k[1]));
u.scale(t[2]-t[0],t[3]-t[1]);u.translate(t[0],t[1]);R=$.U.tU(u)}for(var b=0;b<l._.length;b++){var v=l.Q[l._[b]],H=v.add.vogk;
if(H==null)continue;var N=v.add.vmsk._;for(var z=0;z<H.length;z++){var A=H[z].v,Q=A.keyShapeInvalidated;
if(Q&&Q.v)continue;if(l._.length==1&&N.length!=0&&N.indexOf(z)==-1)continue;var S=A.keyOriginType.v;
if(S!=4&&t[0]!=null){var t=$.$F.vm(A);$.U.apply(R,t);$.$F.uz(A,t)}if(S==2&&a!=null){$.$F.um(A,a)}}}};
$.$F.vm=function(l){var t=l.keyOriginShapeBBox.v,a=t.Left.v.val,k=t.Rght.v.val,R=t.Top.v.val,u=t.Btom.v.val;
return[a,R,k,u]};$.$F.uz=function(l,t){$.$F.Av(l.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],t)};
$.$F.u_=function(l){var t=[],a=["topLeft","topRight","bottomRight","bottomLeft"];for(var k=0;k<4;k++)t.push(l.keyOriginRRectRadii.v[a[k]].v.val);
return t};$.$F.um=function(l,t){$.$F.Av(l.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],t)};
$.$F.Av=function(l,t,a){for(var k=0;k<4;k++)if(a[k]!=null)l[t[k]]={t:"UntF",v:{type:"#Pxl",val:a[k]}}};
$.$F.KE=function(l){var t=l.keyOriginLineStart.v,a=l.keyOriginLineEnd.v;return[t.Hrzn.v,t.Vrtc.v,a.Hrzn.v,a.Vrtc.v]};
$.$F.OgF=function(l,t){var a=l.keyOriginLineStart.v,k=l.keyOriginLineEnd.v;a.Hrzn.v=t[0];a.Vrtc.v=t[1];
k.Hrzn.v=t[2];k.Vrtc.v=t[3]};$.M={};$.M.clone=function(l){return{A:l.A.slice(0),p:l.p.slice(0)}};$.M.KK=function(l){if(l.length<6)return!0;
var t=l.length-4;for(var a=0;a<t;a+=2)if(!$.M.uF(l[a],l[a+1],l[a+2],l[a+3],l[a+4],l[a+5]))return!1;if(!$.M.uF(l[t],l[t+1],l[t+2],l[t+3],l[0],l[1]))return!1;
if(!$.M.uF(l[t+2],l[t+3],l[0],l[1],l[2],l[3]))return!1;return!0};$.M.uF=function(l,t,a,k,R,u){return(t-k)*(R-a)+(a-l)*(u-k)>=0};
$.M.Oia=function(l){var t={},a=null,k=0,R={M:2,L:2,Q:4,C:6};for(var u=0;u<l.A.length;u++){var b=l.A[u];
if(b.charAt(0)=="#"){if(t[b]==null)t[b]={p:[],A:[]};a=t[b]}else if(b!="X"){a.A.push(b);var v=R[b];if(v==null)v=0;
for(var H=0;H<v;H++)a.p.push(l.p[k+H]);k+=v}}return t};$.M.il=function(l,t){l=$.M.$H(l);var a=l.p,k=l.A,R=0,u=[],b=null;
for(var v=0;v<k.length;v++){var H=k[v];if(H=="M"){b={lb:R,gC:0,lz:!1};u.push(b);R+=2}if(H=="C"){b.gC++;
R+=6}if(H=="Z"){b.lz=!0}}var N=[];for(var v=0;v<u.length;v++)if(u[v].gC!=0)N.push(u[v]);u=N;for(var v=0;
v<u.length;v++){var z=u[v],A=z.lb,Q=A+2+z.gC*6,o=0;z._Y=$.M._f(a,A,Q);var S=a[A]==a[Q-2]&&a[A+1]==a[Q-1];
for(var p=0;p<z.gC;p++){var O=A+p*6,E=O+6;o+=(a[E]-a[O])*(a[E+1]+a[O+1])}if(!S)o+=(a[A]-a[Q-2])*(a[A+1]+a[Q-1]);
z.ld=o<=0}for(var v=0;v<u.length-1;v++)for(var O=v+1;O<u.length;O++){var L=u[v],U=u[O];if(U._Y.rI(L._Y)){u[v]=U;
u[O]=L}}var W=u.length==0?!0:u[0].ld,Y=[{type:6},{type:8,all:0}];for(var v=0;v<u.length;v++){var z=u[v],A=z.lb,Q=A+2+z.gC*6,S=a[A]==a[Q-2]&&a[A+1]==a[Q-1],y=z.lz||S?0:3;
Y.push({type:y,length:z.gC+(S?0:1),mZ:z.ld==W&&!t?1:0,rc:2});for(var O=0;O<z.gC;O++){var R=A+O*6,C=new x(a[R],a[R+1]),X=new x(a[R+2],a[R+3]),M;
if(O==0){if(S)M=new x(a[Q-4],a[Q-3]);else M=C.clone()}else M=new x(a[R-2],a[R-1]);Y.push({type:y+2,re:M,S:C,Fx:X})}if(!S){var g=new x(a[Q-2],a[Q-1]);
Y.push({type:y+2,re:new x(a[Q-4],a[Q-3]),S:g,Fx:g.clone()})}}for(var O=0;O<Y.length;O++){var n=Y[O];
if(n.type>5||n.type==0||n.type==3)continue;var V=n.re.cG(n.S)||n.Fx.cG(n.Fx);if(!V){var L=n.re.x*(n.S.y-n.Fx.y)+n.S.x*(n.Fx.y-n.re.y)+n.Fx.x*(n.re.y-n.S.y);
if(Math.abs(L)<1e-6)V=!0}if(V)n.type--}return Y};$.M.FQ=function(l){var t={p:[],A:[]};for(var a=0;a<l.length;
a++){if(l[a].type>5)continue;var k=l[a].length;if(k==0)continue;if(a==l.length-1)break;var R=l[a].type==3;
$.M.OPD(t,l,a+1,k,R);if(!R)t.A.push("Z");a+=k}return t};$.M.OPD=function(l,t,a,k,R){var u=t[a],b=null;
l.p.push(u.S.x,u.S.y);l.A.push("M");for(var v=a;v<a+k-1;v++){u=t[v];b=t[v+1];if(u.Fx.cG(u.S)&&b.re.cG(b.S)){l.p.push(b.S.x,b.S.y);
l.A.push("L")}else{l.p.push(u.Fx.x,u.Fx.y,b.re.x,b.re.y,b.S.x,b.S.y);l.A.push("C")}}if(!R){u=t[v];b=t[a];
if(u.Fx.cG(u.S)&&b.re.cG(b.S)){l.p.push(b.S.x,b.S.y);l.A.push("L")}else{l.p.push(u.Fx.x,u.Fx.y,b.re.x,b.re.y,b.S.x,b.S.y);
l.A.push("C")}}};$.M.OEv=function(l){var t=l.p,a=[],k,R=0;for(var u=0;u<l.A.length;u++){var b=l.A[u];
if(b=="C"){k.push(t[R++],t[R++],t[R++],t[R++],t[R++],t[R++])}else if(b=="Z"){}else{k=[];if(b!="M"){k.push(b);
u++}k.push(t[R++],t[R++]);a.push(k)}}return a};$.M.uq=function(l,t,a,k){for(var R=0;R<l.length;R+=2){var u=l[R],b=l[R+1],v=t[R],H=t[R+1];
a[R]=u+(v-u)*k;a[R+1]=b+(H-b)*k}};$.M.N=function(l,t,a){for(var k=0;k<l.length;k+=2){var R=l[k],u=l[k+1];
a[k]=R*t.w+u*t.Mn+t.Pu;a[k+1]=R*t.l+u*t.N_+t.wf}};$.M._f=function(l,t,a){if(t==null)t=0;if(a==null)a=l.length;
var k=99999999999,R=-k,u=99999999999,b=-u;for(var v=t;v<a;v+=2){var H=l[v],N=l[v+1];k=Math.min(k,H);
u=Math.min(u,N);R=Math.max(R,H);b=Math.max(b,N)}return new d(k,u,R-k,b-u)};$.M.K_=function(l,t){var a=Math.max(t.x,Math.min(t.x+t.$,l.x)),k=Math.max(t.y,Math.min(t.y+t.e,l.y)),R=l.x-a,u=l.y-k;
return Math.sqrt(R*R+u*u)};$.M.jW=function(l){if(l.wp())return new d(Math.floor(l.x),Math.floor(l.y),Math.ceil(l.$),Math.ceil(l.e));
var t=Math.floor(l.x),a=Math.ceil(l.x+l.$),k=Math.floor(l.y),R=Math.ceil(l.y+l.e);return new d(t,k,a-t,R-k)};
$.M.ju=function(l){return $.M.jW($.M._f(l))};$.M.Gf=function(l){var t=l.x,a=l.y,k=l.x+l.$,R=l.y+l.e;
return{A:["M","L","L","L","L"],p:[t,a,k,a,k,R,t,R,t,a]}};$.M.concat=function(l,t,a){if(a==null)a=new WM;
for(var k=0;k<t.p.length;k+=2){var R=t.p[k],u=t.p[k+1];l.p.push(R*a.w+u*a.Mn+a.Pu);l.p.push(R*a.l+u*a.N_+a.wf)}for(var k=0;
k<t.A.length;k++)l.A.push(t.A[k])};$.M.$H=function(l){var t=l.p,a=[],k=[],R=0,u=0,b=0,v=0,H=0,N=0,z=0,A=0,Q=0;
for(var S=0;S<l.A.length;S++){var o=l.A[S];if(o=="M"){u=t[R];b=t[R+1];R+=2;k.push(o);a.push(u,b)}else if(o=="C"){v=t[R];
H=t[R+1];N=t[R+2];z=t[R+3];A=t[R+4];Q=t[R+5];R+=6;k.push(o);a.push(v,H,N,z,A,Q);u=A;b=Q}else if(o=="Q"){v=t[R];
H=t[R+1];N=t[R+2];z=t[R+3];R+=4;var p=v-u,O=H-b,E=N-v,L=z-H;k.push("C");a.push(u+2/3*p,b+2/3*O,v+1/3*E,H+1/3*L,N,z);
u=N;b=z}else if(o=="L"){v=t[R];H=t[R+1];R+=2;var U=v-u,W=H-b;k.push("C");a.push(u,b,v,H,v,H);u=v;b=H}else k.push(o)}return{A:k,p:a}};
$.M.$z=function(l,t){var a=l.p,k=[],R=[],u=0,b=0,v=0,H=0,N=0,z=0,A=0,Q=0,S=0;for(var o=0;o<l.A.length;
o++){var p=l.A[o];if(p=="M"){b=a[u];v=a[u+1];u+=2;R.push(p);k.push(b,v)}else if(p=="C"){H=a[u];N=a[u+1];
z=a[u+2];A=a[u+3];Q=a[u+4];S=a[u+5];u+=6;$.M.ua(b,v,H,N,z,A,Q,S,t,R,k,0);b=Q;v=S}else R.push(p)}return{A:R,p:k}};
$.M.ua=function(l,t,a,k,R,u,b,v,H,N,z,A){var Q=Math.sqrt((b-l)*(b-l)+(v-t)*(v-t)),S=Math.sqrt((b-R)*(b-R)+(v-u)*(v-u))+Math.sqrt((R-a)*(R-a)+(u-k)*(u-k))+Math.sqrt((a-l)*(a-l)+(k-t)*(k-t)),o=(Q+S)/2;
if(o<=H){N.push("C");z.push(a,k,R,u,b,v)}else{var p=0,O=0,E=0,L=0,U=0,W=0,Y=0,y=0,C=0,X=0,M=0,g=0,n=0;
O=(l+a)/2;E=(t+k)/2;L=(a+R)/2;U=(k+u)/2;W=(R+b)/2;Y=(u+v)/2;y=(O+L)/2;C=(E+U)/2;X=(L+W)/2;M=(U+Y)/2;
g=(y+X)/2;n=(C+M)/2;$.M.ua(l,t,O,E,y,C,g,n,H,N,z,A+1);$.M.ua(g,n,X,M,W,Y,b,v,H,N,z,A+1)}};$.M.Okd=function(l,t){var a=t.slice(0),k=l.length/2,R=.553,u=[],b=[];
for(var v=0;v<k;v++){var H=(v+1)%k,N=l[2*v]-l[2*H],z=l[2*v+1]-l[2*H+1];b.push(Math.sqrt(N*N+z*z))}for(var v=0;
v<k;v++){var A=(v-1+k)%k,H=(v+1)%k,Q=t[v],S=Q+t[A],o=Q+t[H];if(S!=0)a[v]=Math.min(a[v],b[A]*Q/S);if(o!=0)a[v]=Math.min(a[v],b[v]*Q/o)}for(var v=0;
v<k;v++){var H=(v+1)%k,p=(v+2)%k,O=a[v],E=a[H],L=l[2*v],U=l[2*v+1],W=l[2*H],Y=l[2*H+1],y=l[2*p],C=l[2*p+1],X=0,M=0,g=0,n=0;
if(b[v]!=0){X=(W-L)/b[v];M=(Y-U)/b[v]}if(b[H]!=0){g=(y-W)/b[H];n=(C-Y)/b[H]}u.push(L+O*X,U+O*M,L+O*X,U+O*M,W-E*X,Y-E*M);
u.push(W-E*X,Y-E*M,W-E*X*(1-R),Y-E*M*(1-R),W+E*g*(1-R),Y+E*n*(1-R))}return u};$.kw=function(){};$.kw.kw=function(l,t,a){var k=l,R=t,u=a,b=1;
while(l.s()>110*110){var v=$.I(l.s()*4);$.xm(a,v,3);var H=$.wu(v,l),N=$.wu(t,l);l=N.rect;t=N.nr;a=$.I(l.s());
$.Du(H.nr,a,3);b*=2}var z=Date.now(),A=$.kw.Kr(l,t,a);if(b!=1){var z=Date.now(),Q=$.I(l.s()*4);$.xm(A,Q,3);
var S=s.b.tS([Q,l],new WM(k.$/l.$,0,0,k.e/l.e,0,0),!1);S.rect.x=k.x;S.rect.y=k.y;A=$.I(k.s());$.Gs(S.buffer,S.rect,A,k);
var z=Date.now();A=$.kw.Kr(k,R,A)}return A};$.kw.Kr=function(l,t,a){var k=l.$,R=l.e,u=l.$*l.e,b=new Uint8Array(u),v=new Uint8Array(u),H=$.clone(t),N=$.clone(t),A,Q,W=0,Y=0,h=0;
for(var z=0;z<u;z++){if(a[z]==0){b[z]=0;v[z]=0;N[(z<<2)+3]=0}else if(a[z]==255){b[z]=1;v[z]=2;H[(z<<2)+3]=0}else{b[z]=0;
v[z]=1;N[(z<<2)+3]=0}}for(var S=0;S<2;S++){var o=S==0?H:N,p=[],O=$.clone(o);for(var z=0;z<O.length;z+=4)if(O[z+3]==0){O[z]=O[z+1]=O[z+2]=0}var E=UPNG.quantize(O.buffer,6).plte;
for(var z=1;z<E.length;z++){var L=E[z].est;p.push({Dr:L.q,fj:[0,0,0,0],YR:0,Ic:null,EZ:null,Dd:0,CY:0,lx:null})}if(S==0)Q=p;
else A=p}var U=new Float32Array(k*R*2);for(var y=0;y<R;y++)for(var C=0;C<k;C++){var z=y*k+C,X=z<<2,M=0,g=0,n=0,V=0;
if(C!=k-1){var S=z+1,i=S<<2;M=t[X]-t[i];g=t[X+1]-t[i+1];n=t[X+2]-t[i+2];V=M*M+g*g+n*n;U[z+z]=V;W+=V;
Y++}if(y!=R-1){var f=z+k,r=f<<2;M=t[X]-t[r];g=t[X+1]-t[r+1];n=t[X+2]-t[r+2];V=M*M+g*g+n*n;U[z+z+1]=V;
W+=V;Y++}}var e=W/Y;for(var z=0;z<U.length;z++)U[z]=50*Math.exp(-.001*U[z]);var D=new Uint16Array(u),B=new Uint16Array(u),I=Date.now();
while(!0){h++;if(A.length==0||Q.length==0)break;$.kw.OkZ(A,Q,B,D,t,b);if(A.length==0||Q.length==0)break;
var j=[],c=[],Y=0,m=Date.now(),WL=0,Wj=0;for(var y=0;y<R;y++)for(var C=0;C<k;C++){var z=y*k+C,X=z<<2,F=b[z],G=v[z];
if((G==0||G==2)&&(C==0||v[z-1]==G)&&(C==k-1||v[z+1]==G)&&(y==0||v[z-k]==G)&&(y==R-1||v[z+k]==G))continue;
if(C!=k-1){j.push(z,z+1);c.push(U[z+z],U[z+z])}if(y!=R-1){j.push(z,z+k);c.push(U[z+z+1],U[z+z+1])}var l=t[X]*(1/255),q=t[X+1]*(1/255),W_=t[X+2]*(1/255),WU=$.kw.Km(Q,D[z],l,q,W_),Wd=$.kw.Km(A,B[z],l,q,W_);
if(isNaN(WU))throw"a";if(isNaN(Wd))throw"b";if(G==0){WU=0;Wd=1e9}if(G==2){WU=1e9;Wd=0}j.push(u,z);c.push(WU,0);
j.push(z,u+1);c.push(Wd,0)}var WZ=$.nK.Aw(u+2,j.length,u,u+1,j,c,1e20);if(WZ.Zr==null){console.log("no cut");
break}for(var z=0;z<WZ.Zr.length;z++){var Or=WZ.Zr[z]<<1,Wu=0,WE=0,Wf=0;if(Or<j.length){Wu=j[Or];WE=j[Or+1];
Wf=c[Or]}else{WE=j[Or];Wu=j[Or+1];Wf=c[Or+1]}if(Wu==u&&b[WE]!=0){WL++;b[WE]=0}if(WE==u+1&&b[Wu]!=1){Wj++;
b[Wu]=1}}if(WL+Wj<=.02*u||h>5||Date.now()-I>500)break}var WS=$.I(u*4),Wx=$.I(u);for(var z=0;z<t.length;
z+=4){if(b[z>>2]==0)continue;WS[z]=t[z];WS[z+1]=t[z+1];WS[z+2]=t[z+2];WS[z+3]=t[z+3];Wx[z>>2]=255}return Wx};
$.kw.Km=function(l,t,a,k,R){var u=0,b=l[t],v=a-b.Dr[0],H=k-b.Dr[1],N=R-b.Dr[2];if(b.YR==0||b.CY<1e-20)u+=.99;
else{u+=b.Dd*(1/Math.sqrt(b.CY))*Math.exp(-.5*$.kw.Okq(v,H,N,b.lx))}var z=u>=1?0:-Math.log(u);if(isNaN(z)){console.log(u);
console.log(b);console.log(l);console.log(b.CY,Math.sqrt(b.CY),1/Math.sqrt(b.CY));throw"e"}return z};
$.kw.OkZ=function(l,t,a,k,R,u){for(var b=0;b<2;b++){var v=b==0?t:l;for(var H=0;H<v.length;H++){var N=v[H];
N.YR=0;N.fj=[0,0,0,0];N.EZ=[0,0,0,0,0,0,0,0,0]}}for(var H=0;H<R.length;H+=4){var z=R[H]*(1/255),A=R[H+1]*(1/255),Q=R[H+2]*(1/255),v,S;
k[H>>2]=$.kw.KF(t,z,A,Q);a[H>>2]=$.kw.KF(l,z,A,Q);if(u[H>>2]==0){v=t;S=k[H>>2]}else{v=l;S=a[H>>2]}var N=v[S],o=N.EZ,p=N.Dr;
N.YR++;var O=z-p[0],E=A-p[1],L=Q-p[2];N.fj[0]+=z;N.fj[1]+=A;N.fj[2]+=Q;o[0]+=O*O;o[1]+=O*E;o[2]+=O*L;
o[3]+=E*O;o[4]+=E*E;o[5]+=E*L;o[6]+=L*O;o[7]+=L*E;o[8]+=L*L}for(var b=0;b<2;b++){var v=b==0?l:t,U=0;
for(var H=0;H<v.length;H++)U+=v[H].YR;if(U==0)continue;for(var H=0;H<v.length;H++){var N=v[H],W=1/N.YR,Y=N.Ic=[];
N.Dr=[N.fj[0]*W,N.fj[1]*W,N.fj[2]*W];N.Dd=N.YR/U;var O=N.fj[0],E=N.fj[1],L=N.fj[2],y=[O*O,O*E,O*L,E*O,E*E,E*L,L*O,L*E,L*L],C=[];
for(var X=0;X<9;X++)C[X]=N.EZ[X]-y[X]*W;for(var X=0;X<9;X++)Y[X]=N.EZ[X]*W;var M=$.sg.Fl(Y);N.CY=$.sg.CY(M);
N.lx=$.sg.OWH($.sg.sI(M))}}};$.kw.KF=function(l,t,a,k){var R=0,u=1e9;for(var b=0;b<l.length;b++){var v=l[b].Dr,H=t-v[0],N=a-v[1],z=k-v[2],A=H*H+N*N+z*z;
if(A<u){u=A;R=b}}return R};$.kw.Okq=function(l,t,a,k){var R=l*k[0]+t*k[3]+a*k[6],u=l*k[1]+t*k[4]+a*k[7],b=l*k[2]+t*k[5]+a*k[8];
return R*l+u*t+b*a};$.uY=function(){};$.uY.hw=function(l,t,a,k,R){var u=a.$,b=a.e,v=u*b,H=new Int32Array(v),N=0;
for(var z=0;z<v;z++)if(t[z]!=0){H[z]=N;N++}else if(l[(z<<2)+3]<200){H[z]=-2}else H[z]=-1;if(N==0)return;
var A=new $.$N(N,N),Q=new Float64Array(3*N),S=1/255,o=[-u,-1,1,u],p=[],O=[];for(var E=0;E<b;E++)for(var L=0;
L<u;L++){var U=E*u+L,W=U<<2,z=H[U],Y=z*3,y=0,C=0,X=0;if(z==-1||z==-2)continue;for(var M=0;M<4;M++){if(M==2){C=X;
p[X]=0;O[X]=z;X++}var g=U+o[M],n=g<<2,V=H[g];if(M==0&&E==0||M==1&&L==0||M==2&&L==u-1||M==3&&E==b-1||V==-2)continue;
y++;if(V==-1){Q[Y+0]+=l[n+0];Q[Y+1]+=l[n+1];Q[Y+2]+=l[n+2]}else{p[X]=-1;O[X]=V;X++;if(t[U]==t[g]){Q[Y+0]+=l[W+0]-l[n+0];
Q[Y+1]+=l[W+1]-l[n+1];Q[Y+2]+=l[W+2]-l[n+2]}}}p[C]=y;A.Cp(p,O,X)}var i=new Float64Array(3*N);for(var z=0;
z<v;z++)if(H[z]!=-1){var f=z<<2,r=H[z],e=r*3;i[e]=l[f+0];i[e+1]=l[f+1];i[e+2]=l[f+2]}A.Og$(i,Q,k,R);
for(var z=0;z<v;z++){var r=H[z],D=r*3,f=z<<2;if(r==-1)continue;l[f+0]=~~(.5+Math.max(0,Math.min(255,i[D+0])));
l[f+1]=~~(.5+Math.max(0,Math.min(255,i[D+1])));l[f+2]=~~(.5+Math.max(0,Math.min(255,i[D+2])))}};$.rect={};
$.rect.vF=function(l){var t=new d;for(var a=0;a<l.length;a++)t=t.wm(l[a]);return t};$.rect.Oka=function(l,t){var a=$.rect.vF,k=new UnionFind(l.length),C=1e3,X=1e3;
for(var R=0;R<l.length;R++)for(var u=R+1;u<l.length;u++){if(!t)continue;var b=l[R],v=l[u],Q=1e9,S=1e9;
if(b.Nf(v)){k.link(R,u);continue}var H=b.x+b.$,N=b.y+b.e,z=v.x+v.$,A=v.y+v.e;if((H<v.x||z<b.x)&&(N<v.y||A<b.y))continue;
if(!(N<v.y||A<b.y))Q=Math.min(Math.abs(H-v.x),Math.abs(b.x-z));if(!(H<v.x||z<b.x))S=Math.min(Math.abs(N-v.y),Math.abs(b.y-A));
var o=Math.min(Q,S),p=Math.min(b.$,b.e,v.$,v.e);if(o<.3*p)k.link(R,u)}var O=[],E={};for(var R=0;R<l.length;
R++){var L=k.find(R),U=l[R];if(E[L]==null){E[L]=O.length;O.push([])}O[E[L]].push(U)}var W=[],Y=[];for(var R=0;
R<O.length;R++){W.push(a(O[R]));var y=a(O[R]);y.tf=R;Y.push(y)}Y.sort(function(B,h){return Math.max(h.e,h.$)-Math.max(B.e,B.$)});
var M=new NETXUS.RectanglePacker(C,X);while(!0){var g=!1;M.reset(C,X);for(var R=0;R<Y.length;R++){var n=M.findCoords(Y[R].$,Y[R].e);
if(n){Y[R].x=n.x;Y[R].y=n.y}else{C=Math.floor(C*1.1);X=Math.floor(X*1.1);g=!0;break}}if(g)continue;break}for(var R=0;
R<O.length;R++){var V=Y[R],i=V.tf,f=W[i],r=O[i],e=V.x-f.x,D=V.y-f.y;for(var u=0;u<r.length;u++)r[u].offset(e,D)}};
$.ca=function(){};$.ca.MK=Math.floor(16*window.devicePixelRatio);$.ca.uy={};$.ca.jL=0;$.ca.uB=["Pixels","Inches","Centimeters","Millimeters"];
$.ca.$m=function(l,t,a){var k=a.IJ.oP,R=[1,t,t/2.54,t/25.4][k],u=[0,3,2,1][k];l=l/R;return l.toFixed(u)};
$.ca.Oba=function(l,t,a){var k=a.IJ.oP,R=[1,t,t/2.54,t/25.4][k];l=parseFloat(l)*R;return l};$.ca.Oz$=function(l,t){var a=Math.round($.ca.MK*.5);
$.ca.jL=a;var k=document.createElement("canvas");k.width=k.height=a;var R=k.getContext("2d");R.font=a*1.5+"px monospace";
var u="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var b=0;b<u.length;b++){R.fillStyle="#"+$.mW(t);R.fillRect(0,0,a,a);
R.fillStyle="#"+$.mW(l);R.fillText(u[b],0,a);$.ca.uy[u[b]]=R.getImageData(0,0,a,a).data}};$.ca.OzW=function(l,t,a){var k=0,R=0,u=4*$.ca.MK;
for(var b=9;b>=0;b--){var v=Math.pow(10,b);if(5*v*l<=u){k=5*v;R=10;break}if(2*v*l<=u){k=2*v;R=4;break}if(1*v*l<=u){k=1*v;
R=10;break}}if(k==0){k=1;R=10}var H=Math.ceil(k*l),N=$.I(H*$.ca.MK*4);$.IK(N,4278190080|a);for(var b=0;
b<$.ca.MK;b++)$.ca.ut(N,4*b*H,t);for(var b=0;b<H;b++)$.ca.ut(N,4*(($.ca.MK-1)*H+b),t);if(k==2)R=2;if(k==5)R=5;
if(k>1||k==1&&H>20)for(var b=1;b<R;b++)$.ca.OSl(N,b*(H/R),H,(b&1)==1?.8:.7,t);return{Yo:N,step:k}};$.ca.OSl=function(l,t,a,k,R){var t=Math.round(t);
for(var u=Math.round($.ca.MK*k);u<$.ca.MK-1;u++)$.ca.ut(l,4*(u*a+t),R)};$.ca.ut=function(l,t,a){l[t+0]=a>>16&255;
l[t+1]=a>>8&255;l[t+2]=a&255};$.ca.OSt=function(l,t,a){var k=t&255,R=t>>8&255,u=t>>16&255,E,L,U,W;t=Math.round(k*.6)<<16|Math.round(R*.6)<<8|Math.round(u*.6);
$.ca.Oz$(Math.round(k*.8)<<16|Math.round(R*.8)<<8|Math.round(u*.8),a);var b=this.OzW(l.H,t,a),v=l.KV(0,0),H=l.KV(l.cO.$,l.cO.e),N=Math.floor(v.x/b.step)*b.step,z=Math.ceil(H.x/b.step)*b.step,A=Math.floor(v.y/b.step)*b.step,Q=Math.ceil(H.y/b.step)*b.step,S=l.mA(N,A),o=l.mA(z,A),p=b.step*l.H,O=Math.ceil(p);
E=l.Dy.data;L=new d(0,0,l.cO.$,$.ca.MK);U=new d(0,0,O,$.ca.MK);W=new d(0,Math.round($.ca.MK*.08),$.ca.jL,$.ca.jL);
for(var Y=0;Y<(z-N)/b.step;Y++){U.x=Math.round(S.x+Y*p);$.BM(b.Yo,U,E,L,U);var y=(N+Y*b.step).toString(10);
for(var C=0;C<y.length;C++){W.x=U.x+3+C*Math.round($.ca.jL*.8);var X=$.ca.uy[y[C]];$.BM(X,W,E,L,W)}}var M=new Uint32Array(b.Yo.buffer),g=new Uint32Array(b.Yo.length);
for(var n=0;n<O;n++)for(var V=0;V<$.ca.MK;V++){g[n*$.ca.MK+V]=M[V*O+n]}b.Yo=new Uint8Array(g.buffer);
E=l.mn.data;L=new d(0,0,$.ca.MK,l.cO.e);U=new d(0,0,$.ca.MK,O);W=new d(Math.round($.ca.MK*.2),0,$.ca.jL,$.ca.jL);
for(var Y=0;Y<(Q-A)/b.step;Y++){U.y=Math.round(S.y+Y*p);$.BM(b.Yo,U,E,L,U);var y=Math.abs(A+Y*b.step).toString(10);
for(var C=0;C<y.length;C++){W.y=U.y+3+C*Math.round($.ca.jL*1.15);var X=$.ca.uy[y[C]];$.BM(X,W,E,L,W)}}};
$.scale={};$.scale.Ej=document.createElement("canvas");$.scale.Jc=$.scale.Ej.getContext("2d");$.scale.OEF=document.createElement("canvas");
$.scale.OEN=$.scale.OEF.getContext("2d");$.scale.Wq=function(l,t,a){var k=$.scale.Ej,R=$.scale.Jc;k.width=t;
k.height=a;var u=R.createImageData(t,a),b=l.length;for(var v=0;v<b;v++)u.data[v]=l[v];R.putImageData(u,0,0);
return R.createPattern(k,"repeat")};$.scale.OKV=function(l,t,a,k,R,u,b,v){var H=$.scale.KZ(l,a,k,R,u,b,v);
$.jk(H.data,t)};$.scale.OKZ=function(l,t,a,k,R,u,b,v){var H=$.scale.KZ(l,a,k,R,u,b,v);$.Ll(H.data,t)};
$.scale.KZ=function(l,t,a,k,R,u,b){var v=$.scale.Ej,H=$.scale.Jc;v.width=t;v.height=a;H.rect(0,0,t,a);
H.translate(u,b);H.scale(k,R);H.fillStyle=l;H.fill();return H.getImageData(0,0,t,a)};$.scale.Y$=function(l,t,a,k,R,u,b){if(b<1)$.scale.OOa(l,t,a,k,R,u,Math.round(1/b));
else $.scale.O_n(l,t,a,k,R,u,b)};$.scale.$j=function(l,t,a,k,R,u,b,v){if(v)v=v.gk(new d(0,0,t,a));l=new Uint32Array(l.buffer);
k=new Uint32Array(k.buffer);if(b<1)$.scale.OAu(l,t,a,k,R,u,Math.round(1/b),v);else $.scale.OAb(l,t,a,k,R,u,b)};
$.scale.O_n=function(l,t,a,k,R,u,b){for(var v=0;v<a;v++)for(var H=0;H<t;H++){var N=l[v*t+H],z=Math.min(b,R-H*b),A=Math.min(b,u-v*b);
for(var Q=0;Q<A;Q++)for(var S=0;S<z;S++)k[(b*v+Q)*R+b*H+S]=N}};$.scale.OOa=function(l,t,a,k,R,u,b){for(var v=0;
v<u;v++)for(var H=0;H<R;H++){var N=0,z=Math.min(b,t-H*b),A=Math.min(b,a-v*b);for(var Q=0;Q<A;Q++)for(var S=0;
S<z;S++)N+=l[(b*v+Q)*t+(b*H+S)];k[v*R+H]=Math.round(N/(z*A))}};$.scale.OAb=function(l,t,a,k,R,u,b){for(var v=0;
v<a;v++)for(var H=0;H<t;H++){var N=l[v*t+H],z=Math.min(b,R-H*b),A=Math.min(b,u-v*b);for(var Q=0;Q<A;
Q++)for(var S=0;S<z;S++)k[(b*v+Q)*R+b*H+S]=N}};$.scale.OAu=function(l,t,a,k,R,u,b,v){var H=0,N=R,z=0,A=u;
if(v){H=Math.floor(v.x/b);N=Math.ceil((v.x+v.$)/b);z=Math.floor(v.y/b);A=Math.ceil((v.y+v.e)/b)}for(var Q=z;
Q<A;Q++)for(var S=H;S<N;S++){var o=0,p=0,O=0,E=0,L=Math.min(b,t-S*b),U=Math.min(b,a-Q*b);for(var W=0;
W<U;W++)for(var Y=0;Y<L;Y++){var y=l[(b*Q+W)*t+b*S+Y],C=y>>>24;o+=C;p+=C*(y>>>16&255);O+=C*(y>>>8&255);
E+=C*(y&255)}if(o!=0){var X=1/o;k[Q*R+S]=o/(L*U)<<24|p*X<<16|O*X<<8|E*X}else k[Q*R+S]=0}};$.O={};$.O.OAy=function(l,t,a){var k=128,R=0,u=a.$,b=a.e;
for(var v=0;v<b;v++)for(var H=0;H<u;H++){if(l[R]>=k&&(H==0||l[R-1]<k||(H==u-1||l[R+1]<k)||(v==0||l[R-u]<k)||(v==b-1||l[R+u]<k)))t[R]=255;
R++}};$.O.O$J=function(l,t,a,k,R){var u=a.$,b=a.e,v=0,H=0,N=u,z=b;if(R){v=R.x-a.x;H=R.y-a.y;N=v+R.$;
z=H+R.e}var A=new Uint8Array(t.buffer),Q=new Uint32Array(t.buffer);for(var S=H;S<z;S++){for(var o=v;
o<N;o++){var p=S*u+o;if(l[p]>>7==1&&(S==0||l[p-u]>>7==0||o==0||l[p-1]>>7==0||o==u-1||l[p+1]>>7==0||S==b-1||l[p+u]>>7==0)){Q[p]=4278190080|((o+S&4)>>>2)*k}}}};
$.O.OHA=function(l,t,a,k,R,u){var b=a.$,v=a.e,H=0,N=0,z=b,A=v;if(R){H=R.x-a.x;N=R.y-a.y;z=H+R.$;A=N+R.e}var Q=new Uint8Array(t.buffer),S=new Uint32Array(t.buffer);
for(var o=N;o<A;o++){for(var p=H;p<z;p++){var O=o*b+p,E=l[O];if(u==1)S[O]=255-E>>>1<<24|255&k;else S[O]=255<<24|(E<<16|E<<8|E)&k}}};
$.SL={};$.SL.vD=function(l,t,a){var k,R;if(a=="front"){k=l.rect.clone();R=$.SL.OHs}if(a=="union"){k=l.rect.wm(t.rect);
R=$.SL.wm}if(a=="difference"){k=t.rect.clone();R=$.SL.OlY}if(a=="intersection"){k=l.rect.gk(t.rect);
R=$.SL.gk}if(a=="xor"){k=l.rect.wm(t.rect);R=$.SL.Ols}if(k.wp())return null;var u=$.I(k.s());$.co(t.channel,t.rect,u,k);
var b=$.I(k.s());$.co(l.channel,l.rect,b,k);R(b,u,u);var v=$.wv(u,k);if(v.wp())return null;if(!v.cG(k)){var H=$.I(v.s());
$.co(u,k,H,v);u=H;k=v}return{channel:u,rect:k}};$.SL.OHs=function(l,t,a){for(var k=0;k<l.length;k++)a[k]=l[k]};
$.SL.wm=function(l,t,a){for(var k=0;k<l.length;k++)a[k]=Math.min(l[k]+t[k],255)};$.SL.OlY=function(l,t,a){for(var k=0;
k<l.length;k++)a[k]=Math.max(t[k]-l[k],0)};$.SL.gk=function(l,t,a){var k=1/255;for(var R=0;R<l.length;
R++)a[R]=l[R]*t[R]*k};$.SL.Ols=function(l,t,a){var k=1/255;for(var R=0;R<l.length;R++)a[R]=Math.min(l[R]+t[R],255)-l[R]*t[R]*k};
$.$N=function(l,t){this.h=[];this.Eq=[0];this.$s=[];this.gf=[];this._G=[];this.rows=l;this.cols=t;this.lF=!1};
$.$N.prototype.Cp=function(l,t,a){var k=this.Eq.length-1;for(var R=0;R<a;R++){var u=l[R],b=t[R];if(b==k){this.gf.push(u);
this._G.push(u==0?0:1/u)}else{this.h.push(u);this.$s.push(b*3)}}this.Eq.push(this.h.length)};$.$N.prototype.freeze=function(){if(this.lF)return;
this.lF=!0;this.ly=new Float64Array(this.h)};$.$N.prototype.OKA=function(l,t){this.freeze();var a=this.rows,k=this.ly,R=this.Eq,u=this.$s,b=this._G;
for(var v=0;v<3500;v++){var H=0;for(var N=0;N<a;N++){var z=t[N],A=R[N],Q=R[N+1];if(Q-A==4)z-=k[A]*l[u[A]]+k[A+1]*l[u[A+1]]+k[A+2]*l[u[A+2]]+k[A+3]*l[u[A+3]];
else for(var S=A;S<Q;S++)z-=k[S]*l[u[S]];l[N]=b[N]*z}}};$.$N.prototype.Og$=function(l,t,a,k){var R=Date.now(),u=1.96;
this.freeze();if(a==null)a=5e-5;if(k==null)k=1e9;var b=1-u,v=this.rows,H=this.ly,N=this.Eq,z=this.$s,A=this._G;
while(!0){var Q=0;for(var S=0;S<v;S++){var o=S*3,p=t[o],O=t[o+1],E=t[o+2],L=N[S],U=N[S+1];if(U-L==4){var W=H[L],Y=H[L+1],y=H[L+2],C=H[L+3],X=z[L],M=z[L+1],g=z[L+2],n=z[L+3];
p-=W*l[X+0]+Y*l[M+0]+y*l[g+0]+C*l[n+0];O-=W*l[X+1]+Y*l[M+1]+y*l[g+1]+C*l[n+1];E-=W*l[X+2]+Y*l[M+2]+y*l[g+2]+C*l[n+2]}else for(var V=L;
V<U;V++){var W=H[V],X=z[V];p-=W*l[X+0];O-=W*l[X+1];E-=W*l[X+2]}var i=A[S]*u,f=l[o+0]*b+p*i,r=l[o+1]*b+O*i,e=l[o+2]*b+E*i,D=f-l[o+0],B=r-l[o+1],h=e-l[o+2];
Q+=.4*D*D+.5*B*B+.1*h*h;l[o+0]=f;l[o+1]=r;l[o+2]=e}if(Q/v<a||Date.now()>R+k)break}};$.Fa={};$.Fa.gX=function(l,t,a){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:l},Vrtc:{t:"doub",v:t},Cnty:{t:"bool",v:a}}}};
$.Fa.N=function(l,t){for(var a=0;a<l.length;a++){var k=l[a].v,R=t.sV(new x(k.Hrzn.v,k.Vrtc.v));k.Hrzn.v=Math.round(R.x);
k.Vrtc.v=Math.round(R.y)}};$.Fa.CJ={};$.Fa.CJ.Aw=function(l,t){var a=l.length;for(var k=0;k<a;k++){var R=0,u=Number.NEGATIVE_INFINITY;
for(var b=k;b<a;b++)if(Math.abs(l[b][k])>u){R=b;u=Math.abs(l[b][k])}$.Fa.CJ.OIl(l,k,R);for(var b=k+1;
b<a;b++){if(l[k][k]==0)return 1;var v=l[b][k]/l[k][k];for(var H=k;H<a+1;H++)l[b][H]-=l[k][H]*v}}for(var b=a-1;
b>=0;b--){if(l[b][b]==0)return 1;var N=l[b][a]/l[b][b];t[b]=N;for(var H=b-1;H>=0;H--){l[H][a]-=l[H][b]*N;
l[H][b]=0}}return 0};$.Fa.CJ.OgL=function(l,t){var a=[];for(var k=0;k<l;k++){a.push([]);for(var R=0;
R<t;R++)a[k].push(0)}return a};$.Fa.CJ.OKi=function(l){for(var t=0;t<l.length;t++)console.log(JSON.stringify(l[t]))};
$.Fa.CJ.OIl=function(l,t,a){var k=l[t];l[t]=l[a];l[a]=k};$.Fa.Kj=function(l,t,a){var k=l.length-1,R=$.Fa.CJ.OgL(k+1,k+2);
for(var u=1;u<k;u++){R[u][u-1]=1/(l[u]-l[u-1]);R[u][u]=2*(1/(l[u]-l[u-1])+1/(l[u+1]-l[u]));R[u][u+1]=1/(l[u+1]-l[u]);
R[u][k+1]=3*((t[u]-t[u-1])/((l[u]-l[u-1])*(l[u]-l[u-1]))+(t[u+1]-t[u])/((l[u+1]-l[u])*(l[u+1]-l[u])))}R[0][0]=2/(l[1]-l[0]);
R[0][1]=1/(l[1]-l[0]);R[0][k+1]=3*(t[1]-t[0])/((l[1]-l[0])*(l[1]-l[0]));R[k][k-1]=1/(l[k]-l[k-1]);R[k][k]=2/(l[k]-l[k-1]);
R[k][k+1]=3*(t[k]-t[k-1])/((l[k]-l[k-1])*(l[k]-l[k-1]));$.Fa.CJ.Aw(R,a)};$.Fa.Ois=function(l,t,a,k){if(l<=t[0])return a[0];
if(l>=t[t.length-1])return a[t.length-1];var R=1;while(t[R]<l)R++;var u=t[R],b=t[R-1],v=a[R],H=a[R-1],N=(l-b)/(u-b),z=k[R-1]*(u-b)-(v-H),A=-k[R]*(u-b)+(v-H),Q=(1-N)*H+N*v+N*(1-N)*(z*(1-N)+A*N);
return Q};$.Fa.Kq=function(l,t,a,k){var R={wG:[l[0]],hk:[t[0]],Ea:[]};k[0]=R;for(var u=1;u<l.length-1;
u++){R.wG.push(l[u]);R.hk.push(t[u]);if(a[u]==!1){$.Fa.Kj(R.wG,R.hk,R.Ea);R={wG:[l[u]],hk:[t[u]],Ea:[]}}k[u]=R}R.wG.push(l[u]);
R.hk.push(t[u]);$.Fa.Kj(R.wG,R.hk,R.Ea);k[u]=R};$.Fa.KQ=function(l,t,a,k){if(l<=t[0])return a[0];if(l>=t[t.length-1])return a[t.length-1];
var R=1;while(t[R]<l)R++;var u=k[R-1];return $.Fa.Ois(l,u.wG,u.hk,u.Ea)};$.Fa.Kp=function(l){var t={wG:[],hk:[],JX:[]};
for(var a=0;a<l.length;a++){t.wG[a]=l[a].v.Hrzn.v;t.hk[a]=l[a].v.Vrtc.v;t.JX[a]=l[a].v.Cnty?l[a].v.Cnty.v:!0}return t};
$.Fa.iB=function(l,t,a){var k=0,R=255;if(a){k=-1e9;R=1e9}var u=$.Fa.Kp(l),b=[];$.Fa.Kq(u.wG,u.hk,u.JX,b);
var v=[];for(var H=0;H<t;H++)v[H]=1/255*Math.max(k,Math.min(R,$.Fa.KQ(H*(255/(t-1)),u.wG,u.hk,b)));return v};
$.Fa.Okf=function(l,t,a){var k=Math.round(l.length/20),R=t-l.length,u=a?(l[k]-l[0])/k:0,b=a?l[0]-R*u:l[l.length-1],v=[];
for(var H=0;H<R;H++)v.push(b+H*u);return a?v.concat(l):l.concat(v)};$.Fa.PV=function(l,t,a){var k=$.Fa.Kp(l),R=[];
$.Fa.Kq(k.wG,k.hk,k.JX,R);var u=new Uint8Array(t),b=t/256;for(var v=0;v<t;v++)u[v]=Math.max(0,Math.min(t-1,$.Fa.KQ(v*b,k.wG,k.hk,R)));
if(a){u[0]=0;if(u[1]>100)u[1]=.4*u[1];if(u[2]>150)u[1]=.7*u[2]}return u};$.Fa._V=function(l,t){var a=new Uint8Array(l.length);
for(var k=0;k<l.length;k++)a[k]=t[l[k]];return a};$.Fa.cT=function(l,t,a){var k=w.X("canvas","");k.width=t;
k.height=a;var R=k.getContext("2d"),u=$.Fa.PV(l,256);R.scale(t/255,a/255);R.fillStyle="#fff";R.fillRect(0,0,255,255);
R.fillStyle="#333";R.beginPath();R.moveTo(0,255);for(var b=0;b<u.length;b++)R.lineTo(b,255-u[b]);R.lineTo(255,255);
R.closePath();R.fill();return k.toDataURL()};$.style={};$.style.stroke=function(l,t,a,k){var R=a.$,u=a.e,b=new Float64Array(R*u);
$.style.kH(l,b,R,u);$.style.YW(t,a,b,a,k)};$.style.YW=function(l,t,a,k,R){var u=t.gk(k),b=u.$,v=u.e;
R+=.5;var H=u.x-t.x,N=u.y-t.y,z=t.$,A=u.x-k.x,Q=u.y-k.y,S=k.$;for(var o=0;o<v;o++){var p=(o+Q)*S+A,O=(o+N)*z+H;
for(var E=0;E<b;E++){var L=Math.max(0,Math.min(1,R-a[p+E]));l[O+E]=Math.round(L*255)}}};$.style.OKb=function(l,t,a,k){for(var R=0;
R<a;R++)for(var u=0;u<t;u++){var b=R*t+u,v=0,H=0,N=l[b];if(u==0||R==0){v=l[b+1]-N;H=l[b+t]-N}else if(u==a-1||R==t-1){v=N-l[b-1];
H=N-l[b-t]}else{v=l[b+1]-l[b-1];H=l[b+t]-l[b-t]}if(v!=0||H!=0){var z=1/Math.sqrt(v*v+H*H);v*=z;H*=z}k[b+b]=v;
k[b+b+1]=H}};$.style.kH=function(l,t,a,k){var R=$.style.YH(l,a,k);for(var u=0;u<k;u++)for(var b=0;b<a;
b++){var v=u*a+b,H=R[v*2],N=R[v*2+1],z=(u+N)*a+b+H;if(H==0&&N==0){t[v]=0;continue}var A=Math.sqrt(H*H+N*N),Q=l[z]*(1/255),S=1/A,o=Math.abs(H)*S,p=Math.abs(N)*S;
if(p>o){var O=p;p=o;o=O}t[v]=A+$.style.Obp(o,p,Q)}};$.style.YH=function(l,t,a){var k=!0;for(var R=0;
R<l.length;R++)k=k&&(l[R]==0||l[R]==255);var u=new Int16Array(t*a*2);if(k)$.style.OSm(l,u,t,a);else $.style.Ozq(l,u,t,a);
return u};$.style.Obp=function(l,t,a){return(.5-a)*l};$.style.Ozq=function(l,t,a,k){var R=a*k;for(var u=0;
u<R;u++)if(l[u]==0){t[u*2]=16383;t[u*2+1]=16383}for(var b=1;b<=k-1;b++){var u=b*a;for(var v=0;v<=a-1;
v++)$.style._O(t,l,a,u+v<<1,-1);for(var v=1;v<=a-1;v++)$.style.vq(t,l,a,u+v<<1,-1);for(var v=a-2;v>=0;
v--)$.style.vq(t,l,a,u+v<<1,1)}for(var b=k-2;b>=0;b--){var u=b*a;for(var v=0;v<=a-1;v++)$.style._O(t,l,a,u+v<<1,1);
for(var v=1;v<=a-1;v++)$.style.vq(t,l,a,u+v<<1,-1);for(var v=a-2;v>=0;v--)$.style.vq(t,l,a,u+v<<1,1)}};
$.style.vq=function(l,t,a,k,R){var u=(k>>>1)+R<<1,b=l[k],v=l[k+1],H=l[u]+R,N=l[u+1],z=H*H+N*N,A=b*b+v*v;
if(N!=16383&&(b==16383||Math.sqrt(z)+(.5-t[(k>>>1)+N*a+H]*(1/255))<Math.sqrt(A)+(.5-t[(k>>>1)+v*a+b]*(1/255)))){l[k]=H;
l[k+1]=N}};$.style._O=function(l,t,a,k,R){var u=(k>>>1)+R*a<<1,b=l[k],v=l[k+1],H=l[u],N=l[u+1]+R,z=H*H+N*N,A=b*b+v*v;
if(H!=16383&&(b==16383||Math.sqrt(z)+(.5-t[(k>>>1)+N*a+H]*(1/255))<Math.sqrt(A)+(.5-t[(k>>>1)+v*a+b]*(1/255)))){l[k]=H;
l[k+1]=N}};$.style.OSm=function(l,t,a,k){var R=a*k;for(var u=0;u<R;u++)if(l[u]==0){t[u*2]=16383;t[u*2+1]=16383}for(var b=1;
b<=k-1;b++){var u=b*a;for(var v=0;v<=a-1;v++)$.style._g(t,l,a,u+v<<1,-1);for(var v=1;v<=a-1;v++)$.style.vT(t,l,a,u+v<<1,-1);
for(var v=a-2;v>=0;v--)$.style.vT(t,l,a,u+v<<1,1)}for(var b=k-2;b>=0;b--){var u=b*a;for(var v=0;v<=a-1;
v++)$.style._g(t,l,a,u+v<<1,1);for(var v=1;v<=a-1;v++)$.style.vT(t,l,a,u+v<<1,-1);for(var v=a-2;v>=0;
v--)$.style.vT(t,l,a,u+v<<1,1)}};$.style.vT=function(l,t,a,k,R){var u=(k>>>1)+R<<1,b=l[k],v=l[k+1],H=l[u]+R,N=l[u+1],z=H*H+N*N,A=b*b+v*v;
if(N!=16383&&(b==16383||z<A)){l[k]=H;l[k+1]=N}};$.style._g=function(l,t,a,k,R){var u=(k>>>1)+R*a<<1,b=l[k],v=l[k+1],H=l[u],N=l[u+1]+R,z=H*H+N*N,A=b*b+v*v;
if(H!=16383&&(b==16383||z<A)){l[k]=H;l[k+1]=N}};$.style.OKn=function(l,t,a,k,R){var u=a*k,b=(a+k+1)*1.01;
for(var v=0;v<u;v++)if(l[v]<=R)t[v]=b;for(var H=1;H<a;H++)t[H]=Math.min(t[H],t[H-1]);for(var N=1;N<k;
N++){var v=N*a;t[v]=Math.min(t[v],Math.min(t[v-a]+1,t[v-a+1]+Math.SQRT2));for(var H=1;H<a-1;H++){var z=t[++v],A=Math.min(t[v-1]+1,Math.min(t[v-a-1]+Math.SQRT2,Math.min(t[v-a]+1,t[v-a+1]+Math.SQRT2)));
if(A<z)t[v]=A}v++;t[v]=Math.min(t[v],Math.min(t[v-1]+1,Math.min(t[v-a-1]+Math.SQRT2,t[v-a]+1)))}for(var H=a-2;
H>=0;H--)t[H+u-a]=Math.min(t[H+u-a],t[H+u-a+1]);for(var N=k-2;N>=0;N--){var v=N*a+a-1;t[v]=Math.min(t[v],Math.min(t[v+a]+1,t[v+a-1]+Math.SQRT2));
for(var H=a-2;H>=1;H--){var z=t[--v],A=Math.min(t[v+1]+1,Math.min(t[v+a-1]+Math.SQRT2,Math.min(t[v+a]+1,t[v+a+1]+Math.SQRT2)));
if(A<z)t[v]=A}v--;t[v]=Math.min(t[v],Math.min(t[v+1]+1,Math.min(t[v+a]+1,t[v+a+1]+Math.SQRT2)))}};$.style.OKr=function(l,t,a,k,R){var u=new Int32Array(a*k);
$.style.OVg(l,u,a,k,R);$.style.OVU(u,t,a,k)};$.style.OVg=function(l,t,a,k,R){var u=new Int32Array(k);
for(var b=0;b<a;b++){var v=a+k;for(var H=k-1;H>=0;H--){if(l[H*a+b]>R)v=0;else v++;u[H]=v}v=a+k;for(var H=0;
H<k;H++){if(l[H*a+b]>R)v=0;else v++;t[H*a+b]=v<u[H]?-v:u[H]}}};$.style.OVU=function(l,t,a,k){var R=(a+k)*(a+k),u=new Float64Array(a),b=new Uint16Array(a);
for(var v=0;v<k;v++){var H=v*a,N=0;b[0]=0;u[0]=-R;u[1]=+R;for(var z=1;z<a;z++){var A=l[z+H]*l[z+H]+z*z,Q=(A-(l[b[N]+H]*l[b[N]+H]+b[N]*b[N]))/(2*z-2*b[N]);
while(Q<=u[N]){N--;Q=(A-(l[b[N]+H]*l[b[N]+H]+b[N]*b[N]))/(2*z-2*b[N])}N++;b[N]=z;u[N]=Q;u[N+1]=R}N=0;
for(var z=0;z<a;z++){while(u[N+1]<z)N++;var S=b[N]-z,o=l[b[N]+H],p=v*a+z<<1;t[p]=S;t[p+1]=o}}};$.style.OVr=function(l,t){for(var a=0;
a<l.length;a++){var k=l[a],R;if(k<5)R=!1;else R=$.style.nJ(a)<64+k*.5;var u=255*Math.sqrt(Math.sqrt(k/255));
l[a]=(1-t)*k+t*(R?u:0)}};$.style.nJ=function(l){l=l^61^l>>16;l=l+(l<<3);l=l^l>>4;l=l*668265261;l=l^l>>15;
return l&255};$.Ht={};$.Ht.Ct=function(l,t,a){var k=l.canvas;if(k.width!=t||k.height!=a)w.IF(k,t,a,l)};
$.Ht.YP=function(l,t,a,k,R,u){$.Ht.Ct(l,t,a);if(u==null)u=!1;var b=R.channel,v=R.rect,H=!R.isEnabled;
t=Math.floor(t*w.m());a=Math.floor(a*w.m());if(t*a==0)return;var N=l.createImageData(t,a),z=N.data,A=1/t,Q=1/a;
for(var S=0;S<a;S++)for(var o=0;o<t;o++){var p=S*t+o,O=p*4,E=Math.round(k.x+o*A*k.$),L=Math.round(k.y+S*Q*k.e),U=0;
if(E<v.x||E>=v.x+v.$||L<v.y||L>=v.y+v.e)U=R.color;else U=b[(L-v.y)*v.$+(E-v.x)];U=255*(255-R.dB)+U*R.dB>>>8;
if(u)U=170+Math.round(.4*(U-170));z[O]=U;z[O+1]=U;z[O+2]=U;z[O+3]=255}l.putImageData(N,0,0);if(H)$.Ht.Yk(l,t,a)};
$.Ht.OOF=function(l,t,a,k){l.fillStyle="#eeeeee";l.fillRect(.6*t,.6*a,t,a);l.lineWidth=1.5;var R=.65*t,u=.95*t,b=.65*a,v=.95*a,H=.75*t,N=.85*t,z=.75*a,A=.85*a;
l.beginPath();l.moveTo(R,b);l.lineTo(u,b);l.lineTo(u,v);l.lineTo(R,v);l.lineTo(R,b);l.moveTo(H,z);l.lineTo(N,z);
l.lineTo(N,A);l.lineTo(H,A);l.lineTo(H,z);l.closePath();l.stroke()};$.Ht.OOJ=function(l,t,a){var k,R,u;
t=Math.floor(w.m()*t);a=Math.floor(w.m()*a);k=Math.ceil(Math.min(t,a)*.4);R=t-k;u=a-k;l.scale(1/w.m(),1/w.m());
l.fillStyle="#eeeeee";l.fillRect(R,u,t,a);l.lineWidth=1;l.strokeRect(R+2.5,u+2.5,t-R-5,a-u-5);var b=l.createImageData(3,3);
$.IK(b.data,4278190080);b.data[4*4]=b.data[4*4+1]=b.data[4*4+2]=238;l.putImageData(b,R+1,u+1);l.putImageData(b,t-4,u+1);
l.putImageData(b,R+1,a-4);l.putImageData(b,t-4,a-4)};$.Ht.vQ=function(l,t,a,k,R,u,b){$.Ht.Ct(l,t,a);
t=Math.floor(t*w.m());a=Math.floor(a*w.m());if(t*a==0)return;var v=l.createImageData(t,a),H=v.data,N=1/t,z=1/a,A=1/255;
$.tH(H,t,a,4);var Q=u.x,S=u.x+u.$,o=u.y,p=u.y+u.e;for(var O=0;O<a;O++)for(var E=0;E<t;E++){var L=O*t+E,U=L*4,W=Math.round(k.x+E*N*k.$),Y=Math.round(k.y+O*z*k.e);
if(W<Q||W>=S||Y<o||Y>=p){}else{var y=H[U],C=H[U+1],X=H[U+2],M=H[U+3],g=(Y-u.y)*u.$+(W-u.x)<<2;M=R[g+3]*A;
y=R[g+0]*M+y*(1-M);C=R[g+1]*M+C*(1-M);X=R[g+2]*M+X*(1-M);H[U]=y;H[U+1]=C;H[U+2]=X;H[U+3]=255}}l.putImageData(v,0,0);
if(b)$.Ht.Yk(l,t,a)};$.Ht.O$a=function(l,t,a,k){$.Ht.Ct(l,t,a);l.fillStyle=$.Ht.BL(k.Clr.v);l.fillRect(0,0,t,a);
$.Ht.Yn(l,t,a)};$.Ht.OHV=function(l,t,a,k){$.Ht.Ct(l,t,a);l.fillStyle="#ffffff";l.fillRect(0,0,t,a);
l.fillStyle="#000000";l.font=""+a*.7+"px serif";l.fillText("T",(t-a*.43)/2,a*.75);l.fillText("T",(t-a*.43)/2,a*.75)};
$.Ht.OHI=function(l,t,a){$.Ht.Ct(l,t,a);l.clearRect(0,0,t,a);l.font=a*.7+"px serif";l.fillText(":(",(t-a*.43)/2,a*.7)};
$.Ht.OlM=function(l,t,a,k){$.Ht.Ct(l,t,a);var R=WT.get(k),u=Wq.get(WT.names[R]).substring(0,3);l.fillStyle="#ffffff";
l.fillRect(0,0,t,a);l.fillStyle="#000000";l.font=a*.55+"px sans-serif";var b=l.measureText(u);l.fillText(u,(t-b.width)/2,a*.67);
l.fillRect(0,0,t,a*.1);l.fillRect(0,a*.9,t,a*.1)};$.Ht.Olp=function(l,t,a,k){$.Ht.Ct(l,t,a);var R=l.canvas.width,u=l.canvas.height,b=l.getImageData(0,0,R,u);
$.C.Or(k.Grad.v,new Uint8Array(b.data.buffer),new d(0,0,R,u),[1/R,0,0,1/u],R/2,u/2,!1,0,16711680,65280);
l.putImageData(b,0,0);$.Ht.Yn(l,t,a)};$.Ht.OgX=function(l,t,a,k,R){$.Ht.Ct(l,t,a);var u=l,b=WD.$b(k.Ptrn.v,R.add.Patt),v=b.MU;
$.Ht.vQ(l,t,a,v,b.nr,v,!1);$.Ht.Yn(u,t,a)};$.Ht.Yk=function(l,t,a){l.strokeStyle="#bb0000";l.lineWidth=3;
l.beginPath();l.moveTo(t*.15,a*.15);l.lineTo(t*.85,a*.85);l.moveTo(t*.85,a*.15);l.lineTo(t*.15,a*.85);
l.closePath();l.stroke()};$.Ht.Yk=function(l,t,a){l.strokeStyle="#bb0000";l.lineWidth=3;l.beginPath();
l.moveTo(t*.15,a*.15);l.lineTo(t*.85,a*.85);l.moveTo(t*.85,a*.15);l.lineTo(t*.15,a*.85);l.closePath();
l.stroke()};$.Ht.Yn=function(l,t,a){l.fillStyle="#eeeeee";l.fillRect(0,a*.75,t,a*.25);l.beginPath();
l.moveTo(0,a*.75);l.lineTo(t,a*.75);l.moveTo(t*.1,a*.875);l.lineTo(t*.9,a*.875);l.moveTo(t*.65,a*.825);
l.lineTo(t*.65,a*.95);l.closePath();l.stroke()};$.Ht.BL=function(l){var t=$.C.BL(l),a=Math.round(t.D)<<16|Math.round(t.K)<<8|Math.round(t.l);
return"#"+$.mW(a)};$.r={};$.r.Yf=function(l,t,a){var k=[],R=-1;for(var u=0;u<l.length;u++){var b=l[u];
if((b.type==0||b.type==3)&&b.mZ!=-1)R++;if(b.type>5||b.type==0||b.type==3)continue;if(t!=null&&t.indexOf(R)==-1)continue;
if(a!=null&&a.indexOf(u)==-1)continue;k.push(b.re.x);k.push(b.re.y);k.push(b.S.x);k.push(b.S.y);k.push(b.Fx.x);
k.push(b.Fx.y)}return k};$.r.YZ=function(l,t,a,k){var R=0,u=-1;for(var b=0;b<t.length;b++){var v=t[b];
if((v.type==0||v.type==3)&&v.mZ!=-1)u++;if(v.type>5||v.type==0||v.type==3)continue;if(a!=null&&a.indexOf(u)==-1)continue;
if(k!=null&&k.indexOf(b)==-1)continue;v.re.$x(l[R],l[R+1]);v.S.$x(l[R+2],l[R+3]);v.Fx.$x(l[R+4],l[R+5]);
R+=6}};$.r.CH=function(l,t,a,k){var R=$.r.Yf(l,a,k);$.M.N(R,t,R);$.r.YZ(R,l,a,k)};$.r.OgC=function(l,t,a,k){var R=$.r.Yf(l,a,k);
$.U.apply(t,R);$.r.YZ(R,l,a,k)};$.r.OIq=function(l,t){var a=$.r.Oin(l,40);for(var k=0;k<a.length;k++)l[k]=a[k];
var R=$.r.Yf(l);$.wS.apply(t,R,$.M._f(R));$.r.YZ(R,l)};$.r.Oin=function(l,t){var a=[];for(var k=0;k<l.length;
k++){var R=l[k];if(R.type>5){a.push(JSON.parse(JSON.stringify(R)));continue}var u=$.r.OPK(l,k+1,R.length);
u=$.M.$z(u,t);var b=$.r.OkW(u);k+=R.length;R=JSON.parse(JSON.stringify(R));R.length=b.length;a.push(R);
for(var v=0;v<b.length;v++)a.push(b[v])}return a};$.r.OPK=function(l,t,a){var k={A:["M"],p:[]},R=l[t],u=l[t+a-1];
k.p.push(R.S.x,R.S.y);for(var b=1;b<a;b++){var v=l[t+b-1],H=l[t+b];k.A.push("C");k.p.push(v.Fx.x,v.Fx.y,H.re.x,H.re.y,H.S.x,H.S.y)}k.A.push("C");
k.p.push(u.Fx.x,u.Fx.y,R.re.x,R.re.y,R.S.x,R.S.y);return k};$.r.OkW=function(l){var t=[],a=l.A,k=l.p,R=0,u=k.length;
t.push({type:2,re:new x(k[u-4],k[u-3]),S:new x(k[0],k[1]),Fx:new x(k[2],k[3])});for(var b=0;b<a.length-2;
b++){var v=b*6+4;t.push({type:2,re:new x(k[v],k[v+1]),S:new x(k[v+2],k[v+3]),Fx:new x(k[v+4],k[v+5])})}return t};
$.r.OkU=function(l){for(var t=0;t<l.length;t++){if(l[t].type>5)continue;var a=l[t].length;if(!(a==4||a==6||a==8)){t+=a;
continue}for(var k=0;k<a;k++){var R=l[t+1+k],u=l[t+1+(k+1)%a],b=Math.min(R.S.x,u.S.x),v=Math.min(R.S.y,u.S.y),H=0,N=0;
if(R.S.x<u.S.x){H=R.S.y-v;N=H-(u.S.x-b)}else{H=u.S.y-v;N=H-(R.S.x-b)}if(Math.abs(N)<.2*H)return H}}return-1};
$.r.uf=function(l,t){var a=null,k=-1;for(var R=0;R<l.length;R++){if(l[R].type>5)continue;var u=l[R].length;
if((l[R].type==0||l[R].type==3)&&l[R].mZ!=-1)k++;if(t!=null&&t.indexOf(k)==-1)continue;if(R==l.length-1)break;
var b=l[R].type==3;if(a==null)a=$.r._I(l,R+1,u,b);else{var v=$.r._I(l,R+1,u,b);if(t!=null||l[R].mZ==0||l[R].mZ==-1||l[R].mZ==1){var H=Math.min(a.x,v.x),N=Math.min(a.y,v.y),z=Math.max(a.x+a.$,v.x+v.$),A=Math.max(a.y+a.e,v.y+v.e);
a.x=H;a.y=N;a.$=z-H;a.e=A-N}else if(l[R].mZ==2)a=a;else if(l[R].mZ==3)a=a.gk(v)}R+=u}if(a==null||a.$<0||a.e<0)a=new d(0,0,0,0);
return a};$.r.OkE=new Float64Array(4);$.r._I=function(l,t,a,k){var R=$.r.OkE;R[0]=1e30;R[1]=1e30;R[2]=-1e30;
R[3]=-1e30;var u=l[t+a-1];if(!k)$.r._P(u.S.x,u.S.y,u.Fx.x,u.Fx.y,l[t].re.x,l[t].re.y,l[t].S.x,l[t].S.y,R);
for(var b=t;b<t+a-1;b++){var v=l[b],H=l[b+1];if(v.S.cG(v.Fx)&&H.re.cG(H.S)){R[0]=Math.min(R[0],Math.min(v.S.x,H.S.x));
R[1]=Math.min(R[1],Math.min(v.S.y,H.S.y));R[2]=Math.max(R[2],Math.max(v.S.x,H.S.x));R[3]=Math.max(R[3],Math.max(v.S.y,H.S.y))}else $.r._P(v.S.x,v.S.y,v.Fx.x,v.Fx.y,H.re.x,H.re.y,H.S.x,H.S.y,R)}return new d(R[0],R[1],R[2]-R[0],R[3]-R[1])};
$.r._P=function(l,t,a,k,R,u,b,v,H){var N=1e30,z=1e30,A=-1e30,Q=-1e30,S=40,o=a-l,p=k-t,O=R-a,E=u-k,L=b-R,U=v-u,W=1/S;
for(var Y=0;Y<S+1;Y++){var y=Y*W,C=l+y*o,X=t+y*p,M=a+y*O,g=k+y*E,n=R+y*L,V=u+y*U,i=C+y*(M-C),f=X+y*(g-X),r=M+y*(n-M),e=g+y*(V-g),D=i+y*(r-i),B=f+y*(e-f);
if(D<N)N=D;if(B<z)z=B;if(D>A)A=D;if(B>Q)Q=B}H[0]=Math.min(H[0],N);H[1]=Math.min(H[1],z);H[2]=Math.max(H[2],A);
H[3]=Math.max(H[3],Q)};$.r._k=function(l){var t=2,a=$.r.HP(l),k=!1,R=!1;for(var u=2;u<l.length;u++){var b=l[u].mZ;
if(b!=null){if(b==2||b==0)k=!0;if(b==-1)R=!0}}if(R){var v=$.M.FQ(l);return{$M:Typr.U.pathToSVG({crds:v.p,cmds:v.A},t),Sd:k?1:0}}if(k&&l.length<5e3&&a>1)l=$.r._S(l);
var H=$.r.Nx(l),v=new paper.CompoundPath({fillRule:"nonzero"});for(var u=0;u<H.length;u++){var N=H[u][0],z=H[u][1];
if(!k){if(N.clockwise)N.reverse()}v.addChild(N)}return{$M:v.exportSVG({precision:t}).getAttribute("d"),Sd:0}};
$.r._S=function(l){$.r.WO();var t,a=$.r.Nx(l),k=[];for(var R=0;R<a.length;R++){var u=a[R][0],b=a[R][1];
if(Math.abs(u.area)<1e-5)k.push(u);else if(t==null)t=u;else{t=t[b](u);t.remove()}}if(t==null)t=new paper.CompoundPath(k);
else{if(t.segments)t=new paper.CompoundPath(t);for(var R=0;R<k.length;R++){t.children.push(k[R])}}var v=l.slice(0,2);
v=v.concat($.r.__(t));return v};$.r.WO=function(){if($.r.OEP==null){var l=w.X("canvas");paper.setup(l);
$.r.OEP=!0}};$.r.Obo=function(l,t){$.r.WO();var a=[],k=$.r.Nx(l),R=new paper.Path.Rectangle(new paper.Rectangle(t.x,t.y,t.$,t.e));
R.remove();R.fillColor=new paper.Color(1,0,0);for(var u=0;u<k.length;u++)if(R.intersects(k[u][0])||R.contains(k[u][0].segments[0].point))a.push(u);
return a};$.r.km=function(l,t,a,k){$.r.WO();var R=a?{curves:!0,tolerance:k}:null,u=new paper.Point(t.x,t.y),b=$.r.Nx(l);
for(var v=b.length-1;v>=0;v--){var H=b[v][0],N=H.hitTest(u,R);if(N!=null)return{AZ:v,lw:a?N.location.index:null}}return{AZ:-1}};
$.r.Yq=function(l,t){var a=[[],[],[]];for(var k=0;k<l.length;k++){var R=l[k];if(R.type>5||R.type==0||R.type==3)continue;
if(t.ML(R.S))a[0].push(k);if(t.ML(R.re))a[1].push(k);if(t.ML(R.Fx))a[2].push(k)}return a};$.r.Ozm=function(l,t,a){var k=l.slice(0,2),R=[],u=null,b=-1;
for(var v=2;v<l.length;v++){if(l[v].type==0||l[v].type==3){if(u!=null&&u.length==0){if(a)R.pop();k.pop();
if(l[v].mZ==-1)l[v].mZ=u.mZ}u=l[v];k.push(u);if(a&&u.mZ!=-1){b++;R.push(JSON.parse(JSON.stringify(a[b])))}}else{if(t.indexOf(v)==-1)k.push(l[v]);
else{u.length--;if(a)$.$F.vf(R,R.length-1)}}}if(a){while(a.length>R.length)a.pop();for(var v=0;v<a.length;
v++)a[v]=R[v]}return k};$.r.OzF=function(l,t){var a=l.slice(0,2),k=-1;for(var R=2;R<l.length;R++){if((l[R].type==0||l[R].type==3)&&l[R].mZ!=-1)k++;
if(t.indexOf(k)==-1)a.push(l[R])}return a};$.r.OzT=function(l,t){var a=l.slice(0,2),k=-1;for(var R=2;
R<l.length;R++){if((l[R].type==0||l[R].type==3)&&l[R].mZ!=-1)k++;if(t.indexOf(k)!=-1)a.push(l[R])}return a};
$.r.OKx=function(l){var t=0;for(var a=0;a<l.length;a++)if(l[a].type==0||l[a].type==3)t=a;return l[t]};
$.r.HP=function(l){var t=-1;for(var a=0;a<l.length;a++)if((l[a].type==0||l[a].type==3)&&l[a].mZ!=-1)t++;
return t+1};$.r.jQ=function(l,t){var a=-1;for(var k=0;k<l.length;k++)if((l[k].type==0||l[k].type==3)&&l[k].mZ!=-1){a++;
if(a==t)return k}return-1};$.r._n=function(l,t){var a=-1;for(var k=0;k<l.length;k++)if((l[k].type==0||l[k].type==3)&&l[k].mZ!=-1){if(k>=t)return a;
a++}return a};$.r._U=function(l,t){var a=-1,k=0;for(var R=0;R<l.length;R++){if((l[R].type==0||l[R].type==3)&&l[R].mZ!=-1)a++;
if(a==t)k++}return k};$.r.__=function(l){var t=l.segments?[l]:l.children,a=[];for(var k=0;k<t.length;
k++){var R=t[k],u=R.segments,b=R.closed?0:3,v=a.length,H=null;if(u.length<=1)continue;a.push({type:b,length:u.length,mZ:0,rc:2});
for(var N=0;N<u.length;N++){var z=u[N],A=new x(z.handleIn.x,z.handleIn.y),Q=new x(z.handleOut.x,z.handleOut.y),S=new x(z.point.x,z.point.y),o={type:b+1,re:S.add(A),S:S,Fx:S.add(Q)};
if(H==null)H=o;a.push(o);if(N+1==u.length&&x.tq(H.S,o.S)<1e-5){a.pop();a[v].length--;H.re=o.re;if(b==3)for(var p=v;
p<a.length;p++)a[p].type-=3}}}return a};$.r.Nx=function(l){$.r.WO();var t=[],a,k=new paper.Color(1,0,0);
for(var R=0;R<l.length;R++){if(l[R].type>5)continue;var u=l[R].length,b;if(R==l.length-1)break;var v=l[R].type==3;
if(R==2){if(!$.r.WW(l))b="subtract";else b="unite"}else{if(l[R].mZ==0)b="exclude";if(l[R].mZ==1)b="unite";
if(l[R].mZ==2)b="subtract";if(l[R].mZ==3)b="intersect"}if(l[R].mZ!=-1)a=[];for(var H=0;H<u;H++){var N=l[R+1+H],z=N.re.ux(N.S),A=N.Fx.ux(N.S);
a.push([[N.S.x,N.S.y],[z.x,z.y],[A.x,A.y]])}if(l[R+1+u]==null||l[R+1+u].mZ!=-1){var Q=new paper.Path(a);
Q.remove();Q.closed=!v;Q.fillRule="evenodd";Q.fillColor=k;t.push([Q,b])}R+=u}return t};$.r.OKY=function(l){for(var t=0;
t<l.length;t++){var a=l[t];if(a.S==null)continue;if(!a.S.cG(a.re)||!a.S.cG(a.Fx))return!1}return!0};
$.r.OKL=function(l){if(l.length<=5)return 0;var t=0,a=l.length-3-1;for(var k=0;k<a;k++){var R=l[3+k],u=l[3+k+1];
if(R.type==0||u.type==0)return 0;t+=(u.S.x-R.S.x)*(R.S.y+u.S.y)}t+=(l[3].S.x-l[3+a].S.x)*(l[3+a].S.y+l[3+1].S.y);
return-t*.5};$.r.WW=function(l){if(l.length==2)return l[1].all==0;var t=l[2];if(l[1].all==1){if(t.mZ==1||t.mZ==3)return!0;
return!1}else{if(t.mZ==1||t.mZ==3||t.mZ==0)return!0;return!1}};$.r.OS$=0;$.r._p=0;$.r.OKJ=0;$.r.OSP=function(l,t,a,k){var R=$.kc,u=$.cO;
R.width=a.$;R.height=a.e;if(!$.r.WW(l))u.fillRect(0,0,a.$,a.e);var b=a.s();$.r.OS$+=b;if(b>$.r._p){$.r._p=b}if(k!=null){var v=!1,H=!1,N=0;
for(var z=0;z<l.length;z++){var A=l[z].mZ;if(A!=null)N++;if(A==-1)v=!0;if(A>0)H=!0}if(!v&&N<20)l=$.r._S(l)}var Q=$.r.HP(l);
for(var z=0;z<l.length;z++){if(l[z].type>5)continue;var S=l[z].length;if(S==0)continue;if(z==l.length-1)break;
var o=l[z].type==3;if(z==2){if(!$.r.WW(l))u.globalCompositeOperation="destination-out";else u.globalCompositeOperation="source-over"}else{var p;
if(l[z].mZ==0)p="xor";if(l[z].mZ==1)p="source-over";if(l[z].mZ==2)p="destination-out";if(l[z].mZ==3)p="source-in";
if(l[z].mZ!=-1&&k==null)u.globalCompositeOperation=p}if(l[z].mZ!=-1){u.beginPath();if(k){var O=k.strokeStyleLineWidth.v.val,E=k.strokeStyleLineAlignment.v.strokeStyleLineAlignment,L=k.strokeStyleLineCapType.v.strokeStyleLineCapType,U=k.strokeStyleLineJoinType.v.strokeStyleLineJoinType,W=k.strokeStyleMiterLimit.v,Y=[],y=k.strokeStyleLineDashSet.v;
for(var C=0;C<y.length;C++)Y.push(y[C].v.val*O);u.setLineDash(Y);u.lineCap=["butt","round","square"][P.BF.Rc.indexOf(L)];
u.lineJoin=["miter","round","bevel"][P.BF.join.indexOf(U)];u.lineWidth=P.BF.mt.indexOf(E)==1?O:O*=2;
u.miterLimit=W}}$.r.OSv(u,l,z+1,S,-a.x,-a.y,o);if(o){}else u.closePath();if(l[z+1+S]==null||l[z+1+S].mZ!=-1){if(k)u.stroke();
else u.fill("evenodd")}z+=S}if(a.wp())return;var X=u.getImageData(0,0,a.$,a.e);$.Du(X.data,t,3)};$.r.OSv=function(l,t,a,k,R,u,b){var v=t[a],H=null;
l.moveTo(v.S.x+R,v.S.y+u);for(var N=a;N<a+k-1;N++){v=t[N];H=t[N+1];l.bezierCurveTo(v.Fx.x+R,v.Fx.y+u,H.re.x+R,H.re.y+u,H.S.x+R,H.S.y+u)}if(!b){v=t[N];
H=t[a];l.bezierCurveTo(v.Fx.x+R,v.Fx.y+u,H.re.x+R,H.re.y+u,H.S.x+R,H.S.y+u)}};$.r.NF=function(l,t,a){var k=[],R=a?4:1,u=!1;
if(t!=null)for(var b=0;b<t.length;b++)if(t[b]!=0){u=!0;break}if(t!=null&&u){var v=$.M.Okd(l,t),H=v.length/6;
for(var b=0;b<H;b++){var N=b*6,z=(b-1+H)%H*6,A=v[N],Q=v[N+1],S=v[N+2],o=v[N+3],p=v[z+4],O=v[z+5];k.push({type:R,re:new x(p,O),S:new x(A,Q),Fx:new x(S,o)})}}else{for(var b=0;
b<l.length;b+=2){var E=new x(l[b],l[b+1]);k.push({type:R,re:E.clone(),S:E.clone(),Fx:E.clone()})}}return k};
$.r.Ona=function(l,t){$.r.WO();var a=new paper.Path;a.remove();var k=l.length-1,R=Math.sqrt((l[k-1]-l[0])*(l[k-1]-l[0])+(l[k]-l[1])*(l[k]-l[1]))<3;
a.closed=R;for(var u=0;u<l.length;u+=2)a.add(new paper.Point(l[u],l[u+1]));a.simplify(t);var b=[{type:6},{type:8,all:0}];
b=b.concat($.r.__(a));return b};$.r.Wa={};$.r.Wa.Wl=function(l,t,a){var k=[{type:6},{type:8,all:0}],R=null;
k.push({type:a?3:0,mZ:1,length:0,gx:0,gF:0,rc:1});if(t==0)R==null;else if(t instanceof Array)R=t;else{R=[];
for(var u=0;u<l.length;u+=2)R.push(t)}k=k.concat($.r.NF(l,R,a));k[2].length=k.length-3;return k};$.r.Wa.OKF=function(l,t,a,k,R){var u=[],b=[],v=.553,H=1,N=-1;
u.push({type:1,re:new x(0,v),S:new x(0,0),Fx:new x(0,-v)});R+=2;for(var z=0;z<R;z++){var A={type:1};
if(z==0){A.S=new x(1,-1);A.re=new x(1-v,-1);A.Fx=new x(1+v,-1)}else{var Q=-(z+2)*Math.PI/2,S=1+((z&1)==1?z-1:z),o=Math.sin(Q),p=Math.cos(Q);
H+=S*(o-p);N+=S*(p+o);A.S=new x(H,N);A.re=new x(H+S*p*v,N-S*o*v);if((z&1)==1)S+=2;A.Fx=new x(H-S*p*v,N+S*o*v)}var O={type:1,re:new x(-A.Fx.x,-A.Fx.y),S:new x(-A.S.x,-A.S.y),Fx:new x(-A.re.x,-A.re.y)};
u.push(A);if(z<R-2)b.push(O)}b.reverse();u=u.concat(b);var E=[{type:6},{type:8,all:0}];E.push({type:0,mZ:1,length:u.length,gx:0,gF:0,rc:1});
E=E.concat(u);var L=new WM(a/R,0,0,a/R,0,0);L.rotate(k);L.translate(l,t);$.r.CH(E,L);return E};$.r.Wa.Rect=function(l,t,a,k,R){var u=[l,t,l+a,t,l+a,t+k,l,t+k];
return $.r.Wa.Wl(u,R)};$.r.Wa.O_p=function(l,t,a,k,R,u){var b=[],v=2*Math.PI/R;for(var H=0;H<R;H++)b.push(Math.cos(H*v),Math.sin(H*v));
var N=new WM(a,0,0,a,0,0);N.rotate(k);N.translate(l,t);$.M.N(b,N,b);return $.r.Wa.Wl(b,u)};$.r.Wa.OV_=function(l,t,a,k,R,u,b){var v=[],H=Math.PI/R;
for(var N=0;N<R*2;N++){var z=(N&1)==0?1:b;v.push(z*Math.cos(N*H),z*Math.sin(N*H))}var A=new WM(a,0,0,a,0,0);
A.rotate(k);A.translate(l,t);$.M.N(v,A,v);return $.r.Wa.Wl(v,u)};$.r.Wa.kK=function(l,t,a,k,R){var u=Math.sqrt((a-l)*(a-l)+(k-t)*(k-t));
R/=2;var b=[-R,0,R,0,R,u,-R,u],v=new WM(1,0,0,1,0,0);v.rotate(Math.atan2(-k+t,a-l)+Math.PI/2);v.translate(l,t);
$.M.N(b,v,b);return $.r.Wa.Wl(b,0)};$.r.Wa.ie=function(l,t,a,k){var R=[{type:6},{type:8,all:0}],A=.553;
R.push({type:0,mZ:1,length:4,gx:0,gF:0,rc:1});var u=l,b=t,v=l+a,H=t+k,l=(u+v)/2,t=(b+H)/2,N=(u-v)/2,z=(b-H)/2;
R.push({type:1,re:new x(l-A*N,t-z),S:new x(l,t-z),Fx:new x(l+A*N,t-z)});R.push({type:1,re:new x(l+N,t-A*z),S:new x(l+N,t),Fx:new x(l+N,t+A*z)});
R.push({type:1,re:new x(l+A*N,t+z),S:new x(l,t+z),Fx:new x(l-A*N,t+z)});R.push({type:1,re:new x(l-N,t+A*z),S:new x(l-N,t),Fx:new x(l-N,t-A*z)});
return R};$.r.Wa.OKX=function(l,t,a,k,R){var u=[{type:6},{type:8,all:0}];u.push({type:3,mZ:1,length:5,gx:0,gF:0,rc:1});
var b=Math.min(k,R),v=Math.max(k,R),H=(v-b)/4,N=Math.cos(H/2),z=Math.sin(H/2),A=(4-N)/3,Q=(1-N)*(3-N)/(3*z),S=A,o=-Q,p=N,O=-z,E=new x(N,z),L=new x(A,Q),U=new x(S,o),W=new x(p,O),Y=new WM;
Y.rotate(H);u.push({type:4,re:E.clone(),S:E.clone(),Fx:L.clone()});u.push({type:4,re:U.clone(),S:W.clone(),Fx:W.clone()});
for(var y=0;y<3;y++){E=Y.sV(E);L=Y.sV(L);U=Y.sV(U);W=Y.sV(W);u[u.length-1].Fx=L;u.push({type:4,re:U.clone(),S:W.clone(),Fx:W.clone()})}Y.rotate(-Math.PI/2-H/2);
Y.concat(new WM(a,0,0,a,l,t));$.r.CH(u,Y);return u};$.Ha={};$.Ha.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
$.Ha.Hq=function(l){var t=l.warpStyle.v.warpStyle;if(t=="warpNone")return!0;else if(t=="warpCustom"){var a=!1,k=l.customEnvelopeWarp.v.meshPoints.v.arr,R=k[0].arr,u=k[1].arr;
for(var b=0;b<4;b++)for(var v=0;v<4;v++){if(Math.abs(R[b]-R[v*4+b])>1||Math.abs(u[b*4]-u[b*4+v])>1)a=!0}return!a}else return l.warpValue.v==0&&l.warpPerspective.v==0&&l.warpPerspectiveOther.v==0};
$.Ha.I=function(l){var t={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(l){t.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:l.y}},Left:{t:"UntF",v:{type:"#Pxl",val:l.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:l.y+l.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:l.x+l.$}}}};
t.uOrder={t:"long",v:4};t.vOrder={t:"long",v:4}}return t};$.Ha.OVd=function(l,t,a,k){for(var R=0;R<l.length;
R+=2){var u=l[R],b=l[R+1],v=(u-t.x)/t.$,H=(b-t.y)/t.e,N=(1-a)/2,z=1-N,A=N+v*(z-N);H=.5+(H-.5)*A*2;var Q=(1-k)/2,S=1-Q,o=Q+H*(S-Q);
v=.5+(v-.5)*o*2;u=t.x+v*t.$;b=t.y+H*t.e;l[R]=u;l[R+1]=b}};$.Ha._B=function(l,t){var a=[],k=[];for(var R=0;
R<l.length;R+=2){a.push(l[R]);k.push(l[R+1])}var u=[];u.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:a});
u.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:k});t.warpStyle.v.warpStyle="warpCustom";t.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:u}}}}};
$.Ha.GY=function(l,t){if(t==null){var a=l.bounds.v,k=a.Left.v.val,R=a.Rght.v.val,u=a.Top.v.val,b=a.Btom.v.val;
t=new d(k,u,R-k,b-u)}if(t.wp())t.$=t.e=1;var v=[],H=l.warpStyle.v.warpStyle;if(H=="warpCustom"){var N=l.customEnvelopeWarp.v.meshPoints.v.arr,z=N[0].arr,A=N[1].arr;
for(var Q=0;Q<16;Q++)v.push(z[Q],A[Q])}else v=$.Ha.Ha(t,H,l.warpRotate.v.Ornt=="Hrzn",l.warpValue.v/100,l.warpPerspective.v/100,l.warpPerspectiveOther.v/100);
return v};$.Ha.Ha=function(l,t,a,k,R,u){var b=$.wS.I(l.x,l.y,l.$,l.e);if(t=="warpNone")return b;var v=JSON.parse(JSON.stringify(l)),H=new WM;
if(!a){H.translate(-l.x,-l.y);H.rotate(-Math.PI/2);H.translate(l.e,0);$.M.N(b,H,b);l=new d(0,0,l.e,l.$);
b=$.wS.nN(b,!1)}$.Ha.OVT(b,l,t,k,R,u);if(!a){b=$.wS.nN(b,!0);l=v;H.sI();$.M.N(b,H,b)}if(k==0)$.Ha.OVd(b,l,R,u);
else{var H=new WM(1/l.$,0,0,1/l.e,-l.x,-l.y);H.translate(-.5,-.5);$.M.N(b,H,b);$.Ha.OOC(b,u,R);H.sI();
$.M.N(b,H,b)}return b};$.Ha.OVT=function(l,t,a,k,R,u){for(var b=0;b<4;b++){for(var v=0;v<4;v++){var H=2*(4*b+v),N=l[H]-t.x,z=l[H+1]-t.y,A=N,Q=z;
if(k!=0){var S=t.$/2,o=t.e/2;A-=S;Q-=o;var p=A,O=A,E=-o,L=o,U=Math.abs(k),W=Math.tan((1-U)*Math.PI/2),Y=Math.sqrt(W*W+1),y=Math.atan2(1,W),C=A/S*y,X=S*Y,M=S*Y+t.e,g=Math.cos(y),n=Math.sin(y),V=$.Ha.OAV(g,n),i=$.Ha.OAl(g,n),f=-W*S+V*X;
if(a=="warpArc"){p=Math.sin(C)*M;E=W*S-Math.cos(y)*M+o;O=Math.sin(C)*X;L=W*S-Math.cos(y)*X+o;if(v==1||v==2){p=v==1?-i*M:i*M;
O=v==1?-i*X:i*X;E=W*S+o-V*M;L=W*S+o-V*X}if(k<0){var r=p;p=O;O=r;r=E;E=-L;L=-r}}if(a=="warpArcLower"){if(v==1||v==2){O=v==1?-i*X:i*X;
L=k<0?o-f:o+f}}if(a=="warpArcUpper"||a=="warpArch"||a=="warpBulge"){if(v==1||v==2){p=v==1?-i*X:i*X;E=k<0?-o+f:-o-f}if(a=="warpArch"){O=p;
L=E+2*o}if(a=="warpBulge"){O=p;L=-E}}if(a=="warpFish"||a=="warpFlag"||a=="warpWave"){if(v==1){E-=k*4*o;
L+=k*4*o}if(v==2){E+=k*4*o;L-=k*4*o}if(a=="warpFlag"||a=="warpWave")E=L-2*o}if(a=="warpRise"){if(v<2)E=-o+k*o*4;
L=E+2*o}var e=(Q+o)/t.e;A=p+e*(O-p);Q=E+e*(L-E);if(a=="warpWave"){if(b==0)Q=-o;if(b==3)Q=o;if(b==1||b==2)Q=2*o*(b/3-.5)*(1/3)+Q*(2/3)}if(a=="warpFisheye"){if((b==1||b==2)&&(v==1||v==2)){A=A+4*A*k;
Q=Q+4*Q*k}}if(a=="warpInflate"){var D=2/3;if((b==1||b==2)&&(v==1||v==2)){A=A+.5*A*k;Q=Q+.5*Q*k}else if(b==1||b==2)A=A+D*A*k;
else if(v==1||v==2)Q=Q+D*Q*k}if(a=="warpSqueeze"){var D=2/3;if((b==1||b==2)&&(v==1||v==2)){if(k>0)A=A-D*A*k;
else Q=Q+D*Q*k}else if(b==1||b==2)A=A-D*A*k;else if(v==1||v==2)Q=Q+D*Q*k}if(a=="warpTwist"){if((b==1||b==2)&&(v==1||v==2)){var B=k*Math.PI/2,Y=1+Math.abs(k)*2,h=A*Math.cos(B)-Q*Math.sin(B),I=A*Math.sin(B)+Q*Math.cos(B);
A=h*Y;Q=I*Y}}if(a=="warpShellLower"||a=="warpShellUpper"){if(a=="warpShellUpper"){b=3-b;Q=-Q}if(b>2||b==2&&(v==0||v==3)){if(k>0){var j=X+b/3*2*o;
A=Math.sin(C)*j;Q=-W*S-o+Math.cos(C)*j;if(v==1||v==2){A=v==1?-i*j:i*j;Q=-W*S-o+V*j}}else{if((v==1||v==2)&&b==3){A=v==1?-i*X:i*X;
Q=W*S-V*X+o}else if(b==2){Q=o-o*(2/3)*Math.cos(C);A=A+o*(2/3)*Math.sin(C)}}}if(a=="warpShellUpper"){b=3-b;
Q=-Q}}A+=S;Q+=o}N=A,z=Q;l[H]=N+t.x;l[H+1]=z+t.y}}};$.Ha.OOC=function(l,t,a){var k=[];for(var R=0;R<4;
R++)k.push(1-a+R/3*2*a);var u=[];for(var R=0;R<4;R++)u.push(1-t+R/3*2*t);var b=[0,0,0,0],v=[0,0,0,0];
for(var H=0;H<4;H++)for(var R=0;R<4;R++){var N=2*(4*H+R),z=l[N],A=l[N+1];b[R]+=z/4;v[R]+=A/4}for(var H=0;
H<4;H++)for(var R=0;R<4;R++){var Q=k[R],N=2*(4*H+R),z=l[N],A=l[N+1],S=b[R],o=v[R];l[N]=S+Q*(z-S);l[N+1]=o+Q*(A-o)}var p=l.slice(0);
for(var H=0;H<4;H++)for(var R=1;R<3;R++){var N=2*(4*H+R),z=l[N],A=l[N+1],O=N+(R==1?-2:2),E=l[O],L=l[O+1];
l[N]=z-E;l[N+1]=A-L}var U=l[0],W=l[1],Y=l[8],y=l[9],C=l[16],X=l[17],M=l[24],g=l[25],n=l[6],V=l[7],i=l[14],f=l[15],r=l[22],e=l[23],D=l[30],B=l[31],h=n-U,I=V-W,j=i-Y,c=f-y,m=r-C,F=e-X,G=D-M,q=B-g;
for(var H=0;H<4;H++){var W_=2*H*4,WU=0,Wd=0,WZ=H==1?.33:.66,WL=1-WZ;if(H==0){WU=h;Wd=I}if(H==1){WU=WL*h+WZ*-G;
Wd=WL*I+WZ*-q}if(H==2){WU=WL*h+WZ*-G;Wd=WL*I+WZ*-q}if(H==3){WU=-G;Wd=-q}l[W_]=l[W_]+WU/2;l[W_+1]=l[W_+1]+Wd/2;
l[W_+6]=l[W_+6]-WU/2;l[W_+7]=l[W_+7]-Wd/2}for(var H=0;H<4;H++)for(var R=1;R<3;R++){var N=2*(4*H+R),z=l[N],A=l[N+1],O=N+(R==1?-2:2),E=l[O],L=l[O+1],Q=2*H/3;
l[N]=E+Q*z;l[N+1]=L+Q*A}for(var H=1;H<3;H++)for(var R=1;R<3;R++){var N=2*(4*H+R),z=l[N],A=l[N+1],Wj=H==1?-8:-16,Or=H==1?16:8,Wu=l[N+Wj],WE=l[N+Wj+1],Wf=l[N+Or],WS=l[N+Or+1],Q=H/3;
z=(1-Q)*Wu+Q*Wf;A=(1-Q)*WE+Q*WS;l[N]=z;l[N+1]=A}$.M.uq(p,l,l,t)};$.Ha.OAV=function(l,t){return(4-l)*(1/3)};
$.Ha.OAl=function(l,t){return(1-l)*(3-l)/(3*t)};$.raw={};$.raw.normalize=function(l){if(l.t50706!=null)return;
console.log(l);l.t50706=[1,2,0,0];l.t50717=[(1<<l.t258[0])-1];var t=1/5e3;l.t50721=[10231*t,-2769*t,-1255*t,-8301*t,15900*t,2552*t,-797*t,680*t,7148*t];
l.t50723=[1,0,0,0,1,0,0,0,1];l.t50728=[.5,1,.5];l.t50778=[17];if(l.$u&&l.$u.t37500){var a=new Uint8Array(l.$u.t37500.slice(10)),k=UTIF.decode(a)[0];
console.log(k);if(k.t61)l.t50714=k.t61}};$.raw.OAs=function(l){var t=l.width,a=l.height,k=new Float32Array(t*a),R=0,u=0,E=0;
$.raw.O$y(l,k);$.raw.Yy(2,l,k,t,a);var b=t,v=a;if(l.t50829){var H=l.t50829;R=H[1];u=H[0];b=H[3];v=H[2]}if(l.t50719){var N=l.t50719;
R+=N[0]>>1<<1;u+=N[1]>>1<<1}if(l.t50720){var z=l.t50720;b=R+z[0];v=u+z[1]}var A=b-R,Q=v-u,S=new Float32Array(A*Q*3);
if(l.t277[0]!=1)throw"More than 1 sample per pixel!";var o=l.t33421,p=l.t33421;if(o.length!=2||o[0]!=2||o[1]!=2)throw"Unknown CFA pattern size";
var O=l.t33422.join(",");if(O=="0,1,1,2")E=0;else if(O=="1,0,2,1")E=1;else if(O=="2,1,1,0")E=2;else if(O=="1,2,0,1")E=3;
else throw"Unknown CFA pattern";for(var L=0;L<Q;L+=2)for(var U=0;U<A;U+=2){var W=(L+u)*t+U+R,Y=k[W-1],y=k[W],C=k[W+1];
W+=t;var X=k[W-1],M=k[W],g=k[W+1],n=(L*A+U)*3;if(E==0){S[n]=y;S[n+1]=Y;S[n+2]=X;S[n+3]=y;S[n+4]=C;S[n+5]=g;
n+=A*3;S[n]=y;S[n+1]=M;S[n+2]=X;S[n+3]=y;S[n+4]=M;S[n+5]=g}else if(E==1){S[n]=Y;S[n+1]=y;S[n+2]=M;S[n+3]=C;
S[n+4]=y;S[n+5]=M;n+=A*3;S[n]=Y;S[n+1]=X;S[n+2]=M;S[n+3]=C;S[n+4]=g;S[n+5]=M}else if(E==2){S[n]=X;S[n+1]=Y;
S[n+2]=y;S[n+3]=g;S[n+4]=C;S[n+5]=y;n+=A*3;S[n]=X;S[n+1]=M;S[n+2]=y;S[n+3]=g;S[n+4]=M;S[n+5]=y}else if(E==3){S[n]=M;
S[n+1]=y;S[n+2]=Y;S[n+3]=M;S[n+4]=g;S[n+5]=C;n+=A*3;S[n]=M;S[n+1]=X;S[n+2]=Y;S[n+3]=M;S[n+4]=g;S[n+5]=C}}$.raw.Yy(3,l,S,A,Q);
var V=l.OUA,i=A,f=Q;if(V==1){}else{if(V==6){i=Q;f=A}else if(V==8){i=Q;f=A}else throw"unknown orientation "+V;
var r=S.slice(0);for(var L=0;L<f;L++)for(var U=0;U<i;U++){var e=U,D=L;if(V==6){D=Q-1-U;e=L}if(V==8){e=A-1-L;
D=U}var W=(D*A+e)*3,n=(L*i+U)*3;S[n]=r[W];S[n+1]=r[W+1];S[n+2]=r[W+2]}}return{nr:S,Dv:i,jg:f}};$.raw._w=function(l,t,a,k){var R=l.nr,u=Math.round(R.length/3),b=Ap.Ogo(k[0],k[1]),v=$.raw.OWg(a,b),H=$.sg.multiply($.sg.aN,v),N=Math.pow(2,k[2]+(a.t50730?a.t50730[0]:0)),O,E,L,U,W,Y,y,C,X;
H=$.sg.multiply(H,$.sg.AW(N,N,N));var z=WT.ry("brit",[k[3],k[4],!1]),A=a.t50728,Q=[A[1]/A[0],A[2]/A[0],A[0]/A[1],A[2]/A[1],A[0]/A[2],A[1]/A[2]],S=new Float64Array(1e3);
for(var o=0;o<1e3;o++)S[o]=$.Gq(o*(1/999));S[999]=1;var p=Date.now();for(var o=0;o<u;o++){var M=o<<2,g=M-o;
O=R[g];E=R[g+1];L=R[g+2];if(O==1||E==1||L==1){var n=Math.min(O,Math.min(E,L));if(n==O){E=Math.max(E,Q[0]*O);
L=Math.max(L,Q[1]*O)}else if(n==E){O=Math.max(O,Q[2]*E);L=Math.max(L,Q[3]*E)}else{O=Math.max(O,Q[4]*L);
E=Math.max(E,Q[5]*L)}}y=H[0]*O+H[1]*E+H[2]*L;C=H[4]*O+H[5]*E+H[6]*L;X=H[8]*O+H[9]*E+H[10]*L;if(y<0)y=0;
else if(y>1)y=1;if(C<0)C=0;else if(C>1)C=1;if(X<0)X=0;else if(X>1)X=1;y=S[~~(y*999)];C=S[~~(C*999)];
X=S[~~(X*999)];t[M]=z.hb[~~(y*1023)];t[M+1]=z.hp[~~(C*1023)];t[M+2]=z.EQ[~~(X*1023)]}};$.raw.O$y=function(l,t){var a=l.width,k=l.height,R=new Uint16Array(t.length),u=null,b=0,A=0,Q=0;
$.raw.OWO(l,R);$.raw.Yy(1,l,R,a,k);if(l.t50712){u=l.t50712;b=u.length-1;if(u[b]>65535)throw"too big values"}var v=l.t50713,H=l.t50714,N=l.t50715,z=l.t50716;
if(H==null)H=[0,0,0,0];if(v==null||v[0]+v[1]!=4)H=[H[0],H[0],H[0],H[0]];var S=a,o=k;if(l.t50829){var p=l.t50829;
A=p[1];Q=p[0];S=p[3];o=p[2]}N=new Float32Array(N?N:a);z=new Float32Array(z?z:k);var O=l.t50717[0];if(u)O=Math.min(O,u[b]);
var E=1/(O-H[0]),L=l.data,U=t.length;for(var W=Q;W<o;W++){for(var Y=A;Y<S;Y++){var y=W*a+Y,C=R[y];if(u!=null){if(C>b)C=b;
C=u[C]}var X=H[0]+N[Y-A]+z[W-Q];t[y]=Math.max(0,Math.min(1,(C-X)/(O-X)))}}};$.raw.OWO=function(l,t){var a=t.length,k=l.data,R=l.t258[0];
if(R!=16&&R!=14&&R!=12&&R!=10&&R!=8)throw"Unsupported Bits Per Sample:"+R;R=Math.round(k.length*8/a);
console.log(R);for(var u=0;u<a;u+=2){var b=0,v=0,H=0;if(R==16){b=u<<1;if(l.isLE){v=k[b+1]<<8|k[b];H=k[b+3]<<8|k[b+2]}else{v=k[b]<<8|k[b+1];
H=k[b+2]<<8|k[b+3]}v=v&16383;H=H&16383}else if(R==14){var N=u*14,z=N>>>3,A=k[z]<<24|k[z+1]<<16|k[z+2]<<8|k[z+3];
if((N&7)==0){v=A>>>18;H=A>>>4&16383}else{v=A>>>14&16383;H=A&16383}}else if(R==12){b=u+(u>>>1);v=k[b]<<4|k[b+1]>>4;
H=(k[b+1]&15)<<8|k[b+2]}else if(R==10){var N=u*10,z=N>>>3;if((N&7)==0){v=(k[z]<<2|k[z+1]>>6)&1023;H=(k[z+1]<<4|k[z+2]>>4)&1023}else{v=(k[z]<<6|k[z+1]>>2)&1023;
H=(k[z+1]<<8|k[z+2]>>0)&1023}}else if(R==8){b=u;v=k[b];H=k[b+1]}t[u]=v;t[u+1]=H}};$.raw.Yy=function(l,t,a,k,R){var u=t["t"+[51008,51009,51022][l-1]],z=0;
if(u==null)return;var b=k*R,v=K.o,H=K.CR,N=new Uint8Array(u),A=K.o(N,z);z+=4;for(var Q=0;Q<A;Q++){var S=v(N,z);
z+=4;var o=v(N,z);z+=4;var p=v(N,z);z+=4;var O=v(N,z);z+=4;if(!1){}else if(S==1&&l==3){var E=z,L=v(N,E);
E+=4;var U=H(N,E);E+=8;var W=H(N,E);E+=8;var Y=H(N,E);E+=8;var y=H(N,E);E+=8;var C=H(N,E);E+=8;var X=H(N,E);
E+=8;E+=(L-1)*8*6;var M=H(N,E);E+=8;var g=H(N,E);E+=8;var n=M*k,V=g*R,i=Math.max(n,k-n),f=Math.max(V,R-V),r=Math.sqrt(i*i+f*f),e=1/r,D=a.slice(0);
for(var B=0;B<R;B++)for(var h=0;h<k;h++){var I=(h+.5-n)*e,j=(B+.5-V)*e,c=I*I+j*j,m=U+W*c+Y*c*c+y*c*c*c,F=C*(2*I*j)+X*(c+2*I*I),G=X*(2*I*j)+C*(c+2*j*j),q=Math.floor(n+r*(m*I+F)),W_=Math.floor(V+r*(m*j+G)),WU=(W_*k+q)*3,Wd=(B*k+h)*3;
a[Wd]=D[WU];a[Wd+1]=D[WU+1];a[Wd+2]=D[WU+2]}}else if(S==3&&l==3){var E=z,WZ=H(N,E);E+=8;var WL=H(N,E);
E+=8;var Wj=H(N,E);E+=8;var Or=H(N,E);E+=8;var Wu=H(N,E);E+=8;var M=H(N,E);E+=8;var g=H(N,E);E+=8;var n=M*k,V=g*R,i=Math.max(n,k-n),f=Math.max(V,R-V),r=Math.sqrt(i*i+f*f),e=1/r;
for(var B=0;B<R;B++)for(var h=0;h<k;h++){var I=(h+.5-n)*e,j=(B+.5-V)*e,c=I*I+j*j,WE=1+(WZ+(WL+(Wj+(Or+Wu*c)*c)*c)*c)*c,Wd=(B*k+h)*3;
a[Wd]=WE*a[Wd];a[Wd+1]=WE*a[Wd+1];a[Wd+2]=WE*a[Wd+2]}}else if(S==4&&l==1){var E=z,Wf=v(N,E);E+=4;var WS=v(N,E);
E+=4;for(var Wx=0;Wx<b;Wx++)if(a[Wx]==Wf)a[Wx]=a[Wx-2]+a[Wx+2]>>1}else if(S==5&&l==1){var E=z,WQ=v(N,E);
E+=4;var WJ=v(N,E);E+=4;var Ww=v(N,E);E+=4;for(var Wx=0;Wx<WJ;Wx++){var Wv=v(N,E);E+=4;var Oi=v(N,E);
E+=4;var Wx=Wv*k+Oi;a[Wx]=a[Wx-2]+a[Wx+2]>>1}}else if(S==7&&l==1){var E=z,Wc=K.Nv(N,E);E+=16;var Wh=v(N,E);
E+=4;var Om=v(N,E);E+=4;var WN=v(N,E),WR=v(N,E+4);E+=8;var Wp=v(N,E);E+=4;var OP=new Uint16Array(Wp);
for(var Wx=0;Wx<Wp;Wx++)OP[Wx]=K.KA(N,E+2*Wx);var Hz=Wc.$,HP=Wc.e;for(var B=0;B<HP;B+=WN)for(var h=0;
h<Hz;h+=WR){var Wx=(Wc.y+B)*k+(Wc.x+h);a[Wx]=OP[a[Wx]]}}else if(S==9&&l==2){var E=z,Wc=K.Nv(N,E);E+=16;
var Wh=v(N,E);E+=4;var Om=v(N,E);E+=4;var WN=v(N,E),WR=v(N,E+4);E+=8;var OW=v(N,E),WX=v(N,E+4);E+=8;
var Az=H(N,E),Hg=H(N,E+8);E+=16;var Hm=H(N,E),HB=H(N,E+8);E+=16;var Ow=v(N,E);E+=4;if(Ow!=1)throw"more than one map plane";
var HH=OW*WX,Hk=new Float32Array(HH);for(var Hl=0;Hl<HH;Hl++)Hk[Hl]=K.nd(N,E+Hl*4);var Hz=Wc.$,HP=Wc.e,O_=.9999*(WX-1)/Hz,Hj=.9999*(OW-1)/HP;
for(var B=0;B<HP;B+=WN)for(var h=0;h<Hz;h+=WR){var Wx=(Wc.y+B)*k+(Wc.x+h),Hf=h*O_,HF=B*Hj,$$=Math.floor(Hf),Og=Math.floor(HF),Hy=Hf-$$,HS=HF-Og,Wd=Og*WX+$$,AV=Hk[Wd]*(1-Hy)+Hk[Wd+1]*Hy,HT=Hk[Wd+WX]*(1-Hy)+Hk[Wd+1+WX]*Hy,Oe=AV*(1-HS)+HT*HS;
a[Wx]=Math.min(1,a[Wx]*Oe)}}else console.log("Unknown opcode "+S+" in OpcodeList"+l+". Length: "+O);
z+=O}};$.raw.OWg=function(l,t){var a=Ap.rb(t),k=$.raw._h(l,t),R=$.sg.sI(k),u=Ap.OIf(a,Ap.rb(Ap.OgE)),b=$.sg.multiply(u,R);
return b};$.raw.Old=function(l){var t=l.t50728.slice(0),k=1;t.push(0);var a={x:.34567,y:.3585};do{var R=$.sg.sI($.raw._h(l,a)),u=$.sg.Ap(R,t),b=Ap.Ogy(u);
k=Math.abs(a.x-b.x)+Math.abs(a.y-b.y);a=b}while(k>1e-7);return a};$.raw._h=function(l,t){var a=Ap.rH(t),k=$.raw.Olx,R=l.t50779?l.t50779[0]:0,u=k(l.t50721,l.t50722,l.t50778[0],R,a.$Q),b=k(l.t50723,l.t50724,l.t50778[0],R,a.$Q);
b=b||[1,0,0,0,1,0,0,0,1];var v=l.t50727?[l.t50727[0],0,0,0,l.t50727[1],0,0,0,l.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return $.sg.multiply($.sg.Fl(v),$.sg.multiply($.sg.Fl(b),$.sg.Fl(u)))};$.raw.Olx=function(l,t,a,k,R){if(!l&&!t){return null}else if(l&&!t){return l}else if(R<a){return l}else if(R>k){return t}else{var u=(1/R-1/k)/(1/a-1/k),b=1-u,v=[];
for(var H=0;H<9;H++)v[H]=l[H]*u+t[H]*b;return v}};var Ap={};Ap.OgE={x:.34567,y:.3585};Ap.rW=[{D:0,_d:.18006,cI:.26352,hL:-.24341},{D:10,_d:.18066,cI:.26589,hL:-.25479},{D:20,_d:.18133,cI:.26846,hL:-.26876},{D:30,_d:.18208,cI:.27119,hL:-.28539},{D:40,_d:.18293,cI:.27407,hL:-.3047},{D:50,_d:.18388,cI:.27709,hL:-.32675},{D:60,_d:.18494,cI:.28021,hL:-.35156},{D:70,_d:.18611,cI:.28342,hL:-.37915},{D:80,_d:.1874,cI:.28668,hL:-.40955},{D:90,_d:.1888,cI:.28997,hL:-.44278},{D:100,_d:.19032,cI:.29326,hL:-.47888},{D:125,_d:.19462,cI:.30141,hL:-.58204},{D:150,_d:.19962,cI:.30921,hL:-.70471},{D:175,_d:.20525,cI:.31647,hL:-.84901},{D:200,_d:.21142,cI:.32312,hL:-1.0182},{D:225,_d:.21807,cI:.32909,hL:-1.2168},{D:250,_d:.22511,cI:.33439,hL:-1.4512},{D:275,_d:.23247,cI:.33904,hL:-1.7298},{D:300,_d:.2401,cI:.34308,hL:-2.0637},{D:325,_d:.24792,cI:.34655,hL:-2.4681},{D:350,_d:.25591,cI:.34951,hL:-2.9641},{D:375,_d:.264,cI:.352,hL:-3.5814},{D:400,_d:.27218,cI:.35407,hL:-4.3633},{D:425,_d:.28039,cI:.35577,hL:-5.3762},{D:450,_d:.28863,cI:.35714,hL:-6.7262},{D:475,_d:.29685,cI:.35823,hL:-8.5955},{D:500,_d:.30505,cI:.35907,hL:-11.324},{D:525,_d:.3132,cI:.35968,hL:-15.628},{D:550,_d:.32129,cI:.36011,hL:-23.325},{D:575,_d:.32931,cI:.36038,hL:-40.77},{D:600,_d:.33724,cI:.36051,hL:-116.45}];
Ap.rH=function(l){var t=Ap.rW,a=2*l.x/(1.5-l.x+6*l.y),k=3*l.y/(1.5-l.x+6*l.y),R=0,u=0,b=0;for(;b<31;
b++){R=k-t[b].cI-t[b].hL*(a-t[b]._d);if(b>0&&R<0){break}u=R}R/=Math.sqrt(1+t[b].hL*t[b].hL);u/=Math.sqrt(1+t[b-1].hL*t[b-1].hL);
var v=u/(u-R),H=1e6/((t[b].D-t[b-1].D)*v+t[b-1].D),N=a-((t[b]._d-t[b-1]._d)*v+t[b-1]._d),z=k-((t[b].cI-t[b-1].cI)*v+t[b-1].cI),A=Math.sqrt(1+t[b].hL*t[b].hL),Q=1/A,S=t[b].hL/A,o=Math.sqrt(1+t[b-1].hL*t[b-1].hL),p=1/o,O=t[b-1].hL/o,E=(Q-p)*v+p,L=(S-O)*v+O,U=Math.sqrt(E*E+L*L);
E/=U;L/=U;var W=(N*E+z*L)*-3e3;return{$Q:H,EL:W}};Ap.Ogo=function(l,t){var a=Ap.rW,k=1e6/l,R=1;for(;
R<31;R++){if(k<a[R].D){break}}var u=(a[R].D-k)/(a[R].D-a[R-1].D),b=(a[R-1]._d-a[R]._d)*u+a[R]._d,v=(a[R-1].cI-a[R].cI)*u+a[R].cI,H=Math.sqrt(1+a[R].hL*a[R].hL),N=1/H,z=a[R].hL/H,A=Math.sqrt(1+a[R-1].hL*a[R-1].hL),Q=1/A,S=a[R-1].hL/A,o=(Q-N)*u+N,p=(S-z)*u+z,O=Math.sqrt(o*o+p*p);
o/=O;p/=O;b+=o*t/-3e3;v+=p*t/-3e3;return{x:1.5*b/(b-4*v+2),y:v/(b-4*v+2)}};Ap.Ogy=function(l){var t=l[0]+l[1]+l[2];
return{x:l[0]/t,y:l[1]/t}};Ap.rb=function(l){return{x:l.x/l.y,y:1,vn:(1-l.x-l.y)/l.y}};Ap.OIf=function(l,t){var a=$.sg.Fl([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),k=[l.x,l.y,l.vn,0],R=[t.x,t.y,t.vn,0];
k=$.sg.Ap(a,k);R=$.sg.Ap(a,R);var u=R[0]/k[0],b=R[1]/k[1],v=R[2]/k[2],H=$.sg.Fl([u,0,0,0,b,0,0,0,v]),N=$.sg.sI(a);
return $.sg.multiply($.sg.multiply(N,H),a)};$.By={};$.By.By=function(l,t,a){var k=l.$,R=l.e,u=1/k,b=k*R,v=Date.now(),H=!1;
if(H)console.log("expand known",Date.now()-v);v=Date.now();var N=$.By.rU(a,k,R,255),z=$.By.rU(a,k,R,0),A=function(Wh,Om){var WN=Wh<<2,WR=Om<<2;
return t[WN]+t[WN+1]+t[WN+2]-(t[WR]+t[WR+1]+t[WR+2])};N.sort(A);z.sort(A);var Q=$.I(b),S=$.I(b),o=[],p=new Uint32Array(k*R);
$.IK(p,4294967295);for(var O=0;O<b;O++)if(a[O]==0)S[O]=255;else if(a[O]==255)Q[O]=255;else{p[O]=o.length;
o.push(O)}if(H)console.log("Unknown:",o.length,N.length,z.length);if(H)console.log(Date.now()-v);v=Date.now();
var E=$.style.YH(Q,k,R),L=$.style.YH(S,k,R),U=new Float32Array(o.length),W=new Float32Array(o.length),Y=new Uint32Array(o.length),y=new Uint32Array(o.length),C=new Float32Array(o.length);
if(H)console.log("D trf",Date.now()-v);v=Date.now();for(var O=0;O<o.length;O++){var X=o[O],M=~~(X*u),g=X-M*k,n=E[X<<1],V=E[(X<<1)+1];
U[O]=1/Math.sqrt(n*n+V*V);var i=L[X<<1],f=L[(X<<1)+1];W[O]=1/Math.sqrt(i*i+f*f);var r=Math.floor(Math.random()*N.length),e=Math.floor(Math.random()*z.length);
Y[O]=r;y[O]=e;C[O]=$.By.YJ(X,N[r],z[e],k,u,t,U[O],W[O],1e9)}var D=[-k,-1,1,k],B=$.By.YJ;for(var h=0;
h<10;h++){var I=Math.pow(.5,h);for(var O=0;O<o.length;O++){var X=o[O],M=~~(X*u),g=X-M*k,j=U[O],c=W[O],m=C[O],r=Y[O],e=y[O],Wd=1;
for(var F=0;F<4;F++){if(F==0&&M==0||F==1&&g==0||F==2&&g==k-1||F==3&&M==R-1)continue;var G=p[X+D[F]];
if(G==4294967295)continue;var q=Y[G],W_=y[G];if(q==r&&W_==e)continue;var WU=B(X,N[q],z[W_],k,u,t,j,c,m);
if(WU<m){m=WU;r=q;e=W_}}for(var WZ=0;WZ<1;WZ++){var WL=~~(N.length*Wd),Wj=~~(z.length*Wd);Wd*=.5;var Or=Math.max(0,r-WL),Wu=Math.min(r+WL,N.length-1),WE=Math.max(0,e-Wj),Wf=Math.min(e+Wj,z.length-1),WS=Or+~~(Math.random()*(Wu-Or)),Wx=WE+~~(Math.random()*(Wf-WE)),WU=B(X,N[WS],z[Wx],k,u,t,j,c,m);
if(WU<m){m=WU;r=WS;e=Wx}}C[O]=m;Y[O]=r;y[O]=e}}if(H)console.log(Date.now()-v);v=Date.now();var WQ=a.slice(0);
for(var O=0;O<o.length;O++)WQ[o[O]]=~~(.5+255*$.By.alpha(o[O],N[Y[O]],z[y[O]],t));WQ=$.jq.OP$(WQ,t,new d(0,0,k,R),16,.01*.01);
if(H)console.log("guided filter",Date.now()-v);v=Date.now();for(var O=0;O<b;O++)if(a[O]==255||a[O]==0)WQ[O]=a[O];
var WJ=t.slice(0);for(var O=0;O<o.length;O++){var Ww=o[O],r=N[Y[O]],m=C[O],Wv=Ww<<2,Oi=WQ[Ww],Wc=(Oi>=250?Ww:r)<<2;
WJ[Wv]=t[Wc];WJ[Wv+1]=t[Wc+1];WJ[Wv+2]=t[Wc+2]}$.xm(WQ,WJ,3);if(H)console.log(Date.now()-v);v=Date.now();
return WJ};$.By.YJ=function(l,t,a,k,R,u,b,v,H){var N=~~(l*R),z=l-N*k,A=~~(t*R),Q=t-A*k,S=~~(a*R),o=a-S*k,p=Math.sqrt((z-Q)*(z-Q)+(N-A)*(N-A))*b,O=Math.sqrt((z-o)*(z-o)+(N-S)*(N-S))*v,i=0;
if(p+O>=H)return 1e9;var E=l<<2,L=t<<2,U=a<<2,W=u[E],Y=u[E+1],y=u[E+2],C=u[L],X=u[L+1],M=u[L+2],g=u[U],n=u[U+1],V=u[U+2];
if(C!=g||X!=n||M!=V){var f=C-g,r=X-n,e=M-V,D=W-g,B=Y-n,h=y-V,I=(D*f+B*r+h*e)/(f*f+r*r+e*e);I=Math.max(0,Math.min(1,I));
var j=W-(I*C+(1-I)*g),c=Y-(I*X+(1-I)*n),m=y-(I*M+(1-I)*V);i=Math.sqrt(j*j+c*c+m*m)}return i+p+O};$.By.alpha=function(l,t,a,k){var R=l<<2,u=t<<2,b=a<<2,v=k[R],H=k[R+1],N=k[R+2],z=k[u],A=k[u+1],Q=k[u+2],S=k[b],o=k[b+1],p=k[b+2];
if(z==S&&A==o&&Q==p)return 1;var O=z-S,E=A-o,L=Q-p,U=v-S,W=H-o,Y=N-p,y=(U*O+W*E+Y*L)/(O*O+E*E+L*L);return Math.max(0,Math.min(1,y))};
$.By.OKt=function(l){};$.By.rU=function(l,t,a,k){var R=[];for(var u=0;u<a;u++)for(var b=0;b<t;b++){var v=u*t+b;
if(l[v]==k&&(u!=0&&l[v-t]!=k&&l[v-t]!=255-k||u>1&&l[v-t-t]!=k&&l[v-t-t]!=255-k||u!=a-1&&l[v+t]!=k&&l[v+t]!=255-k||u<a-2&&l[v+t+t]!=k&&l[v+t+t]!=255-k||b!=0&&l[v-1]!=k&&l[v-1]!=255-k||b>1&&l[v-1-1]!=k&&l[v-1-1]!=255-k||b!=t-1&&l[v+1]!=k&&l[v+1]!=255-k||b<t-2&&l[v+1+1]!=k&&l[v+1+1]!=255-k))R.push(v)}return R};
$.By.O_k=function(l,t,a,k){var R=l.slice(0),u=Math.round((a+k)/400);for(var b=0;b<k;b++)for(var v=0;
v<a;v++){var H=b*a+v;if(l[H]==0||l[H]==255)continue;var N=t[H<<2],z=t[(H<<2)+1],A=t[(H<<2)+2],Q=Math.max(0,v-u),S=Math.min(v+u+1,a),o=Math.max(0,b-u),p=Math.min(b+u+1,k);
for(var O=o;O<p;O++)for(var E=Q;E<S;E++){var L=O*a+E;if(l[L]==0||l[L]==255){var U=t[L<<2]-N,W=t[(L<<2)+1]-z,Y=t[(L<<2)+2]-A;
if(U*U+W*W+Y*Y<15){R[H]=l[L];O=p;break}}}}return R};$.jq={};$.jq.O_b=function(l,t,a,k,R){var u=a.$,b=a.e,v=u*b,H=$.jq.rE,N=$.I(v*4),z;
$.IK(N,4294967295);var A=a,Q=l,S=t,o=k;$.xm(l,N,0);z=$.wu(N,a);z=$.wu(z.nr,z.rect);A=z.rect;o=k>>>2;
console.log(A,o);Q=$.I(A.s());$.Du(z.nr,Q,0);$.xm(t,N,0);z=$.wu(N,a);z=$.wu(z.nr,z.rect);S=$.I(A.s());
$.Du(z.nr,S,0);var p=$.jq.OId(Q,S,A,o,R),O=p[0],E=p[1],L=new d(0,0,A.$*2,A.e*2);O=H(O,A,L,!0);O=H(O,L,a,!0);
E=H(E,A,L,!0);E=H(E,L,a,!0);var U=$.I(v);for(var W=0;W<v;W++)U[W]=Math.max(0,Math.min(255,Math.floor(.5+(O[W]*t[W]+255*E[W]))));
return U};$.jq.rE=function(l,t,a,k){var R=a.$,u=a.e,b=t.$,v=t.e,H=$.jq.It,N=new Float32Array(R*u);for(var z=0;
z<v;z++){var A=(z+z)*R;for(var Q=0;Q<b;Q++){if(!0||Q==0||z==0||Q==b-1||z==v-1)N[A]=N[A+1]=N[A+R]=N[A+R+1]=l[z*b+Q];
else{N[A]=H(Q+.25,z+.25,l,b,v);N[A+1]=H(Q+.75,z+.25,l,b,v);N[A+R]=H(Q+.25,z+.75,l,b,v);N[A+R+1]=H(Q+.75,z+.75,l,b,v)}A+=2}}return N};
$.jq.It=function(l,t,a,k,R){l-=.499999;t-=.499999;var u=Math.floor(l),b=Math.floor(t),v=b*k+u,H=l-u,N=t-b,z=(1-N)*(1-H),A=(1-N)*H,Q=N*(1-H),S=N*H;
if(a[v]==null||a[v+k+1]==null){console.log(l,t,k,R);throw"e"}return z*a[v+0]+A*a[v+1]+Q*a[v+k+0]+S*a[v+k+1]};
$.jq.OId=function(l,t,a,k,R){var u=a.$,b=a.e,v=u*b,H=$.jq.rK,N=$.jq.I,z=$.blur.aW,A=$.jq.Yp,t=H(t),l=H(l),Q=N(v);
z(t,Q,a,k);var S=N(v);z(l,S,a,k);var o=N(v);A(t,t,o);z(o,o,a,k);var p=N(v);A(t,l,p);z(p,p,a,k);var O=N(v),E=N(v);
for(var L=0;L<v;L++){var U=Q[L],W=S[L],Y=o[L]-U*U,y=p[L]-U*W,C=y/(Y+R),X=W-C*U;O[L]=C;E[L]=X}var M=N(v);
z(O,M,a,k);var g=N(v);z(E,g,a,k);return[M,g]};$.jq.OP$=function(l,t,a,k,R){var u=a.$,b=a.e,v=u*b,H=$.jq.rE,N=Date.now(),z=!1,A=a,Q=l,S=t,o=k;
A=new d(0,0,u>>>2,b>>>2);o=k>>>2;Q=$.jq.OP_(l,u,b);S=$.jq.OPr(t,u,b);if(z)console.log(Date.now()-N);
N=Date.now();var p=$.jq.OPf(Q,S,A,o,R),O=p[0],E=p[1],L=p[2],U=p[3];if(z)console.log(Date.now()-N);N=Date.now();
var W=$.I(v);for(var Y=0;Y<b;Y++)for(var y=0;y<u;y++){var C=Y*u+y,X=(Y>>>2)*(u>>>2)+(y>>>2),M=C<<2,g=O[X]*t[M]+E[X]*t[M+1]+L[X]*t[M+2]+U[X]*255;
W[C]=Math.max(0,Math.min(255,~~(.5+g)))}if(z)console.log(Date.now()-N);N=Date.now();return W};$.jq.OP_=function(l,t,a){var k=t>>>2,R=a>>>2,u=$.I(t*a);
for(var b=0;b<R;b++)for(var v=0;v<k;v++)u[b*k+v]=l[b*t+v<<2];return u};$.jq.OPr=function(l,t,a){var k=t>>>2,R=a>>>2,u=$.I(t*a*4);
for(var b=0;b<R;b++)for(var v=0;v<k;v++){var H=b*k+v<<2,N=b*t+v<<4;u[H]=l[N];u[H+1]=l[N+1];u[H+2]=l[N+2];
u[H+3]=l[N+3]}return u};$.jq.OPf=function(l,t,a,k,R){var u=a.$,b=a.e,v=u*b,H=$.jq.rK,N=$.jq.I,z=$.blur.aW,A=$.jq.Yp,l=H(l),Q=new $.gL(u*b);
$.jk(t,Q);var t=[H(Q.D),H(Q.K),H(Q.l)],S=$.jq.OPd(l,t,a,k,R),o=N(v);z(l,o,a,k);var p=N(v);A(t[0],l,p);
z(p,p,a,k);var O=N(v);A(t[1],l,O);z(O,O,a,k);var E=N(v);A(t[2],l,E);z(E,E,a,k);var L=N(v),U=N(v),W=N(v),Y=N(v);
for(var y=0;y<v;y++){var C=o[y],X=S.$o[y],M=S.$y[y],g=S.$p[y],n=p[y]-X*C,V=O[y]-M*C,i=E[y]-g*C;L[y]=S.gK[y]*n+S.$B[y]*V+S.$w[y]*i;
U[y]=S.$B[y]*n+S.gN[y]*V+S.WV[y]*i;W[y]=S.$w[y]*n+S.WV[y]*V+S.IV[y]*i;Y[y]=C-L[y]*X-U[y]*M-W[y]*g}z(L,L,a,k);
z(U,U,a,k);z(W,W,a,k);z(Y,Y,a,k);return[L,U,W,Y]};$.jq.OPd=function(l,t,a,k,R){var u=a.$,b=a.e,v=u*b,H=$.jq.I,N=$.blur.aW,z=$.jq.Yp,A={};
A.$o=H(v);N(t[0],A.$o,a,k);A.$y=H(v);N(t[1],A.$y,a,k);A.$p=H(v);N(t[2],A.$p,a,k);var Q=H(v);z(t[0],t[0],Q);
N(Q,Q,a,k);var S=H(v);z(t[0],t[1],S);N(S,S,a,k);var o=H(v);z(t[0],t[2],o);N(o,o,a,k);var p=H(v);z(t[1],t[1],p);
N(p,p,a,k);var O=H(v);z(t[1],t[2],O);N(O,O,a,k);var E=H(v);z(t[2],t[2],E);N(E,E,a,k);A.gK=Q;A.$B=S;A.$w=o;
A.gN=p;A.WV=O;A.IV=E;for(var L=0;L<v;L++){var U=A.$o[L],W=A.$y[L],Y=A.$p[L],y=Q[L]-U*U+R,C=S[L]-U*W,X=o[L]-U*Y,M=p[L]-W*W+R,g=O[L]-W*Y,n=E[L]-Y*Y+R,V=M*n-g*g,i=g*X-C*n,f=C*g-M*X,r=y*n-X*X,e=X*C-y*g,D=y*M-C*C,B=V*y+i*C+f*X,h=1/B;
A.gK[L]=V*h;A.$B[L]=i*h;A.$w[L]=f*h;A.gN[L]=r*h;A.WV[L]=e*h;A.IV[L]=D*h}return A};$.jq.I=function(l){return new Float32Array(l)};
$.jq.rK=function(l){var t=l.length,a=new Float32Array(t);for(var k=0;k<t;k++)a[k]=l[k]*(1/255);return a};
$.jq.Yp=function(l,t,a){for(var k=0;k<l.length;k++)a[k]=l[k]*t[k]};$.FM={};$.FM.OPq=function(l,t,a,k,R){var u=$.FM.r_(l.buffer,t,a).Zh,b=Date.now(),v=new Uint32Array(u.length);
for(var H=0;H<u.length;H++)v[H]=u[H].Mn;var N=UPNG.quantize.getKDtree(new Uint8Array(v.buffer),k),z=[t,1,-t,-1,t+1,-t+1,-t-1,t-1,t+t,2,-t-t,-2,t+t-1,t+t+1,t+2,-t+2,-t-t+1,-t-t-1,-t-2,t-2,t+t+2,-t-t+2-t-t-2,t+t-2],A=new Uint8Array(t*a),Q=l;
for(var S=0;S<a;S++)for(var o=0;o<t;o++){var H=S*t+o<<2,p=Q[H]*(1/255),O=Q[H+1]*(1/255),E=Q[H+2]*(1/255),L=Q[H+3]*(1/255),U=$.FM.NJ(N,p,O,E,L,R);
if(U==null){var W=[],Y=0;while(Y<20){var y=S*t+o+z[Y]<<2,C=Q[y]*(1/255),X=Q[y+1]*(1/255),M=Q[y+2]*(1/255),g=Q[y+3]*(1/255),n=$.FM.NJ(N,C,X,M,g,.005);
if(n!=null){if(W.indexOf(n)==-1){W.push(n);n.go=1}else n.go++}Y++}W.sort(function(L,E){return E.go-L.go});
while(W.length!=0&&W[W.length-1].go<3)W.pop();if(W.length==0)U=$.FM.NJ(N,p,O,E,L,100);else if(W.length==1)U=W[0];
else if(W.length==2){var V=W[0],i=W[1],f=V.est.q,r=i.est.q,e=r[0]-f[0],D=r[1]-f[1],B=r[2]-f[2],h=r[3]-f[3],I=p-f[0],j=O-f[1],c=E-f[2],m=L-f[3],F=e*e+D*D+B*B+h*h,G=I*I+j*j+c*c+m*m,q=(I*e+j*D+c*B+m*h)/F,W_=G-q*q*F;
if(W_<.5)U=q<.5?V:i;else{U=$.FM.NJ(N,p,O,E,L,100)}}else{var V=W[0],i=W[1],WU=W[2],f=V.est.q,r=i.est.q,Wd=WU.est.q,WZ=f[0]-Wd[0],WL=f[1]-Wd[1],Wj=f[2]-Wd[2],Or=f[3]-Wd[3],Wu=r[0]-Wd[0],WE=r[1]-Wd[1],Wf=r[2]-Wd[2],WS=r[3]-Wd[3],Wx=Wd[0]-p,WQ=Wd[1]-O,WJ=Wd[2]-E,Ww=Wd[3]-L,Wv=WZ*WZ+WL*WL+Wj*Wj+Or*Or,Oi=WZ*Wu+WL*WE+Wj*Wf+Or*WS,Wc=Wx*WZ+WQ*WL+WJ*Wj+Ww*Or,Wh=WZ*Wu+WL*WE+Wj*Wf+Or*WS,Om=Wu*Wu+WE*WE+Wf*Wf+WS*WS,WN=Wx*Wu+WQ*WE+WJ*Wf+Ww*WS,WR=1/(Oi*Wh-Wv*Om),q=(Om*Wc-WN*Oi)*WR,Wp=(WN*Wv-Wc*Wh)*WR,OP=1-q-Wp,Hz=Math.max(q,Wp,OP);
if(Hz==q)U=V;else if(Hz==Wp)U=i;else U=WU}}A[H>>2]=U.ind}return{jz:A,Zh:N[1]}};$.FM.r_=function(l,t,a){var k=[],R={},u=t-1,b=a-1,v=0,H=new Uint32Array(l),N=[-t-1,-t,-t+1,-1,1,t-1,t,t+1,t+t,2,-t-t,-2,t+t-1,t+t+1,t+2,-t+2,-t-t+1,-t-t-1,-t-2,t-2,t+t+2,-t-t+2-t-t-2,t+t-2];
for(var z=1;z<b;z++)for(var A=1;A<u;A++){var Q=z*t+A,S=H[Q],o=!0;for(var p=0;p<8;p++)o=o&&H[Q+N[p]]==S;
if(o){v++;var O=R[S];if(O==null){R[S]=k.length;k.push({Mn:S,YR:1})}else k[O].YR++}}return{Zh:k,OEm:v}};
$.FM.NJ=function(l,t,a,k,R,u){var b=UPNG.quantize.getNearest(l[0],t,a,k,R);return $.FM.OPX(b,t,a,k,R)<u?b:null};
$.FM.OPX=function(l,t,a,k,R){var u=l.est.q,b=t-u[0],v=a-u[1],H=k-u[2],N=R-u[3];return b*b+v*v+H*H+N*N};
$.FM.O_E=function(l,t,a,k){var R=$.FM.Obz(l,t,a,k),u=R.jz,b=R.Zh,v=R.OEG,H=UPNG.quantize.getKDtree(new Uint8Array(v.buffer.slice(0)),200),N=[];
for(var z=0;z<b.length;z++){var A=b[z].WZ,Q=A[0],S=A[1],o=A[2],p=A[3];if(Math.min(Q,S,o,p)<0)throw"e";
var O=UPNG.quantize.getNearest(H[0],Q/255,S/255,o/255,p/255);N.push(H[1].indexOf(O))}for(var z=0;z<t*a;
z++)u[z]=N[u[z]];return{jz:u,Zh:H[1]}};$.FM.Obz=function(l,t,a,k){var R=t*a,u=2*R,b=$.FM.OSn(l,t,a),v=65535+1,H=new Uint32Array(v),A=0;
for(var N=0;N<u;N++)H[b[N]]++;var z=new Uint32Array(v);for(var N=0;N<v;N++){z[N]=A;A+=H[N]}var Q=new Uint32Array(u);
for(var N=0;N<u;N++){var S=b[N];Q[z[S]]=N;z[S]++}var o=new UnionFind(R),p=new Uint16Array(R),O=new Uint32Array(R);
for(var N=0;N<R;N++)O[N]=1;var E=R,L=1e5/(k*10);for(var U=0;U<u;U++){var W=Q[U],Y=b[W];if(Y==65535)continue;
var N=W>>1,y=N+((W&1)==0?1:t),C=o.find(N),X=o.find(y),M=Math.min(p[C]+L/Math.sqrt(O[C]),p[X]+L/Math.sqrt(O[X]));
if(C!=X&&Y<=M){o.link(N,y);E--;var g=o.find(N);O[g]=O[C]+O[X];p[g]=Y}}var n=[],V={},i=new Uint16Array(R);
for(var N=0;N<R;N++){var g=o.find(N),f=V[g];if(f==null){V[g]=f=n.length;n.push({YR:0,WZ:[0,0,0,0]})}n[f].YR++;
for(var y=0;y<4;y++)n[f].WZ[y]+=l[(N<<2)+y];i[N]=f}var r=new Uint32Array(n.length);for(var N=0;N<n.length;
N++){var f=n[N];for(var y=0;y<4;y++)f.WZ[y]=Math.round(f.WZ[y]/f.YR);r[N]=f.WZ[3]<<24|f.WZ[2]<<16|f.WZ[1]<<8|f.WZ[0]}return{jz:i,Zh:n,OEG:r}};
$.FM.OSn=function(l,t,a){var k=new Uint16Array(t*a*2);for(var R=0;R<a;R++)for(var u=0;u<t;u++){var b=R*t+u;
k[b+b]=u<t-1?$.FM.rr(l,b,b+1):65535;k[b+b+1]=R<a-1?$.FM.rr(l,b,b+t):65535}return k};$.FM.rr=function(l,t,a){var k=t<<2,R=a<<2,u=l[k],b=l[k+1],v=l[k+2],H=l[k+3],N=l[R],z=l[R+1],A=l[R+2],Q=l[R+3],S=u-N,o=b-z,p=v-A,O=H-Q;
return S*S+o*o+p*p+O*O>>2};var lY=function(){function l(){this.s=0;this.gC=0;this.Li={};this.Nn=[];this.EJ=1e5;
this.KW=1e5;this.KH=-1;this.Ki=-1;this.color=0}function t(R){this.Jo=R;this.Am=new Array(R);this.Mn=new Array(R*6);
this.Onx=0;this.hW=new Array(R*2);this.alpha=new Array(R);this.KG=new Array(R);this.Ka=new Array(R)}function a(R,u,b,v){function H(E,L,R,u){return R[u*L+E]}function N(O){var X=R.length;
while(O<X&&R[O]==0)O++;return O<X?O:-1}function z(E,L,X){for(var O=2;O<5;O++){var M=0;for(var g=-O+1;
g<=O-1;g++){M+=H(E+g,L+O-1,R,u)==X?1:-1;M+=H(E+O-1,L+g-1,R,u)==X?1:-1;M+=H(E+g-1,L-O,R,u)==X?1:-1;M+=H(E-O,L+g,R,u)==X?1:-1}if(M>0)return 1;
else if(M<0)return 0}return 0}function A(X,o){var p=new l,E=X,L=o,M=0,g=1,n;p.color=R[o*u+X];p.sign=H(X,o,R,u)==p.color?"+":"-";
while(1){p.Nn.push(E,L);if(E>p.KH)p.KH=E;if(E<p.EJ)p.EJ=E;if(L>p.Ki)p.Ki=L;if(L<p.KW)p.KW=L;p.gC++;E+=M;
L+=g;p.s-=E*g;if(E==X&&L==o)break;var V=H(E+(M+g-1>>1),L+(g-M-1>>1),R,u)==p.color,i=H(E+(M-g-1>>1),L+(g+M-1>>1),R,u)==p.color;
if(i&&!V){if(v.mr=="right"||v.mr=="black"&&p.sign=="+"||v.mr=="white"&&p.sign=="-"||v.mr=="majority"&&z(E,L,p.color)||v.mr=="minority"&&!z(E,L,p.color)){n=M;
M=-g;g=n}else{n=M;M=g;g=-n}}else if(i){n=M;M=-g;g=n}else if(!V){n=M;M=g;g=-n}}return p}var Q=0,S=[];
while(!0){var Q=N(Q);if(Q==-1)break;var o=Math.floor(Q/u),p=A(Q-o*u,o);for(var O=0;O<p.Nn.length-2;O+=2){var E=p.Nn[O],L=p.Nn[O+1],U=L*u+E;
if(E==p.Nn[O+2]&&L+1==p.Nn[O+3]&&R[U]!=0)lY.fill(U,R,u,0)}if(p.s>v.OEh)S.push(p)}for(var O=0;O<S.length;
O++)S[O].parent=-1;var W=Date.now();for(var O=1;O<S.length;O++){var Y=S[O];for(var y=O-1;y>=0;y--){var C=S[y];
if(Y.EJ<C.EJ||Y.KH>C.KH||Y.KW<C.KW||Y.Ki>C.Ki)continue;if(!lY.OUK(C.Nn,Y.Nn[0]+.5,Y.Nn[1]+.5))continue;
Y.parent=y;break}}return S}function k(R,u){function b(M,g,n,V,i){this.x=M;this.y=g;this.D$=n;this.Di=V;
this.Db=i}function v(M,g){return(g+M)%g}function H(M,g,n,V){return M*V-n*g}function N(M,g,n,V){return M*n+g*V}function z(M,g,n){if(M<=n)return M<=g&&g<n;
else return M<=g||g<n}function A(M,g,n){var V=0;V+=g*M[0]*g;V+=g*M[1]*n;V+=g*M[2];V+=n*M[3]*g;V+=n*M[4]*n;
V+=n*M[5];V+=M[6]*g;V+=M[7]*n;V+=M[8];return V}function Q(M,g,n){return g+M*(n-g)}function S(M,g,n,V){var i=Math.sign(n-M),f=-Math.sign(V-g);
return i*(n-M)-f*(V-g)}function o(M,g){return Math.sqrt(M*M+g*g)}function p(M,g,n,V,i){var f=1-M;return f*f*f*g+3*(f*f*M)*n+3*(M*M*f)*V+M*M*M*i}function O(M,g,n,V,i,f,r,e){var D=H(M,g,r,e),B=H(n,V,r,e),h=H(i,f,r,e),I=D-2*B+h,j=-2*D+2*B,c=D,m=j*j-4*I*c;
if(I==0||m<0)return-1;var F=Math.sqrt(m),G=(-j+F)/(2*I),q=(-j-F)/(2*I);if(G>=0&&G<=1)return G;else if(q>=0&&q<=1)return q;
else return-1}function E(X){var C,M,g;X.mm=X.Nn[0];X.If=X.Nn[1];X.WA=[];var n=X.WA;n.push(new b(0,0,0,0,0));
for(C=0;C<X.gC;C++){M=X.Nn[C<<1]-X.mm;g=X.Nn[(C<<1)+1]-X.If;n.push(new b(n[C].x+M,n[C].y+g,n[C].D$+M*g,n[C].Di+M*M,n[C].Db+g*g))}}function L(X){var M=X.gC,g=X.Nn,n,V=new Array(M),i=new Array(M),f=new Array(4),r,e,D,B,h,I,j,c,m,F,G,C,q,W_,WU,Wd,WZ,WL,Wj=0;
X.mx=new Array(M);for(C=M-1;C>=0;C--){if(g[C<<1]!=g[Wj<<1]&&g[(C<<1)+1]!=g[(Wj<<1)+1])Wj=C+1;i[C]=Wj}for(C=M-1;
C>=0;C--){var Or=v(C+1,M)<<1;f[0]=f[1]=f[2]=f[3]=0;n=(3+3*(g[Or]-g[C<<1])+(g[Or+1]-g[(C<<1)+1]))/2;f[n]++;
r=0;e=0;D=0;B=0;Wj=i[C];W_=C;while(1){G=0;n=(3+3*Math.sign(g[Wj*2]-g[W_*2])+Math.sign(g[Wj*2+1]-g[W_*2+1]))/2;
f[n]++;if(f[0]&&f[1]&&f[2]&&f[3]){V[C]=W_;G=1;break}m=g[Wj*2]-g[C*2];F=g[Wj*2+1]-g[C*2+1];if(H(r,e,m,F)<0||H(D,B,m,F)>0){break}if(Math.abs(m)<=1&&Math.abs(F)<=1){}else{h=m+(F>=0&&(F>0||m<0)?1:-1);
I=F+(m<=0&&(m<0||F<0)?1:-1);if(H(r,e,h,I)>=0){r=h;e=I}h=m+(F<=0&&(F<0||m<0)?1:-1);I=F+(m>=0&&(m>0||F<0)?1:-1);
if(H(D,B,h,I)<=0){D=h;B=I}}W_=Wj;Wj=i[W_];if(!z(Wj,C,W_)){break}}if(G==0){j=Math.sign(g[Wj*2]-g[W_*2]);
c=Math.sign(g[Wj*2+1]-g[W_*2+1]);m=g[W_*2]-g[C*2];F=g[W_*2+1]-g[C*2+1];WU=H(r,e,m,F);Wd=H(r,e,j,c);WZ=H(D,B,m,F);
WL=H(D,B,j,c);q=1e7;if(Wd<0){q=Math.floor(WU/-Wd)}if(WL>0){q=Math.min(q,Math.floor(-WZ/WL))}V[C]=v(W_+q,M)}}q=V[M-1];
X.mx[M-1]=q;for(C=M-2;C>=0;C--){if(z(C+1,V[C],q)){q=V[C]}X.mx[C]=q}for(C=M-1;z(v(C+1,M),q,X.mx[C]);C--){X.mx[C]=q}}function U(X){function M(X,C,g){var i=X.gC,m=X.Nn,F=X.WA,G,q,W_,WU,Wd,V,WZ,WL,c,Wj,Or,Wu,WE,Wf,WS=0;
if(g>=i){g-=i;WS=1}if(WS==0){G=F[g+1].x-F[C].x;q=F[g+1].y-F[C].y;WU=F[g+1].Di-F[C].Di;W_=F[g+1].D$-F[C].D$;
Wd=F[g+1].Db-F[C].Db;V=g+1-C}else{G=F[g+1].x-F[C].x+F[i].x;q=F[g+1].y-F[C].y+F[i].y;WU=F[g+1].Di-F[C].Di+F[i].Di;
W_=F[g+1].D$-F[C].D$+F[i].D$;Wd=F[g+1].Db-F[C].Db+F[i].Db;V=g+1-C+i}Or=(m[C<<1]+m[g<<1])/2-m[0];Wu=(m[(C<<1)+1]+m[(g<<1)+1])/2-m[1];
Wf=m[g<<1]-m[C<<1];WE=-(m[(g<<1)+1]-m[(C<<1)+1]);WZ=(WU-2*G*Or)/V+Or*Or;WL=(W_-G*Wu-q*Or)/V+Or*Wu;c=(Wd-2*q*Wu)/V+Wu*Wu;
Wj=WE*WE*WZ+2*WE*Wf*WL+Wf*Wf*c;return Math.sqrt(Wj)}var C,g,n,V,i=X.gC,f=new Array(i+1),r=new Array(i+1),e=new Array(i),D=new Array(i+1),B=new Array(i+1),h=new Array(i+1),I,j,c;
for(C=0;C<i;C++){c=v(X.mx[v(C-1,i)]-1,i);if(c==C){c=v(C+1,i)}if(c<C){e[C]=i}else{e[C]=c}}g=1;for(C=0;
C<i;C++){while(g<=e[C]){D[g]=C;g++}}C=0;for(g=0;C<i;g++){B[g]=C;C=e[C]}B[g]=i;n=g;C=i;for(g=n;g>0;g--){h[g]=C;
C=D[C]}h[0]=0;f[0]=0;for(g=1;g<=n;g++){for(C=h[g];C<=B[g];C++){j=-1;for(V=B[g-1];V>=D[C];V--){I=M(X,V,C)+f[V];
if(j<0||I<j){r[C]=V;j=I}}f[C]=j}}X.fj=n;X.ID=new Array(n);for(C=i,g=n-1;C>0;g--){C=r[C];X.ID[g]=C}}function W(X){function M(X,C,I,e,D,Wx){var V=X.gC,WQ=X.WA,WJ=0,c;
while(I>=V){I-=V;WJ+=1}while(C>=V){C-=V;WJ-=1}while(I<0){I+=V;WJ-=1}while(C<0){C+=V;WJ+=1}var Ww=WQ[I+1].x-WQ[C].x+WJ*WQ[V].x,Wv=WQ[I+1].y-WQ[C].y+WJ*WQ[V].y,Oi=WQ[I+1].Di-WQ[C].Di+WJ*WQ[V].Di,Wc=WQ[I+1].D$-WQ[C].D$+WJ*WQ[V].D$,Wh=WQ[I+1].Db-WQ[C].Db+WJ*WQ[V].Db,j=I+1-C+WJ*V;
e[Wx]=Ww/j;e[Wx+1]=Wv/j;var Om=(Oi-Ww*Ww/j)/j,WN=(Wc-Ww*Wv/j)/j,WR=(Wh-Wv*Wv/j)/j,Wp=(Om+WR+Math.sqrt((Om-WR)*(Om-WR)+4*WN*WN))/2;
Om-=Wp;WR-=Wp;if(Math.abs(Om)>=Math.abs(WR)){c=Math.sqrt(Om*Om+WN*WN);if(c!=0){D[Wx]=-WN/c;D[Wx+1]=Om/c}}else{c=Math.sqrt(WR*WR+WN*WN);
if(c!=0){D[Wx]=-WR/c;D[Wx+1]=WN/c}}if(c==0){D[Wx]=D[Wx+1]=0}}var g=X.fj,n=X.ID,V=X.gC,i=X.Nn,f=X.mm,r=X.If,e=new Array(g*2),D=new Array(g*2),B=new Array(g),h=new Array(3),C,I,j,c,q,W_,WU,Wd,WZ,WL,Wj;
X.Li=new t(g);for(C=0;C<g;C++){I=n[v(C+1,g)];I=v(I-n[C],V)+n[C];e[C<<1]=0;e[(C<<1)+1]=0;D[C<<1]=0;D[(C<<1)+1]=0;
M(X,n[C],I,e,D,C<<1)}for(C=0;C<g;C++){B[C]=[0,0,0,0,0,0,0,0,0];var m=D[C<<1]*D[C<<1]+D[(C<<1)+1]*D[(C<<1)+1],F=1/m;
if(m!=0){h[0]=D[(C<<1)+1];h[1]=-D[C<<1];h[2]=-h[1]*e[(C<<1)+1]-h[0]*e[C<<1];for(c=0;c<3;c++){B[C][c*3+0]=h[c]*h[0]*F;
B[C][c*3+1]=h[c]*h[1]*F;B[C][c*3+2]=h[c]*h[2]*F}}}var G=[0,0,0,0,0,0,0,0,0];for(C=0;C<g;C++){G[0]=G[1]=G[2]=G[3]=G[4]=G[5]=G[6]=G[7]=G[8]=G[9]=0;
var Or=i[n[C]<<1]-f,Wu=i[(n[C]<<1)+1]-r,WE=0,Wf=0;I=v(C-1,g);for(c=0;c<9;c+=3){G[c+0]=B[I][c+0]+B[C][c+0];
G[c+1]=B[I][c+1]+B[C][c+1];G[c+2]=B[I][c+2]+B[C][c+2]}while(1){var WS=G[0]*G[4]-G[1]*G[3];if(WS!=0){WE=(-G[2]*G[4]+G[5]*G[0])/WS;
Wf=(G[2]*G[3]-G[5]*G[0])/WS;break}if(G[0]>G[4]){h[0]=-G[1];h[1]=G[0]}else if(G[4]){h[0]=-G[4];h[1]=G[3]}else{h[0]=1;
h[1]=0}var m=h[0]*h[0]+h[1]*h[1],F=1/m;h[2]=-h[1]*Wu-h[0]*Or;for(c=0;c<3;c++){G[c*3+0]+=h[c]*h[0]*F;
G[c*3+1]+=h[c]*h[1]*F;G[c*3+2]+=h[c]*h[2]*F}}q=Math.abs(WE-Or);W_=Math.abs(Wf-Wu);if(q<=.5&&W_<=.5){X.Li.hW[C<<1]=WE+f;
X.Li.hW[(C<<1)+1]=Wf+r;continue}WU=A(G,Or,Wu);WZ=Or;WL=Wu;if(G[0]!=0){for(Wj=0;Wj<2;Wj++){Wf=Wu-.5+Wj;
WE=-(G[1]*Wf+G[2])/G[0];q=Math.abs(WE-Or);Wd=A(G,WE,Wf);if(q<=.5&&Wd<WU){WU=Wd;WZ=WE;WL=Wf}}}if(G[4]!=0){for(Wj=0;
Wj<2;Wj++){WE=Or-.5+Wj;Wf=-(G[3]*WE+G[5])/G[4];W_=Math.abs(Wf-Wu);Wd=A(G,WE,Wf);if(W_<=.5&&Wd<WU){WU=Wd;
WZ=WE;WL=Wf}}}for(c=0;c<2;c++){for(j=0;j<2;j++){WE=Or-.5+c;Wf=Wu-.5+j;Wd=A(G,WE,Wf);if(Wd<WU){WU=Wd;
WZ=WE;WL=Wf}}}X.Li.hW[C<<1]=WZ+f;X.Li.hW[(C<<1)+1]=WL+r}}function Y(X){var M=X.Li.Jo,g=X.Li,C,n,V,i,f,r,e,D,B;
for(C=0;C<M;C++){n=v(C+1,M);V=v(C+2,M);var h=g.hW[C<<1],I=g.hW[(C<<1)+1],j=g.hW[V<<1],c=g.hW[(V<<1)+1],m=g.hW[n<<1],F=g.hW[(n<<1)+1],G=Q(.5,j,m),q=Q(.5,c,F);
f=S(h,I,j,c);if(f!=0){i=H(m-h,F-I,j-h,c-I)/f;i=Math.abs(i);r=i>1?1-1/ i:0;r=r*(1/.75)}else{r=4/3}g.KG[n]=r;
var W_=3*n<<1;if(r>=u.OK$){g.Am[n]=0;g.Mn[W_+0]=g.Mn[W_+1]=0;g.Mn[W_+2]=m;g.Mn[W_+3]=F;g.Mn[W_+4]=G;
g.Mn[W_+5]=q}else{if(r<.55){r=.55}else if(r>1){r=1}var WU=.5+.5*r;g.Am[n]=1;g.Mn[W_]=Q(WU,h,m);g.Mn[W_+1]=Q(WU,I,F);
g.Mn[W_+2]=Q(WU,j,m);g.Mn[W_+3]=Q(WU,c,F);g.Mn[W_+4]=G;g.Mn[W_+5]=q}g.alpha[n]=r;g.Ka[n]=.5}g.OKU=1}function y(X){function M(){this.mF=0;
this.Wg=0;this.WI=0;this.Wi=0;this.Wn=0;this.hL=0;this.RI=0;this.alpha=0}function g(X,C,h,OP,Hz,Wd,WZ){var V=X.Li.Jo,HP=X.Li.Mn,OW=X.Li.hW;
if(C==h)return 1;var WX=C,m=v(C+1,V),Az=v(WX+1,V),Oi=OW[C<<1],Wc=OW[(C<<1)+1],Hg=OW[m<<1],Hm=OW[(m<<1)+1],HB=Wd[Az];
if(HB==0)return 1;var Ow=o(Oi-Hg,Wc-Hm);for(WX=Az;WX!=h;WX=Az){var Az=v(WX+1,V),HH=v(WX+2,V),Hk=OW[Az<<1],Hl=OW[(Az<<1)+1],O_=OW[HH<<1],Hj=OW[(HH<<1)+1];
if(Wd[Az]!=HB)return 1;if(Math.sign(H(Hg-Oi,Hm-Wc,O_-Hk,Hj-Hl))!=HB)return 1;if(N(Hg-Oi,Hm-Wc,O_-Hk,Hj-Hl)<Ow*o(Hk-O_,Hl-Hj)*-.999847695156)return 1}var Hf=v(C,V)*3+2<<1,HF=v(C+1,V)<<1,$$=v(h,V)<<1,Og=v(h,V)*3+2<<1,WS=HP[Hf],Wx=HP[Hf+1],Hy=OW[HF],HS=OW[HF+1],AV=OW[$$],HT=OW[$$+1],Oe=HP[Og],Hs=HP[Og+1],WL=OW[0],Wj=OW[1];
Hf=h*3+2<<1;var Ht=HP[Hf],HK=HP[Hf+1],F=WZ[h]-WZ[C];F-=H(Ht-WL,HK-Wj,Ht-WL,HK-Wj)/2;if(C>=h){F+=WZ[V]}var Ox=Hy-WS,$O=HS-Wx,HI=AV-WS,HE=HT-Wx,Al=Oe-WS,ON=Hs-Wx,AD=H(Ox,$O,HI,HE),AU=H(Ox,$O,Al,ON),Hu=H(HI,HE,Al,ON),On=AD+Hu-AU;
if(AU==AD)return 1;var WU=Hu/(Hu-On),W_=AU/(AU-AD),AH=AU*WU/2;if(AH==0)return 1;var $R=F/AH,G=2-Math.sqrt(4-$R/.3);
OP.Wg=Q(WU*G,WS,Hy);OP.WI=Q(WU*G,Wx,HS);OP.Wi=Q(W_*G,Oe,AV);OP.Wn=Q(W_*G,Hs,HT);OP.alpha=G;OP.hL=WU;
OP.RI=W_;Hy=OP.Wg;HS=OP.WI;AV=OP.Wi;HT=OP.Wn;OP.mF=0;for(WX=v(C+1,V);WX!=h;WX=Az){Az=v(WX+1,V);var Hp=OW[WX<<1],$i=OW[(WX<<1)+1],Hk=OW[Az<<1],Hl=OW[(Az<<1)+1];
WU=O(Hy-WS,HS-Wx,AV-Hy,HT-HS,Oe-AV,Hs-HT,Hk-Hp,Hl-$i);if(WU<-.5)return 1;var Ha=p(WU,WS,Hy,AV,Oe),$Q=p(WU,Wx,HS,HT,Hs),Ow=o(Hk-Hp,Hl-$i);
if(Ow==0)return 1;var HQ=H(Hk-Hp,Hl-$i,Ha-Hp,$Q-$i)/Ow;if(Math.abs(HQ)>Hz)return 1;if(N(Hk-Hp,Hl-$i,Ha-Hp,$Q-$i)<0||N(Hp-Hk,$i-Hl,Ha-Hk,$Q-Hl)<0){return 1}OP.mF+=HQ*HQ}for(WX=C;
WX!=h;WX=Az){Az=v(WX+1,V);var Hf=WX*3+2<<1,HF=Az*3+2<<1,Af=HP[Hf],Ho=HP[Hf+1],Aq=HP[HF],Hh=HP[HF+1];
WU=O(Hy-WS,HS-Wx,AV-Hy,HT-HS,Oe-AV,Hs-HT,Aq-Af,Hh-Ho);if(WU<-.5)return 1;var Ha=p(WU,WS,Hy,AV,Oe),$Q=p(WU,Wx,HS,HT,Hs),Ow=o(Aq-Af,Hh-Ho);
if(Ow==0)return 1;var HQ=H(Aq-Af,Hh-Ho,Ha-Af,$Q-Ho)/Ow,WW=H(Aq-Af,Hh-Ho,OW[Az<<1]-Af,OW[(Az<<1)+1]-Ho)/Ow;
WW*=.75*X.Li.alpha[Az];if(WW<0){HQ=-HQ;WW=-WW}if(HQ<WW-Hz)return 1;if(HQ<WW){OP.mF+=(HQ-WW)*(HQ-WW)}}return 0}var n=X.Li,V=n.Jo,i=n.hW,f=new Array(V+1),r=new Array(V+1),e=new Array(V+1),D=new Array(V+1),B,C,h,I,j=new M,c,m,F,G,q,W_,WU,Wd=new Array(V),WZ=new Array(V+1);
for(C=0;C<V;C++){if(n.Am[C]=="CURVE"){var WL=i[v(C-1,V)<<1],Wj=i[(v(C-1,V)<<1)+1],Or=i[C<<1],Wu=i[(C<<1)+1],WE=i[v(C+1,V)<<1],Wf=i[(v(C+1,V)<<1)+1];
Wd[C]=Math.sign(H(Or-WL,Wu-Wj,WE-Or,Wf-Wu))}else{Wd[C]=0}}F=0;WZ[0]=0;var WS=n.hW[0],Wx=n.hW[1];for(C=0;
C<V;C++){m=v(C+1,V);if(n.Am[m]=="CURVE"){G=n.alpha[m];var WQ=C*3+2<<1,WJ=m*3+2<<1,Ww=n.Mn[WQ],Wv=n.Mn[WQ+1],Oi=i[m<<1],Wc=i[(m<<1)+1],Wh=n.Mn[WJ],Om=n.Mn[WJ+1];
F+=.3*G*(4-G)*H(Oi-Ww,Wc-Wv,Wh-Ww,Om-Wv)/2;F+=H(Ww-WS,Wv-Wx,Wh-WS,Om-Wx)/2}WZ[C+1]=F}f[0]=-1;r[0]=0;
e[0]=0;for(h=1;h<=V;h++){f[h]=h-1;r[h]=r[h-1];e[h]=e[h-1]+1;for(C=h-2;C>=0;C--){I=g(X,C,v(h,V),j,u.OKq,Wd,WZ);
if(I){break}if(e[h]>e[C]+1||e[h]==e[C]+1&&r[h]>r[C]+j.mF){f[h]=C;r[h]=r[C]+j.mF;e[h]=e[C]+1;D[h]=j;j=new M}}}B=e[V];
q=new t(B);W_=new Array(B);WU=new Array(B);h=V;for(C=B-1;C>=0;C--){var WN=v(h,V),WR=C*3+0<<1,Wp=WN*3+0<<1;
if(f[h]==h-1){q.Am[C]=n.Am[WN];q.Mn[WR]=n.Mn[Wp];q.Mn[WR+1]=n.Mn[Wp+1];q.Mn[WR+2]=n.Mn[Wp+2];q.Mn[WR+3]=n.Mn[Wp+3];
q.Mn[WR+4]=n.Mn[Wp+4];q.Mn[WR+5]=n.Mn[Wp+5];q.hW[C<<1]=n.hW[WN<<1];q.hW[(C<<1)+1]=n.hW[(WN<<1)+1];q.alpha[C]=n.alpha[WN];
q.KG[C]=n.KG[WN];q.Ka[C]=n.Ka[WN];W_[C]=WU[C]=1}else{q.Am[C]="CURVE";q.Mn[WR]=D[h].Wg;q.Mn[WR+1]=D[h].WI;
q.Mn[WR+2]=D[h].Wi;q.Mn[WR+3]=D[h].Wn;q.Mn[WR+4]=n.Mn[Wp+4];q.Mn[WR+5]=n.Mn[Wp+5];q.hW[C<<1]=Q(D[h].RI,n.Mn[Wp+4],i[WN<<1]);
q.hW[(C<<1)+1]=Q(D[h].RI,n.Mn[Wp+5],i[(WN<<1)+1]);q.alpha[C]=D[h].alpha;q.KG[C]=D[h].alpha;W_[C]=D[h].RI;
WU[C]=D[h].hL}h=f[h]}for(C=0;C<B;C++){m=v(C+1,B);q.Ka[C]=W_[C]/(W_[C]+WU[m])}q.OKU=1;X.Li=q}for(var C=0;
C<R.length;C++){var X=R[C];E(X);L(X);U(X);W(X);Y(X);if(u.OKO)y(X)}}return{OEX:a,OEC:k}}();lY.OSK=function(l,t,a,k){var R={mr:"minority",OEh:k,OKO:!0,OK$:1,OKq:.2},u=lY.OEX(l,t,a,R);
lY.OEC(u,R);return u};lY.OSs=function(l){var t=[];for(var a=0;a<l.length;a++){var k=l[a],R=k.Li,u=["M"],b=[R.Mn[(R.Jo-1)*6+4],R.Mn[(R.Jo-1)*6+5]];
for(var v=0;v<R.Jo;v++){var H=v*6;if(R.Am[v]==1){u.push("C");for(var N=0;N<6;N++)b.push(R.Mn[H+N])}else if(R.Am[v]==0){u.push("L");
for(var N=2;N<4;N++)b.push(R.Mn[H+N])}}t.push({parent:k.parent,color:k.color,path:{p:b,A:u}})}return t};
lY.O_f=function(l,t,a,k,R){function u(p){function O(H){var o="C "+(p.Mn[H*3+0<<1]*t).toFixed(1)+" "+(p.Mn[(H*3+0<<1)+1]*t).toFixed(1)+",";
o+=(p.Mn[H*3+1<<1]*t).toFixed(1)+" "+(p.Mn[(H*3+1<<1)+1]*t).toFixed(1)+",";o+=(p.Mn[H*3+2<<1]*t).toFixed(1)+" "+(p.Mn[(H*3+2<<1)+1]*t).toFixed(1)+" ";
return o}function E(H){var W="L "+(p.Mn[H*3+1<<1]*t).toFixed(1)+" "+(p.Mn[(H*3+1<<1)+1]*t).toFixed(1)+" ";
W+=(p.Mn[H*3+2<<1]*t).toFixed(1)+" "+(p.Mn[(H*3+2<<1)+1]*t).toFixed(1)+" ";return W}var L=p.Jo,H,U="M"+(p.Mn[(L-1)*3+2<<1]*t).toFixed(1)+" "+(p.Mn[((L-1)*3+2<<1)+1]*t).toFixed(1)+" ";
for(H=0;H<L;H++){if(p.Am[H]==1){U+=O(H)}else if(p.Am[H]==0){U+=E(H)}}return U}var a=a*t,k=k*t,b=l.length,v=[];
for(var H=0;H<256;H++)v.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var N="<svg id=\"svg\" version=\"1.1\" width=\""+a+"\" height=\""+k+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var H=0;H<b;H++){var z=R[l[H].color-1].OnY.OnL;if((z>>>24&255)==0)continue;N+="<path d=\"";var A=l[H].Li;
N+=u(A);var Q=z>>0&255,S=z>>8&255,o=z>>16&255,z="rgb("+Q+","+S+","+o+")";N+="\" fill=\""+z+"\" fill-rule=\"evenodd\"/>"}N+="</svg>";
return N};lY.OUK=function(l,t,a){var k=l.length>>1,R,u=l[2*k-3]-a,b=l[2*k-2]-t,v=l[2*k-1]-a,H=v>u,z=0;
for(var N=0;N<k;N++){R=b;u=v;b=l[2*N]-t;v=l[2*N+1]-a;if(u==v)continue;H=v>u}for(var N=0;N<k;N++){R=b;
u=v;b=l[2*N]-t;v=l[2*N+1]-a;if(u<0&&v<0)continue;if(u>0&&v>0)continue;if(R<0&&b<0)continue;if(u==v&&Math.min(R,b)<=0)return!0;
if(u==v)continue;var A=R+(b-R)*-u/(v-u);if(A==0)return!0;if(A>0)z++;if(u==0&&H&&v>u)z--;if(u==0&&!H&&v<u)z--;
H=v>u}return(z&1)==1};lY.fill=function(l,t,a,k){var R=t[l],u=[l],b=0;while(b<u.length){if(u.length>a*a*2)throw"e";
var v=u[b];b++;t[v]=k;if(t[v-a]==R){u.push(v-a);t[v-a]=254}if(t[v-1]==R){u.push(v-1);t[v-1]=254}if(t[v+1]==R){u.push(v+1);
t[v+1]=254}if(t[v+a]==R){u.push(v+a);t[v+a]=254}}};var T={};T.jS=!1;T.rf=!1;T.ku=!1;T.Ej=document.createElement("canvas");
T.Jc=null;T.NX=null;T.bE=0;(function(){var l={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},t;
if(!t)t=T.Ej.getContext("webgl",l);if(!t)t=T.Ej.getContext("experimental-webgl",l);if(t){T.jS=!0;T.rf=!0;
T.Jc=t;T.NX=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,T.NX);t.disable(t.BLEND);t.disable(t.DEPTH_TEST);
var a=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,a);t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW);
t.enableVertexAttribArray(0);t.vertexAttribPointer(0,2,t.FLOAT,!1,0,0)}}());T.OEE=function(l){var t=T.Jc;
if(l>t.getParameter(t.MAX_TEXTURE_SIZE)){T.jS=!1;alert("Disabling WebGL")}};T.bH=function(l,t){return new Float32Array([(l.x-t.x)/t.$,(l.y-t.y)/t.e,l.$/t.$,l.e/t.e])};
T.Wz=function(){return this.Ej};T.CT=function(l,t){var a=T.Jc;a.bindFramebuffer(a.FRAMEBUFFER,T.NX);
a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,l.bx,0);a.viewport(0,0,l.$,l.e);
if(t){a.enable(a.SCISSOR_TEST);a.scissor(t.x,t.y,t.$,t.e)}else a.disable(a.SCISSOR_TEST)};T.fK=function(l,t,a){if(a)throw"error";
var k=T.Jc;k.disable(k.SCISSOR_TEST);k.bindFramebuffer(k.FRAMEBUFFER,null);k.viewport(0,0,l,t);if(a){k.enable(k.SCISSOR_TEST);
k.scissor(a.x,a.y,Math.round(a.$),Math.round(a.e))}else k.disable(k.SCISSOR_TEST)};T.clear=function(){var l=T.Jc;
l.clearColor(0,0,0,0);l.clear(l.COLOR_BUFFER_BIT)};T.lB=function(l,t){if(t==null)t=0;var a=(t>>0&255)==0,k=(t>>8&255)==0,R=(t>>16&255)==0,u=(t>>24&255)==0,b=(l>>0&255)*(1/255),v=(l>>8&255)*(1/255),H=(l>>16&255)*(1/255),N=(l>>24&255)*(1/255),z=T.Jc;
z.colorMask(a,k,R,u);z.clearColor(b,v,H,N);z.clear(z.COLOR_BUFFER_BIT);z.colorMask(!0,!0,!0,!0)};T.GJ=function(l,t,a,k,R){var u=t.gk(k);
if(R)u=u.gk(R);if(u.wp())return;var b=T.Jc;T.CT(l);b.bindTexture(b.TEXTURE_2D,a.bx);b.copyTexSubImage2D(b.TEXTURE_2D,0,u.x-k.x,u.y-k.y,u.x-t.x,u.y-t.y,u.$,u.e)};
T.O_x=function(l,t,a){var k=T.fT[l];if(k==null||k.$!=t||k.e!=a){if(k)k.delete();k=new T.gL(t,a)}T.fT[l]=k;
return k};T.fT=[];T.rs=function(){this.WE=null;this.kT=null};T.rs.uU=null;T.rs.prototype.YX=function(l){if(this.kT)return;
this.kT={};var t=T.Jc,a=this.WE,k=this.kT;for(var R=0;R<l.length;R++){var u=l[R];k[u]=t.getUniformLocation(a,u)}};
T.rs.prototype.cf=function(){};T.rs.prototype.TC=function(l,t){var a=T.Jc,k=a.createShader(a.FRAGMENT_SHADER);
a.shaderSource(k,l);a.compileShader(k);if(!a.getShaderParameter(k,a.COMPILE_STATUS))console.log(a.getShaderInfoLog(k));
var R=a.createShader(a.VERTEX_SHADER);a.shaderSource(R,t);a.compileShader(R);if(!a.getShaderParameter(R,a.COMPILE_STATUS))console.log(a.getShaderInfoLog(R));
var u=a.createProgram();a.attachShader(u,R);a.attachShader(u,k);a.linkProgram(u);if(!a.getProgramParameter(u,a.LINK_STATUS))console.log("Could not initialise shaders");
this.WE=u};T.rs.prototype.Se=function(){if(T.rs.uU!=this){T.Jc.useProgram(this.WE);T.rs.uU=this}};T.bR=function(l,t){T.So++;
T.bE+=l*t;if(T.ku)console.log("GL.Channels instances: "+T.So+", memory: "+T.bE);var a=T.Jc;this.$=l;
this.e=t;this.bx=a.createTexture();this.MW=null;this.Nw(this.bx,l,t)};T.bR.prototype.Nw=function(l,t,a){var k=T.Jc;
k.bindTexture(k.TEXTURE_2D,l);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST);
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE);
k.texImage2D(k.TEXTURE_2D,0,k.ALPHA,t,a,0,k.ALPHA,k.UNSIGNED_BYTE,null)};T.bR.prototype.set=function(l){var t=T.Jc;
t.bindTexture(t.TEXTURE_2D,this.bx);t.pixelStorei(t.UNPACK_ALIGNMENT,1);t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.$,this.e,0,t.ALPHA,t.UNSIGNED_BYTE,l);
t.pixelStorei(t.UNPACK_ALIGNMENT,4)};T.bR.prototype.delete=function(){var l=T.Jc;if(this.bx){l.deleteTexture(this.bx);
T.So--;T.bE-=this.$*this.e}if(T.ku)if(T.ku)console.log("GL.Channels instances: "+T.So+", memory: "+T.bE*4)};
T.So=0;T.gL=function(l,t,a){if(a==null)a=!1;T.So++;T.bE+=l*t*4;if(T.ku)console.log("GL.Channels instances: "+T.So+", memory: "+T.bE);
var k=T.Jc;this.OKG=a;this.$=l;this.e=t;this.bx=k.createTexture();this.MW=null;this.Nw(this.bx,l,t)};
T.gL.prototype.set=function(l,t){var a=T.Jc;a.disable(a.SCISSOR_TEST);a.bindTexture(a.TEXTURE_2D,this.bx);
if(l==null||l instanceof Uint8Array){var k=this.$*this.e;if(t==null||t.s()*10>k)a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.$,this.e,0,a.RGBA,a.UNSIGNED_BYTE,l);
else{var R=$.I(t.s()*4);$.BM(l,new d(0,0,this.$,this.e),R,t);a.texSubImage2D(a.TEXTURE_2D,0,t.x,t.y,t.$,t.e,a.RGBA,a.UNSIGNED_BYTE,R)}}else a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,l)};
T.gL.prototype.get=function(l){var t=T.Jc;T.CT(this);t.readPixels(0,0,this.$,this.e,t.RGBA,t.UNSIGNED_BYTE,l)};
T.gL.prototype.gn=function(l){if(l.wp())return;var t=T.Jc;if(this.MW==null){this.MW=t.createTexture();
this.Nw(this.MW,this.$,this.e);T.So++;T.bE+=this.$*this.e*4}t.bindFramebuffer(t.FRAMEBUFFER,T.NX);t.bindTexture(t.TEXTURE_2D,this.MW);
if(l){var a=Math.max(l.x,0),k=Math.max(l.y,0);t.copyTexSubImage2D(t.TEXTURE_2D,0,a,k,a,k,l.$,l.e)}else t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,0,0,this.$,this.e,0)};
T.gL.prototype.Nw=function(l,t,a){var k=T.Jc;k.bindTexture(k.TEXTURE_2D,l);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,this.OKG?k.LINEAR:k.NEAREST);
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE);
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,t,a,0,k.RGBA,k.UNSIGNED_BYTE,null)};
T.gL.prototype.delete=function(){var l=T.Jc;if(this.bx){l.deleteTexture(this.bx);T.So--;T.bE-=this.$*this.e*4}if(this.MW){l.deleteTexture(this.MW);
T.So--;T.bE-=this.$*this.e*4}if(T.ku)if(T.ku)console.log("GL.Channels instances: "+T.So+", memory: "+T.bE)};
T.gL.prototype.clone=function(){var l=T.Jc,t=new T.gL(this.$,this.e);T.CT(this);l.bindTexture(l.TEXTURE_2D,t.bx);
l.copyTexImage2D(l.TEXTURE_2D,0,l.RGBA,0,0,this.$,this.e,0);return t};T.CB={OEL:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  return mix( ONE3 - min(ONE3,(ONE3-b)/(a*f+ONE3-f))    ,   ZERO3  , vec3(equal(a  ,ZERO3)) );  }  ",O_c:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",sH:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",OO:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",fJ:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",tl:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",Be:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",gf:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",OVH:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",tg:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",OVK:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",l$:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",fe:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",kG:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",AF:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",lu:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",HC:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",gU:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }"};
T.Dn=function(l,t,a,k,R){if(T.Dn.Zf==null)T.Dn.Zf=new T.Dn.FL;var u=t.D.length;if(T.Dn.sP["m"+u]==null){T.Dn.sP["m"+u]={OKM:new T.gL(u,1),nr:$.I(u*4)}}var b=T.Dn.sP["m"+u];
$.xm(t.D,b.nr,0);$.xm(t.K,b.nr,1);$.xm(t.l,b.nr,2);var v=b.OKM;v.set(b.nr);var H=T.Dn.Zf,N=T.Jc;T.CT(l,R);
l.gn(R);H.Se();H.cf(l.MW,v.bx,a?1:0,k?1:0);N.drawArrays(N.TRIANGLES,0,6)};T.Dn.Zf=null;T.Dn.sP={};T.Dn.FL=function(){T.rs.call(this);
var l="\t\t\tprecision mediump float;\t\t\t"+T.CB.Be+"\t\t\t"+T.CB.sH+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}",t="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.TC(l,t)};T.Dn.FL.prototype=new T.rs;T.Dn.FL.prototype.cf=function(l,t,a,k){this.YX(["source","map","toGray","presLum"]);
var R=T.Jc,u=this.kT;R.uniform1f(u.toGray,a);R.uniform1f(u.presLum,k);R.uniform1i(u.source,0);R.uniform1i(u.map,1);
R.activeTexture(R.TEXTURE0);R.bindTexture(R.TEXTURE_2D,l);R.activeTexture(R.TEXTURE1);R.bindTexture(R.TEXTURE_2D,t);
R.activeTexture(R.TEXTURE0)};T.hj=function(l,t,a,k,R,u){if(T.hj.Zf==null){T.hj.Zf=new T.hj.FL;T.hj.bg=new T.gL(256,1);
T.hj.fh=$.I(256*4)}t.w=$.I(256);var b=T.hj.fh;$.Dc(t,b);var v=T.hj.bg;v.set(b);var H=T.hj.Zf,N=T.Jc;
T.CT(l,a);l.gn(a);H.Se();H.cf(l.MW,v.bx,k,R,u);N.drawArrays(N.TRIANGLES,0,6)};T.hj.Zf=null;T.hj.bg=null;
T.hj.fh=null;T.hj.FL=function(){T.rs.call(this);var l="\t\t\tprecision mediump float;\t\t\t"+T.CB.lu+"\t\t\t"+T.CB.kG+"\t\t\t"+T.CB.AF+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float cfa; \t\t\tuniform float cfb; \t\t\tuniform int colorize; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\tvec3 rgb = src.rgb;\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\tfloat nh = mapv.r; \t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\tfloat ns = sc; \t\t\t\tif(colorize==0) {\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t} \t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t}",t="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.TC(l,t)};T.hj.FL.prototype=new T.rs;T.hj.FL.prototype.cf=function(l,t,a,k,R){this.YX(["source","map","cfa","cfb","colorize"]);
var u=T.Jc,b=this.kT;u.uniform1f(b.cfa,a);u.uniform1f(b.cfb,k);u.uniform1i(b.colorize,R);u.uniform1i(b.source,0);
u.uniform1i(b.map,1);u.activeTexture(u.TEXTURE0);u.bindTexture(u.TEXTURE_2D,l);u.activeTexture(u.TEXTURE1);
u.bindTexture(u.TEXTURE_2D,t);u.activeTexture(u.TEXTURE0)};T.IY=function(l,t,a,k){if(T.IY.Zf==null)T.IY.Zf=new T.IY.FL;
var R=T.IY.Zf,u=T.Jc;T.CT(l,k);l.gn(k);R.Se();R.cf(l.MW,t,a);u.drawArrays(u.TRIANGLES,0,6)};T.IY.Zf=null;
T.IY.FL=function(){T.rs.call(this);var l="\t\t\tprecision mediump float;\t\t\t"+T.CB.lu+"\t\t\t"+T.CB.HC+"\t\t\t"+T.CB.gU+"\t\t\t"+T.CB.kG+"\t\t\t"+T.CB.AF+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}",t="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.TC(l,t)};T.IY.FL.prototype=new T.rs;T.IY.FL.prototype.cf=function(l,t,a){this.YX(["source","vib","sat"]);
var k=T.Jc,R=this.kT;k.uniform1f(R.vib,t);k.uniform1f(R.sat,a);k.uniform1i(R.source,0);k.activeTexture(k.TEXTURE0);
k.bindTexture(k.TEXTURE_2D,l)};T.IM=function(l,t,a){if(T.IM.Zf==null)T.IM.Zf=new T.IM.FL;var k=T.IM.Zf,R=T.Jc;
T.CT(l,a);l.gn(a);k.Se();k.cf(l.MW,t);R.drawArrays(R.TRIANGLES,0,6)};T.IM.Zf=null;T.IM.FL=function(){T.rs.call(this);
var l="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = vec4(texture2D(source, sCoord).rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*src).rgb,src.w); \t\t\t\t\t\t\t}",t="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.TC(l,t)};T.IM.FL.prototype=new T.rs;T.IM.FL.prototype.cf=function(l,t){this.YX(["source","trf"]);
var a=T.Jc,k=this.kT;a.uniformMatrix4fv(k.trf,!1,new Float32Array($.sg.CC(t)));a.uniform1i(k.source,0);
a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,l)};T.Ie=function(l,t,a){if(T.Ie.Zf==null){T.Ie.Zf=new T.Ie.FL}var k=T.Ie.Zf,R=T.Jc;
T.CT(l,a);l.gn(a);k.Se();k.cf(l.MW,t);R.drawArrays(R.TRIANGLES,0,6)};T.Ie.Zf=null;T.Ie.FL=function(){T.rs.call(this);
var l="\t\t\tprecision mediump float;\t\t\t"+T.CB.sH+"\t\t\t"+T.CB.OO+"\t\t\t"+T.CB.fJ+"\t\t\t"+T.CB.kG+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",t="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.TC(l,t)};T.Ie.FL.prototype=new T.rs;T.Ie.FL.prototype.cf=function(l,t){this.YX(["source","cfs"]);
var a=T.Jc,k=this.kT;a.uniform3fv(k.cfs,t);a.uniform1i(k.source,0);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,l);
a.activeTexture(a.TEXTURE0)};T.Pg=function(l,t,a,k){if(T.Pg.Zf==null){T.Pg.Zf=new T.Pg.FL}var R=T.Pg.Zf,u=T.Jc;
T.CT(l,k);l.gn(k);R.Se();R.cf(l.MW,t,a);u.drawArrays(u.TRIANGLES,0,6)};T.Pg.Zf=null;T.Pg.FL=function(){T.rs.call(this);
var l="\t\t\tprecision mediump float;\t\t\t"+T.CB.lu+"\t\t\t"+T.CB.OO+"\t\t\t"+T.CB.fJ+"\t\t\t"+T.CB.kG+"\t\t\t"+T.CB.AF+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}",t="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.TC(l,t)};T.Pg.FL.prototype=new T.rs;T.Pg.FL.prototype.cf=function(l,t,a){this.YX(["source","wght","prms"]);
var k=T.Jc,R=this.kT;k.uniform1fv(R.wght,new Float32Array(t));k.uniform1fv(R.prms,new Float32Array(a));
k.uniform1i(R.source,0);k.activeTexture(k.TEXTURE0);k.bindTexture(k.TEXTURE_2D,l);k.activeTexture(k.TEXTURE0)};
T.j={};T.j.sE={};T.j.sf=null;T.j.sm=null;T.j.sa=null;T.j.fv=function(l,t,a,k,R,u,b,v){if(v==null)v=WD.EI();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(l)==-1){b=b*v.fill;v.fill=1;v.style=!1}if(T.j.sE[l]==null)T.j.sE[l]=new T.j.FL(l);
var H=T.j.sE[l],N=a.gk(R).gk(u);N.offset(-R.x,-R.y);if(N.wp())return;var z=T.Jc;T.CT(k,N);k.gn(N);H.Se();
H.cf(t.bx,k.MW,T.bH(a,R),b,v.fill,v.style?1:0,v.ZE?1:0);z.drawArrays(z.TRIANGLES,0,6)};T.j.Nt=function(l,t,a,k,R,u,b,v,H,N){if(T.j.sf==null)T.j.sf=new T.j.WD(!0,!0);
if(T.j.sm==null)T.j.sm=new T.j.WD(!0,!1);if(T.j.sa==null)T.j.sa=new T.j.WD(!1,!0);var z=N?1:0,A=l?R?T.j.sf:T.j.sm:T.j.sa,Q=t?t.gk(k).gk(v):k.gk(v);
if(Q.wp())return;Q.offset(-k.x,-k.y);var S=T.Jc;T.CT(a,Q);a.gn(Q);A.Se();if(l==null)A.cf(null,a.MW,R.bx,T.bH(k,k),T.bH(u,k),b/255,H,z);
else if(R)A.cf(l.bx,a.MW,R.bx,T.bH(t,k),T.bH(u,k),b/255,H,z);else A.cf(l.bx,a.MW,null,T.bH(t,k),null,b/255,H,z);
S.drawArrays(S.TRIANGLES,0,6)};T.j.O_Z=function(l,t,a){if(T.j.IX==null)T.j.IX=new T.j.su;var k=T.j.IX,R=new d(0,0,l.$,l.e),u=T.Jc;
T.CT(t);t.gn(R);k.Se();k.cf(R,l.bx,t.MW,a.bx);u.drawArrays(u.TRIANGLES,0,6)};T.j.qG={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
T.j.FL=function(l){T.rs.call(this);var t="\t\t\tprecision mediump float;\t\t\t"+T.CB.sH+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+T.CB.tl+"\t\t\t"+T.CB.Be+"\t\t\t"+T.CB.gf+"\t\t\t"+T.CB.OEL+"\t\t\t"+T.CB.O_c+"\t\t\t"+T.CB.OVH+"\t\t\t"+T.CB.tg+"\t\t\t"+T.CB.OVK+"\t\t\t"+T.CB.l$+"\t\t\t"+T.CB.hash+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+T.j.qG[l]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",a="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(l=="diss")t+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else t+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.TC(t,a)};T.j.FL.prototype=new T.rs;T.j.FL.prototype.cf=function(l,t,a,k,R,u,b){this.YX("srct alpha source target fill style keepBGA".split(" "));
var v=T.Jc,H=this.kT;v.uniform4fv(H.srct,a);v.uniform1f(H.alpha,k);v.uniform1f(H.fill,R);v.uniform1f(H.style,u);
v.uniform1f(H.keepBGA,b);v.uniform1i(H.source,0);v.uniform1i(H.target,1);v.activeTexture(v.TEXTURE0);
v.bindTexture(v.TEXTURE_2D,l);v.activeTexture(v.TEXTURE1);v.bindTexture(v.TEXTURE_2D,t);v.activeTexture(v.TEXTURE0)};
T.j.WD=function(l,t){T.rs.call(this);this.OnX=l;this.KY=t;var a="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+T.CB.fe+"\t\t\t"+T.CB.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(l?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(t?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(l?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",k="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.TC(a,k)};T.j.WD.prototype=new T.rs;T.j.WD.prototype.cf=function(l,t,a,k,R,u,b,v){if(this.KY)this.YX("srct wrct wcolor awg dissv source target weight".split(" "));
else this.YX(["srct","awg","dissv","source","target"]);var H=T.Jc,N=this.kT;H.uniform4fv(N.srct,k);if(this.KY){H.uniform4fv(N.wrct,R);
H.uniform1f(N.wcolor,u)}H.uniform1f(N.awg,b);H.uniform1f(N.dissv,v);H.uniform1i(N.source,0);H.uniform1i(N.target,1);
if(this.KY)H.uniform1i(N.weight,2);H.activeTexture(H.TEXTURE0);H.bindTexture(H.TEXTURE_2D,l);H.activeTexture(H.TEXTURE1);
H.bindTexture(H.TEXTURE_2D,t);if(this.KY){H.activeTexture(H.TEXTURE2);H.bindTexture(H.TEXTURE_2D,a)}H.activeTexture(H.TEXTURE0)};
T.j.su=function(){T.rs.call(this);var l="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",t="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.TC(l,t)};T.j.su.prototype=new T.rs;T.j.su.prototype.cf=function(l,t,a,k){this.YX(["rct","prev","next","alpha"]);
var R=T.Jc,u=this.kT;R.uniform4fv(u.rct,[0,0,1,1]);R.uniform1i(u.prev,0);R.uniform1i(u.next,1);R.uniform1i(u.alpha,2);
R.activeTexture(R.TEXTURE0);R.bindTexture(R.TEXTURE_2D,t);R.activeTexture(R.TEXTURE1);R.bindTexture(R.TEXTURE_2D,a);
R.activeTexture(R.TEXTURE2);R.bindTexture(R.TEXTURE_2D,k);R.activeTexture(R.TEXTURE0)};function x(l,t){if(!l)l=0;
if(!t)t=0;this.x=l;this.y=t}x.prototype.add=function(l){return new x(this.x+l.x,this.y+l.y)};x.prototype.clone=function(){return new x(this.x,this.y)};
x.prototype.kE=function(l){this.x=l.x;this.y=l.y};x.prototype.cG=function(l){return this.x==l.x&&this.y==l.y};
x.prototype.normalize=function(l){var t=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=l/t;this.y*=l/t};
x.prototype.offset=function(l,t){this.x+=l;this.y+=t};x.prototype.$x=function(l,t){this.x=l;this.y=t};
x.prototype.ux=function(l){return new x(this.x-l.x,this.y-l.y)};x.tq=function(l,t){return x.OVq(l.x,l.y,t.x,t.y)};
x.uq=function(l,t,a){return new x(l.x+a*(t.x-l.x),l.y+a*(t.y-l.y))};x.O_D=function(l,t){return new x(l*Math.cos(t),l*Math.sin(t))};
x.OVq=function(l,t,a,k){return Math.sqrt((a-l)*(a-l)+(k-t)*(k-t))};x.sY={};x.jt={};x.sY.create=function(){var l=new Float32Array(4);
return l};x.jt.create=function(l){var t=new Float32Array(16);t[0]=t[5]=t[10]=t[15]=1;if(l)x.jt.set(l,t);
return t};x.sY.add=function(l,t,a){a[0]=l[0]+t[0];a[1]=l[1]+t[1];a[2]=l[2]+t[2];a[3]=l[3]+t[3]};x.sY.set=function(l,t){t[0]=l[0];
t[1]=l[1];t[2]=l[2];t[3]=l[3]};x.jt.set=function(l,t){t[0]=l[0];t[1]=l[1];t[2]=l[2];t[3]=l[3];t[4]=l[4];
t[5]=l[5];t[6]=l[6];t[7]=l[7];t[8]=l[8];t[9]=l[9];t[10]=l[10];t[11]=l[11];t[12]=l[12];t[13]=l[13];t[14]=l[14];
t[15]=l[15]};x.jt.multiply=function(l,t,a){var k=l[0],R=l[1],u=l[2],b=l[3],v=l[4],H=l[5],N=l[6],z=l[7],A=l[8],Q=l[9],S=l[10],o=l[11],p=l[12],O=l[13],E=l[14],L=l[15],U=t[0],W=t[1],Y=t[2],y=t[3];
a[0]=U*k+W*v+Y*A+y*p;a[1]=U*R+W*H+Y*Q+y*O;a[2]=U*u+W*N+Y*S+y*E;a[3]=U*b+W*z+Y*o+y*L;U=t[4];W=t[5];Y=t[6];
y=t[7];a[4]=U*k+W*v+Y*A+y*p;a[5]=U*R+W*H+Y*Q+y*O;a[6]=U*u+W*N+Y*S+y*E;a[7]=U*b+W*z+Y*o+y*L;U=t[8];W=t[9];
Y=t[10];y=t[11];a[8]=U*k+W*v+Y*A+y*p;a[9]=U*R+W*H+Y*Q+y*O;a[10]=U*u+W*N+Y*S+y*E;a[11]=U*b+W*z+Y*o+y*L;
U=t[12];W=t[13];Y=t[14];y=t[15];a[12]=U*k+W*v+Y*A+y*p;a[13]=U*R+W*H+Y*Q+y*O;a[14]=U*u+W*N+Y*S+y*E;a[15]=U*b+W*z+Y*o+y*L;
return a};x.jt.inverse=function(l,t){var a=l[0],k=l[1],R=l[2],u=l[3],b=l[4],v=l[5],H=l[6],N=l[7],z=l[8],A=l[9],Q=l[10],S=l[11],o=l[12],p=l[13],O=l[14],E=l[15],L=a*v-k*b,U=a*H-R*b,W=a*N-u*b,Y=k*H-R*v,y=k*N-u*v,C=R*N-u*H,X=z*p-A*o,M=z*O-Q*o,g=z*E-S*o,n=A*O-Q*p,V=A*E-S*p,i=Q*E-S*O,f=L*i-U*V+W*n+Y*g-y*M+C*X;
if(!f){return null}f=1/f;t[0]=(v*i-H*V+N*n)*f;t[1]=(R*V-k*i-u*n)*f;t[2]=(p*C-O*y+E*Y)*f;t[3]=(Q*y-A*C-S*Y)*f;
t[4]=(H*g-b*i-N*M)*f;t[5]=(a*i-R*g+u*M)*f;t[6]=(O*W-o*C-E*U)*f;t[7]=(z*C-Q*W+S*U)*f;t[8]=(b*V-v*g+N*X)*f;
t[9]=(k*g-a*V-u*X)*f;t[10]=(o*y-p*W+E*L)*f;t[11]=(A*W-z*y-S*L)*f;t[12]=(v*M-b*n-H*X)*f;t[13]=(a*n-k*M+R*X)*f;
t[14]=(p*U-o*Y-O*L)*f;t[15]=(z*Y-A*U+Q*L)*f;return t};x.jt.O_a=function(l,t,a){var k=t[0],R=t[1];a[0]=k*l[0]+R*l[4]+l[12];
a[1]=k*l[1]+R*l[5]+l[13]};x.jt.O_u=function(l,t,a){var k=t[0],R=t[1],u=t[2],b=t[3];a[0]=l[0]*k+l[4]*R+l[8]*u+l[12]*b;
a[1]=l[1]*k+l[5]*R+l[9]*u+l[13]*b;a[2]=l[2]*k+l[6]*R+l[10]*u+l[14]*b;a[3]=l[3]*k+l[7]*R+l[11]*u+l[15]*b};
function WM(l,t,a,k,R,u){if(typeof l==="undefined"){l=1;t=0;a=0;k=1;R=0;u=0}this.w=l;this.l=t;this.Mn=a;
this.N_=k;this.Pu=R;this.wf=u}WM.prototype.bd=function(){return Math.sqrt(Math.abs(this.w*this.N_-this.l*this.Mn))};
WM.prototype.fN=function(){var l=this,t=Math.round;l.w=t(l.w);l.l=t(l.l);l.Mn=t(l.Mn);l.N_=t(l.N_);l.Pu=t(l.Pu);
l.wf=t(l.wf)};WM.prototype.sV=function(l){return new x(l.x*this.w+l.y*this.Mn+this.Pu,l.x*this.l+l.y*this.N_+this.wf)};
WM.prototype.translate=function(l,t){this.Pu+=l;this.wf+=t};WM.prototype.rotate=function(l){var t=new WM(Math.cos(l),-Math.sin(l),Math.sin(l),Math.cos(l),0,0);
this.concat(t)};WM.prototype.scale=function(l,t){var a=new WM(l,0,0,t,0,0);this.concat(a)};WM.prototype.concat=function(l){this.kE(new WM(this.w*l.w+this.l*l.Mn,this.w*l.l+this.l*l.N_,this.Mn*l.w+this.N_*l.Mn,this.Mn*l.l+this.N_*l.N_,this.Pu*l.w+this.wf*l.Mn+l.Pu,this.Pu*l.l+this.wf*l.N_+l.wf))};
WM.prototype.sI=function(){var l=this.w*this.N_-this.l*this.Mn;this.kE(new WM(this.N_/l,-this.l/l,-this.Mn/l,this.w/l,(this.Mn*this.wf-this.N_*this.Pu)/l,(this.l*this.Pu-this.w*this.wf)/l))};
WM.prototype.clone=function(){return new WM(this.w,this.l,this.Mn,this.N_,this.Pu,this.wf)};WM.prototype.kE=function(l){this.w=l.w;
this.l=l.l;this.Mn=l.Mn;this.N_=l.N_;this.Pu=l.Pu;this.wf=l.wf};function Of(){}Of.CA=function(l,t,a,k){var R=a,u=K.Yv(l,a);
a+=4+2*u.length;if(u!="\0")t.__name=u;if(k)console.log("---------------------",u,u.length);t.classID=Of.kf(l,a);
if(k)console.log("- reading descriptor",t.classID,a);a+=4+Math.max(4,t.classID.length);var b=K.Gh(l,a);
a+=4;if(k)console.log(3,a);for(var v=0;v<b;v++){var H=Of.kf(l,a);a+=4+Math.max(4,H.length);if(k)console.log(H);
var N=Of.d$(l,a,k);t[H]=N;a+=N.size;delete N.size}return a-R};Of.hz=function(l,t,a,k){var R=a,u=t.__name;
if(u==null)u="\0";K.MM(l,a,u);a+=4+2*u.length;Of.ka(l,a,t.classID);a+=4+Math.max(4,t.classID.length);
K.hu(l,a,Object.keys(t).length-1-(t.__name==null?0:1));a+=4;for(var b in t){if(b=="classID")continue;
if(b=="__name")continue;Of.ka(l,a,b);a+=4+Math.max(4,b.length);a+=Of.dI(l,a,t[b])}return a-R};Of.d$=function(l,t,a){var k=t,R=K.NU(l,t,4);
t+=4;var u={size:0,t:R,v:null};if(a)console.log("reading key",R,k);switch(R){case"obj ":case"VlLs":u.v=[];
var b=K.o(l,t);t+=4;for(var v=0;v<b;v++){var H=Of.d$(l,t,a);t+=H.size;delete H.size;u.v.push(H)}break;
case"Enmr":var N=K.Yv(l,t);t+=4+N.length*2;var z=Of.kf(l,t);t+=4+Math.max(4,z.length);var A=Of.kf(l,t);
t+=4+Math.max(4,A.length);var Q=Of.kf(l,t);t+=4+Math.max(4,Q.length);u.v={class:z,type:A,enum:Q};break;
case"UntF":u.v={type:K.NU(l,t,4),val:K.CR(l,t+4)};t+=12;break;case"doub":u.v=K.CR(l,t);t+=8;break;case"bool":u.v=l[t]==1;
t+=1;break;case"long":u.v=K.Gh(l,t);t+=4;break;case"Objc":u.v={};var S=Of.CA(l,u.v,t,a);t+=S;break;case"TEXT":u.v=K.Yv(l,t);
t+=4+u.v.length*2;u.v=u.v.substring(0,u.v.length-1);break;case"enum":var A=Of.kf(l,t);t+=4+Math.max(4,A.length);
var o=Of.kf(l,t);t+=4+Math.max(4,o.length);u.v={};u.v[A]=o;break;case"tdta":var p=K.Gh(l,t);t+=4;u.v=[];
for(var v=0;v<p;v++)u.v.push(l[t+v]);t+=p;break;case"ObAr":var O=K.o(l,t);t+=4;var E=K.Yv(l,t);t+=4+2*E.length;
var L=Of.kf(l,t);t+=4+Math.max(4,L.length);u.v={classID:L,arr:[]};var U=K.o(l,t);t+=4;for(var v=0;v<U;
v++){var L=Of.kf(l,t);t+=4+Math.max(4,L.length);var A=K.NU(l,t,4);t+=4;var W=K.NU(l,t,4);t+=4;var Y={id:L,type:A,uID:W,arr:[]};
u.v.arr.push(Y);var y=K.o(l,t,4);t+=4;for(var C=0;C<y;C++){var X=K.CR(l,t);t+=8;Y.arr.push(X)}}break;
case"Pth ":var M=t,p=K.o(l,t);t+=4;var g=K.NU(l,t,4);t+=4;var n=K.Rx(l,t);t+=4;var V=K.OEw(l,t);t+=4+V.length*2;
u.v={sig:g,pth:V};break;default:{console.log("unknown oskey: "+R+", "+k);throw"e";return u}}if(a)console.log(u.v,k);
u.size=t-k;return u};Of.dI=function(l,t,a){var k=t,R=a.t;a=a.v;K.Rd(l,t,R);t+=4;switch(R){case"obj ":case"VlLs":K.hu(l,t,a.length);
t+=4;for(var u=0;u<a.length;u++){var b=Of.dI(l,t,a[u]);t+=b}break;case"Enmr":K.MM(l,t,"\0");t+=6;Of.ka(l,t,a.class);
t+=4+Math.max(4,a.class.length);Of.ka(l,t,a.type);t+=4+Math.max(4,a.type.length);Of.ka(l,t,a.enum);t+=4+Math.max(4,a.enum.length);
break;case"UntF":K.Rd(l,t,a.type);K.jN(l,t+4,a.val);t+=12;break;case"doub":K.jN(l,t,a);t+=8;break;case"bool":K.Rp(l,t,a?1:0,1);
t+=1;break;case"long":K.hu(l,t,a);t+=4;break;case"Objc":var b=Of.hz(l,a,t);t+=b;break;case"TEXT":K.MM(l,t,a+"\0");
t+=4+a.length*2+2;break;case"enum":var v=Object.keys(a)[0],H=a[v];Of.ka(l,t,v);t+=4+Math.max(4,v.length);
Of.ka(l,t,H);t+=4+Math.max(4,H.length);break;case"tdta":K.R(l,t,a.length);t+=4;K.SK(l,t,a);t+=a.length;
break;case"ObAr":K.R(l,t,a.arr[0].arr.length);t+=4;K.MM(l,t,"\0");t+=6;Of.ka(l,t,a.classID);t+=4+Math.max(4,a.classID.length);
K.R(l,t,a.arr.length);t+=4;for(var N=0;N<a.arr.length;N++){var z=a.arr[N];Of.ka(l,t,z.id);t+=4+Math.max(4,z.id.length);
K.Rd(l,t,z.type);t+=4;K.Rd(l,t,z.uID);t+=4;K.R(l,t,z.arr.length);t+=4;for(var u=0;u<z.arr.length;u++){K.jN(l,t,z.arr[u]);
t+=8}}break;case"Pth ":var A=a.pth.length*2+4+8;K.R(l,t,A);t+=4;K.Rd(l,t,a.sig);t+=4;K.hC(l,t,A);t+=4;
K.OKf(l,t,a.pth);t+=a.pth.length*2+4;break;default:console.log("unknown oskey: "+R);t=k;break}return t-k};
Of.kf=function(l,t){var a=K.Gh(l,t);if(a>1e3)return"blbost...";if(a==0)a=4;return K.NU(l,t+4,a).trim()};
Of.ka=function(l,t,a){if(a.length<=4&&a!="warp"&&a!="list"&&a!="Comp")K.hu(l,t,0);else K.hu(l,t,a.length);
K.Rd(l,t+4,a);if(a.length<4){var k="";for(var R=a.length;R<4;R++)k+=" ";K.Rd(l,t+4+a.length,k)}};Of.OVy=function(l){var t={};
for(var a in l){if(a=="classID")t[a]=l[a];else if(a=="__name")t[a]=l[a];else t[a]=Of.dz(l[a])}return t};
Of.dz=function(l){if(l.hL=="Objc")return Of.OVy(l.v);else if(l.hL=="VlLs"){var t=[];for(var a=0;a<l.v.length;
a++)t.push(Of.dz(l.v[a]));return t}else if(l.hL=="UntF")return l.v.val;else return l.v};function lk(){}lk.dU=function(l,t,a,k,R,u){while(t<a){var b=K.NU(l,t,4);
t+=4;if(b!="8BIM"&&b!="8B64"){console.log("layer information signature error! "+b,"PSB = "+R);alert("Error in Photoshop file: wrong signature.");
throw"e"}var v=K.NU(l,t,4);t+=4;var H=K.Gh(l,t);t+=4;if(R&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn".split(" ").indexOf(v)!=-1){H=H<<32|K.Gh(l,t);
t+=4}if(R&&["pths"].indexOf(v)!=-1){H=H<<32|K.Gh(l,t);t+=4}var N=["lrFX","PlLd"];if(N.indexOf(v)!=-1){if(H%4!=0)H+=4-H%4;
t+=H;continue}switch(v){case"iOpa":k[v]=l[t];break;case"brst":k[v]=[1,1,1];for(var z=0;z<H;z+=4)k[v][K.o(l,t+z)]=0;
break;case"knko":k[v]=l[t];break;case"infx":k[v]=l[t];break;case"clbl":k[v]=l[t];break;case"lmgm":k[v]=l[t];
break;case"vmgm":k[v]=l[t];break;case"lyid":k[v]=K.o(l,t);break;case"lsct":k[v]={type:K.o(l,t)};if(H>=12)k[v].wk=K.NU(l,t+8,4);
break;case"lsdk":k.lsct={type:K.o(l,t)};break;case"lyvr":k[v]=K.o(l,t);break;case"lnsr":var A={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
k[v]=K.NU(l,t,4);break;case"lspf":k[v]=K.o(l,t);break;case"lclr":k[v]=K.KA(l,t);break;case"luni":k[v]=K.Yv(l,t);
break;case"fxrp":k[v]=new x(K.CR(l,t),K.CR(l,t+8));break;case"artb":case"artd":k[v]={};Of.CA(l,k[v],t+4);
break;case"SoCo":k[v]={};Of.CA(l,k[v],t+4);break;case"GdFl":k[v]={};Of.CA(l,k[v],t+4);lk.so(k[v],v);
break;case"PtFl":k[v]={};Of.CA(l,k[v],t+4);lk.so(k[v],v);break;case"CgEd":k[v]={};Of.CA(l,k[v],t+4);
break;case"brit":k[v]={};k[v].ma=K.De(l,t);k[v].mc=K.De(l,t+2);k[v].WK=K.De(l,t+4);k[v].W_=l[t+6];break;
case"levl":var Q=l.buffer.slice(t,t+H);k[v]=$u.sj(Q);break;case"curv":k[v]=ln.WX(l,t,H);break;case"expA":var S=K.KA(l,t);
k[v]=[K.nd(l,t+2),K.nd(l,t+6),K.nd(l,t+10)];break;case"vibA":k[v]={};Of.CA(l,k[v],t+4);break;case"hue2":k[v]=$f.WX(l,t,H);
break;case"blnc":k[v]={ai:[],Be:l[t+18]==1};for(var z=0;z<3;z++){var o=[];k[v].ai.push(o);for(var p=0;
p<3;p++)o.push(K.De(l,t+z*6+p*2))}break;case"blwh":k[v]={};Of.CA(l,k[v],t+4);break;case"phfl":k[v]={};
var S=K.KA(l,t);if(S==3)k[v].Ih=[K.nd(l,t+2),K.nd(l,t+6),K.nd(l,t+10)];if(S==2)k[v].color={Ks:K.KA(l,t+2),cI:[K.De(l,t+4),K.De(l,t+6),K.De(l,t+8),K.De(l,t+10)]};
var O=t+2+(S==3?12:10);k[v].fm=K.o(l,O);O+=4;k[v].fC=l[O]==1;break;case"mixr":k[v]={Nd:K.KA(l,t+2)==1,V:[]};
for(var z=0;z<20;z++)k[v].V.push(K.De(l,t+4+z*2));break;case"clrL":k[v]={};Of.CA(l,k[v],t+6);break;case"nvrt":k[v]=1;
break;case"post":k[v]=K.KA(l,t);break;case"thrs":k[v]=K.KA(l,t);break;case"grdm":var E={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{hL:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:""},Trns:{t:"VlLs",v:[]}};
k[v]={rev:l[t+2]==1,Iv:l[t+3]==1,C:E};var L=t+4;E.Nm.v=K.Yv(l,L);L+=4+E.Nm.v.length*2;var U=K.KA(l,L);
L+=2;for(var z=0;z<U;z++){var W=K.o(l,L),Y=K.o(l,L+4),y=K.KA(l,L+8);if(y!=0)console.log("Unknown mode of color in Gradient Map adjustment layer");
var C=[];for(var p=0;p<4;p++)C.push(255*K.KA(l,L+10+p*2)/65535);var X={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:C[0]},Grn:{t:"doub",v:C[1]},Bl:{t:"doub",v:C[2]}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:W},Mdpn:{t:"long",v:Y}}};
E.Clrs.v.push(X);L+=20}var M=K.KA(l,L);L+=2;for(var z=0;z<M;z++){var W=K.o(l,L),Y=K.o(l,L+4),g=K.KA(l,L+8),X={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*g/255)}},Lctn:{t:"long",v:W},Mdpn:{t:"long",v:Y}}};
E.Trns.v.push(X);L+=10}var n=K.KA(l,L);L+=2;E.Intr.v=K.KA(l,L);L+=2;var V=K.KA(l,L);L+=2;k[v].mode=K.KA(l,L);
L+=2;k[v].dA=K.o(l,L);L+=4;k[v].iQ=K.KA(l,L)==1;L+=2;k[v].ic=K.KA(l,L)==1;L+=2;k[v].iw=K.o(l,L);L+=4;
k[v].iv=K.KA(l,L);L+=2;k[v].Wr=[];for(var z=0;z<4;z++)k[v].Wr.push(K.KA(l,L+z*2));L+=8;k[v].Wm=[];for(var z=0;
z<4;z++)k[v].Wm.push(K.KA(l,L+z*2));L+=8;var i=K.KA(l,L);L+=2;break;case"selc":k[v]=ls.WX(l,t,H);break;
case"vmsk":case"vsms":var f=k.vmsk=new _.rv,r=K.Gh(l,t+4),e=(r>>0&1)==1;f.Bg=(r>>1&1)==0;f.isEnabled=(r>>2&1)==0;
f.k=OJ.xY(l,t+8,H-8,u.$,u.e);break;case"shmd":k[v]={};var D=K.o(l,t),O=t+4;for(var z=0;z<D;z++){var b=K.NU(l,O,4);
O+=4;var B=K.NU(l,O,4);O+=4;O+=4;var h=K.o(l,O);O+=4;if(B=="cust"||B=="cmls"||B=="extn"||B=="mlst"){var I={};
Of.CA(l,I,O+4,!1);k[v][B]=I;if(B=="cmls")WK.hE.OiV(k[v][B])}else{console.log("unknown shmd key: "+B+", size: "+h)}O+=h}break;
case"shpa":var S=K.o(l,t),j=K.o(l,t+4);if(j!=0)console.log("some patterns present!");break;case"TySh":var c=k[v]={},S=K.KA(l,t);
c.N=K.Hc(l,t+2);var m=K.KA(l,t+2+48);c.Bo={};var F=Of.CA(l,c.Bo,t+56),G=Wz.eh();for(var q in G)if(c.Bo[q]==null)c.Bo[q]=G[q];
c.dj={};var W_=Of.CA(l,c.dj,t+56+F+6);c.Nu=K.O$c(l,t+56+F+6+W_);var WU=c.Bo.EngineData.v;c.dH=lm.sj(c.Bo.EngineData.v);
if(c.dH.ResourceDict==null)c.dH.ResourceDict=JSON.parse(JSON.stringify(c.dH.DocumentResources));delete c.Bo.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var Wd=K.o(l,t),WZ=K.o(l,t+4);k.lmfx={};var F=Of.CA(l,k.lmfx,t+8);
lk.sM(k.lmfx);break;case"FMsk":k[v]=K.zX(l,t,H);break;case"Txt2":k[v]={};k[v].raw=K.zX(l,t,H);k[v].jx=HJ.sj(k[v].raw);
break;case"Patt":k[v]=[];var WL=t,Wj=t;while(Wj-WL<H){var Or=Wj,Wu={},V=K.o(l,Wj);Wj+=4;Wj=l$.Ru(l,Wj,Wu);
k[v].push(Wu);if(V%4!=0)V+=4-V%4;Wj=Or+V+4}break;case"SoLd":var WE=K.NU(l,t,4),Wf=K.o(l,t+4),WS=K.o(l,t+8);
k[v]={};var Wx=Of.CA(l,k[v],t+12);if(k[v].nonAffineTransform==null)k[v].nonAffineTransform=JSON.parse(JSON.stringify(k[v].Trnf));
break;case"vstk":case"pths":var Wf=K.o(l,t);k[v]={};var Wx=Of.CA(l,k[v],t+4);break;case"vscg":var B=K.NU(l,t,4),Wf=K.o(l,t+4);
k[B]={};var Wx=Of.CA(l,k[B],t+8);lk.so(k[B],B);break;case"vogk":var WQ=K.o(l,t),Wf=K.o(l,t+4);k[v]={};
var Wx=Of.CA(l,k[v],t+8);k[v]=k[v].keyDescriptorList.v;for(var z=0;z<k[v].length;z++){}break;case"lnk2":case"lnkD__":case"lnk3__":k[v]=[];
var L=t;while(L<t+H){var WJ=new _.kQ;k[v].push(WJ);var V=K.SE(l,L);L+=8;var WL=L;WJ.type=K.NU(l,L,4);
L+=4;if(WJ.type!="liFD"){alert("Unknown Linked Layer type: "+WJ.type);throw"error"}WJ.xA=K.o(l,L);L+=4;
var Ww=K.zf(l,L);L+=1+Ww.SN.length;WJ._G=Ww.SN;WJ.OD=K.Yv(l,L);L+=4+WJ.OD.length*2;WJ.cH=K.NU(l,L,4);
L+=4;WJ.jJ=K.NU(l,L,4);L+=4;var Wv=K.SE(l,L);L+=8;WJ.open=l[L];L+=1;if(WJ.open!=0){var Oi={},F=Of.CA(l,Oi,L+4);
if(F%4!=0)F+=4-F%4;console.log(Oi);L+=F+4}WJ.open=0;WJ.raw=K.zX(l,L,Wv);L=WL+V;if(V%4!=0)L+=4-V%4}break;
case"FEid":var L=t;k[v]=[];var Wc=L+H,S=K.o(l,L);L+=4;while(L<Wc){L+=4;var V=K.o(l,L);L+=4;var Wh={};
k[v].push(Wh);Wh.id=K.zf(l,L).SN;L+=Wh.id.length+1;var S=K.o(l,L);L+=4;L+=4;var Om=K.o(l,L);L+=4;Wh.rect=K.Nv(l,L);
L+=16;var WN=K.o(l,L);L+=4;var WR=K.o(l,L);L+=4;var Wp=new $.gL(0);for(var z=0;z<WR+2;z++){var OP=K.o(l,L);
L+=4;if(OP!=0){L+=4;var Hz=K.o(l,L),HP=null;L+=4;if(z<3||z==25)HP=Ac.sy(!0,l,Wh.rect.$,Wh.rect.e,L,Hz);
if(z==0)Wp.D=HP;if(z==1)Wp.K=HP;if(z==2)Wp.l=HP;if(z==25)Wp.w=HP;L+=Hz}}Wh.buffer=$.I(Wh.rect.s()*4);
$.Dc(Wp,Wh.buffer);$.to(Wh);var OW=l[L];L++;if(OW!=0){Wh.Z=new _.fl;Wh.Z.rect=K.Nv(l,L);L+=16;L+=4;var WX=K.o(l,L);
L+=4;Wh.Z.channel=Ac.sy(!0,l,Wh.Z.rect.$,Wh.Z.rect.e,L,WX);Wh.Z.color=255;Wh.Z.$e();L+=WX}if(V%4!=0)L+=4-V%4}break;
default:console.log("unknown layer tag: "+v+", size: "+H);break}var Az="Txt2 artd extd luni pths extn".split(" ");
if(Az.indexOf(v)==-1)if(H%4!=0)console.log("size not multiple of 4!!!",v);if(v!="luni"&&v!="TySh")if(H%4!=0)H+=4-H%4;
t+=H}var Hg=[];for(var z=0;z<Hg.length;z++)delete k[Hg[z]];return t};lk.dG=function(l,t,a,k){for(var R in a)if(a[R]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+R+"\" tag was present with a null value.");delete a[R]}for(var R in a){K.Rd(l,t,"8BIM");
t+=4;var u=t,b=0;K.Rd(l,t,R);t+=4;K.hu(l,t,0);t+=4;switch(R){case"iOpa":K.Rp(l,t,a[R],1);b=4;break;case"brst":b=0;
for(var v=0;v<3;v++)if(a[R][v]==0){K.R(l,t+b,v);b+=4}break;case"knko":K.Rp(l,t,a[R],1);b=4;break;case"infx":K.Rp(l,t,a[R],1);
b=4;break;case"clbl":K.Rp(l,t,a[R],1);b=4;break;case"lmgm":K.Rp(l,t,a[R],1);b=4;break;case"vmgm":K.Rp(l,t,a[R],1);
b=4;break;case"lyid":K.R(l,t,a[R]);b=4;break;case"lsct":K.R(l,t,a[R].type);b=4;if(a[R].wk){K.Rd(l,t+4,"8BIM");
K.Rd(l,t+8,a[R].wk);b=12}break;case"lyvr":K.R(l,t,a[R]);b=4;break;case"lnsr":K.Rd(l,t,a[R]);b=4;break;
case"lspf":K.R(l,t,a[R]);b=4;break;case"lclr":K.GE(l,t,a[R]);b=8;break;case"luni":K.MM(l,t,a[R]);b=4+2*a[R].length;
break;case"fxrp":K.jN(l,t,a[R].x);K.jN(l,t+8,a[R].y);b=16;break;case"artb":case"artd":K.R(l,t,16);b=Of.hz(l,a[R],t+4)+4;
break;case"SoCo":K.R(l,t,16);b=Of.hz(l,a[R],t+4)+4;break;case"GdFl":K.R(l,t,16);b=Of.hz(l,a[R],t+4)+4;
break;case"PtFl":K.R(l,t,16);b=Of.hz(l,a[R],t+4)+4;break;case"CgEd":K.R(l,t,16);b=Of.hz(l,a[R],t+4)+4;
break;case"brit":l.hf(t,8);K.Nm(l.data,t+0,a[R].ma);K.Nm(l.data,t+2,a[R].mc);K.Nm(l.data,t+4,a[R].WK);
l.data[t+6]=a[R].W_;b=8;break;case"levl":var H=new lH;b=$u.DF(H,a[R]);K.SK(l,t,H.data);break;case"curv":b=ln.WB(l,t,a[R]);
break;case"expA":b=14;l.hf(t,14);K.Cq(l.data,t,1);K.hh(l.data,t+2,a[R][0]);K.hh(l.data,t+6,a[R][1]);
K.hh(l.data,t+10,a[R][2]);break;case"vibA":K.R(l,t,16);b=Of.hz(l,a[R],t+4)+4;break;case"hue2":b=$f.WB(l,t,a[R]);
break;case"blnc":b=19;l.hf(t,b);for(var v=0;v<3;v++){var N=a[R].ai[v];for(var z=0;z<3;z++)N.push(K.Nm(l.data,t+v*6+z*2,N[z]))}l.data[t+18]=a[R].Be?1:0;
break;case"blwh":K.R(l,t,16);b=Of.hz(l,a[R],t+4)+4;break;case"phfl":var A=a[R].Ih!=null?3:2;K.GE(l,t,A);
var Q=a[R].Ih,S=a[R].color;if(A==3){K.Ml(l,t+2,Q[0]);K.Ml(l,t+6,Q[1]);K.Ml(l,t+10,Q[2])}if(A==2){K.GE(l,t+2,S.Ks);
K.GE(l,t+4,S.cI[0]);K.GE(l,t+6,S.cI[1]);K.GE(l,t+8,S.cI[2]);K.GE(l,t+10,S.cI[3])}var o=t+2+(A==3?12:10);
l.hf(o,5);K.ji(l.data,o,a[R].fm);o+=4;l.data[o]=a[R].fC?1:0;o++;b=o-t;break;case"mixr":b=44;l.hf(t,b);
K.Cq(l.data,t,1);K.Cq(l.data,t+2,a[R].Nd?1:0);for(var v=0;v<20;v++)K.Nm(l.data,t+4+v*2,a[R].V[v]);break;
case"clrL":K.GE(l,t,1);K.R(l,t+2,16);b=Of.hz(l,a[R],t+6)+6;break;case"nvrt":b=0;break;case"post":K.GE(l,t,a[R]);
b=2;break;case"thrs":K.GE(l,t,a[R]);b=2;break;case"grdm":var p=a[R].C;l.hf(t,4);K.Cq(l.data,t,1);l.data[t+2]=a[R].rev?1:0;
l.data[t+3]=a[R].Iv?1:0;var O=t+4;K.MM(l,O,p.Nm.v);O+=4+p.Nm.v.length*2;var E=p.Clrs.v.length;K.GE(l,O,E);
O+=2;for(var v=0;v<E;v++){var S=p.Clrs.v[v];K.R(l,O,S.v.Lctn.v);K.R(l,O+4,S.v.Mdpn.v);K.GE(l,O+8,0);
var L=$.C.br($.C.BL(S.v.Clr.v)),U=[L.Rd.v,L.Grn.v,L.Bl.v,0];for(var z=0;z<4;z++)K.GE(l,O+10+z*2,Math.round(65535*(U[z]/255)));
O+=20}var W=p.Trns.v.length;K.GE(l,O,W);O+=2;for(var v=0;v<W;v++){var S=p.Trns.v[v];K.R(l,O,S.v.Lctn.v);
K.R(l,O+4,S.v.Mdpn.v);K.GE(l,O+8,Math.round(255*S.v.Opct.v.val/100));O+=10}K.GE(l,O,2);O+=2;K.GE(l,O,p.Intr.v);
O+=2;K.GE(l,O,32);O+=2;K.GE(l,O,a[R].mode);O+=2;K.R(l,O,a[R].dA);O+=4;K.GE(l,O,a[R].iQ?1:0);O+=2;K.GE(l,O,a[R].ic?1:0);
O+=2;K.R(l,O,a[R].iw);O+=4;K.GE(l,O,a[R].iv);O+=2;for(var v=0;v<4;v++)K.GE(l,O+v*2,a[R].Wr[v]);O+=8;
for(var v=0;v<4;v++)K.GE(l,O+v*2,a[R].Wm[v]);O+=8;O+=2;b=O-t;break;case"selc":b=ls.WB(l,t,a[R]);break;
case"FMsk":K.SK(l,t,a[R]);b=a[R].length;break;case"Txt2":var Y=new lH,y=HJ.Sh(a[R].jx,Y),C=$.I(y,!0);
for(var v=0;v<y;v++)C[v]=Y.data[v];K.SK(l,t,C);b=C.length;break;case"vmsk":var X=a[R],M=0;K.R(l,t,3);
if(!X.Bg)M+=1<<1;if(!X.isEnabled)M+=1<<2;K.R(l,t+4,M);b=8;var g=X.k.length;l.hf(t+8,g*26);OJ.xQ(l.data,t+8,X.k,k.$,k.e);
b+=g*26;break;case"shmd":K.R(l,t,Object.keys(a[R]).length);var o=t+4;for(var n in a[R]){K.Rd(l,o,"8BIM");
o+=4;K.Rd(l,o,n);o+=4;K.R(l,o,0);o+=4;K.R(l,o,0);o+=4;K.R(l,o,16);o+=4;var V=Of.hz(l,a[R][n],o);if(V%4!=0)V+=4-V%4;
K.R(l,o-8,V+4);o+=V}b=o-t;break;case"TySh":var o=t;K.Ob(l,o,1);o+=2;var i=a[R],Y=new lH;i.dH.DocumentResources=JSON.parse(JSON.stringify(i.dH.ResourceDict));
var y=lm.Sh(i.dH,Y),C=$.I(y,!0);for(var v=0;v<y;v++)C[v]=Y.data[v];i.Bo.EngineData={t:"tdta",v:C};var f=i.dH.EngineDict.Editor.Text;
i.Bo.Txt.v=f.substring(0,f.length-1);K.O$L(l,o,i.N);o+=48;K.Ob(l,o,50);o+=2;K.R(l,o,16);o+=4;o+=Of.hz(l,i.Bo,o);
K.Ob(l,o,1);o+=2;K.R(l,o,16);o+=4;o+=Of.hz(l,i.dj,o);K.OWx(l,o,i.Nu);o+=16;b=o-t;break;case"lmfx":K.R(l,t,0);
K.R(l,t+4,16);var r=JSON.parse(JSON.stringify(a[R])),e=!1;lk.se(r);for(var v=0;v<P.Sr.length;v++)if(r[P.Sr[v]]!=null)e=!0;
K.Rd(l,u,e?"lmfx":"lfx2");b=Of.hz(l,r,t+8)+8;break;case"Patt":var D=t,B=t;for(var v=0;v<a[R].length;
v++){var h=a[R][v],O=B;K.R(l,B,0);B+=4;B=l$.OH(l,B,h);var I=B-O-4;if(I%4!=0)I+=4-I%4;K.R(l,O,I);B=O+I+4}b=B-D;
break;case"SoLd":K.Rd(l,t,"soLD");K.R(l,t+4,4);K.R(l,t+8,16);b=Of.hz(l,a[R],t+12)+12;break;case"vstk":case"pths":K.R(l,t,16);
b=Of.hz(l,a[R],t+4)+4;break;case"vscg__":K.Rd(l,t,a[R].key);K.R(l,t+4,16);b=Of.hz(l,a[R].V,t+8)+8;break;
case"vogk":K.R(l,t,1);K.R(l,t+4,16);$.$F.OHO(a[R]);for(var v=0;v<a[R].length;v++){var j=a[R][v].v.keyOriginResolution;
if(j)j.v=k.DS}var c={classID:"null",keyDescriptorList:{t:"VlLs",v:a[R]}};b=Of.hz(l,c,t+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var O=t;
for(var v=0;v<a[R].length;v++){var m=a[R][v],F=O;K.sh(l,O,0);O+=8;K.Rd(l,O,m.type);O+=4;K.R(l,O,m.xA);
O+=4;l.hf(O,1);l.data[O]=m._G.length;O++;K.Rd(l,O,m._G);O+=m._G.length;K.MM(l,O,m.OD);O+=4+m.OD.length*2;
K.Rd(l,O,m.cH);O+=4;K.Rd(l,O,m.jJ);O+=4;K.sh(l,O,m.raw.length);O+=8;l.hf(O,1);l.data[O]=m.open;O++;K.SK(l,O,m.raw);
O+=m.raw.length;K.R(l,O,1);O+=4;O+=11;var I=O-F-8;K.sh(l,F,I);if(I%4!=0){l.hf(O,4-I%4);O+=4-I%4}}b=O-t;
break;case"FEid":var O=t;K.R(l,O,3);O+=4;for(var G=0;G<a[R].length;G++){var q=a[R][G];O+=4;var W_=O;
O+=4;K.HB(l,O,q.id);O+=q.id.length+1;K.R(l,O,1);O+=4;O+=4;var WU=O;O+=4;K._D(l,O,q.rect);O+=16;K.R(l,O,8);
O+=4;K.R(l,O,24);O+=4;var Wd=new $.gL(q.rect.s());$.jk(q.buffer,Wd);for(var v=0;v<24+2;v++){var WZ=null;
if(v==0)WZ=Wd.D;if(v==1)WZ=Wd.K;if(v==2)WZ=Wd.l;if(v==25)WZ=Wd.w;K.R(l,O,WZ!=null?1:0);O+=4;if(WZ!=null){O+=4;
var WL=O;O+=4;l.hf(O,q.rect.s()+2);O=Ac.sB(WZ,l.data,q.rect.$,q.rect.e,O,3);K.R(l,WL,O-(WL+4))}}K.R(l,WU,O-(WU+4));
l.hf(O,1);l.data[O]=q.Z?1:0;O++;if(q.Z!=null){var Wj=q.Z.rect,Or=q.Z.channel;Wj=q.rect;Or=$.I(Wj.s());
$.set(Or,q.Z.color);$.co(q.Z.channel,q.Z.rect,Or,Wj);K._D(l,O,Wj);O+=16;O+=4;var Wu=O;O+=4;l.hf(O,Wj.s()+2);
O=Ac.sB(Or,l.data,Wj.$,Wj.e,O,3);K.R(l,Wu,O-(Wu+4))}var I=O-(W_+4);K.R(l,W_,I);if(I%4!=0)O+=4-I%4}b=O-t;
break;default:console.log("unknown layer tag: "+R+", size: "+b);t-=12;continue}var WE=["Txt2","artd","extd","luni","pths"];
if(WE.indexOf(R)==-1)if(b%4!=0)b+=4-b%4;K.hu(l,t-4,b);if(R!="luni"&&R!="TySh")if(b%4!=0)b+=4-b%4;t+=b}return t};
lk.sM=function(l){for(var t=0;t<P.order.length;t++){var a=P.order[t],k=P.Sr[t];if(l[k]==null)l[k]={t:"VlLs",v:[]};
if(l[a]!=null){l[k].v.push(l[a]);delete l[a]}var R=[];for(var u=0;u<l[k].v.length;u++){var b=l[k].v[u];
if(b.v.present==null||b.v.present.v==!0)R.push(b)}l[k].v=R}};lk.se=function(l){for(var t=0;t<P.order.length;
t++){var a=P.order[t],k=P.Sr[t],R=l[k].v.length;if(R==0){delete l[k];continue}if(R==1){l[a]=l[k].v[0];
delete l[k];continue}}};lk.so=function(l,t){if(t=="GdFl"){if(l.Angl==null)l.Angl={v:{type:"#Ang",val:90},t:"UntF"};
if(l.Algn==null)l.Algn={v:!0,t:"bool"};if(l.Scl==null)l.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(l.Ofst==null)l.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(l.Rvrs==null)l.Rvrs={v:!1,t:"bool"};if(l.Dthr==null)l.Dthr={v:!1,t:"bool"}}if(t=="PtFl"){if(l.Algn==null)l.Algn={v:!0,t:"bool"};
if(l.Scl==null)l.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(l.phase==null)l.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
lk.clone=function(l,t){var a={};if(l=="TySh"){a.N=t.N.clone();a.Bo=JSON.parse(JSON.stringify(t.Bo));
a.dj=JSON.parse(JSON.stringify(t.dj));a.Nu=t.Nu.clone();a.dH=JSON.parse(JSON.stringify(t.dH));return a}else if(l=="fxrp")return t.clone();
else if(l=="vmsk")return t.clone();else return JSON.parse(JSON.stringify(t))};function WO(l,t){}WO.sj=function(l,t,a,k){k=WO.OOG(l,t,a,k);
return k};WO.Sh=function(l,t,a,k,R){k=WO.OOL(l,t,a,k,R);return k};WO.OOG=function(l,t,a,k){var R=k;l.rect=K.Nv(a,k);
k+=16;var u=K.KA(a,k);k+=2;l.xH=[];var b=t.mf;for(var v=0;v<u;v++){l.xH[v]={id:K.De(a,k),length:(b?K.SE:K.o)(a,k+2)};
k+=b?10:6}var H=K.NU(a,k,4);k+=4;if(H!="8BIM"){console.log("Invalid Blend mode signature: "+H);alert("Error in Photoshop file: wrong signature.");
throw"e"}l.wk=K.NU(a,k,4);k+=4;l.opacity=a[k];k+=1;l.Nq=a[k]==1;k+=1;l.Ck=a[k];k+=1;if(a[k]!=0)console.log("error in filler!");
k+=1;var N=K.o(a,k);k+=4;var z=k;k=WO.OAr(l,a,k);k=WO.OHx(l,a,k);var A=K.zf(a,k);l.name=A.SN;k+=A.length;
if(A.length%4!=0)k+=4-A.length%4;k=lk.dU(a,k,z+N,l.add,b,t);if(l.WF){var Q=l.WF;if(l.c$()){l.c$().dB=Q[0];
l.c$().cg=Q[1]}if(l.add.vmsk){l.add.vmsk.dB=Q[2];l.add.vmsk.cg=Q[3]}}if(l.add.lsct){if(l.add.lsct.wk)l.wk=l.add.lsct.wk;
l.add.lsct=l.add.lsct.type}return k};WO.OOL=function(l,t,a,k,R){var u=k;K._D(a,k,l.rect);k+=16;var b=l.Qr();
K.GE(a,k,b.length);k+=2;R.push(k);for(var v=0;v<b.length;v++){K.Ob(a,k,b[v]);K.R(a,k+2,0);k+=6}K.Rd(a,k,"8BIM");
k+=4;K.Rd(a,k,l.wk);k+=4;K.Rp(a,k,l.opacity,1);k+=1;K.Rp(a,k,l.Nq?1:0,1);k+=1;K.Rp(a,k,l.Ck,1);k+=1;
K.Rp(a,k,0,1);k+=1;var H=k;K.R(a,k,0);k+=4;var N=k;k=WO.OAM(l,a,k);k=WO.OHM(l,a,k);var z=K.HB(a,k,l.name);
k+=z;if(z%4!=0)k+=4-z%4;if(l.add.lsct){l.add.lsct={type:l.add.lsct};if(l.wk=="pass"){l.add.lsct.wk="pass";
l.wk="norm"}}if(l.wk=="pass")l.add.lsct={type:l.add.lsct,wk:"pass"};k=lk.dG(a,k,l.add,t);if(l.add.lsct){if(l.add.lsct.wk)l.wk=l.add.lsct.wk;
l.add.lsct=l.add.lsct.type}var A=k-N;K.R(a,H,A);return k};WO.OAr=function(l,t,a){var k=K.o(t,a);a+=4;
if(k==0)return a;var R=a;l.Z=new _.fl;l.Z.rect=K.Nv(t,a);a+=16;l.Z.color=t[a];a+=1;var u=WO.mg(l.Z,t,a);
a+=1;if(u){var b=!1,H=255,N=0,z=255,A=0;for(var v=0;v<l.xH.length;v++)if(l.xH[v].id==-3)b=!0;if(b){l.cy=WO.dR(t,a);
a+=18}var Q=a,S=t[a];a++;if(S>>0&1){H=t[a];a++}if(S>>1&1){N=K.CR(t,a);a+=8}if(S>>2&1){z=t[a];a++}if(S>>3&1){A=K.CR(t,a);
a+=8}if((a-Q&1)==1)a++;l.WF=[H,N,z,A]}else{if(k==20)a+=2;else{l.cy=WO.dR(t,a);a+=18}}return R+k};WO.OAM=function(l,t,a){K.R(t,a,0);
a+=4;if(l.Z==null)return a;var k=a,R=!0;K.R(t,a,0);K._D(t,a,l.Z.rect);a+=16;K.Rp(t,a,l.Z.color);a+=1;
WO.mJ(l.Z,t,a,R);a+=1;if(R){if(l.cy){WO.OH$(t,a,l.cy);a+=18}K.Rp(t,a,15);a+=1;var u=l.c$(),b=l.add.vmsk;
K.Rp(t,a,u?u.dB:255);a+=1;K.jN(t,a,u?u.cg:0);a+=8;K.Rp(t,a,b?b.dB:255);a+=1;K.jN(t,a,b?b.cg:0);a+=8;
a++;K.R(t,k-4,a-k)}return a};WO.dR=function(l,t){var a=new _.fl;WO.mg(a,l,t);t+=1;a.color=l[t];t+=1;
a.rect=K.Nv(l,t);t+=16;return a};WO.OH$=function(l,t,a){WO.mJ(a,l,t,!1);t+=1;K.Rp(l,t,a.color);t+=1;
K._D(l,t,a.rect);t+=16};WO.mg=function(l,t,a){var k=t[a];l.Bg=(k>>0&1)==0;l.isEnabled=(k>>1&1)==0;l.Qe=(k>>3&1)==1;
return k>>4&1};WO.mJ=function(l,t,a,k){var R=0;if(!l.Bg)R+=1<<0;if(!l.isEnabled)R+=1<<1;if(l.Qe)R+=1<<3;
if(k)R+=1<<4;K.Rp(t,a,R)};WO.OHx=function(l,t,a){var k=K.o(t,a);a+=4;if(k!=5*8)console.log("unexpected Layer Blending Ranges content, size:",k);
l.jB=[];for(var R=0;R<k/4;R++){l.jB.push(K.KA(t,a));a+=2;l.jB.push(K.KA(t,a));a+=2}return a};WO.OHM=function(l,t,a){K.R(t,a,l.jB.length*2);
a+=4;for(var k=0;k<l.jB.length;k++){K.GE(t,a,l.jB[k]);a+=2}return a};function Ac(){}Ac.sj=function(l,t,a,k){k=Ac.OlK(t.mf,t.WY,l,a,k);
return k};Ac.DF=function(l,t,a,k,R){a=Ac.Ogx(l,t,a,k,R);return a};Ac.OlK=function(l,t,a,k,R){var u=a.xH,b={},v=R;
for(var H=0;H<u.length;H++){var N=u[H],z=N.id,A=N.length,Q;if(z==-3)Q=a.cy.rect;else if(z==-2)Q=a.Z.rect;
else Q=a.rect;var S=Ac.sy(l,k,Q.$,Q.e,R,A);R+=A;if(z==-3)a.cy.channel=S;else if(z==-2)a.Z.channel=S;
else b["c"+z]=S}var o=new $.gL(0);o.w=null;if(t==3){o.D=b.c0;o.K=b.c1;o.l=b.c2;o.w=b["c-1"]}else if(t==1){o.D=b.c0;
o.K=b.c0;o.l=b.c0;o.w=b["c-1"]}else if(t==4){var p=b.c0,O=b.c1,E=b.c2,L=b.c3,U=p.length,W=1/255;for(var H=0;
H<U;H++){var Y=p[H],y=O[H],C=E[H],X=L[H]*W;p[H]=Math.round(Y*X);O[H]=Math.round((.2*Y+.8*y)*X);E[H]=Math.round((.2*y+.8*C)*X)}o.D=p;
o.K=O;o.l=E;o.w=b["c-1"];console.log("converting from CMYK to RGB")}if(o.w==null&&o.D!=null){o.w=$.clone(o.D);
$.set(o.w,255)}if(o.K==null)o.K=o.D.slice(0);if(o.l==null)o.l=o.D.slice(0);a.buffer=$.I(Math.max(0,a.rect.s()*4));
$.Dc(o,a.buffer);return R};Ac.Ogx=function(l,t,a,k,R){var u=l.Qr(),b=new $.gL(l.rect.s());$.jk(l.buffer,b);
for(var v=0;v<u.length;v++){var H=u[v],N,z;if(H==-3)N=l.cy.rect;else if(H==-2)N=l.Z.rect;else N=l.rect;
if(H==-3)z=l.cy.channel;if(H==-2)z=l.Z.channel;if(H==-1)z=b.w;if(H==0)z=b.D;if(H==1)z=b.K;if(H==2)z=b.l;
t.hf(a,N.s()*3+4);var A=a;a=Ac.sB(z,t.data,N.$,N.e,a,R[1]?3:1);var Q=a-A;if(Q%2!=0){Q+=Q%2;a++}K.ji(t.data,k+v*6+2,Q)}return a};
Ac.sy=function(l,t,a,k,R,u){var b=K.De(t,R);R+=2;return Ac.NR(l,t,a,k,R,b,u-2)};Ac.sB=function(l,t,a,k,R,u){K.Nm(t,R,u);
R+=2;R=Ac.RV(l,t,a,k,R,u);return R};Ac.NR=function(l,t,a,k,R,u,b){var v,H=a*k,N=H&3,z=H+(N==0?0:4-N);
if(u==0){if(R+z<=t.length)v=t.slice(R,R+z);else{v=$.I(H);for(var A=0;A<H;A++)v[A]=t[R+A]}R+=H}else if(u==1){v=$.I(H);
var Q=l?4:2,S=Ac.mw(t,v,a,k,R,R+Q*k,Q);R+=Q*k+S}else if(u==2||u==3){var o=new Uint8Array(t.buffer,R+2,b-6),p=pako.inflateRaw(o);
if(u==3){for(var O=0;O<k;O++){var E=O*a+1,L=E+a-1,U=p[E-1];p[E-1]=U;for(var W=E;W<L;W++){U+=p[W];p[W]=U&255}}}if(p.length==z)v=p;
else{v=$.I(z);for(var A=0;A<p.length;A++)v[A]=p[A]}}else console.log("Unknown compression: "+u);return v};
Ac.RV=function(l,t,a,k,R,u){var b=a*k;if(u==0)for(var v=0;v<b;v++)t[R++]=l[v];else if(u==1){var H=Ac.mC(l,t,a,k,R,R+2*k);
R+=2*k+H}else if(u==2||u==3){if(u==3){var N=new Uint8Array(l.length);for(var z=0;z<k;z++){var A=z*a+1,Q=A+a-1,S=l[A-1];
N[A-1]=S;for(var o=A;o<Q;o++){N[o]=l[o]+(256-S)&255;S=l[o]}}l=N}t[R]=120;t[R+1]=156;R+=2;var p=pako.deflateRaw(l,{Ony:4});
K.Fo(t,R,p);R+=p.length+4}else console.log("Unknown compression: "+u);return R};Ac.mw=function(l,t,a,k,R,u,b){var v=u,H=k|0;
if(b==2)for(var N=0;N<H;N++){var z=K.KA(l,R+(N<<1));Ac.xD(l,u,z,t,N*a,a);u+=z}else for(var N=0;N<H;N++){var z=K.o(l,R+(N<<2));
Ac.xD(l,u,z,t,N*a,a);u+=z}return u-v};Ac.mC=function(l,t,a,k,R,u){var b=u;for(var v=0;v<k;v++){var H=Ac.Ogc(l,v*a,a,t,u);
K.Cq(t,R+v*2,H);u+=H}return u-b};Ac.Ogc=function(l,t,a,k,R){var u,b,v,H,N,z,A;H=t+a;for(v=t,b=R;a>0;
v=u,a-=z){A=a<128?a:128;if(v<=H-3&&l[v+1]==l[v+0]&&l[v+2]==l[v+0]){for(u=v+3;u<v+A&&l[u]==l[v+0];)++u;
z=u-v;k[b++]=1+256-z;k[b++]=l[v+0]}else{for(u=v;u<v+A;)if(u<=H-3&&l[u+1]==l[u+0]&&l[u+2]==l[u+0])break;
else++u;z=u-v;k[b++]=z-1;for(var Q=0;Q<z;Q++)k[b+Q]=l[v+Q];b+=z}}return b-R};Ac.xD=function(l,t,a,k,R,u){for(var b=0;
b<a;){var v=l[t++];if(v>=128){var H=l[t++],N=R+(257-v);k.fill(H,R,N);R=N;b+=2}else{var N=R+(1+v);while(R<N)k[R++]=l[t++];
b+=1+1+v}}};function HZ(){}HZ.sj=function(l,t){t.mf=!1;t.OKQ=8;var a=new Uint8Array(l),k=0,R=0,o=0;R=HZ.sw(t,a,k);
k=R;R=HZ.OIT(t,a,k);k=R;R=HZ.OIa(t,a,k);k=R;R=HZ.OIL(t,a,k);k=R;R=HZ.OPe(t,a,k);k=R;if(t.Q.length==0){var u=t.Ow();
u.wy("Background");t.Q.push(u);u.buffer=$.clone(t.buffer);u.rect=new d(0,0,t.$,t.e)}if(t.QK.r1005){t.DS=K.KA(t.QK.r1005,0)}if(t.QK.r1026){var a=t.QK.r1026;
for(var b=0;b<a.length;b+=2){var R=t.Q[b>>>1];if(R)R.Xt=K.KA(a,b)}}if(t.QK.r1032){var a=t.QK.r1032,v=K.o(a,12);
for(var b=0;b<v;b++){var H=a[16+b*5+4],N=K.o(a,16+b*5)/32;t.gh[H].push(N)}}if(t.QK.r1065){var a=t.QK.r1065;
t.jd={};Of.CA(t.QK.r1065,t.jd,4,!1)}if(t.QK.r1069){var a=t.QK.r1069,z=[];for(var b=2;b<a.length;b+=4){var A=K.o(a,b);
for(var Q=0;Q<t.Q.length;Q++){var R=t.Q[Q];if(R.add.lyid==A&&R.add.lsct!=3)z.push(Q)}}t._=z}delete t.mf;
var S=new d(0,0,t.$,t.e),p=t.add.Txt2,O=p;if(O){O=O.jx;if(O._DocumentResources==null)O=HL.OVf(O)}if(p&&p.jx._DocumentResources!=null){var E="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),L=p.jx._DocumentResources._TextFrameSet._Resources;
for(var b=0;b<L.length;b++){}}for(var b=0;b<t.Q.length;b++){var R=t.Q[b],U=R.add.vmsk,W=R.c$();if(R.Bx()&&R.SS(t).Z){var Y=R.SS(t);
Y.Z.isEnabled=R.add.SoLd.filterFX.v.filterMaskEnable.v}if(U&&R.OY()&&R.add.vstk==null){R.add.vstk=JSON.parse(JSON.stringify(P.BF.default));
R.add.vstk.strokeEnabled.v=!1}if(U&&(R.add.vogk==null||$.r.HP(U.k)!=R.add.vogk.length))R.GH();if(W==null&&R.Z!=null){if(R.Z.Qe==!1){R.Z.Qe=!0;
R.cy=R.Z.clone()}else{U.cy=R.Z;U.wU=!1;R.Z.cg=U.cg;R.Z.dB=U.dB}}if(W!=null&&U!=null&&(W.cg+U.cg!=0||W.dB+U.dB!=2*255))R.cR(t);
if(R.OY()&&(R.rect.wp()||U&&U.cg!=0))R.iT(t);if(R.add.TySh&&O){var y=R.add.TySh.dH,C=Wz.WT(y),X=y.EngineDict.ParagraphRun.RunArray,M=O._DocumentObjects._TextObjects;
if(M.length<=o){console.log("Txt2 incomplete");continue}M=M[o]._Model._ParagraphRun._RunArray;var g=Math.min(M.length,X.length);
for(var Q=0;Q<g;Q++){var n=X[Q].ParagraphSheet.Properties,V=O._DocumentResources._ParagraphSheetSet._Resources,i=M[Q]._RunData._ParagraphSheet;
if(typeof i=="string")i=V[parseInt(i.slice(1))]._Resource;var f=i._Parent==null?i:V[parseInt(i._Parent.slice(1))]._Resource,r=i._Features._ParagraphDirection;
if(r==null)r=f._Features._ParagraphDirection;if(r)n._Direction=parseInt(r.slice(1))}var e=O._DocumentResources,D=e._TextFrameSet._Resources,B=D[o]._Resource,h=new WM(1,0,0,1,0,0);
if(B._0){var I=parseFloat(B._0[0].slice(1)),j=parseFloat(B._0[1].slice(1));h.translate(I,j)}if(C){h.translate(C[0],C[1]);
Wz.$I(y,[0,0,C[2]-C[0],C[3]-C[1]])}else{if(B._Bezier&&B._Bezier._Points){var c=B._Bezier._Points,I=parseFloat(c[0].slice(1)),j=parseFloat(c[1].slice(1));
if(I!=0||j!=0){h.translate(I,j)}}}if(B._Data&&B._Data._FrameMatrix){var m=B._Data._FrameMatrix;m=m.map(function(F){return parseFloat(F.slice(1))});
h.concat(new WM(m[0],m[1],m[2],m[3],m[4],m[5]))}h.concat(R.add.TySh.N);R.add.TySh.N=h;o++}}WK.hE.Xy(t,!0)};
HZ.O_J=function(l,t,a,k){for(var R=0;R<k;R++)if(l[a+R]!=t[a+R])return!1;return!0};HZ.Sh=function(l,t,a){WK.hE.gi(l);
WK.hE.Xy(l,!1);var k=[],R=[],u=[],b=[],v=[],y=0;for(var H=0;H<l.Q.length;H++){var N=l.Q[H],z=new d(0,0,l.$,l.e);
if(N.Bx()&&N.SS(l).Z){N.add.SoLd.filterFX.v.filterMaskEnable.v=N.SS(l).Z.isEnabled}if(N.add.SoLd){R.push(N.add.SoLd.Idnt.v);
u.push(N.add.SoLd.placed.v)}if(N.add.TySh){N.add.TySh.Bo.TextIndex={t:"long",v:k.length};k.push(N.add.TySh.dH)}if(N.add.PtFl)b.push(N.add.PtFl.Ptrn.v.Idnt.v);
if(N.add.lmfx){for(var A=0;A<P.Sr.length;A++){var Q=N.add.lmfx[P.Sr[A]].v;for(var S=0;S<Q.length;S++)if(Q[S].v.Ptrn)b.push(Q[S].v.Ptrn.v.Idnt.v)}}var o=N.add.vstk;
if(o&&o.strokeStyleContent.v.classID=="patternLayer"){b.push(o.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(N.OY()){v[H]=[N.rect,N.buffer];
N.rect=new d;N.buffer=$.I(0)}}if(k.length>0){var p=l.add.Txt2?l.add.Txt2.jx:null;l.add.Txt2={};l.add.Txt2.jx=OV.OKB(k,null,p)}var O=l.add.lnk2;
if(O){var E=l.add.lnk2=[];for(var H=0;H<O.length;H++)if(R.indexOf(O[H]._G)!=-1)E.push(O[H]);if(E.length==0)delete l.add.lnk2}var L=l.add.FEid;
if(L){var U=l.add.FEid=[];for(var H=0;H<L.length;H++)if(u.indexOf(L[H].id)!=-1)U.push(L[H]);if(U.length==0)delete l.add.FEid}var W=l.add.Patt;
if(W){var Y=l.add.Patt=[];for(var H=0;H<W.length;H++)if(b.indexOf(W[H].id)!=-1)Y.push(W[H])}y=HZ.OIb(l,t,y);
y=HZ.OIG(l,t,y);y=HZ.OIu(l,t,y);y=HZ.Oig(l,t,y,a);y=HZ.OkV(l,t,y,a[0]);for(var H=0;H<l.Q.length;H++){var N=l.Q[H];
if(N.OY()){N.rect=v[H][0];N.buffer=v[H][1]}}if(O)l.add.lnk2=O;if(L)l.add.FEid=L;if(W)l.add.Patt=W;WK.hE.Xy(l,!0);
return y};HZ.sw=function(l,t,a){var k=K.NU(t,a,4);a+=4;if(k!="8BPS")alert("invalid header signature: "+k);
var R=K.KA(t,a);a+=2;l.mf=R==2;if(R!=1&&R!=2)alert("invalid version: "+R);a+=6;l.IW=K.KA(t,a);a+=2;l.e=K.Gh(t,a);
a+=4;l.$=K.Gh(t,a);a+=4;var u=K.KA(t,a);a+=2;if(u!=8)alert(u+" Bits/Channel are not supported!");l.OKQ=u;
l.WY=K.KA(t,a);a+=2;var b=l.WY,v="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" ");
if(b!=3){if(b==1||b==4)alert("Project will be converted from "+v[b]+" to "+v[3]+" mode.");else{alert("Color mode "+v[b]+" is not supported yet :(");
return null}}return a};HZ.OIb=function(l,t,a){t.hf(0,64);K.Hl(t.data,a,"8BPS");a+=4;K.Cq(t.data,a,1);
a+=2;K.ji(t.data,a,0);a+=4;K.Cq(t.data,a,0);a+=2;K.Cq(t.data,a,l.IW);a+=2;K.nZ(t.data,a,l.e);a+=4;K.nZ(t.data,a,l.$);
a+=4;K.Cq(t.data,a,8);a+=2;K.Cq(t.data,a,3);a+=2;return a};HZ.OIT=function(l,t,a){var k=K.Gh(t,a);a+=4;
a+=k;return a};HZ.OIG=function(l,t,a){K.hu(t,a,0);a+=4;return a};HZ.OIa=function(l,t,a){var k=K.o(t,a),R=0,A="";
a+=4;var u=[];while(R<k){var b=K.NU(t,a+R,4);R+=4;var v=K.KA(t,a+R);R+=2;var H=K.zf(t,a+R);R+=H.length;
if(b!="8BIM"){u.push(v);console.log("Unknown Image Resources signature: "+b+", ID: "+v)}var N=K.o(t,a+R);
R+=4;if(l.QK["r"+v]!=null)console.log("--- two resources with same ID");l.QK["r"+v]=K.zX(t,a+R,N);R+=N;
if(N%2!=0)R++}for(var z=0;z<u.length;z++)delete l.QK["r"+u[z]];if(l.Yj()==null)l.nc(30);return a+k};
HZ.OIu=function(l,t,a){l.QK.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);K.Cq(l.QK.r1005,0,l.DS);
K.Cq(l.QK.r1005,8,l.DS);l.QK.r1026=new Uint8Array(l.Q.length*2);for(var k=0;k<l.Q.length;k++)K.Cq(l.QK.r1026,k*2,l.Q[k].Xt);
var R=l.gh,u=R[0].length+R[1].length,b=l.QK.r1032=$.I(16+5*u,!0),v=16,O=0;K.ji(b,0,1);K.ji(b,4,576);
K.ji(b,8,576);K.ji(b,12,u);for(var k=0;k<2;k++)for(var H=0;H<R[k].length;H++){K.ji(b,v,Math.round(R[k][H]*32));
b[v+4]=k;v+=5}var N=new lH;K.R(N,0,16);var z=Of.hz(N,l.jd,4);l.QK["r"+1065]=N.data.slice(0,z+4);var A=l._;
b=l.QK["r"+1069]=$.I(2+A.length*4,!0);K.Cq(b,0,A.length);for(var k=0;k<A.length;k++)K.ji(b,2+4*k,l.Q[A[k]].add.lyid);
var Q=new Date,S=[Q.getFullYear(),Q.getMonth()+1,Q.getDate(),Q.getHours(),Q.getMinutes(),Q.getSeconds()];
for(var k=0;k<6;k++)S[k]=(S[k]+"").padStart(2,"0");var o=[{t274:[1],t282:[72],t283:[72],t296:[2],t305:["Photopea Editor (www.photopea.com)"],t306:[S[0]+":"+S[1]+":"+S[2]+" "+S[3]+":"+S[4]+":"+S[5]]},{t259:[6],t282:[72],t283:[72],t296:[2],t513:[302],t514:[0]}];
l.QK["r"+1058]=new Uint8Array(UTIF.encode(o));var p=a;K.R(t,a,4294967295);a+=4;for(var E in l.QK){K.Rd(t,a+O,"8BIM");
O+=4;var L=parseInt(E.substring(1));K.GE(t,a+O,L);O+=2;var U=K.HB(t,a+O,"");O+=U;var W=l.QK["r"+L],Y=W.length;
K.R(t,a+O,Y);O+=4;K.SK(t,a+O,W);O+=Y;if(Y%2==1)O++}K.R(t,p,O);return a+O};HZ.OIL=function(l,t,a){var k=a,R,u=l.mf?8:4;
if(l.mf)R=K.SE(t,a);else R=K.o(t,a);a+=u;if(R==0)return k+u;a=HZ.Oik(l,t,a);a=HZ.OiC(l,t,a);a=lk.dU(t,a,k+u+R,l.add,l.mf,l);
return k+u+R};HZ.Oig=function(l,t,a,k){var R=a;K.R(t,a,0);a+=4;a=HZ.Oim(l,t,a,k);a=HZ.Oih(l,t,a);a=lk.dG(t,a,l.add,l);
K.R(t,R,a-R-4);return a};HZ.Oik=function(l,t,a){var k=a,R,u=l.mf?8:4,b;if(l.mf)R=K.SE(t,a);else R=K.o(t,a);
a+=u;b=K.De(t,a);a+=2;if(R==0){console.log("no layers!");return a-2}var v=Math.abs(b);for(var H=0;H<v;
H++){var N=new _;a=WO.sj(N,l,t,a);l.Q[H]=N}for(var H=0;H<v;H++){var N=l.Q[H];a=Ac.sj(N,l,t,a)}if(R%2!=0)R++;
return k+R+u};HZ.Oim=function(l,t,a,k){var R=a;K.R(t,a,0);a+=4;var u=l.Q.length;K.GE(t,a,-u);a+=2;var b=[];
for(var v=0;v<u;v++)a=WO.Sh(l.Q[v],l,t,a,b);for(var v=0;v<u;v++)a=Ac.DF(l.Q[v],t,a,b[v],k);var H=a-R-4;
if(H%2!=0)H++;K.R(t,R,H);return R+H+4};HZ.OiC=function(l,t,a){var k=K.o(t,a);a+=4;a+=k;return a};HZ.Oih=function(l,t,a){var k=K.R(t,a,0);
a+=4;return a};HZ.OPe=function(l,t,a){var k=K.KA(t,a),R;a+=2;l.buffer=$.I(l.$*l.e*4);$.IK(l.buffer,4278190080);
var u=a;for(var b=0;b<l.IW;b++){if(k==0){R=Ac.NR(l.mf,t,l.$,l.e,a,k);a+=l.$*l.e}else if(k==1){R=$.I(l.$*l.e);
var v=l.mf?4:2;if(b==0)a+=l.IW*l.e*v;a+=Ac.mw(t,R,l.$,l.e,u+b*l.e*v,a,v)}else console.log("unknown compression of image data: ",k);
$.xm(R,l.buffer,b);if(l.IW==1&&b==0){$.xm(R,l.buffer,1);$.xm(R,l.buffer,2)}}l.IW=4;return a};HZ.OkV=function(l,t,a,k){var R=1,u=16,b=l.$,v=l.e,N,z;
K.GE(t,a,R);a+=2;var H=b*v;if(!k){z=new $.gL(b*v);$.jk(l.buffer,z);for(var A=0;A<H;A++){var Q=z.w[A]*(1/255);
z.D[A]=~~(z.D[A]*Q+255*(1-Q));z.K[A]=~~(z.K[A]*Q+255*(1-Q));z.l[A]=~~(z.l[A]*Q+255*(1-Q))}}else N=$.I(H);
var S=a;for(var o=0;o<l.IW;o++){t.hf(a,b*v+4);if(!k)N=o==0?z.D:o==1?z.K:o==2?z.l:z.w;if(R==0||R==2||R==3)a=Ac.RV(N,t.data,b,v,a,R);
else{if(o==0)a+=l.IW*v*2;var p=a;a+=Ac.mC(N,t.data,b,v,S+o*v*2,a)}}return a};function lm(){}lm.sj=function(l){var t={};
lm.RO(l,t,0,0);return t};lm.Sh=function(l,t){var a=0;a=lm.R$(l,t,a,0);return a};lm.RO=function(l,t,a,k){while(l[a]!="<".charCodeAt(0))a++;
a+=2;while(!0){if(l[a]=="/".charCodeAt(0)){a++;var R=K.indexOf(l," ".charCodeAt(0),a,a+50),u=K.indexOf(l,"\n".charCodeAt(0),a,a+50);
if(u==-1)u=Infinity;if(R==-1)R=Infinity;var b=K.NU(l,a,Math.min(u,R)-a),v=lm.Wj(l,Math.min(u,R)+1,k+1,b);
t[b]=v.V;a=Math.min(u,R)+1;a+=v.size}else if(l[a]==">".charCodeAt(0)){a+=2;break}else{var H=l[a];if(H==10||H==9||H==32)a++;
else{console.log("unknown byte: "+H+", char: "+String.fromCharCode(H),a);a++}}}return a};lm.R$=function(l,t,a,k){K.Rd(t,a,"<<\n");
a+=3;var R=lm.Okz;for(var u in l){K.Rp(t,a,"\t".charCodeAt(0),k+1);a+=k+1;K.Rd(t,a,"/"+u);a+=1+u.length;
if(R(l[u])||l[u]instanceof Array){K.Rd(t,a," ");a++}else{K.Rd(t,a,"\n");a++;K.Rp(t,a,"\t".charCodeAt(0),k+1);
a+=k+1}a=lm.hT(l[u],t,a,k+1);K.Rd(t,a,"\n");a++}K.Rp(t,a,"\t".charCodeAt(0),k);a+=k;K.Rd(t,a,">>");a+=2;
return a};lm.Wj=function(l,t,a,k){var R=t,u={size:0,V:0};while(!0){while(l[t]==" ".charCodeAt(0)||l[t]=="\t".charCodeAt(0)||l[t]=="\n".charCodeAt(0))t++;
if(l[t]=="<".charCodeAt(0)){u.V={};t=lm.RO(l,u.V,t,a+1);break}else if(l[t]=="(".charCodeAt(0)){t+=3;
var b=t;while(!0){if(l[b]==")".charCodeAt(0)&&(l[b+1]=="\n".charCodeAt(0)||l[b+1]==" ".charCodeAt(0)))break;
else b++}u.V=K.xw(l,t,b);t=b+2;break}else if(l[t]=="[".charCodeAt(0)){t++;u.V=[];while(l[t]==" ".charCodeAt(0)||l[t]=="\t".charCodeAt(0)||l[t]=="\n".charCodeAt(0))t++;
while(l[t]!="]".charCodeAt(0)){var v=lm.Wj(l,t,a+1,k);u.V.push(v.V);t+=v.size;while(l[t]==" ".charCodeAt(0)||l[t]=="\t".charCodeAt(0)||l[t]=="\n".charCodeAt(0))t++}t++;
break}else{var H=K.indexOf(l," ".charCodeAt(0),t,t+50),N=K.indexOf(l,"\n".charCodeAt(0),t,t+50);if(N==-1)N=Infinity;
if(H==-1)H=Infinity;var z=K.NU(l,t,Math.min(H,N)-t).trim(),A=parseFloat(z);if(!isNaN(A)){u.V=parseFloat(z);
t=Math.min(H,N)+1;break}else if(z=="true"||z=="false"){u.V=z=="true";t=Math.min(H,N)+1;break}else console.log("unknown identifier: "+z);
t=Math.min(H,N)+1}}u.size=t-R;return u};lm.hT=function(l,t,a,k){if(l instanceof Array){var R=l.length==0||typeof l[0]=="number";
if(R){K.Rd(t,a,"[ ");a+=2;for(var u=0;u<l.length;u++){var b=l[u]+" ";K.Rd(t,a,b);a+=b.length}K.Rd(t,a,"]");
a+=1}else{K.Rd(t,a,"[\n");a+=2;for(var u=0;u<l.length;u++){K.Rp(t,a,"\t".charCodeAt(0),k);a+=k;a=lm.hT(l[u],t,a,k);
K.Rd(t,a,"\n");a++}K.Rp(t,a,"\t".charCodeAt(0),k);a+=k;K.Rd(t,a,"]");a+=1}}else if(l instanceof Object){a=lm.R$(l,t,a,k)}else if(typeof l=="string"){K.Rd(t,a,"(");
a++;K.Rp(t,a,254);a++;K.Rp(t,a,255);a++;a=K.xC(t,a,l);K.Rd(t,a,")");a+=1}else{var b=l+"";K.Rd(t,a,b);
a+=b.length}return a};lm.Okz=function(l){var t=typeof l;return t=="string"||t=="number"||t=="boolean"};
function OM(){}OM.sj=function(l){var t=new Uint8Array(l),a=0,k={BN:[],FD:[],list:[]},R=K.KA(t,a);a+=2;
var u=K.KA(t,a);a+=2;var b=K.NU(t,a,8);a+=8;var v=K.o(t,a);a+=4;if(v>0)k.BN=OM.Oko(t,a,v,u,R);a+=v;var H=K.NU(t,a,8);
a+=8;var N=K.o(t,a);a+=4;if(N>0)k.FD=OM.Oby(t,a,N);a+=N;var z=K.NU(t,a,8);a+=8;var A=K.o(t,a);a+=4;if(A>0){var Q={};
Of.CA(t,Q,a+4);k.list=Q.Brsh.v}a+=A;var S=k.list;for(var o=0;o<S.length;o++){WH.xk.check(S[o].v)}return k};
OM.DF=function(l){var t=new lH,a=0,k=0;K.GE(t,a,6);a+=2;K.GE(t,a,2);a+=2;K.Rd(t,a,"8BIMsamp");a+=8;a+=4;
k=a;a=OM.Obq(t,a,l.BN);K.R(t,k-4,a-k);K.Rd(t,a,"8BIMpatt");a+=8;a+=4;k=a;a=OM.ObB(t,a,l.FD);K.R(t,k-4,a-k);
var R={classID:"null",Brsh:{t:"VlLs",v:l.list}};K.Rd(t,a,"8BIMdesc");a+=8;a+=4;k=a;K.R(t,a,16);a+=4;
a+=Of.hz(t,R,a);K.R(t,k-4,a-k);return t.data.slice(0,a).buffer};OM.Oko=function(l,t,a,k,R){var u=t+a,b=[];
while(t<u){var v={};b.push(v);var H=K.o(l,t);t+=4;var N=t,z=K.zf(l,t);t+=z.length;v.id=z.SN;if(k==1){t+=9;
v.MU=K.Nv(l,t);t+=16}else{t+=7;var A=K.o(l,t);t+=4;v.MU=K.Nv(l,t);t+=16;var Q=K.o(l,t);t+=4;t+=Q*4;var S=K.o(l,t);
t+=4;var o=K.o(l,t);t+=4;var p=K.Nv(l,t);t+=16}var O=K.KA(l,t);t+=2;var E=l[t];t+=1;v.channel=Ac.NR(!1,l,v.MU.$,v.MU.e,t,E);
if(H%4!=0)H+=4-H%4;t=N+H}return b};OM.Obq=function(l,t,a){for(var k=0;k<a.length;k++){var R=a[k],u=t+4,v=56,N=1;
t+=4;K.HB(l,t,R.id);t+=R.id.length+2;l.hf(t,1);l.data[t]=1;t+=3;K.R(l,t,3);t+=4;var b=t;t+=4;K._D(l,t,R.MU);
t+=16;K.R(l,t,v);t+=4;t+=v*4;K.R(l,t-4,1);var H=t;t+=4;K.R(l,t,8);t+=4;K._D(l,t,R.MU);t+=16;K.GE(l,t,8);
t+=2;l.hf(t,1);l.data[t]=N;t++;l.hf(t,R.MU.s()*2);t=Ac.RV(R.channel,l.data,R.MU.$,R.MU.e,t,N);l.hf(t,8);
t+=8;var z=t-u;K.R(l,u-4,z);K.R(l,b,z-49);K.R(l,H,z-305);if(z%4!=0)t+=4-z%4}return t};OM.Oby=function(l,t,a){var k=t+a,R=[];
while(t<k){var u={};R.push(u);var b=K.o(l,t);t+=4;var v=t;t=l$.Ru(l,t,u);if(b%4!=0)b+=4-b%4;t=v+b}return R};
OM.ObB=function(l,t,a){for(var k=0;k<a.length;k++){var R=a[k];t+=4;var u=t;t=l$.OH(l,t,R);var b=t-u;
K.R(l,u-4,b);if(b%4!=0)u+=4-b%4;t=u+b}return t};function ln(){}ln.sj=function(l){var t=new Uint8Array(l),a=[],k=0,R=K.KA(t,k);
k+=2;if(R!=4){throw"Unknown version of curves: "+R}var u=K.KA(t,k);k+=2;for(var b=0;b<u;b++){var v=ln.xG(t,k);
k+=2+2*v.length;a.push(v)}if(k==t.length)return a;var H=K.NU(t,k,4);k+=4;var N=K.KA(t,k);k+=2;var z=K.KA(t,k);
k+=2;if(z!=0)throw"extra curves for channels";return a};ln.WX=function(l,t,a){var k=t,R=[],u=l[t];t+=3;
var b=K.o(l,t);t+=4;for(var v=0;v<4;v++){var H=b>>>v&1;if(H){if(u==0){var N=ln.xG(l,t);t+=2+2*N.length}else{var N=ln.OzY(l,t);
t+=256}R.push(N)}else R.push(u==0?[0,0,255,255]:ln.Ozk())}return R};ln.Ozk=function(){var l=[];for(var t=0;
t<256;t++)l.push(t);return l};ln.xG=function(l,t){var a=[],k=K.KA(l,t);t+=2;for(var R=0;R<k;R++){var u=K.KA(l,t);
t+=2;var b=K.KA(l,t);t+=2;a.push(b,u)}return a};ln.Ozb=function(l,t,a){var k=a.length/2;K.GE(l,t,k);
t+=2;for(var R=0;R<k;R++){K.GE(l,t,a[R*2+1]);t+=2;K.GE(l,t,a[R*2+0]);t+=2}};ln.OzY=function(l,t){var a=[];
for(var k=0;k<256;k++)a.push(l[t+k]);return a};ln.OzM=function(l,t,a){l.hf(t,256);for(var k=0;k<256;
k++)l.data[t+k]=a[k]};ln.WB=function(l,t,a){var k=t,R=a[0].length==256?1:0;l.hf(t,3);l.data[t]=R;l.data[t+1]=0;
l.data[t+2]=1;t+=3;K.R(l,t,15);t+=4;for(var u=0;u<4;u++){var b=a[u];if(R==0){ln.Ozb(l,t,b);t+=2+2*b.length}else{ln.OzM(l,t,b);
t+=256}}return t-k};function $f(){}$f.WX=function(l,t,a){var k={},R=K.KA(l,t);t+=2;k.nf=l[t]==1;t++;
t++;k.xL=[K.De(l,t),K.De(l,t+2),K.De(l,t+4)];t+=6;k.DN=[K.De(l,t),K.De(l,t+2),K.De(l,t+4)];t+=6;k.gm=[];
for(var u=0;u<6;u++){var b={};b.Pn=[K.De(l,t),K.De(l,t+2),K.De(l,t+4),K.De(l,t+6)];t+=8;b.ai=[K.De(l,t),K.De(l,t+2),K.De(l,t+4)];
t+=6;k.gm.push(b)}return k};$f.WB=function(l,t,a){var k=2+2+12+6*14,R=l.data;l.hf(t,k);K.Cq(R,t,2);t+=2;
R[t]=a.nf?1:0;t++;t++;K.Nm(R,t+0,a.xL[0]);K.Nm(R,t+2,a.xL[1]);K.Nm(R,t+4,a.xL[2]);t+=6;K.Nm(R,t+0,a.DN[0]);
K.Nm(R,t+2,a.DN[1]);K.Nm(R,t+4,a.DN[2]);t+=6;for(var u=0;u<6;u++){var b=a.gm[u].Pn,v=a.gm[u].ai;K.Nm(R,t+0,b[0]);
K.Nm(R,t+2,b[1]);K.Nm(R,t+4,b[2]);K.Nm(R,t+6,b[3]);t+=8;K.Nm(R,t+0,v[0]);K.Nm(R,t+2,v[1]);K.Nm(R,t+4,v[2]);
t+=6}return k};function $u(){}$u.sj=function(l){var t=new Uint8Array(l),a=2,k=[];for(var R=0;R<29;R++){var u=[];
k.push(u);for(var b=0;b<5;b++)u.push(K.KA(t,a+R*10+b*2))}a+=29*10;if(a==t.length)return k;var v=K.NU(t,a,4);
a+=4;var H=K.KA(t,a);a+=2;var N=K.KA(t,a);a+=2;var z=N-29;for(var R=0;R<z;R++){var u=[];k.push(u);for(var b=0;
b<5;b++)u.push(K.KA(t,a+R*10+b*2))}return k};$u.DF=function(l,t){var a=0;l.hf(0,2+29*10);K.Cq(l.data,a,2);
a+=2;for(var k=0;k<29;k++){var R=t[k];for(var u=0;u<5;u++)K.Cq(l.data,a+k*10+u*2,R[u])}a+=29*10;if(t.length==29)return a;
l.hf(a,8+10*(t.length-29));K.Hl(l.data,a,"Lvls");a+=4;K.Cq(l.data,a,3);a+=2;K.Cq(l.data,a,t.length);
a+=2;var b=t.length-29;for(var k=0;k<b;k++){var R=t[29+k];for(var u=0;u<5;u++)K.Cq(l.data,a+k*10+u*2,R[u])}a+=10*b;
return a};function $o(){}$o.sj=function(l){var t=new Uint8Array(l),a=2,k={xi:[],sA:[]},R=K.NU(t,a,4);
a+=4;var u=K.KA(t,a);a+=2;var b=K.o(t,a);a+=4;while(a<b){var v=K.o(t,a);a+=4;if((v&3)!=0)v+=4-(v&3);
var H=a,N={};k.xi.push(N);a=l$.Ru(t,a,N);a=H+v}var z=K.o(t,a);a+=4;for(var A=0;A<z;A++){var v=K.o(t,a);
a+=4;var H=a,Q={si:{},YY:{}};k.sA.push(Q);a+=4;a+=Of.CA(t,Q.si,a);a+=4;a+=Of.CA(t,Q.YY,a);a=H+v;var S=Q.YY.blendOptions,o=Q.YY.Lefx;
if(S&&Object.keys(S.v).length>1){}if(o){if(o.v.masterFXSwitch==null)o.v.masterFXSwitch={t:"bool",v:!0};
lk.sM(o.v)}}return k};$o.DF=function(l){var t=new lH,a=0;K.GE(t,a,2);a+=2;K.Rd(t,a,"8BSL");a+=4;K.GE(t,a,3);
a+=2;var k=a;a+=4;for(var R=0;R<l.xi.length;R++){a+=4;var u=a;a=l$.OH(t,a,l.xi[R]);var b=a-u;K.R(t,u-4,b);
if((b&3)!=0)b+=4-(b&3);a=u+b}K.R(t,k,a-k-4);var v=l.sA.length;K.R(t,a,v);a+=4;for(var R=0;R<v;R++){a+=4;
var u=a,H=l.sA[R];K.R(t,a,16);a+=4;a+=Of.hz(t,H.si,a);var N=H.YY.Lefx;if(N){H.YY.Lefx=JSON.parse(JSON.stringify(N));
lk.se(H.YY.Lefx.v)}K.R(t,a,16);a+=4;a+=Of.hz(t,H.YY,a);if(N)H.YY.Lefx=N;K.R(t,u-4,a-u)}return t.data.slice(0,a).buffer};
function ls(){}ls.WX=function(l,t,a){var k=K.KA(l,t);t+=2;var R={};R.XT=K.KA(l,t)==1;t+=2;R.xf=[];for(var u=0;
u<10;u++){var b=[];R.xf.push(b);for(var v=0;v<4;v++)b.push(K.De(l,t+v*2));t+=8}return R};ls.WB=function(l,t,a){l.hf(t,84);
K.Cq(l.data,t,1);t+=2;K.Cq(l.data,t,a.XT?1:0);t+=2;for(var k=0;k<10;k++){var R=a.xf[k];for(var u=0;u<4;
u++)K.Nm(l.data,t+u*2,R[u]);t+=8}return 84};function OJ(){}OJ.sj=function(l){l=new Uint8Array(l);var t=0,a=[],k=Date.now(),R=K.NU(l,0,4);
t+=4;var u=K.o(l,t);t+=4;var b=K.o(l,t);t+=4;for(var v=0;v<b;v++){var H=K.Yv(l,t);t+=H.length*2+4;if((H.length&1)==1)t+=2;
var N=K.o(l,t);t+=4;var z=K.o(l,t);t+=4;var A=t,Q=K.zf(l,A).SN;A+=Q.length+1;var S=K.Nv(l,A);A+=16;var o=OJ.xY(l,A,z-(A-t));
a.push({Ir:H,si:Q,k:o,_Y:S});t+=z}return a};OJ.DF=function(l){var t=new lH,a=0;K.Rd(t,a,"cush");a+=4;
K.R(t,a,2);a+=4;K.R(t,a,l.length);a+=4;for(var k=0;k<l.length;k++){var R=l[k];K.MM(t,a,R.Ir);a+=4+R.Ir.length*2;
if((R.Ir.length&1)==1)a+=2;K.R(t,a,1);a+=4;a+=4;var u=a;K.HB(t,a,R.si);a+=R.si.length+1;K._D(t,a,R._Y);
a+=16;t.hf(a,R.k.length*26);OJ.xQ(t.data,a,R.k,1,1);a+=R.k.length*26;var b=a-u;if((b&3)!=0)b+=4-(b&3);
K.R(t,u-4,b);a=u+b}return t.data.slice(0,a).buffer};OJ.xY=function(l,t,a,k,R){if(k==null)k=1;if(R==null)R=1;
var u=[],b=Math.floor(a/26);for(var v=0;v<b;v++){var H=t+v*26,N={},z=0;u.push(N);N.type=K.De(l,H);H+=2;
if(N.type==6){z=24}if(N.type==8){N.all=K.De(l,H);H+=2;z=22}if(N.type==0||N.type==3){N.length=K.De(l,H);
H+=2;N.mZ=K.De(l,H);H+=2;N.rc=K.De(l,H);H+=2;N.gx=K.o(l,H);H+=4;N.gF=K.o(l,H);H+=4;z=10}if(N.type==1||N.type==2||N.type==4||N.type==5){var A,Q;
Q=K.zr(l,H);H+=4;A=K.zr(l,H);H+=4;N.re=new x(A*k,Q*R);Q=K.zr(l,H);H+=4;A=K.zr(l,H);H+=4;N.S=new x(A*k,Q*R);
Q=K.zr(l,H);H+=4;A=K.zr(l,H);H+=4;N.Fx=new x(A*k,Q*R);z=0}for(var S=0;S<z;S++)if(l[H+S]!=0){console.log("Unexpected non-zero byte!",N,S,l[H+S])}}return u};
OJ.xQ=function(l,t,a,k,R){var u=a.length;for(var b=0;b<u;b++){var v=t+b*26,H=a[b];K.Nm(l,v,H.type);v+=2;
if(H.type==6){}if(H.type==8)K.Nm(l,v,H.all);if(H.type==0||H.type==3){K.Nm(l,v,H.length);v+=2;K.Nm(l,v,H.mZ);
v+=2;K.Nm(l,v,H.rc);v+=2}if(H.type==1||H.type==2||H.type==4||H.type==5){K.ql(l,v,H.re.y/R);v+=4;K.ql(l,v,H.re.x/k);
v+=4;K.ql(l,v,H.S.y/R);v+=4;K.ql(l,v,H.S.x/k);v+=4;K.ql(l,v,H.Fx.y/R);v+=4;K.ql(l,v,H.Fx.x/k);v+=4}}};
function AF(){}AF.sj=function(l){var t=new Uint8Array(l),a=[],k=0;k=AF._q(t,k,a);if(k+3<t.length){a=[];
k=AF._q(t,k,a)}return a};AF._q=function(l,t,a){var k=K.KA,R=K.De,u=k(l,t);t+=2;var b=k(l,t);t+=2;var v=1/65535,H=255/65535,N=100/65535;
for(var z=0;z<b;z++){var A=k(l,t),O=null;t+=2;var Q=k(l,t);t+=2;var S=k(l,t);t+=2;var o=k(l,t);t+=2;
var p=k(l,t);t+=2;if(A==0)O={D:Q*H,K:S*H,l:o*H};else if(A==1){O=$.gU(Q*v,S*v,o*v);O.D*=255;O.K*=255;
O.l*=255}else if(A==2)O=$.C.BL({classID:"CMYC",Cyn:{t:"doub",v:100-Q*N},Mgnt:{t:"doub",v:100-S*N},Ylw:{t:"doub",v:100-o*N},Blck:{t:"doub",v:100-p*N}});
else if(A==7){var E=[Q,R(l,t-6),R(l,t-4)],L=WT.oN(E);O={D:L[0],K:L[1],l:L[2]}}else throw"e "+A+", "+z;
if(u==2){O.OZ=K.Yv(l,t);t+=4+O.OZ.length*2}a.push(O)}return t};AF.DF=function(l){var t=new lH,a=0,k=K.GE;
k(t,a,2);a+=2;k(t,a,l.length);a+=2;var R=65535/255;for(var u=0;u<l.length;u++){var b=l[u];k(t,a,0);a+=2;
k(t,a,Math.round(b.D*R));a+=2;k(t,a,Math.round(b.K*R));a+=2;k(t,a,Math.round(b.l*R));a+=2;k(t,a,0);a+=2;
var v=b.OZ?b.OZ:"";K.MM(t,a,v);a+=4+v.length*2}return t.data.slice(0,a).buffer};function AQ(){}AQ.sj=function(l){var t=new Uint8Array(l),a=0,k=K.o(t,a),H;
a+=4;var R=K.NU(t,a,8);a+=8;var u=K.Rx(t,a);a+=4;var b=K.Rx(t,a);a+=4;var v=K.Rx(t,a);a+=4;if(k==2){H=new Float32Array(l,32,l.byteLength-32>>>2)}else if(k==3){H=new Float32Array(b*v*2);
var N=0,z=0,A=!0;a=32;while(a<t.length){var Q=K.Rx(t,a);a+=4;if(A)z+=Q;else{for(var S=0;S<Q;S++){H[N+z+S<<1]=K.FT(t,a);
H[(N+z+S<<1)+1]=K.FT(t,a+4);a+=8}z+=Q}A=!A;if(Q!=0&&z==b){N+=b;z=0;A=!0;if(N==b*v)break}}}else throw"unknown Mesh version: "+k;
return{wa:b,Ii:v,map:H}};AQ.Sh=function(l){var t=l.wa,a=l.Ii,k=l.map,R=new Uint8Array(32+a*t*8+a*8),u=0,b=0;
K.ji(R,u,3);u+=4;K.Hl(R,u,"yfqLhseM");u+=8;K.Nj(R,u,2);u+=4;K.Nj(R,u,t);u+=4;K.Nj(R,u,a);u+=4;K.Nj(R,u,0);
u+=4;K.Nj(R,u,1);u+=4;for(var v=0;v<a;v++){K.Nj(R,u,0);u+=4;K.Nj(R,u,t);u+=4;for(var H=0;H<t;H++){K.MP(R,u,k[b]);
K.MP(R,u+4,k[b+1]);b+=2;u+=8}}return R.buffer};function gH(){}gH.sj=function(l){var t=new Uint8Array(l),a=0,k=K.NU(t,a,4);
a+=4;var R=K.KA(t,a);a+=2;var u=K.o(t,a);a+=4;var b=[];for(var v=0;v<u;v++){var H=K.o(t,a);a+=4;var N={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
b.push(N);N.Nm.v=K.Yv(t,a);a+=4+N.Nm.v.length*2;var z=K.KA(t,a);a+=2;var A=K.KA(t,a);a+=2;for(var Q=0;
Q<A;Q++){var S=$.Fa.gX(0,0,!0);S.v.Vrtc.v=K.KA(t,a);a+=2;S.v.Hrzn.v=K.KA(t,a);a+=2;N.Crv.v.push(S)}if(H==1){}else if(H==2){for(var Q=0;
Q<A;Q++){N.Crv.v[Q].v.Cnty.v=t[a]==1;a+=1}}else throw"error";var o=K.o(t,a);a+=4;var p=K.o(t,a);a+=4}return b};
gH.DF=function(l){var t=new lH,a=0;K.Rd(t,a,"8BFS");a+=4;K.GE(t,a,1);a+=2;K.R(t,a,l.length);a+=4;for(var k=0;
k<l.length;k++){K.R(t,a,2);a+=4;var R=l[k];K.MM(t,a,R.Nm.v);a+=4+R.Nm.v.length*2;K.GE(t,a,2);a+=2;var u=R.Crv.v.length;
K.GE(t,a,u);a+=2;for(var b=0;b<u;b++){var v=R.Crv.v[b];K.GE(t,a,v.v.Vrtc.v);a+=2;K.GE(t,a,v.v.Hrzn.v);
a+=2}t.hf(a,u);for(var b=0;b<u;b++){t.data[a]=R.Crv.v[b].v.Cnty.v;a++}K.R(t,a,0);a+=4;K.R(t,a,0);a+=4}return t.data.slice(0,a).buffer};
function l$(){}l$.sj=function(l){var t=new Uint8Array(l),a=4,k=K.KA(t,a);a+=2;var R=K.o(t,a);a+=4;var u=[];
for(var b=0;b<R;b++){var v={};u.push(v);a=l$.Ru(t,a,v)}return u};l$.DF=function(l){var t=new lH,a=0;
K.Rd(t,a,"8BPT");a+=4;K.GE(t,a,1);a+=2;K.R(t,a,l.length);a+=4;for(var k=0;k<l.length;k++){a=l$.OH(t,a,l[k])}return t.data.slice(0,a).buffer};
l$.Ru=function(l,t,a){var k=K.o(l,t);t+=4;if(k!=1)alert("Unknown version of pattern");var R=K.o(l,t);
t+=4;if(R!=1&&R!=2&&R!=3)console.log("Unsupported mode of pattern: "+R);var u=K.KA(l,t);t+=2;var b=K.KA(l,t);
t+=2;a.MU=new d(0,0,b,u);a.name=K.Yv(l,t);t+=4+2*a.name.length;a.name=a.name.substring(0,a.name.length-1);
var v=l[t];t++;a.id=K.NU(l,t,v);t+=a.id.length;var H=-1;if(R==2){H=t;t+=3*256+4}var N=new $.gL(b*u);
t=l$.Ozp(l,t,N);if(R==2){for(var z=0;z<N.D.length;z++){var A=3*N.D[z];N.D[z]=l[H+A+0];N.K[z]=l[H+A+1];
N.l[z]=l[H+A+2]}}a.nr=$.I(a.MU.s()*4);$.Dc(N,a.nr);return t};l$.OH=function(l,t,a){K.R(l,t,1);t+=4;K.R(l,t,3);
t+=4;K.GE(l,t,a.MU.e);t+=2;K.GE(l,t,a.MU.$);t+=2;K.MM(l,t,a.name+"\0");t+=4+2*a.name.length+2;K.Rp(l,t,a.id.length);
t++;K.Rd(l,t,a.id);t+=a.id.length;var k=new $.gL(a.MU.s());$.jk(a.nr,k);t=l$.Ozt(l,t,k,a);return t};
l$.Ozp=function(l,t,a){var k=t,R={MU:null,ST:[],PP:null,xP:null},u=K.o(l,t);t+=4;var b=K.o(l,t);t+=4;
R.MU=K.Nv(l,t);t+=16;var v=K.o(l,t);t+=4;for(var H=0;H<v+2;H++){var N=K.o(l,t);t+=4;if(N==0)continue;
var z=K.o(l,t);t+=4;if(z==0)continue;var A=K.o(l,t);t+=4;var Q=K.Nv(l,t);t+=16;var S=K.KA(l,t);t+=2;
var o=l[t];t++;var p=Ac.NR(!1,l,Q.$,Q.e,t,o);if(H<v)R.ST.push(p);if(H==v)R.PP=p;if(H==v+1)R.xP=p;t+=z-23}if(R.ST[0])a.D=R.ST[0];
if(R.ST[1])a.K=R.ST[1];else a.K=$.clone(R.ST[0]);if(R.ST[2])a.l=R.ST[2];else a.l=$.clone(R.ST[0]);if(R.xP)a.w=R.xP;
else $.set(a.w,255);return t};l$.Ozt=function(l,t,a,k){var R=t,u={MU:k.MU,ST:[a.D,a.K,a.l],PP:null,xP:a.w};
K.R(l,t,3);t+=4;K.R(l,t,0);t+=4;K._D(l,t,u.MU);t+=16;K.R(l,t,24);t+=4;for(var b=0;b<24+2;b++){var v=t,H=b<3||b==25?1:0;
K.R(l,t,H);t+=4;if(H==0)continue;K.R(l,t,0);t+=4;K.R(l,t,8);t+=4;K._D(l,t,u.MU);t+=16;K.GE(l,t,8);t+=2;
K.Rp(l,t,1,1);t++;var N=b<3?u.ST[b]:u.xP;l.hf(t,k.MU.s()+2);t=Ac.RV(N,l.data,k.MU.$,k.MU.e,t,1);K.R(l,v+4,t-v-8)}K.R(l,R+4,t-R-8);
return t};function gk(){}gk.sj=function(l){var t=new Uint8Array(l),a=0,k=K.NU(t,a,4);a+=4;var R=K.KA(t,a);
a+=2;var u={},b=Of.CA(t,u,a+4),v=u.GrdL.v,H=[];for(var N=0;N<v.length;N++)H[N]=v[N].v.Grad.v;return H};
gk.DF=function(l){var t=new lH,a=0;K.Rd(t,a,"8BGR");a+=4;K.GE(t,a,5);a+=2;K.R(t,a,16);a+=4;var k={classID:"null",GrdL:{t:"VlLs",v:[]}},R=k.GrdL.v;
for(var u=0;u<l.length;u++)R[u]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:l[u]}}};
a+=Of.hz(t,k,a);return t.data.slice(0,a).buffer};function K(){}K.st=function(l){var t="";for(var a=3;
a>=0;a--)t+=String.fromCharCode(l>>a*8&255);return t};K.OSi=function(l){var t=0;for(var a=l.length-1;
a>=0;a--)t|=l.charCodeAt(a)<<(3-a)*8;return t};K.indexOf=function(l,t,a,k){if(a==null)a=0;if(k==null)k=l.length;
k=Math.min(k,l.length);for(var R=a;R<k;R++)if(l[R]==t)return R;return-1};K.O_Q=function(l,t,a){if(a==null)a=0;
if(typeof t=="string"){var k=[];for(var R=0;R<t.length;R++)k.push(t.charCodeAt(R));t=k}for(var R=a;R<l.length;
R++){var u=!0;for(var b=0;b<t.length;b++)if(t[b]!=l[R+b]){u=!1;break}if(u)return R}return-1};K.xw=function(l,t,a){var k=[],u="";
while(t<a){var R=l[t++];if(R=="\\".charCodeAt(0))k.push(l[t++]);else k.push(R)}for(var b=0;b<k.length;
b+=2)u+=String.fromCharCode(k[b]<<8|k[b+1]);return u};K.OST=function(l,t,a){var k=new Uint8Array(2);
for(var R=0;R<a.length;R++){K.Cq(k,0,a.charCodeAt(R));if(k[0]==")".charCodeAt(0)||k[0]=="(".charCodeAt(0)||k[0]=="\\".charCodeAt(0)){l[t]="\\".charCodeAt(0);
t++}l[t]=k[0];t++;if(k[1]==")".charCodeAt(0)||k[1]=="(".charCodeAt(0)||k[1]=="\\".charCodeAt(0)){l[t]="\\".charCodeAt(0);
t++}l[t]=k[1];t++}return t};K.xC=function(l,t,a){l.hf(t,4*a.length);return K.OST(l.data,t,a)};K.OnD=function(l,t,a){var k="";
for(var R=0;R<a;R++){var u=l[t++]|l[t++]<<8;k+=String.fromCharCode(u)}return k};K.Fd=function(l,t,a){var k="";
for(var R=0;R<a;R++){var u=l[t++]<<8|l[t++];k+=String.fromCharCode(u)}return k};K.OEz=function(l,t,a){for(var k=0;
k<a.length;k++){var R=a.charCodeAt(k);K.OI(l,t+2*k,R)}};K.Fm=function(l,t,a){for(var k=0;k<a.length;
k++){var R=a.charCodeAt(k);K.Cq(l,t+2*k,R)}};K.O_X=function(l,t,a){l.hf(t,2*a.length);K.Fm(l.data,t,a)};
K.OEj=function(l,t,a){var k="";for(var R=0;R<a;R++)k+="%"+("0"+l[t+R].toString(16)).slice(-2);return decodeURIComponent(k)};
K.sC=function(l,t){var a=K.o(l,t);t+=4;if(a>65535)return"";var k=K.OEj(l,t,a-1);return{RI:k,jl:4+a}};
K.OEw=function(l,t){var a=K.Rx(l,t);t+=4;if(a>65535)return"";var k=K.OnD(l,t,a);return k};K.Yv=function(l,t){var a=K.o(l,t);
t+=4;if(a>65535)return"";var k=K.Fd(l,t,a);return k};K.OER=function(l,t,a){K.Nj(l,t,a.length);t+=4;K.OEz(l,t,a)};
K.OKE=function(l,t,a){K.ji(l,t,a.length);t+=4;K.Fm(l,t,a)};K.MM=function(l,t,a){l.hf(t,4+2*a.length);
K.OKE(l.data,t,a)};K.OKf=function(l,t,a){l.hf(t,4+2*a.length);K.OER(l.data,t,a)};K.OVY=function(l,t,a){var k=[];
for(var R=0;R<a;R++)k.push(String.fromCharCode(l[t+R]));return k};K.O_v=function(l,t,a){var k=!1,R=l.length-a.length;
for(var u=t;u<R;u++){for(var b=0;b<a.length;b++){if(l[u+b]!=a.charCodeAt(b))break;if(b==a.length-1)return u}}};
K.NU=function(l,t,a){var k="";for(var R=0;R<a;R++)k+=String.fromCharCode(l[t+R]);return k};K.Hl=function(l,t,a){for(var k=0;
k<a.length;k++)l[t+k]=a.charCodeAt(k)};K.Rd=function(l,t,a){l.hf(t,a.length);K.Hl(l.data,t,a)};K.OOA=function(l,t,a){var k="";
for(var R=0;R<a;R++){var u=l[t+R];if(u<10)k+="  ";else if(u<100)k+=" ";k+=u+", "}return k};K.KA=function(l,t){return l[t]<<8|l[t+1]};
K.Cq=function(l,t,a){l[t]=a>>8&255;l[t+1]=a&255};K.GE=function(l,t,a){l.hf(t,4);K.Cq(l.data,t,a)};K.zV=function(l,t){return l[t+1]<<8|l[t]};
K.OI=function(l,t,a){l[t+1]=a>>8&255;l[t]=a&255};K.Hd=function(l,t,a){l.hf(t,4);K.OI(l.data,t,a)};K.De=function(l,t){K.Oq[0]=l[t+1];
K.Oq[1]=l[t];return K.Mk[0]};K.OOg=function(l,t){K.Oq[0]=l[t];K.Oq[1]=l[t+1];return K.Mk[0]};K.Nm=K.Cq;
K.Ob=K.GE;K.Gh=function(l,t){K.jV[0]=l[t+3];K.jV[1]=l[t+2];K.jV[2]=l[t+1];K.jV[3]=l[t];return K.Sm[0]};
K.nZ=function(l,t,a){K.Sm[0]=a;l[t+3]=K.jV[0];l[t+2]=K.jV[1];l[t+1]=K.jV[2];l[t+0]=K.jV[3]};K.hu=function(l,t,a){l.hf(t,4);
K.nZ(l.data,t,a)};K.Of=function(l,t){K.jV[0]=l[t+0];K.jV[1]=l[t+1];K.jV[2]=l[t+2];K.jV[3]=l[t+3];return K.Sm[0]};
K.Fq=function(l,t,a){K.Sm[0]=a;l[t+0]=K.jV[0];l[t+1]=K.jV[1];l[t+2]=K.jV[2];l[t+3]=K.jV[3]};K.OO_=function(l,t,a){l.hf(t,4);
K.Fq(l.data,t,a)};K.o=function(l,t){var a=l[t]*(256*256*256)+(l[t+1]<<16|l[t+2]<<8|l[t+3]);return a};
K.ji=function(l,t,a){l[t]=a>>24&255;l[t+1]=a>>16&255;l[t+2]=a>>8&255;l[t+3]=a>>0&255};K.R=function(l,t,a){l.hf(t,4);
K.ji(l.data,t,a)};K.SE=function(l,t){return K.o(l,t)<<32|K.o(l,t+4)};K.OOM=function(l,t,a){K.ji(l,t,a>>16>>16);
K.ji(l,t+4,a&4294967295)};K.sh=function(l,t,a){l.hf(t,8);K.OOM(l.data,t,a)};K.Rx=K.Of;K.Nj=K.Fq;K.hC=K.OO_;
K.CR=function(l,t){var a=new Uint8Array(8);for(var k=0;k<8;k++)a[k]=l[t+7-k];var R=new Float64Array(a.buffer);
return R[0]};K.OOy=function(l,t){var a=new Uint8Array(8);for(var k=0;k<8;k++)a[k]=l[t+k];var R=new Float64Array(a.buffer);
return R[0]};K.jC=function(l,t,a){var k=new Float64Array(1);k[0]=a;var R=new Uint8Array(k.buffer);for(var u=0;
u<4;u++){var b=R[u];R[u]=R[7-u];R[7-u]=b}for(var u=0;u<8;u++)l[t+u]=R[u]};K.jN=function(l,t,a){l.hf(t,8);
K.jC(l.data,t,a)};K.nd=function(l,t){K.jV[0]=l[t+3];K.jV[1]=l[t+2];K.jV[2]=l[t+1];K.jV[3]=l[t+0];return K.OL[0]};
K.FT=function(l,t){K.jV[0]=l[t+0];K.jV[1]=l[t+1];K.jV[2]=l[t+2];K.jV[3]=l[t+3];return K.OL[0]};K.hh=function(l,t,a){K.OL[0]=a;
l[t+0]=K.jV[3];l[t+1]=K.jV[2];l[t+2]=K.jV[1];l[t+3]=K.jV[0]};K.Ml=function(l,t,a){l.hf(t,4);K.hh(l.data,t,a)};
K.MP=function(l,t,a){K.OL[0]=a;l[t+0]=K.jV[0];l[t+1]=K.jV[1];l[t+2]=K.jV[2];l[t+3]=K.jV[3]};K.O_N=function(l,t,a){l.hf(t,4);
K.MP(l.data,t,a)};K.zr=function(l,t){var a=K.Gh(l,t)/16777215;return a};K.ql=function(l,t,a){K.nZ(l,t,Math.floor(a*16777215))};
K.O_R=function(l,t,a){l.hf(t,4);K.ql(l.data,t,a)};K.zf=function(l,t){var a=l[t],k=K.NU(l,t+1,a);a+=1-a%2;
return{SN:k,length:a+1}};K.O$U=function(l,t,a){var k=a.length;l[t]=k;K.Hl(l,t+1,a);if(k%2==0){l[t+1+k]=0;
++k}return k+1};K.HB=function(l,t,a){l.hf(t,a.length+2);return K.O$U(l.data,t,a)};K.Hc=function(l,t){var a=new WM;
a.w=K.CR(l,t+0*8);a.l=K.CR(l,t+1*8);a.Mn=K.CR(l,t+2*8);a.N_=K.CR(l,t+3*8);a.Pu=K.CR(l,t+4*8);a.wf=K.CR(l,t+5*8);
return a};K.zQ=function(l,t,a){K.jC(l,t+0*8,a.w);K.jC(l,t+1*8,a.l);K.jC(l,t+2*8,a.Mn);K.jC(l,t+3*8,a.N_);
K.jC(l,t+4*8,a.Pu);K.jC(l,t+5*8,a.wf)};K.O$L=function(l,t,a){l.hf(t,48);K.zQ(l.data,t,a)};K.O$c=function(l,t){var a=K.nd(l,t),k=K.nd(l,t+4),R=K.nd(l,t+8),u=K.nd(l,t+12);
return new d(a,k,R-a,u-k)};K.OWA=function(l,t,a){K.hh(l,t,a.x);K.hh(l,t+4,a.y);K.hh(l,t+8,a.x+a.$);K.hh(l,t+12,a.y+a.e)};
K.OWx=function(l,t,a){l.hf(t,16);K.OWA(l.data,t,a)};K.Nv=function(l,t){var a=K.Gh(l,t),k=K.Gh(l,t+4),R=K.Gh(l,t+8),u=K.Gh(l,t+12);
return new d(k,a,u-k,R-a)};K.Fe=function(l,t,a){K.nZ(l,t,a.y);K.nZ(l,t+4,a.x);K.nZ(l,t+8,a.y+a.e);K.nZ(l,t+12,a.x+a.$)};
K._D=function(l,t,a){l.hf(t,16);K.Fe(l.data,t,a)};K.zX=function(l,t,a){var k=new Uint8Array(a);for(var R=0;
R<a;R++)k[R]=l[t+R];return k};K.Fo=function(l,t,a){l.set(a,t)};K.SK=function(l,t,a){l.hf(t,a.length);
K.Fo(l.data,t,a)};K.OWc=function(l,t,a,k){if(!k)k=1;for(var R=0;R<k;R++)l[t+R]=a};K.Rp=function(l,t,a,k){if(!k)k=1;
l.hf(t,k);K.OWc(l.data,t,a,k)};K.Mk=new Int16Array(1);K.Oq=new Uint8Array(K.Mk.buffer);K.Sm=new Int32Array(1);
K.jV=new Uint8Array(K.Sm.buffer);K.OL=new Float32Array(K.Sm.buffer);function d(l,t,a,k){if(!l)l=0;if(!t)t=0;
if(!a)a=0;if(!k)k=0;this.x=l;this.y=t;this.$=a;this.e=k}d.prototype.s=function(){return this.$*this.e};
d.prototype.clone=function(){return new d(this.x,this.y,this.$,this.e)};d.prototype.contains=function(l,t){return l>=this.x&&l<=this.x+this.$&&(t>=this.y&&t<=this.y+this.e)};
d.prototype.ML=function(l){return this.contains(l.x,l.y)};d.prototype.rI=function(l){return this.x<=l.x&&this.y<=l.y&&l.x+l.$<=this.x+this.$&&l.y+l.e<=this.y+this.e};
d.prototype.kE=function(l){this.x=l.x;this.y=l.y;this.$=l.$;this.e=l.e};d.prototype.cG=function(l){return this.x==l.x&&this.y==l.y&&this.$==l.$&&this.e==l.e};
d.prototype.RK=function(l,t){this.x-=l;this.y-=t;this.$+=2*l;this.e+=2*t};d.prototype.OOn=function(l){this.RK(l.x,l.y)};
d.prototype.gk=function(l){var t=Math.max(this.x,l.x),a=Math.max(this.y,l.y),k=Math.min(this.x+this.$,l.x+l.$),R=Math.min(this.y+this.e,l.y+l.e);
if(k<t||R<a)return new d;else return new d(t,a,k-t,R-a)};d.prototype.Nf=function(l){if(l.y+l.e<this.y||l.x>this.x+this.$||l.y>this.y+this.e||l.x+l.$<this.x)return!1;
return!0};d.prototype.wp=function(){return this.$<=0||this.e<=0};d.prototype.offset=function(l,t){this.x+=l;
this.y+=t};d.prototype.qI=function(l){this.offset(l.x,l.y)};d.prototype.OOE=function(){this.x=this.y=this.$=this.e=0};
d.prototype.$x=function(l,t,a,k){this.x=l;this.y=t;this.$=a;this.e=k};d.prototype.wm=function(l){if(this.wp())return l.clone();
if(l.wp())return this.clone();var t=this.clone();t.OHl(l);return t};d.tN=new Float32Array(2);d.prototype.OHl=function(l){if(l.wp())return;
if(this.wp()){this.kE(l);return}this.OJ(l.x,l.y);this.OJ(l.x+l.$,l.y+l.e)};d.prototype.OJ=function(l,t){var a=Math.min(this.x,l),k=Math.min(this.y,t);
this.$=Math.max(this.x+this.$,l)-a;this.e=Math.max(this.y+this.e,t)-k;this.x=a;this.y=k};d.prototype.OOK=function(l,t,a,k){if(this.$==0&&this.e==0)this.OHi(l,t);
else this.OJ(l,t);this.OJ(a,k)};d.prototype.OHi=function(l,t){this.x=l;this.y=t;this.$=this.e=0};function HJ(){}HJ.sj=function(l){var t={};
HJ.FC(l,t,0,0);return t};HJ.Sh=function(l,t){var a=0;K.Rd(t,a," ");a++;a=HJ.Fh(l,t,a,0);a--;t.hf(a,2);
t.data[a]=t.data[a+1]=0;a+=2;return a};HJ.RO=function(l,t,a,k){while(l[a]!="<".charCodeAt(0)){a++;console.log("\u0161ipka")}a+=2;
a=HJ.FC(l,t,a,k);return a};HJ.R$=function(l,t,a,k){K.Rd(t,a,"<< ");a+=3;a=HJ.Fh(l,t,a,k);K.Rd(t,a,">>");
a+=2;return a};HJ.SD=function(l){return l==9||l==10||l==32};HJ.FC=function(l,t,a,k){while(!0){while(HJ.SD(l[a])||l[a]==0)a++;
if(a>=l.length)break;if(l[a]=="/".charCodeAt(0)){a++;var R=a;while(!HJ.SD(l[R]))R++;var u=K.NU(l,a,R-a);
a=R+1;var b=HJ.Wj(l,a,k,u);t["_"+u]=b.V;a+=b.size}else if(l[a]==">".charCodeAt(0)){a+=2;break}else{var v=l[a];
console.log(K.NU(l,a,a+100));console.log("unknown byte: "+v+", char: "+String.fromCharCode(v)+", offset: "+a);
a++;throw"e";return-1}}return a};HJ.Fh=function(l,t,a,k){for(var R in l){var u=R.substring(1,R.length);
K.Rd(t,a,"/"+u);a+=1+u.length;K.Rd(t,a," ");a++;a=HJ.hT(l[R],t,a,k+1);K.Rd(t,a," ");a++}return a};HJ.Wj=function(l,t,a,k){var R=t,u={type:"",size:0,V:0};
while(HJ.SD(l[t]))t++;if(l[t]=="<".charCodeAt(0)){u.type="Object";u.V={};t=HJ.RO(l,u.V,t,a+1)}else if(l[t]=="(".charCodeAt(0)){u.type="String";
t++;if(l[t]==")".charCodeAt(0)){u.V="s";t++}else{t+=2;var b=t,Hc=0;while(!0){if(l[b]==")".charCodeAt(0)&&l[b-1]!="\\".charCodeAt(0))break;
else b+=1}u.V="s"+K.xw(l,t,b);t=b+2}}else if(l[t]=="[".charCodeAt(0)){t++;u.V=[];u.type="Array";while(HJ.SD(l[t]))t++;
while(l[t]!="]".charCodeAt(0)){var v=HJ.Wj(l,t,a+1,k);if(v==-1)return-1;u.V.push(v.V);t+=v.size;delete v.size;
while(HJ.SD(l[t]))t++}t++}else{var H=t;while(!HJ.SD(l[H]))H++;var N=K.NU(l,t,H-t),z=parseFloat(N);if(!isNaN(z)&&N.indexOf(".")!=-1){u.type="Float";
var A=parseFloat(N);u.V="f"+A}else if(!isNaN(z)&&N.indexOf(".")==-1){u.type="Integer";u.V="i"+parseInt(N)}else if(N=="true"||N=="false"){u.type="Boolean";
u.V=N=="true"}else if(N.charAt(0)=="/"){u.type="BString";u.V=N}else{console.log("unknown value",JSON.stringify(N));
throw"e"}t=H+1}u.size=t-R;return u};HJ.OHP=function(l){if(l==Math.round(l))return l+".0";var t=l.toFixed(5);
if(0<l&&l<1)t=t.substring(1,t.length);if(-1<l&&l<0)t="-"+t.substring(2,t.length);return t};HJ.hT=function(l,t,a,k){if(l instanceof Array){K.Rd(t,a,"[ ");
a+=2;for(var R=0;R<l.length;R++){a=HJ.hT(l[R],t,a,k);K.Rd(t,a," ");a++}K.Rd(t,a,"]");a+=1}else if(l instanceof Object){a=HJ.R$(l,t,a,k)}else if(typeof l=="string"&&l.charAt(0)=="s"){K.Rd(t,a,"(");
a++;K.Rp(t,a,254);a++;K.Rp(t,a,255);a++;a=K.xC(t,a,l.substring(1));K.Rd(t,a,")");a++}else if(typeof l=="string"&&l.charAt(0)=="/"){K.Rd(t,a,l);
a+=l.length}else if(typeof l=="string"&&l.charAt(0)=="f"){var u=parseFloat(l.substring(1)),b=HJ.OHP(u);
K.Rd(t,a,b);a+=b.length}else if(typeof l=="string"&&l.charAt(0)=="i"){K.Rd(t,a,l.substring(1));a+=l.length-1}else{var b=l+"";
K.Rd(t,a,b);a+=b.length}return a};function HD(){}HD.sj=function(l,t){var a=new Uint8Array(l),k=0,R=K.NU(a,k,9),v=4,H=100;
k+=9;var u=K.NU(a,k,4);k+=4;k++;t.$=K.o(a,k);k+=4;t.e=K.o(a,k);k+=4;var b=K.o(a,k);k+=4;if(b!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(u)==-1){H=K.o(a,k);k+=4;if(parseInt(u.slice(1))>=7){H=H}else alert("Unknown XCF version: "+u);
v=8}var N={};k=HD.Md(a,k,N);var z=[];k=HD.Mz(a,k,z,v);var A=[];k=HD.Mz(a,k,A,v);t.oF=0;for(var Q=0;Q<z.length;
Q++)HD.OlQ(a,z[Q],t,N,v,H);while(t.oF>0){t.Q.push(t.LA());t.oF--}t.Q.reverse();delete t.oF;t.buffer=$.I(t.$*t.e*4);
if(t.Q.length==0)console.log("No layers!!!");for(var Q=0;Q<A.length;Q++){var S=HD.ZV(a,A[Q],N,v,H);if(S.PB[He.Oib])t.O={channel:S.ll,rect:new d(0,0,t.$,t.e)}}};
HD.OlQ=function(l,t,a,k,R,u){var b=a.Ow(),v=K.o(l,t),A=0;t+=4;var H=K.o(l,t);t+=4;b.rect=new d(0,0,v,H);
var N=K.o(l,t);t+=4;var z=K.sC(l,t);t+=z.jl;b.wy(z.RI);var Q={};t=HD.Md(l,t,Q);if(Q[He.Zq]){var S=Q[He.Zq];
A=S.length/4-1}if(Q[He.MY]){b.rect.x=K.Gh(Q[He.MY],0);b.rect.y=K.Gh(Q[He.MY],4)}if(Q[He.ZW]){b.opacity=K.o(Q[He.ZW],0)}if(Q[He.OiE]){b.add.lsct=Oz.ON;
b.rect=new d(0,0,0,0);b.buffer=$.I(0);b.Ck=24}if(Q[He.ZH]){var o=K.o(Q[He.ZH],0);b.wk=He.OiQ[o];if(b.PA()&&b.wk=="norm")b.wk="pass"}if(Q[He.Z_]){if(K.o(Q[He.Z_],0)==0)b.Ck+=2}if(Q[He.ZT]){var p=K.o(Q[He.ZT],0);
b.add.lsct=p&1==1?Oz.ON:Oz.G_}if(Q[He.Mo]){var O=Q[He.Mo];for(var E in O){var L=O[E];if(E=="gimp-text-layer"){var U=HD.OgS(L),W=U.text,Y=U.font,y=U.color,C=U["font-size"];
if(W==null&&U.markup){var X=new DOMParser,M=X.parseFromString(U.markup,"image/svg+xml");while(M.firstChild!=null&&M.firstChild.tagName!=null){M=M.firstChild;
var g=M.getAttribute("font"),n=M.getAttribute("foreground"),V=M.getAttribute("size");if(g!=null)Y=g;
if(n!=null){n=CSS._q(n);y=[1,n.D/255,n.K/255,n.l/255]}if(V!=null){C=""+parseFloat(V)/245}}W=M.textContent}b.add.TySh=Wz.AK(0,0);
b.add.TySh.Nu=new d(0,0,100,100);b.add.TySh.N=new WM(1,0,0,1,b.rect.x,b.rect.y);var i=b.add.TySh.dH;
Wz.dW(i,0,W);var f=Wz.SG(i,0,1),r=U.justify,e=U["line-spacing"];if(y)f.Zl.FillColor={Type:1,Values:[1,parseFloat(y[1]),parseFloat(y[2]),parseFloat(y[3])]};
if(C){C=Math.round(parseFloat(C));f.Zl.FontSize=C;b.add.TySh.N.wf+=Math.min(17,C*.17)}if(e){e=Math.round(parseFloat(e)+f.Zl.FontSize*1.2);
f.Zl.Leading=e;f.Zl.AutoLeading=!1}if(r)f.SP.Justification=["left","right","center","fill"].indexOf(r);
if(Y&&Y!="Sans-serif"){var D=Y.toLowerCase(),B="bold italic semi extra regular condensed light".split(" "),h=D.length;
for(var I=0;I<B.length;I++){var j=D.indexOf(B[I]);if(j!=-1&&j<h&&D[j-1]==" ")h=j}if(h!=D.length)Y=Y.slice(0,h-1).split(" ").join("")+"-"+Y.slice(h).split(" ").join("");
Wz.FO(f,Y)}Wz.Hf(i,0,W.length,f);var c=U["box-width"],m=U["box-height"],F=c?parseFloat(c):b.rect.$,G=m?parseFloat(m):b.rect.e;
Wz.fb(i,1);Wz.$I(i,[0,0,Math.ceil(F),Math.ceil(G)])}else console.log("Unknown property "+E)}}while(a.oF>A){a.Q.push(a.LA());
a.oF--}a.oF=A;if(b.add.lsct==Oz.ON||b.add.lsct==Oz.G_)a.oF++;var q=R==4?K.o:K.SE;if(b.OA()){b.buffer=$.I(b.rect.s()*4);
var W_=new $.gL(b.rect.s()),WU=q(l,t);t+=R;var Wd=q(l,t);t+=R;HD.ZO(l,WU,W_,k,R,u);$.Dc(W_,b.buffer);
if(Wd!=0){b.Z=new _.fl;b.Z.color=0;b.Z.rect=b.rect.clone();b.Z.channel=HD.ZV(l,Wd,k,R,u).ll;if(Q[He.Zm])b.Z.isEnabled=K.o(Q[He.Zm],0)==1}}a.Q.push(b)};
HD.OgS=function(l){var t="("+OK.Ei(l,0,l.length-1)+")",a=[],k={};HD.Fv(t,1,a);HD.OIV(a,k);return k};
HD.OIV=function(l,t){for(var a=0;a<l.length;a++){var k=l[a],R=k[0];if(k.length==2)t[R]=k[1];else t[R]=k.slice(1)}};
HD.Fv=function(l,t,a){while(!0){if(t>=l.length)throw"e";var k=l.charAt(t);t++;if(k=="("){var R=[];t=HD.Fv(l,t,R);
a.push(R)}else if(k==" "||k=="\n"||k=="\r"){}else if(k==")")return t;else if(k=="\""){var u=t;while(!0){var b=l[t];
t++;if(b=="\"")break;if(b=="\\")t++}a.push(JSON.parse(l.slice(u-1,t)))}else{var u=t-1;while(l[t]!=" "&&l[t]!=")")t++;
a.push(l.slice(u,t))}}};HD.ZV=function(l,t,a,k,R){var u=K.o(l,t);t+=4;var b=K.o(l,t);t+=4;var v=K.sC(l,t);
t+=v.jl;var H={};t=HD.Md(l,t,H);var N=new $.gL(u*b),z=k==4?K.o:K.SE,A=z(l,t);t+=k;HD.ZO(l,A,N,a,k,R);
return{ll:N.D,PB:H}};HD.ZO=function(l,t,a,k,R,u){var b=K.o(l,t);t+=4;var v=K.o(l,t);t+=4;var H=K.o(l,t);
t+=4;var N=R==4?K.o:K.SE,z=N(l,t);t+=R;HD.OIA(l,z,a,k,H,R,u)};HD.OIA=function(l,t,a,k,R,u,b){var v=K.o(l,t),z=0,L=0;
t+=4;var H=K.o(l,t);t+=4;var N=new d(0,0,v,H);if(b==100)z=1;else if(b==150)z=1;else if(b==600)z=4;else alert("unsupported bit depth "+b);
var A=R/z,z=Math.round(R/A),Q=[];t=HD.Mz(l,t,Q,u);var S=new $.gL(64*64*z),o=new d,p=k[He.OiS][0],O=[S.D,S.K,S.l,S.w];
if(A==3)$.set(S.w,255);var E=Date.now();for(var U=0;U<H;U+=64)for(var W=0;W<v;W+=64){var Y=Math.min(v-W,64),y=Math.min(H-U,64),C=Y*y;
o.$x(W,U,Y,y);HD.OIN(l,Q[L++],C*z,p,A,O);if(b==600){var X=HD.OIM(),M=new Uint32Array(1),g=new Float32Array(M.buffer);
for(var n=0;n<A;n++){var V=O[n];for(var i=0;i<C;i++){M[0]=V[i]<<24|V[C+i]<<16|V[(C<<1)+i]<<8|V[(C<<1)+C+i]<<0;
var f=g[0];if(f<0)f=0;else if(f>1)f=1;V[i]=X[~~(.5+f*1e3)]}}}$.GJ(S,o,a,N)}};HD.OIM=function(){var l=HD.OKe;
if(l!=null)return l;l=HD.OKe=new Uint8Array(1001);for(var t=0;t<1001;t++)l[t]=~~(.49+255*$.Gq(t*.001));
return l};HD.OIN=function(l,t,a,k,R,u){if(k==1){for(var b=0;b<R;b++){var v=u[b],H=0;while(H<a){var N=l[t];
t++;if(N<127){var z=l[t];t++;N++;for(var A=0;A<N;A++)v[H+A]=z}else if(N==127){var Q=l[t];t++;var S=l[t];
t++;var z=l[t];t++;N=Q<<8|S;for(var A=0;A<N;A++)v[H+A]=z}else if(N==128){var Q=l[t];t++;var S=l[t];t++;
N=Q<<8|S;for(var A=0;A<N;A++)v[H+A]=l[t+A];t+=N}else{N=256-N;for(var A=0;A<N;A++)v[H+A]=l[t+A];t+=N}H+=N}}}else alert("Unknown compression "+k)};
HD.Mz=function(l,t,a,k){var R=k==4?K.o:K.SE;while(!0){var u=R(l,t);t+=k;if(u==0)break;else a.push(u)}return t};
HD.Md=function(l,t,a){while(!0){var k=K.o(l,t);t+=4;var R=K.o(l,t);t+=4;if(k==He.OiI)break;else if(k==He.Mo)a[k]=HD.OiW(l,t,t+R);
else a[k]=K.zX(l,t,R);t+=R}return t};HD.OiW=function(l,t,a){var k={};while(t<a){var R=K.sC(l,t);t+=R.jl;
var u=K.o(l,t);t+=4;if(u!=1)console.log("unknown flags",u);var b=K.o(l,t);t+=4;k[R.RI]=K.zX(l,t,b);t+=b}return k};
var He={OiI:0,OOm:1,OOx:2,OON:3,Oib:4,OOR:5,ZW:6,ZH:7,Z_:8,OA$:9,OAW:10,Zm:11,OA_:12,OAT:13,OAh:14,MY:15,OAv:16,OiS:17,OAN:18,O$l:19,O$g:20,Mo:21,O$I:22,O$r:23,O$f:24,O$d:25,O$m:26,O$x:27,O$F:28,OiE:29,Zq:30,ZT:31,O$Z:32,O$T:33,O$G:34,O$e:35,O$o:36,O$w:37,O$h:38,O$v:0,O$N:1,OWE:2,OWK:3,OWD:1,OWj:2,OHk:0,OHb:1,OH_:1};
He.OiQ="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function OG(){}OG.sj=function(l,t){var a=OG,k=HG.parse(l),u=0;if(k.pages.length>1)console.log(k.pages.length,"pages");
var R=[],b=new d;for(var v=0;v<k.pages.length;v++){var H=k.pages[v],N=H.layers,z=a._f(N,v),Q=!1;if(z.s()>8e3*8e3||z.$>3e4||z.e>3e4){a.Za(N,!0);
var A=a._f(N,v);if(A.s()>=z.s())a.Za(N,!1)}z=a._f(N,v);for(var S=0;S<N.length;S++){var o=N[S];if(a.Na(o)=="artboard")Q=!0}if(!Q){console.log("no artboard");
var p={};for(var O in H)p[O]=H[O];p._class="group";H.layers=[p]}R.push(z.clone());if(z.wp())continue;
z.x=0;z.y=u;u+=z.e+200;b=b.wm(z)}var E={};if(k.foreignSymbols)for(var L=0;L<k.foreignSymbols.length;
L++){var U=k.foreignSymbols[L].symbolMaster;E[U.symbolID]={KM:U}}a.Zu(k.pages,E,t);for(var W in E){var o=E[W].KM,Y=a.ZY(o.layers)}var y=OG.ZG(b,8192*8192);
t.y$=!0;t.$=Math.round(b.$/y);t.e=Math.round(b.e/y);t.buffer=$.I(t.$*t.e*4);t.kC(k.pages[0].layers.length);
t.jb={};u=0;for(var v=0;v<k.pages.length;v++){var C=k.pages[v],z=R[v],X=new WM(y,0,0,y,z.x,z.y-u);a.Mw(C.layers,t,X,k,E,{},[]);
u+=z.e+200}delete t.jb;if(y!=1)alert("File scaled down "+y+"x")};OG.OHT=0;OG.Na=function(l){return l._class?l._class:l.$class};
OG.ZG=function(l,t){var a=1;while(Math.round(l.$/a)*Math.round(l.e/a)>t)a++;if(a!=1&&!window.confirm("Your image is quite large ("+l.$+" x "+l.e+" px).\n"+"Press OK to scale it down "+a+"x, or Cancel to keep the size."))a=1;
return a};OG._f=function(l,t){var a=[],k=OG;for(var R=0;R<l.length;R++){var u=l[R],b=k.Nv(u.frame);if(t==0||k.Na(u)=="artboard")a.push(b)}return $.rect.vF(a)};
OG.Za=function(l,t){var a=[],k=OG;for(var R=0;R<l.length;R++){var u=l[R],b=k.Nv(u.frame);b.$+=150;b.e+=150;
a.push(b)}var v=$.rect.vF(a);$.rect.Oka(a,t);var H=$.rect.vF(a);if(H.s()*1.5<v.s()||v.$>3e4&&H.$<=3e4||v.e>3e4&&H.e<=3e4){alert("Re-arranging artboards");
for(var R=0;R<l.length;R++){var N=a[R],u=l[R],z=u.frame;z.x=N.x;z.y=N.y}}};OG.Zu=function(l,t,a){var k=OG;
for(var R=0;R<l.length;R++){var u=l[R],b=k.Na(u);if(["page","artboard","group"].indexOf(b)!=-1)k.Zu(u.layers,t,a);
else if(b=="symbolMaster")t[u.symbolID]={KM:u}}};OG.ZY=function(l){var t=OG;for(var a=0;a<l.length;a++){var k=l[a],R=t.Na(k),u=null;
if(["page","artboard","group"].indexOf(R)!=-1)u=t.ZY(k.layers);if(R=="symbolMaster"||R=="symbolInstance")u=k;
if(u!=null)return u}return null};OG.Mw=function(l,t,a,k,R,u,b){var v=OG,H=[];for(var N=0;N<l.length;
N++){var z=l[N],A=z.frame?v.Nv(z.frame):null,Q=z.style,L="",C=null;if(Q==null){console.log("no styles")}var S=v.D_(z,a),o=v.Na(z),p=o=="shapeGroup"||o=="shapePath"||o=="rectangle"||o=="oval"||o=="triangle",O=["page","artboard","group"].indexOf(o)!=-1;
if(o=="shapeGroup"){for(var E=0;E<z.layers.length;E++)if(v.Na(z.layers[E])=="shapeGroup")O=!0}var U=z.exportOptions;
if(U){var W=U.exportFormats;if(W==null)W=U.sizes;if(o!="artboard"&&(W&&W.length!=0)){var Y=W[0].scale;
L="-e"+(Y==1?"":Y)+"-"}}var y=t.Ow();y.Ro(z.isVisible);y.wy(L+z.name.slice(0,250));if(Q!=null)C=v.OPa(k,t,Q,A,S,y.getName(),p||o=="artboard");
if(z.shouldBreakMaskChain){while(H.length!=0)v.DK(H.pop(),t)}if(O){y.add.lsct=z.layerListExpandedType==2?Oz.ON:Oz.G_;
y.wk="pass";y.Ck=24;y.Ro(z.isVisible);t.Q.push(t.LA());if(o=="artboard"){var X=A.clone(),M=S.bd();X.x=-Math.floor(S.Pu/M);
X.y=-Math.floor(S.wf/M);X.$=Math.floor(X.$/M);X.e=Math.floor(X.e/M);y.fP(X);var g=z.backgroundColor,n=Math.round(255*g.blue)<<16|Math.round(255*g.green)<<8|Math.round(255*g.red);
if(n!=16777215){var V=t.Ow();V.wy("Artboard Background");V.rect=X;V.buffer=$.I(V.rect.s()*4);$.IK(V.buffer,255<<24|n);
t.Q.push(V)}}v.Mw(z.layers,t,S,k,R,u,b)}else if(p){y.add.vmsk=new _.rv;y.add.vstk=JSON.parse(JSON.stringify(P.BF.default));
y.add.vstk.strokeEnabled.v=!1;y.add.vogk=[];var i=C!=null&&C.frameFXMulti.v.length==1,f=Q?Q.fills:null,r=Q?v.ZM(k,f,A,S,y.getName(),t,v.Zs(b,z.do_objectID+"_image")):[];
if(r.length==0){if(i)y.add.vstk.fillEnabled.v=!1;else y.add.iOpa=0;y.add.SoCo={classID:"null",Clr:{t:"Objc",v:$.C.br({D:0,K:0,l:0})}}}else{var e=r[0],D=null,B=null;
if(e.type=="SoFi"){D="SoCo";B=P.uk}if(e.type=="GrFl"){D="GdFl";B=P.RP}if(e.type=="patternFill"){D="PtFl";
B=P.Ry}if(D!=null){y.add[D]={classID:"null"};for(var E=0;E<B.length;E++){var h=B[E];y.add[D][h]=e.V.v[h]}var I=e.V.v.Opct.v.val;
y.add.iOpa=Math.round(255*I/100)}}y.Ck|=16;y.add.vmsk.k=v.rG(z.layers?z.layers:[z],z.layers?S:a,y.add.vogk);
var j=Q?Q.blur:null;if(j&&j.isEnabled&&j.type<=1)y.add.vmsk.cg=j.radius;if(y.add.vmsk.k.length==2){console.log("shape with no content:",y.getName())}if(i){var c=C.frameFXMulti.v[0].v,m=y.add.vstk,F=Q.borders[0];
C.frameFXMulti.v=[];WD.eg(c,m);var G=Q.borderOptions,q=Q.miterLimit;if(G){m.strokeStyleLineCapType.v.strokeStyleLineCapType=P.BF.Rc[G.lineCapStyle];
m.strokeStyleLineJoinType.v.strokeStyleLineJoinType=P.BF.join[G.lineJoinStyle];m.strokeStyleLineDashSet.v=WD.pQ(G.dashPattern,1/c.Sz.v.val);
if(q!=null)m.strokeStyleMiterLimit.v=q}}y.cR(t)}else if(o=="bitmap"){var W_=z.image.bdata,WU=t.mV(W_,y.getName(),0,0);
WU.Ck=y.Ck;y=WU;var j=Q.blur,Wd=Q.colorControls;if(j||Wd){y.add.SoLd.filterFX=HU.Q$();t.nB({id:y.add.SoLd.placed.v,rect:new d,buffer:$.I(1),Z:new _.fl});
var f=y.add.SoLd.filterFX.v.filterFXList.v;if(j){var WZ=HU.iq("GsnB",{});WZ.v.enab.v=j.isEnabled;WZ.v.Fltr.v.Rds.v.val=j.radius;
f.push(WZ)}if(Wd){var WL=Wd.brightness,Wj=Wd.contrast,Or=Wd.hue,Wu=Wd.saturation;if(Or!=0||Wu!=1){var WZ=HU.iq("hue2",{});
WZ.v.enab.v=Wd.isEnabled;WZ.v.Fltr.v.Adjs.v.push({t:"Objc",v:WT.Jt([Math.round(Or*180/Math.PI),Math.round((Wu-1)*100),0])});
f.push(WZ)}if(WL!=0||Wj!=1){var WZ=HU.iq("brit",{});WZ.v.enab.v=Wd.isEnabled;Wj=Wj-1;if(Wj>0)Wj/=2;WT.JQ("brit",[Math.round(WL*255),Math.round(Wj*100),!0],WZ.v.Fltr.v);
f.push(WZ)}}}A.x=A.y=0;var WE=$.M.Gf(A).p;S.sI();$.M.N(WE,S,WE);y.add.SoLd.Trnf=s.b.tW(WE);y.add.SoLd.nonAffineTransform=s.b.tW(WE);
y.Gk(t,!1)}else if(o=="text"){if(z.attributedString==null)continue;var Wf=S.clone(),WS,Wx,Oi=0;Wf.sI();
Wf.w=Wf.N_=Math.min(Wf.w,Wf.N_);y.add.lnsr="rend";y.add.TySh=Wz.AK(0,0);y.add.TySh.Nu=new d(0,0,A.$,A.e);
y.add.TySh.N=Wf;var WQ=z.attributedString;if(WQ.archivedAttributedString)WQ=WQ.archivedAttributedString;
var WJ=WQ.NSString;if(WJ==null)WJ=WQ.string;if(WJ["NS.string"])WJ=WJ["NS.string"];if(u[z.do_objectID]!=null)WJ=u[z.do_objectID];
var Ww=v.Zs(b,z.do_objectID+"_stringValue");if(Ww)WJ=Ww.value;if(WQ.attributes!=null){WS=[];Wx=[];var Wv=WQ.attributes;
for(var E=0;E<Wv.length;E++){WS.push(Wv[E].length,E);Wx.push(Wv[E].attributes)}}else if(WQ.NSAttributeInfo==null){WS=[WJ.length,0];
Wx=[WQ.NSAttributes]}else{WS=WQ.NSAttributeInfo["NS.data"];Wx=WQ.NSAttributes;WS=OG.Oiy(WS,Wx)}for(var E=0;
E<WS.length;E+=2)Oi+=WS[E];if(Oi!=WJ.length){while(Oi>WJ.length){WS[WS.length-2]--;Oi--;if(WS[WS.length-2]==0){WS.pop();
WS.pop()}}WS[WS.length-2]+=WJ.length-Oi}WJ=WJ.replace(/\u2028/g,"\n");WJ=WJ.replace(/\u2029/g,"\n");
WJ=WJ.replace(/\r/g,"\n");var Wc=y.add.TySh.dH;Wz.dW(Wc,0,WJ);if(WJ!=""){v.OPb(Wc,WS,Wx,WJ);var M=Wf.bd(),Wh=Wz.SG(Wc,0,1),Om=Wh.Zl.AutoLeading?0:Wh.Zl.Leading*.6,WN=0,WR=Math.max(Wh.Zl.FontSize,Om)*M,Wp=A.$,OP=A.e;
if(z.textBehaviour==0){Wz.fb(Wc,0);var Hz=Wz.zc(Wh.SP);if(Hz==1)WN=Wp*M;if(Hz==2)WN=Wp*M*.5}else{Wz.fb(Wc,1);
Wz.$I(Wc,[0,0,Math.round(Wp),Math.round(OP)]);WR=WR*.35}y.add.TySh.N.translate(WN,WR)}}else if(o=="symbolInstance"||o=="symbolMaster"){var HP=z.symbolID;
if(u[z.do_objectID])HP=u[z.do_objectID].symbolID;if(HP=="")continue;var OW={};for(var h in u)OW[h]=u[h];
if(z.overrides)for(var h in z.overrides)OW[h]=z.overrides[h];var WX=b.slice(0);if(z.overrideValues)WX=WX.concat(z.overrideValues);
var Az=R[HP];if(Az==null){console.log("Unknown master master",z.symbolID);continue}var Hg=OG.Nv(Az.KM.frame),Hm=Hg.$/A.$,HB=Hg.e/A.e,Ow=S.clone();
Ow.scale(Hm,HB);y.add.lsct=Oz.G_;y.wk="pass";y.Ck=24;y.Ro(z.isVisible);t.Q.push(t.LA());v.Mw(Az.KM.layers,t,Ow,k,R,OW,WX)}else if(o=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+o,z);continue}if(Q&&Q.contextSettings){var HH=Q.contextSettings;
y.wk=v.Oe[HH.blendMode];y.wk=HO.Rr[HO.Ar.indexOf(y.wk)];y.opacity=Math.round(y.opacity*HH.opacity)}if(C!=null)y.add.lmfx=C;
t.Q.push(y);if(z.hasClippingMask){H.push(y);t.Q.push(t.LA())}}while(H.length!=0)v.DK(H.pop(),t)};OG.Zs=function(l,t){for(var a=0;
a<l.length;a++)if(l[a].overrideName.startsWith(t))return l[a]};OG.Oiy=function(l,t){var a=0,k=[];while(a+1<l.length){var R=l[a];
a++;if(R>127){R+=128*(l[a]-1);a++;if(l[a-1]>127){R+=128*(l[a]-1);a++}}var u=l[a];a++;k.push(R,u)}return k};
OG.OPb=function(l,t,a,k){var R=OG,u=0,A=0;for(var b=0;b<k.length;b++){var v=k.charCodeAt(b),H=1473<=v&&v<=1479||1488<=v&&v<=1514||1520<=v&&v<=1524,N=1569<=v&&v<=1594||1600<=v&&v<=1749;
if(H||N)u++}var z=u>k.length/2;for(var b=0;b<t.length;b+=2){var Q=t[b],Y=0,y="";if(Q==0)continue;var S=t[b+1],o=a[S],p=Wz.SG(l,A,A+Q-1),O=o.NSColor;
if(O==null){var O=o.MSAttributedStringColorDictionaryAttribute;if(O==null)O=o.MSAttributedStringColorAttribute;
if(O==null)O="0 0 0";else O=[O.red,O.green,O.blue].join(" ")}else if(R.Na(O)=="MSArchivedColor")O=O.dr+" "+O.dg+" "+O.db;
else if(O.NSRGB){O=O.NSRGB;O=K.NU(O,0,O.length-1)}else if(O.NSCMYK){O=O.NSCMYK;O=K.NU(O,0,O.length-1);
O=O.split(" ").map(parseFloat);var E=1-O[0],L=1-O[1],U=1-O[2],W=1-O[3];O=E*W+" "+L*W+" "+U*W}else if(O.NSWhite){O="1 1 1"}O=O.split(" ");
p.Zl.FillColor={Type:1,Values:[1,parseFloat(O[0]),parseFloat(O[1]),parseFloat(O[2])]};if(o.NSFont){Y=o.NSFont.NSSize;
y=o.NSFont.NSName}else{var C=o.MSAttributedStringFontAttribute;if(C.attributes){C=C.attributes;Y=C.size;
y=C.name}else{C=C.NSFontDescriptorAttributes;Y=C.NSFontSizeAttribute;y=C.NSFontNameAttribute}if(y==null)y="DejaVuSans"}p.Zl.FontSize=Math.round(Y);
Wz.FO(p,y);if(o.NSKern!=null)p.Zl.Tracking=Math.round(600*o.NSKern/Y);if(o.NSUnderline!=null)p.Zl.Underline=o.NSUnderline>0;
if(o.NSStrikethrough!=null)p.Zl.Strikethrough=o.NSStrikethrough>0;if(o.MSAttributedStringTextTransformAttribute==1)p.Zl.FontCaps=2;
var X=o.NSParagraphStyle;if(X==null)X=o.paragraphStyle;var M=X?X.NSAlignment:null;if(X&&M==null)M=X.alignment;
if(M!=null){var g=0;if(!1){}else if(M==1)g=1;else if(M==2)g=2;else if(M==4)g=0;else{g=M;console.log("unknown align",M)}if(z&&g<2)g=1-g;
p.SP.Justification=g}var n=X?X.NSMinLineHeight:null;if(X&&n==null)n=X.minimumLineHeight;if(X&&n!=null){p.Zl.AutoLeading=!1;
p.Zl.Leading=Math.round(n)}p.SP._Direction=z?1:0;Wz.Hf(l,A,A+Q,p);A+=Q}};OG.OPa=function(l,t,a,k,R,u,b){var v=OG,H=JSON.parse(P.default),z=!1;
for(var N=0;N<P.order.length;N++)H[P.Sr[N]]={t:"VlLs",v:[]};var A=a.fills,Q=v.ZM(l,A,k,R,u,t);for(var S=0;
S<2;S++){var o=a[["shadows","innerShadows"][S]];if(o==null)continue;var p=["DrSh","IrSh"][S],O=P.Sr[P.order.indexOf(p)];
for(var N=0;N<o.length;N++){var E=o[N];if(!E.isEnabled)continue;if(E.contextSettings.opacity==0||E.color.alpha==0)continue;
var L=JSON.parse(P.Oh[P.order.indexOf(p)]);H[O].v.unshift({t:"Objc",v:L});z=!0;L.Clr.v=v._q(E.color);
L.blur.v.val=Math.round(E.blurRadius/R.bd());var U=E.offsetX,W=E.offsetY,Y=Math.sqrt(U*U+W*W);L.Dstn.v.val=Math.round(Y/R.bd());
L.lagl.v.val=Math.round(Math.atan2(W,-U)*(180/Math.PI));if(L.layerConceals)L.layerConceals.v=Q.length!=0;
v.LW(E,L)}}var y=a.borders;if(y!=null&&(Q.length==0||a.blur==null||!a.blur.isEnabled))for(var N=0;N<y.length;
N++){var C=y[N];if(!C.isEnabled)continue;var L=JSON.parse(P.Oh[P.order.indexOf("FrFX")]),O=P.Sr[P.order.indexOf("FrFX")];
H[O].v.unshift({t:"Objc",v:L});z=!0;L.Clr.v=v._q(C.color);if(C.fillType!=0&&C.gradient){var X=v.lH(C.gradient,k,R,u),M=["Type","Angl","Ofst","Scl"];
for(var N=0;N<M.length;N++)L[M[N]]=X[M[N]];L.Grad.v=X.Grad.v;L.PntT.v.FrFl="GrFl"}L.Sz.v.val=C.thickness/R.bd();
L.Styl.v.FStl=["CtrF","InsF","OutF"][C.position];v.LW(C,L)}for(var N=b?1:0;N<Q.length;N++){var g=Q[N],O=P.Sr[P.order.indexOf(g.type)];
H[O].v.unshift(g.V);z=!0}return z?H:null};OG.ZM=function(l,t,a,k,R,u,b){if(t==null)return[];var v=OG,H=[];
for(var N=0;N<t.length;N++)if(t[N].isEnabled)H.push(t[N]);t=H;var z=[];for(var N=0;N<t.length;N++){var A=t[N],Q=null,S=null;
if(A.fillType==0){Q="SoFi";var o=JSON.parse(P.Oh[P.order.indexOf("SoFi")]);S={t:"Objc",v:o};S.v.Clr.v=v._q(A.color)}else if(A.fillType==1){Q="GrFl";
S={t:"Objc",v:v.lH(A.gradient,a,k,R)}}else if(A.fillType==4&&A.image!=null){var p=A.image;if(b)p=b.value;
var O=Wr.Xv(p.bdata.buffer);if(O!=null&&O!="pdf"){var E,Y=0,y=0,C=0;if(u.jb[p.key])E=u.jb[p.key];else{var L=Wr.Dz(O).cq(p.bdata)[0];
E={data:L.data,MU:new d(0,0,L.Pk.$,L.Pk.e)};E.id=Hb.m_()+"-d71c-11e5-b1ae-a548a96e5f9f";E.name="someImage";
E.nr=new Uint8Array(E.data);delete E.data;u.YS(E);u.jb[p.key]=E}var o=JSON.parse(P.Oh[P.order.indexOf("patternFill")]);
Q="patternFill";S={t:"Objc",v:o};var U=A.patternFillType,W=A.patternTileScale;o.Algn.v=!0;o.Ptrn.v.Idnt.v=E.id;
if(U==0){Y=W*E.MU.$/Math.min(E.MU.$,E.MU.e);y=-k.Pu;C=-k.wf}else{Y=Math.max(a.$,a.e)/Math.min(E.MU.$,E.MU.e);
y=-k.Pu-(E.MU.$*Y-a.$)/2;C=-k.wf-(E.MU.e*Y-a.e)/2}o.Scl.v.val=100*Y*(1/k.bd());o.phase.v.Hrzn.v=Math.round(y/k.bd());
o.phase.v.Vrtc.v=Math.round(C/k.bd())}}else if(A.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",A.fillType);
if(Q!=null){v.LW(A,S.v);z.push({type:Q,V:S})}}return z};OG.OHt=function(l){var t=OG,a=new d(0,0,1,1);
l=l.slice(0);while(!0){var k=!1;for(var R=0;R<l.length-1;R++){var u=l[R],b=l[R+1],v=null,H=u.contextSettings;
if(u.fillType==0&&(H==null||H.opacity==1&&H.blendMode==0)&&u.color.alpha==1){var N="norm",z=1,H=b.contextSettings;
if(H){z=H.opacity;N=HO.sU(t.Oe[H.blendMode])}if(b.fillType==0){v=JSON.parse(JSON.stringify(b));t.Zo(v.color,u.color,v.color,a,N,z)}if(b.fillType==1){v=JSON.parse(JSON.stringify(b));
var A=v.gradient.stops;for(var Q=0;Q<A.length;Q++)t.Zo(A[Q].color,u.color,A[Q].color,a,N,z)}if(v!=null&&v.contextSettings){var H=v.contextSettings;
H.opacity=1;H.blendMode=0}}if(v!=null){l.splice(R,0,v);k=!0;break}}if(!k||l.length<2)break}return l};
OG.Zo=function(l,t,a,k,R,u){var b=OG,v=$.I(4);b.ZN(l,v);var H=$.I(4);b.ZN(t,H);$.j.bz(R,v,k,H,k,k,u);
b.OkD(H,a)};OG.ZN=function(l,t){t[0]=255*l.red;t[1]=255*l.green;t[2]=255*l.blue;t[3]=255*l.alpha};OG.OkD=function(l,t){t.red=l[0]/255;
t.green=l[1]/255;t.blue=l[2]/255;t.alpha=l[3]/255};OG.DK=function(l,t){l=l.clone();l.Ck=24;l.wy("Mask by "+l.getName());
t.Q.push(l);l.add.lsct=Oz.ON;l.add.lyid=t.px();delete l.add.lmfx;delete l.add.SoCo;delete l.add.GdFl;
delete l.add.PtFl;delete l.add.iOpa;if(l.add.vmsk)l.add.vmsk.wU=!0;l.cR(t);if((l.Ck&16)==16)l.Ck-=16;
if((l.Ck&2)==2)l.Ck-=2;l.wk="pass";l.opacity=255};OG.Oe="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns".split(" ");
OG.lH=function(l,t,a,k){a=a.clone();a.sI();a.Pu=a.wf=0;var R=OG,u=JSON.parse(P.Oh[P.order.indexOf("GrFl")]),b=u.Grad.v,A=0,Q=0;
b.Intr.v=0;if(l==null)return u;var v=l.gradientType,H=R.SC(l.from),N=R.SC(l.to);H.offset(-.5,-.5);N.offset(-.5,-.5);
H=a.sV(H);N=a.sV(N);var z=Math.atan2(-(N.y-H.y),N.x-H.x);u.Type.v.GrdT=["Lnr","Rdl","Angl"][v];u.Scl.v.val=100*x.tq(H,N);
if(v==0){u.Angl.v.val=180/Math.PI*z;u.Scl.v.val=100*x.tq(H,N);A=(H.x+N.x)/2;Q=(H.y+N.y)/2}if(v==1){u.Scl.v.val=200*x.tq(H,N);
A=H.x;Q=H.y}if(v==2){u.Angl.v.val=180/Math.PI*(z-Math.PI/2)}var S=u.Ofst.v;S.Hrzn.v.val=A*100;S.Vrtc.v.val=Q*100;
var o=[];for(var p=0;p<l.stops.length;p++){var O=l.stops[p],E=O.color;o.push([O.position,E?[E.red,E.green,E.blue]:[0,0,0],E.alpha])}$.C.ha(o,b);
return u};OG.LW=function(l,t){var a=OG,k=1,R=l.contextSettings;if(R!=null){t.Md.v.BlnM=a.Oe[R.blendMode];
k*=R.opacity}else t.Md.v.BlnM=a.Oe[0];t.enab.v=l.isEnabled;if(t.uglg!=null)t.uglg.v=!1;if(l.color!=null)k*=l.color.alpha;
t.Opct.v.val=Math.round(k*100)};OG._q=function(l){return $.C.br(l?{D:l.red*255,K:l.green*255,l:l.blue*255}:{D:0,K:0,l:0})};
OG.rG=function(l,t,a){var k=OG,R=[{type:6},{type:8,all:0}];for(var u=0;u<l.length;u++){var b=l[u],v=b.booleanOperation,H=0,o=!1;
if(b._class=="group"){console.log("Group inside ShapeGroup");continue}if(v==-1)H=0;else if(v==0)H=1;
else if(v==1)H=2;else if(v==2)H=3;else if(v==3)H=0;if(u==0)H=1;var N=OG.Nv(b.frame),z=k.D_(b,t),A=b.path?b.path:b,Q=[{type:0,length:0,mZ:H,rc:2,gx:0,gF:0}],S=A.points;
for(var p=0;p<S.length;p++){var O=S[p],E=k.SC(O.curveTo),L=k.SC(O.point),U=k.SC(O.curveFrom);o=o||O.hasCurveFrom&&!U.cG(L)||O.hasCurveTo&&!E.cG(L)}var W=[];
if(!o){var Y=[],y=S.length;if(y==0)continue;for(var p=0;p<y;p++){W[p]=S[p].cornerRadius;var O=k.SC(S[p].point);
Y.push(O.x,O.y)}z.scale(1/N.$,1/N.e);z.sI();$.M.N(Y,z,Y);var C=$.r.NF(Y,W);Q=Q.concat(C);Q[0].length=Q.length-1}else{var X=S.length;
Q[0].length=X;var M=[];for(var p=0;p<X;p++){var O=S[p];Q[X-p]={type:1,re:k.SC(O.curveFrom),S:k.SC(O.point),Fx:k.SC(O.curveTo)}}z.scale(1/N.$,1/N.e);
z.sI();$.r.CH(Q,z)}if(!A.isClosed)for(var p=0;p<Q.length;p++)Q[p].type+=3;R=R.concat(Q);var g=$.$F.kY(),n=k.Na(b);
if(z.l==0&&z.Mn==0){var V=z.Pu,i=z.wf,f=V+z.w,r=i+z.N_,e=[V,i,f,r];if(n=="rectangle"&&W.length==4)g=$.$F.ni(2,e,W);
if(n=="oval")g=$.$F.ni(5,e)}a.push(g)}return R};OG.D_=function(l,t){var a=t.clone(),k=l.frame?OG.Nv(l.frame):null;
if(k)a.translate(-k.x-k.$/2,-k.y-k.e/2);if(l.isFlippedHorizontal)a.scale(-1,1);if(l.isFlippedVertical)a.scale(1,-1);
a.rotate(-l.rotation*(Math.PI/180));if(k)a.translate(k.$/2,k.e/2);return a};OG.SC=function(l){l=l.slice(1,l.length-1).split(",");
return new x(parseFloat(l[0]),parseFloat(l[1]))};OG.Nv=function(l){return new d(l.x,l.y,l.width,l.height)};
OG.Fe=function(l){return{_class:"rect",constrainProportions:!1,x:l.x,y:l.y,width:l.$,height:l.e}};function Aa(){}Aa.sj=function(l,t){var a=Aa,k=UZIP.parse(l),R=JSON.parse(OK.Ei(k.manifest)),u=JSON.parse(OK.Ei(k["resources/graphics/graphicContent.agc"])).resources,b=[],v=R.children;
for(var H=0;H<v.length;H++){var N=v[H];if(N.name=="artwork"){var z=N.children;for(var A=0;A<z.length;
A++)if(z[A]["uxdesign#bounds"]){var Q=z[A],S=JSON.parse(OK.Ei(k["artwork/"+Q.path+"/graphics/graphicContent.agc"]));
if(S.children.length!=1)throw"e";Q._node=S.children[0];b.push(Q)}}}var o=[],p=new d;for(var H=0;H<b.length;
H++){var Q=b[H],O=OG.Nv(Q["uxdesign#bounds"]);o.push(O);p=p.wm(O)}var E=OG.ZG(p,8192*8192);t.y$=!0;t.$=Math.round(p.$/E);
t.e=Math.round(p.e/E);t.buffer=$.I(t.$*t.e*4);t.kC(b.length);var L=new WM(E,0,0,E,p.x,p.y);t.jb={};for(var H=0;
H<b.length;H++){var Q=b[H],O=OG.Nv(Q["uxdesign#bounds"]),U=Q._node,W=L.clone(),Y=O.clone(),y=W.bd();
W.translate(-O.x,-O.y);Y.x=-Math.floor(W.Pu/y);Y.y=-Math.floor(W.wf/y);Y.$=Math.floor(Y.$/y);Y.e=Math.floor(Y.e/y);
W.translate(O.x,O.y);Aa.lg(U,t,W,u,k,Y);var C=t.Q[t.Q.length-1];C.wy(Q.name);C.fP(Y);if(H!=b.length-1)C.add.lsct=Oz.G_}delete t.jb};
Aa.Hc=function(l){if(l==null)return new WM;return new WM(l.a,l.b,l.c,l.d,l.tx,l.ty)};Aa.lg=function(l,t,a,k,R,u){var b=Aa,v=l.type,H=l[v],N=l.style,z=b.Hc(l.transform),o,p="none",O,E="none",L,U;
z.sI();var A=a.clone();A.concat(z);var Q=t.Ow(),S=l.name;Q.wy(S?S.slice(0,250):"Layer");if(l.visible!=null)Q.Ro(l.visible);
if(N){o=N.stroke;p=o?o.type:"none";O=N.fill;E=O?O.type:"none";L=N.filters;U=N.clipPath;if(N.opacity)Q.opacity=Math.round(255*N.opacity);
if(E=="solid"&&O.color.alpha)Q.opacity=Math.round(Q.opacity*O.color.alpha);if(L){Q.add.lmfx=b.OkQ(L);
for(var W=0;W<L.length;W++)if(L[W].type=="uxdesign#blur"){var Y=L[W],y=Y.params,C=y.brightnessAmount;
if(C==null)C=0;C=Math.abs(C/100);if((Y.visible==null||Y.visible==!0)&&y.backgroundEffect)Q.opacity=Math.round(Q.opacity*(C+(1-C)*y.fillOpacity))}}}if(v=="artboard"||v=="group"){if(U&&k.clipPaths[U.ref]){var X=k.clipPaths[U.ref].children[0],z=b.Hc(X.transform);
z.sI();var M=A.clone();M.concat(z);Q.add.vmsk=new _.rv;Q.add.vmsk.k=b.rG(X.shape);M=M.clone();M.sI();
$.r.CH(Q.add.vmsk.k,M);Q.cR(t)}Q.add.lsct=Oz.ON;Q.wk="pass";Q.Ck=24;if(l.visible!=null)Q.Ro(l.visible);
t.Q.push(t.LA());var g=H.children,n=O;if(n)n=n.color;if(n)n=n.value;if(O&&(E!="solid"||n.r!=255||n.g!=255||n.b!=255)){var V=t.Ow();
V.wy("BACKGROUND");V.Ck|=16;V.add.vstk=JSON.parse(JSON.stringify(P.BF.default));V.add.vmsk=new _.rv;
V.add.vmsk.k=b.rG({type:"rect",x:u.x,y:u.y,width:u.$,height:u.e});b.lI(O,E,A,u,u,V,t,k,R);V.cR(t);t.Q.push(V)}for(var W=0;
W<g.length;W++){Aa.lg(g[W],t,A,k,R,u)}}else if(v=="shape"&&l.shape.type=="rect"&&(l.shape.r==null||l.shape.r==0)&&N!=null&&N.fill.type=="pattern"){var i=O.pattern,f=i.meta.ux,r=f.uid,e=R["resources/"+r],D=t.mV(e,Q.getName(),0,0);
D.Ck=Q.Ck;Q=D;var B=$.M.Gf(new d(0,0,i.width,i.height)).p,h=new WM;h.scale(i.width/l.shape.width,i.height/l.shape.height);
A.concat(h);A.sI();$.M.N(B,A,B);Q.add.SoLd.Trnf=s.b.tW(B);Q.add.SoLd.nonAffineTransform=s.b.tW(B);Q.Gk(t,!1)}else if(v=="shape"){Q.Ck|=16;
Q.add.vstk=JSON.parse(JSON.stringify(P.BF.default));Q.add.vmsk=new _.rv;Q.add.vmsk.k=b.rG(H);var I=$.r.uf(Q.add.vmsk.k,null),M=A.clone();
M.sI();$.r.CH(Q.add.vmsk.k,M);var j=$.r.uf(Q.add.vmsk.k,null);if(p=="none"){}else{var c=o.color.value,m,F;
m="SoFi";var G=JSON.parse(P.Oh[P.order.indexOf("SoFi")]);F={t:"Objc",v:G};F.v.Clr.v=$.C.br({D:c.r,K:c.g,l:c.b});
var q=o.align,W_=o.cap;if(q==null)q="center";var WU=Q.add.vstk;WU.strokeEnabled.v=!0;WU.strokeStyleLineWidth.v.val=o.width;
if(q)WU.strokeStyleLineAlignment.v.strokeStyleLineAlignment=P.BF.mt[["inside","center","outside"].indexOf(q)];
if(W_)WU.strokeStyleLineCapType.v.strokeStyleLineCapType=P.BF.Rc[["butt","round","square"].indexOf(W_)];
var Wd=["SoFi","GrFl","patternFill"].indexOf(m),WZ=[P.uk,P.RP,P.Ry][Wd];WU.strokeStyleContent.v={classID:P.BF.bt[0]};
var WL=WU.strokeStyleContent.v={classID:P.BF.bt[Wd]};for(var W=0;W<WZ.length;W++)WL[WZ[W]]=F.v[WZ[W]]}if(L)for(var W=0;
W<L.length;W++)if(L[W].type=="uxdesign#blur"){var Wj=L[W];Q.add.vmsk.cg=Wj.params.blurAmount}b.lI(O,E,A,I,j,Q,t,k,R);
Q.cR(t)}else if(v=="text"){var Or=l.text,Wu=Or.frame,WE=N.font,Wf=N.textAttributes,z=A.clone();z.sI();
Q.add.lnsr="rend";Q.add.TySh=Wz.AK(0,0);Q.add.TySh.Nu=new d(0,0,100,100);Q.add.TySh.N=z;var WS=Q.add.TySh.dH;
Wz.dW(WS,0,Or.rawText);var c=O.color.value,Wx=Wz.SG(WS,0,1),WQ=WE.postscriptName;if(WQ==null)WQ=WE.family;
Wz.FO(Wx,WQ);Wx.Zl.FontSize=Math.round(WE.size);Wx.Zl.FillColor={Type:1,Values:[1,c.r/255,c.g/255,c.b/255]};
if(Wf){if(Wf.paragraphAlign)Wx.SP.Justification=["left","right","center"].indexOf(Wf.paragraphAlign);
if(Wf.letterSpacing)Wx.Zl.Tracking=Math.round(Wf.letterSpacing);if(Wf.lineHeight){Wx.Zl.AutoLeading=!1;
Wx.Zl.Leading=Math.round(Wf.lineHeight)}}Wz.Hf(WS,0,Or.rawText.length,Wx);if(Wu.type=="area"){Wz.fb(WS,1);
Wz.$I(WS,[0,0,Wu.width,Wu.height])}}else console.log(v,l);t.Q.push(Q)};Aa.rG=function(l){var t=l.type,a=[{type:6},{type:8,all:0}];
if(t=="rect"){var k=l.r,R=l.x,u=l.y,b=l.width,v=l.height;if(k==null)a=$.r.Wa.Rect(R,u,b,v,0);else a=a.concat([{type:0,mZ:1,length:8,gx:0,gF:0,rc:1}]).concat($.r.NF([R,u,R+b,u,R+b,u+v,R,u+v],k,!1))}else if(t=="circle"){var k=l.r;
a=$.r.Wa.ie(l.cx-k,l.cy-k,2*k,2*k)}else if(t=="ellipse"){var H=l.rx,N=l.ry;a=$.r.Wa.ie(l.cx-H,l.cy-N,2*H,2*N)}else if(t=="path"||t=="compound"){var z=Typr.U.SVGToPath(l.path);
a=$.M.il({A:z.cmds,p:z.crds},!1)}else if(t=="line"){var A=l.x1,Q=l.x2,S=l.y1,o=l.y2;a=a.concat([{type:0,mZ:1,length:2,gx:0,gF:0,rc:1}]).concat($.r.NF([A,S,Q,o],0,!0))}else console.log(t,l);
return a};Aa.OkQ=function(l){var t=JSON.parse(P.default);for(var a=0;a<P.order.length;a++)t[P.Sr[a]]={t:"VlLs",v:[]};
for(var a=0;a<l.length;a++){var k=l[a],R=k.type,u=k.params,b=k.visible;if(R=="dropShadow"){var v=P.Sr[P.order.indexOf("DrSh")],H=JSON.parse(P.Oh[P.order.indexOf("DrSh")]);
t[v].v.unshift({t:"Objc",v:H});var N=u.dropShadows;if(N.length!=1)throw"e";var z=N[a],A=z.color,Q=A.value,S=z.dx,o=z.dy;
H.Clr.v=$.C.br({D:Q.r,K:Q.g,l:Q.b});H.Opct.v.val=Math.round((A.alpha!=null?A.alpha:1)*100);H.uglg.v=!1;
H.enab.v=b!=null?b:!0;H.lagl.v.val=Math.round(180/Math.PI*Math.atan2(o,-S));H.Dstn.v.val=Math.round(Math.sqrt(S*S+o*o));
H.blur.v.val=Math.round(z.r*2.3)}else console.log(R,k)}return t};Aa.lI=function(l,t,a,k,R,u,b,v,H){var N=Aa;
if(t=="none"){u.add.vstk.fillEnabled.v=!1;u.add.SoCo={classID:"null",Clr:{t:"Objc",v:$.C.br({D:0,K:0,l:0})}}}else{var z,A,Q;
if(t=="solid"){var S=l.color.value;z="SoCo";A=P.uk;var o=JSON.parse(P.Oh[P.order.indexOf("SoFi")]);Q={t:"Objc",v:o};
Q.v.Clr.v=$.C.br({D:S.r,K:S.g,l:S.b})}else if(t=="gradient"){z="GdFl";A=P.RP;var o=JSON.parse(P.Oh[P.order.indexOf("GrFl")]),p=o.Grad.v,W,Y,y;
p.Intr.v=0;var O=l[t],E=v.gradients[O.ref],L=["linear","radial"].indexOf(E.type),U=E.stops;o.Type.v.GrdT=["Lnr","Rdl","Angl"][L];
if(L==0){var W=new x(O.x1,O.y1),Y=new x(O.x2,O.y2);W.x=Y.x+.5*(W.x-Y.x);W.y=Y.y+.5*(W.y-Y.y)}else{var W=new x(O.cx,O.cy),Y=new x(O.cx+O.r,O.cy)}y=R;
if(O.units=="objectBoundingBox"){var C=new WM(k.$,0,0,k.e,k.x,k.y);W=C.sV(W);Y=C.sV(Y)}var C=N.Hc(O.transform);
W=C.sV(W);Y=C.sV(Y);C=a.clone();C.sI();W=C.sV(W);Y=C.sV(Y);$.C.ax(W,Y,y,o);var X=[];for(var M=0;M<U.length;
M++){var g=U[M],n=g.color,S=n.value,V=n.alpha;if(V==null)V=1;X.push([g.offset,[S.r/255,S.g/255,S.b/255],V])}$.C.ha(X,p);
Q={t:"Objc",v:o}}else if(t=="pattern"){z="PtFl";A=P.Ry;var o=JSON.parse(P.Oh[P.order.indexOf("patternFill")]),B,I=1,j=0,c=0,m=1;
Q={t:"Objc",v:o};var i=l[t],f=i.meta.ux,r=f.uid,e=H["resources/"+r].buffer,D=Wr.Xv(e);if(b.jb[r])B=b.jb[r];
else{var h=Wr.Dz(D).cq(e)[0];B={data:h.data,MU:new d(0,0,i.width,i.height)};B.id=Hb.m_()+"-d71c-11e5-b1ae-a548a96e5f9f";
B.name="someImage";B.nr=new Uint8Array(B.data);delete B.data;b.YS(B);b.jb[r]=B}o.Algn.v=!0;o.Ptrn.v.Idnt.v=B.id;
if(f.scaleBehavior=="cover"){I=m*Math.max(R.$,R.e)/Math.min(B.MU.$,B.MU.e);j=R.x-(B.MU.$*I-R.$)/2;c=R.y-(B.MU.e*I-R.e)/2}else if(f.scaleBehavior=="fill"){I=m*Math.min(R.$,R.e)/Math.max(B.MU.$,B.MU.e);
j=R.x-(B.MU.$*I-R.$)/2;c=R.y-(B.MU.e*I-R.e)/2}else throw"Unknown scale behaviour";o.Scl.v.val=100*I;
o.phase.v.Hrzn.v=Math.round(j);o.phase.v.Vrtc.v=Math.round(c)}else console.log(t);if(z!=null){u.add[z]={classID:"null"};
for(var M=0;M<A.length;M++){var F=A[M];u.add[z][F]=Q.v[F]}}}};function Wo(){}Wo.sj=function(l,t){l=new Uint8Array(l);
var a=OK.Ei(l,0,l.length),k=new DOMParser,R=k.parseFromString(a,"image/svg+xml"),u=R.getElementsByTagName("style")[0];
if(u){var b=Wo.Dq(u.textContent,"{","}");u={};for(var v=0;v<b.length;v+=2){var H=b[v].split(/,?\s+/);
for(var N=0;N<H.length;N++)u[H[N]]=b[v+1]}}else u={};var z=R.firstChild;while(z.tagName!="svg")z=z.nextSibling;
var A=new d(0,0,100,100),Q=z.getAttribute("viewBox");if(Q){var S=Q.split(" ").map(parseFloat);A.x=S[0];
A.y=S[1];A.$=S[2];A.e=S[3]}else if(z.getAttribute("width")){A.$=parseFloat(z.getAttribute("width"));
A.e=parseFloat(z.getAttribute("height"))}A=$.M.jW(A);t.y$=!0;t.$=A.$;t.e=A.e;t.buffer=$.I(A.s()*4);var o=new WM(1,0,0,1,-A.x,-A.y),p={YY:Wo.AM(z),Po:u};
Wo.LH(R,z.children,t,o,p,new WM)};Wo.LH=function(l,t,a,k,R,u){var b=Wo,v=["display","opacity","fill-opacity"];
for(var H=0;H<t.length;H++){var N=t[H],z=N.tagName,A=N.getAttribute("id"),Q=b.AM(N,R.Po),S=JSON.parse(JSON.stringify(R.YY)),U=1,Y="clip-path",y=null;
for(var o in Q)if(v.indexOf(o)==-1)S[o]=Q[o];if(N.getAttribute("dx"))k.Pu+=b.Lg(N.getAttribute("dx"),13);
if(N.getAttribute("dy"))k.wf+=b.Lg(N.getAttribute("dy"),13);var p=b.Oc(N);p.concat(k);var O=N.getAttribute("visibility"),E=Q.display,L=a.Ow();
if(O=="hidden"||E=="none")L.Ro(!1);L.wy(A!=null?A.split(":::")[0]:"Layer");if(Q.opacity)U*=parseFloat(Q.opacity);
if(Q["fill-opacity"])U*=parseFloat(Q["fill-opacity"]);L.opacity=Math.round(255*U);if(Q["mix-blend-mode"]){var W=HO.QW.indexOf(Q["mix-blend-mode"]);
if(W!=-1)L.wk=HO.Rr[W]}if(N.getAttribute(Y)==null)Y="mask";if(N.getAttribute(Y)!=null){y=a.Ow();y.wy("Clip-Path"+(A?": "+A:""));
y.add.lsct=Oz.ON;y.wk="pass";y.Ck=24;var C=y.add.vmsk=new _.rv;a.Q.push(a.LA());var X=N.getAttribute(Y);
X=X.slice(4,X.length-1);var M=l.getElementById(X.slice(1)),g=M.children,n=[];if(M.getAttribute(Y)){var X=M.getAttribute(Y);
X=X.slice(4,X.length-1);n=l.getElementById(X.slice(1)).children}for(var V=0;V<g.length;V++){var i=b.Oc(g[V]);
i.concat(p);var f=b.rG(l,g[V],!1).slice(2);$.r.CH(f,i);C.k=C.k.concat(f)}for(var V=0;V<n.length;V++){var i=b.Oc(g[V]);
i.concat(p);var f=b.rG(l,n[V],!1).slice(2);for(var r=0;r<f.length;r++)if(f[V].mZ!=null)f[V].mZ=3;$.r.CH(f,i);
C.k=C.k.concat(f)}y.GH();y.cR()}if(z=="g"||z=="a"||z=="svg"||z=="switch"||(z=="text"||z=="textPath")&&N.children.length>0){if(z=="text")u=b.nU(N,u);
var e=N.children.length,D=R.YY;R.YY=S;var B=z!="text"&&z!="textPath"||e>1;if(B){var h=L.jY();L.add.lsct=h&&(A==null||!A.endsWith(":::"))?Oz.ON:Oz.G_;
L.wk="pass";L.Ck=24;L.Ro(h);a.Q.push(a.LA())}b.LH(l,N.children,a,p,R,u);if(B)a.Q.push(L);R.YY=D}else if(z=="use"){var I=b.nU(N);
I.concat(p);var j=b.Ay(N),c=l.getElementById(j.slice(1)),D=R.YY;R.YY=S;b.LH(l,[c],a,I,R,u);R.YY=D}else if(z=="path"||z=="rect"||z=="circle"||z=="ellipse"||z=="polygon"||z=="polyline"||z=="line"){L.Ck|=16;
L.add.vmsk=new _.rv;L.add.vstk=JSON.parse(JSON.stringify(P.BF.default));L.add.vstk.strokeEnabled.v=!1;
var m=L.add.vstk,C=L.add.vmsk;C.k=b.rG(l,N,Q["fill-rule"]=="evenodd");$.r.CH(C.k,p);var F=$.r.uf(C.k),G=S.stroke,q=S["stroke-width"],W_=S["stroke-dasharray"],WU=S.fill,Wd=S["stroke-linejoin"],WZ=S["stroke-linecap"],WL=S["paint-order"];
if(G==null||G=="none"){}else{var Wj=b.Da(l,G,p,F),Or=["SoFi","GrFl","patternFill"].indexOf(Wj.type),Wu=[P.uk,P.RP,P.Ry][Or],WE=m.strokeStyleContent.v={classID:P.BF.bt[Or]},Wf=1;
for(var V=0;V<Wu.length;V++)WE[Wu[V]]=Wj.V.v[Wu[V]];q=q?parseFloat(q):1;if(WL&&WL.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){Wf=2;
q/=2}m.strokeEnabled.v=!0;if(Wd)m.strokeStyleLineJoinType.v.strokeStyleLineJoinType=P.BF.join[["miter","round","bevel"].indexOf(Wd)];
if(WZ)m.strokeStyleLineCapType.v.strokeStyleLineCapType=P.BF.Rc[["butt","round","square"].indexOf(WZ)];
m.strokeStyleLineWidth.v.val=q*s.b.bd(p);m.strokeStyleLineAlignment.v.strokeStyleLineAlignment=P.BF.mt[Wf];
m.strokeStyleOpacity.v.val=100*(S["stroke-opacity"]?parseFloat(S["stroke-opacity"]):1);if(W_!=null&&W_!="none")m.strokeStyleLineDashSet.v=WD.pQ(W_.split(",").map(parseFloat),1/q)}if(WU=="none"){L.add.vstk.fillEnabled.v=!1;
L.add.SoCo={classID:"null",Clr:{t:"Objc",v:$.C.br({D:0,K:0,l:0})}}}else{var Wj=b.Da(l,WU,p,F),WS=null,Wx=null;
if(Wj.type=="SoFi"){WS="SoCo";Wx=P.uk}if(Wj.type=="GrFl"){WS="GdFl";Wx=P.RP}if(Wj.type=="patternFill"){WS="PtFl";
Wx=P.Ry}if(WS!=null){L.add[WS]={classID:"null"};for(var V=0;V<Wx.length;V++){var o=Wx[V];L.add[WS][o]=Wj.V.v[o]}}}if(S.filter){var WQ=S.filter;
WQ=WQ.slice(5,WQ.length-1);var WJ=l.getElementById(WQ).children[0];if(WJ.tagName=="feGaussianBlur"){L.add.vmsk.cg=parseFloat(WJ.getAttribute("stdDeviation"))*s.b.bd(p)}}L.GH();
L.cR(a);a.Q.push(L)}else if((z=="text"||z=="tspan")&&N.textContent!=""){u=b.nU(N,u);var I=u.clone(),Hz=13;
I.concat(p);if(N.children.length>0){var Ww=b.AM(N.children[0],R.Po);for(var o in Ww)if(v.indexOf(o)==-1)S[o]=Ww[o]}var Wv=S["xml:space"],Oi=N.textContent;
if(Wv=="preserve")Oi=Oi.replace(/\t/g," ").replace(/\n/g," ");if(A==null)L.wy(Oi);L.add.lnsr="rend";
L.add.TySh=Wz.AK(0,0);L.add.TySh.Nu=new d(0,0,100,100);L.add.TySh.N=I.clone();var Wc=L.add.TySh.dH;Wz.dW(Wc,0,Oi);
var WU=S.fill,Wh=S["font-size"],Om=S["font-weight"],WN=S["font-family"],WR=S["text-decoration"],G=S.stroke,q=S["stroke-width"],Wp=Wz.SG(Wc,0,1);
if(WU&&WU!="none"){var OP=CSS._q(WU);Wp.Zl.FillColor={Type:1,Values:[1,OP.D/255,OP.K/255,OP.l/255]}}if(WR=="underline")Wp.Zl.Underline=!0;
if(Wh)Hz=b.Lg(Wh,Hz);Wp.Zl.FontSize=Math.round(Hz);Wz.FO(Wp,"LiberationSans");if(Om=="bold")Wz.FO(Wp,"LiberationSans-Bold");
if(WN){var HP=WN+":"+(Om?Om:"normal"),OW={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol"};
if(OW[HP])Wz.FO(Wp,OW[HP]);else Wz.FO(Wp,WN)}if(S["text-anchor"])Wp.SP.Justification=["start","end","middle"].indexOf(S["text-anchor"]);
Wz.Hf(Wc,0,Oi.length,Wp);if(G==null||G=="none"){}else{var WX=JSON.parse(P.Oh[P.order.indexOf("FrFX")]);
WX.Clr.v=$.C.br(CSS._q(G));WX.Sz.v.val=Math.round(parseFloat(q)*s.b.bd(I));var Az=JSON.parse(P.default);
for(var V=0;V<P.order.length;V++)Az[P.Sr[V]]={t:"VlLs",v:[]};Az.frameFXMulti.v.push({t:"Objc",v:WX});
L.add.lmfx=Az}a.Q.push(L)}else if(z=="image"){var j=b.Ay(N);if(j.slice(0,4)=="data"){var Hg=Wr.SR(j),Hm=Hg,HB=a.mV(Hm,L.getName(),0,0);
HB.Ck=L.Ck;L=HB;var Ow=L.rect.clone();Ow.x=Ow.y=0;var HH=b.nU(N);HH.concat(p);var Hk=$.M.Gf(Ow).p;$.M.N(Hk,HH,Hk);
L.add.SoLd.Trnf=s.b.tW(Hk);L.add.SoLd.nonAffineTransform=s.b.tW(Hk);L.Gk(a,!1);a.Q.push(L)}}else console.log("unknown tag: "+z,N.children.length,N.textContent.length);
if(y!=null)a.Q.push(y)}};Wo.rG=function(l,t,a){var k=Wo,R=t.tagName,u=[{type:6},{type:8,all:0}];if(R=="path"){var b=t.getAttribute("d");
if(b==null)return u;var v=Typr.U.SVGToPath(b);u=$.M.il({p:v.crds,A:v.cmds},a)}if(R=="rect"){var H=t.getAttribute("rx"),N=k.nU(t);
u=$.r.Wa.Rect(N.Pu,N.wf,parseFloat(t.getAttribute("width")),parseFloat(t.getAttribute("height")),H?parseFloat(H):0)}if(R=="circle"||R=="ellipse"){var z=0,A=0,H=0,Q=0;
if(t.getAttribute("cx"))z=parseFloat(t.getAttribute("cx"));if(t.getAttribute("cy"))A=parseFloat(t.getAttribute("cy"));
if(t.getAttribute("rx"))H=parseFloat(t.getAttribute("rx"));if(t.getAttribute("ry"))Q=parseFloat(t.getAttribute("ry"));
if(t.getAttribute("r"))H=Q=parseFloat(t.getAttribute("r"));u=$.r.Wa.ie(z-H,A-Q,2*H,2*Q)}if(R=="polygon"||R=="polyline"||R=="line"){var S;
if(R=="line")S=[t.getAttribute("x1"),t.getAttribute("y1"),t.getAttribute("x2"),t.getAttribute("y2")].map(parseFloat);
else S=t.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
u=$.r.Wa.Wl(S,0,R!="polygon")}if(R=="use"){var o=k.Ay(t),p=l.getElementById(o.slice(1)),O=new WM;if(p.tagName!="rect")O=k.nU(p);
O.concat(k.Oc(p));u=k.rG(l,p,a);$.r.CH(u,O)}return u};Wo.Dq=function(l,t,a){var k=[],R=0,u=!1;while(!0){var b=l.indexOf(u?a:t,R);
if(b==-1)break;k.push(l.slice(R,b).trim());R=b+1;u=!u}return k};Wo.Lg=function(l,t){if(l.charAt(l.length-1)=="m")return t*parseFloat(l.slice(0,l.length-2));
else return parseFloat(l)};Wo.Da=function(l,t,a,k){var R,u,b=Wo,v=t!=null?t.indexOf("("):-1;if(v!=-1){var H=t.indexOf(")"),N=t.slice(0,v).trim(),z=t.slice(v+1,H).trim();
if(N=="url"){if(z.charAt(0)=="#"){var A=l.getElementById(z.slice(1));if(A.tagName.slice(6)=="Gradient"){var Q=b.lH(l,A,a,k);
R="GrFl";u={t:"Objc",v:Q}}}else console.log("unknown url",url)}else if(N=="rgb"){R="SoFi";var S=JSON.parse(P.Oh[P.order.indexOf("SoFi")]);
u={t:"Objc",v:S};u.v.Clr.v=$.C.br(CSS._q(t))}else console.log("unknown fill",t)}else{R="SoFi";var S=JSON.parse(P.Oh[P.order.indexOf("SoFi")]);
u={t:"Objc",v:S};u.v.Clr.v=$.C.br(CSS._q(t))}return{type:R,V:u}};Wo.Oc=function(l){var t=new WM,a=l.getAttribute("transform");
if(a)t=Wo.Ld(a);var k=l.getAttribute("style");if(k!=null){var R={};Wo.LF(R,k,["transform"]);k=R.transform;
if(k)t.concat(Wo.Ld(k))}return t};Wo.nU=function(l,t){var a=new WM,k=l.getAttribute("x"),R=l.getAttribute("y");
if(k)a.Pu=parseFloat(k);else if(t)a.Pu=t.Pu;if(R)a.wf=parseFloat(R);else if(t)a.wf=t.wf;return a};Wo.Ld=function(l){var t=Wo.Dq(l,"(",")"),a=new WM;
for(var k=0;k<t.length;k+=2){var R=a;a=Wo.Oke(t[k],t[k+1]);a.concat(R)}return a};Wo.Oke=function(l,t){var a=new WM,k=!0;
for(var R=0;R<t.length;R++){var u=t.charAt(R);if(u==","||u==" ")k=!0;else if(u=="."){if(!k){t=t.slice(0,R)+","+t.slice(R);
R++}k=!1}else if(u=="-"&&R>0&&t[R-1]!="e"){t=t.slice(0,R)+" "+t.slice(R);R++;k=!0}}t=t.split(/\s*[\s,]\s*/).map(parseFloat);
if(!1){}else if(l=="translate"){if(t.length==1)a.translate(t[0],0);else a.translate(t[0],t[1])}else if(l=="scale"){if(t.length==1)a.scale(t[0],t[0]);
else a.scale(t[0],t[1])}else if(l=="rotate"){var b=0,v=0;if(t.length!=1){b=t[1];v=t[2]}a.translate(-b,-v);
a.rotate(-Math.PI*t[0]/180);a.translate(b,v)}else if(l=="matrix")a=new WM(t[0],t[1],t[2],t[3],t[4],t[5]);
else console.log("unknown transform: ",l);return a};Wo.AM=function(l,t){var a={},k="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var R=0;R<k.length;R++){var u=l.getAttribute(k[R]);if(u!=null&&u!="inherit")a[k[R]]=u}var b=l.getAttribute("class");
if(t!=null&&b!=null&&t["."+b]!=null)Wo.LF(a,t["."+b],k);var v=l.getAttribute("style");if(v!=null)Wo.LF(a,v,k);
return a};Wo.LF=function(l,t,a){t=t.trim().split(";");for(var k=0;k<t.length;k++){var R=t[k].split(":");
for(var u=0;u<a.length;u++)if(R[0].trim()==a[u])l[a[u]]=R[1].trim()}};Wo.Ay=function(l){var t=l.getAttribute("xlink:href");
if(t==null)t=l.getAttribute("href");return t};Wo.lH=function(l,t,a,k){var R=Wo,u=new WM,b=t.getAttribute("gradientTransform");
if(b)u=R.Ld(b);u.concat(a);var v=JSON.parse(P.Oh[P.order.indexOf("GrFl")]),H=v.Grad.v;H.Intr.v=0;var N=t.tagName,z=new x(0,0),A=new x(k.$,0);
if(N=="linearGradient"){v.Type.v.GrdT="Lnr";if(t.getAttribute("x1"))z.x=parseFloat(t.getAttribute("x1"));
if(t.getAttribute("y1"))z.y=parseFloat(t.getAttribute("y1"));if(t.getAttribute("x2"))A.x=parseFloat(t.getAttribute("x2"));
if(t.getAttribute("y2"))A.y=parseFloat(t.getAttribute("y2"));z.x=A.x+.5*(z.x-A.x);z.y=A.y+.5*(z.y-A.y)}if(N=="radialGradient"){v.Type.v.GrdT="Rdl";
if(t.getAttribute("cx"))z.x=parseFloat(t.getAttribute("cx"));if(t.getAttribute("cy"))z.y=parseFloat(t.getAttribute("cy"));
A.$x(z.x,z.y);if(t.getAttribute("r"))A.x+=parseFloat(t.getAttribute("r"))}if(t.getAttribute("gradientUnits")=="userSpaceOnUse"){z=u.sV(z);
A=u.sV(A)}else{z.x=k.x+z.x*k.$;z.y=k.y+z.y*k.e;A.x=k.x+A.x*k.$;A.y=k.y+A.y*k.e}$.C.ax(z,A,k,v);var Q=t.children;
if(Q.length==0){var S=R.Ay(t);if(S==null)throw"gradient has no stops";var o=l.getElementById(S.slice(1));
if(o==null){console.log(S.slice(1));throw"e"}var p=R.lH(l,o,u,k);v.Grad=p.Grad}else{var O=[];for(var E=0;
E<Q.length;E++){var L=Q[E],U=R.AM(L),W=U["stop-color"],Y=U["stop-opacity"],y=L.getAttribute("offset");
if(W==null)W="#000000";if(Y==null)Y="1";var C=y?parseFloat(y):0;W=CSS._q(W);O.push([C,[W.D/255,W.K/255,W.l/255],parseFloat(Y)])}$.C.ha(O,H)}return v};
Wo.DF=function(l,t){var a=[],k=Wo;k.DX=t.HV?"\t":"";var R=t.OUY,u=t.OUy;a.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+l.$+" "+l.e+"\" width=\""+R+"\" height=\""+u+"\">");
var b={BC:[],cO:[],Ky:0,jh:0,Dd:0,Ws:{},WM:{},jR:0,sA:{},KB:{},Kw:0,jF:[]};Wo.jG(l,b,l.root.children,1,t);
if(b.BC.length!=0){a.push(k.$q(1)+"<defs>");a=a.concat(b.BC);a.push(k.$q(1)+"</defs>")}a.push(k.$q(1)+"<style>");
if(t.jF){for(var v=0;v<b.jF.length;v++){var H=b.jF[v],N=HA.wF.hs(H);if(H!=HA.hY(N))continue;a.push(k.$q(2)+"@font-face { font-family: \""+H+"\";  src: url(data:font/sfnt;base64,"+Wr.Rk(N._data.buffer)+");  }")}}a.push(k.$q(2)+"tspan { white-space:pre }");
for(var z in b.sA)a.push(k.$q(2)+"."+z+" { "+b.sA[z]+" } ");a.push(k.$q(1)+"</style>");a=a.concat(b.cO);
a.push("</svg>");a=a.join(t.HV?"\n":"");var A=$.I(Math.round(a.length*1.5)),Q=OK.JA(a,A,0);if(k.Dm){console.log(k.Dm);
var S="SVGParser.gen.db = [\n";for(var v=0;v<k.Dm.length;v++){var o=k.Dm[v];S+="{\n\tnam: \""+o.fY+"\",\n\tpts: [\n";
for(var p=0;p<o.BZ.length;p++){var O=o.BZ[p];S+="\t\t[\""+O[0]+"\", { cmds: "+JSON.stringify(O[1].A)+", crds:"+JSON.stringify(O[1].p)+" } ]"+(p==o.BZ.length-1?"":",")+"\n"}S+="\t]\n}"+(v==k.Dm.length-1?"":",")+"\n"}S+="]\n";
console.log(S)}return A.buffer.slice(0,Q)};Wo.DX="";Wo.$q=function(l){var t="";for(var a=0;a<l;a++)t+=Wo.DX;
return t};Wo.gJ=function(l){return""+parseFloat(l.toFixed(3))};Wo.jG=function(l,t,a,k,R){var u=Wo;for(var b=0;
b<a.length;b++){var v=a[b].u,H=v.add.lsct,N=v.add.vmsk,z=v.add.vstk,A=v.add.TySh,Q=[];if(!R.hidden&&!v.jY())continue;
var S=v.opacity/255,o=v.add.iOpa?v.add.iOpa/255:1;if(S!=1)Q.push("opacity: "+u.gJ(S));if(o!=1)Q.push("fill-opacity: "+u.gJ(o));
if(v.wk!="norm"){var p=HO.QW[HO.Rr.indexOf(v.wk)];if(p!=null)Q.push("mix-blend-mode: "+p)}if(!v.jY())Q.push("display: none");
var O=[],E=[],L=v.getName(),U=L.indexOf(" .");if(U!=-1){E.push(L.slice(U+2));L=L.slice(0,U)}if(R.names)O.push("id=\""+u.SN(L)+"\"");
var W=v.add.lmfx;if(W)W=W.solidFillMulti.v[0];if(W)W=W.v;if(W&&W.enab.v){var Y=W.Opct.v.val/100,y=u.gJ(1-Y),C=$.C.BL(W.Clr.v);
t.jh++;t.BC.push(u.$q(2)+"<filter id=\"flt"+t.jh+"\"> <feColorMatrix in=\"SourceGraphic\" type=\"matrix\" values=\""+y+" 0 0 0 "+u.gJ(Y*C.D/255)+"   0 "+y+" 0 0 "+u.gJ(Y*C.K/255)+"   0 0 "+y+" 0 "+u.gJ(Y*C.l/255)+"   0 0 0 1 0\" /> </filter>");
Q.push("filter: url(#flt"+t.jh+")")}if(v.PA()){if(u.Dm&&v.getName().split("-").length==3){u.Dm.push({fY:v.getName(),gC:0,BZ:[]})}if(N){t.Dd++;
O.push("clip-path=\"url(#cp"+t.Dd+")\"");t.BC.push(u.$q(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+t.Dd+"\">");
var X=$.r._k(N.k);t.BC.push(u.$q(3)+"<path d=\""+X.$M+"\" />");t.BC.push(u.$q(2)+"</clipPath>")}if(Q.length!=0)O.push("style=\""+Q.join(";")+"\"");
t.cO.push(u.$q(k)+"<g "+u.n_(O,E)+">");u.jG(l,t,a[b].children,k+1,R);t.cO.push(u.$q(k)+"</g>")}else if(v.OY()&&N==null){var M=new d(0,0,l.$,l.e);
u.ja(Q,v.add,t,M);if(Q.length!=0)O.push("style=\""+Q.join(";")+"\"");t.cO.push(u.$q(k)+"<rect width=\""+l.$+"\" height=\""+l.e+"\" "+u.n_(O,E)+" />")}else if(N){var M=$.r.uf(N.k),X=$.r._k(N.k);
if(X.Sd!=0){O.push("fill-rule=\"evenodd\"")}var g=X.$M;u.ja(Q,v.add,t,M);if(Q.length!=0){var n=Q.join(";"),V=t.KB[n];
if(V==null){V="shp"+t.Kw;t.Kw++;t.KB[n]=V;t.sA[V]=n}E.push(V)}t.cO.push(u.$q(k)+"<path "+u.n_(O,E)+" d=\""+g+"\" />");
if(u.Dm&&u.Dm[u.Dm.length-1]){var i=$.M.FQ(N.k);i.p=i.p.map(Math.round);var f=u.Dm[u.Dm.length-1];f.gC+=JSON.stringify(i).length;
f.BZ.push([Q[0].split("#").pop(),i])}}else if(A&&!R.OUz){var r=A.dH,e=A.N.clone(),G=0,q=0;if(Wz.Hj(r)==1){var D=Wz.SG(r,0,0).SP.Justification,B=0,h=Wz.WT(r)[2];
if(D==2)B=h/2;if(D==1)B=h;e.translate(B,0)}Q.push("transform: "+u.zQ(e));var I=Wz.NS(r),j=r.EngineDict.ParagraphRun,c=j.RunArray,m=j.RunLengthArray;
if(Q.length!=0)O.push("style=\""+Q.join(";")+"\"");t.cO.push(u.$q(k)+"<text "+u.n_(O,E)+" >");var F=v.add.lmfx;
if(F)F=F.frameFXMulti.v[0];if(F)F=F.v;for(var W_=0;W_<c.length;W_++){var WU=[],Wd=m[W_],WZ=I.slice(G,G+Wd-1),WL=Wz.SG(r,G,G),Wj=WL.kj[WL.Zl.Font].Name;
if(t.jF.indexOf(Wj)==-1)t.jF.push(Wj);CSS.oK(WU,WL,A.N,!0,R.jF);if(F){Q.push("stroke: "+CSS.$C(F.Clr.v));
Q.push("stroke-width: "+F.Sz.v.val)}var Or=WL.Zl.FontSize*1.12;if(W_==0)Or=Wz.Hj(r)==0?0:WL.Zl.FontSize;
q+=Or;if(WZ!=""){var n=WU.join(";"),V=t.KB[n];if(V==null){V="txt"+t.Kw;t.Kw++;t.KB[n]=V;t.sA[V]=n}t.cO.push(u.$q(k+1)+"<tspan x=\"0\" y=\""+u.gJ(q)+"\" class=\""+V+"\">"+u.SN(WZ)+"</tspan>")}G+=Wd}t.cO.push(u.$q(k)+"</text>")}else if(v.add.SoLd){var Wu=v.add.SoLd,WE=Wu.Idnt.v,Wf=0,WS=Wu.Crop?Wu.Crop.v:null;
if(t.WM[WE]!=null)Wf=t.WM[WE];else{t.jR++;Wf=t.jR;t.WM[WE]=t.jR;var Wx=l.bF(WE,WS),Ww="";if(Wx==null)return;
var WQ=Wx.bb,WJ=Wr.Xv(Wx.raw.buffer);if(WJ=="pdf"){var Wv=new Hb("h");Wr.PDF.cq(Wx.raw.buffer,Wv);Wv.AU();
Wv.bG();Wv.i();Wv.$d();if(Wu.Crop&&Wu.Crop.v==1){s.L$.gH(Wv,Wv.root.Sa(Wv,!0))}var Oi=Wr.SVG.Sn(Wv,Wv.$,Wv.e);
Ww="data:image/svg+xml;base64,"+Wr.Rk(Oi)}else if(WJ=="jpg"||WJ=="png"||WJ=="gif"||WJ=="svg"){var Wc={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
Ww="data:"+Wc[WJ]+";base64,"+Wr.Rk(Wx.raw.buffer)}else{Ww=Wr.RA(WQ[0],WQ[1].$,WQ[1].e)}t.BC.push(u.$q(2)+"<image width=\""+WQ[1].$+"\" height=\""+WQ[1].e+"\" id=\"img"+Wf+"\" href=\""+Ww+"\"/>")}var Wh=$.U.Ez(Wu);
if(Q.length!=0)O.push("style=\""+Q.join(";")+"\"");var Om=u.n_(O,E);t.cO.push(u.$q(k)+"<use "+Om+" href=\"#img"+Wf+"\" transform=\""+u.zQ(Wh)+"\"/>")}else if(!v.rect.wp()&&(R.OUk||A)){if(Q.length!=0)O.push("style=\""+Q.join(";")+"\"");
var Om=u.n_(O,E),WN=v.rect;t.jR++;var Ww=Wr.RA(v.buffer,WN.$,WN.e);t.BC.push(u.$q(2)+"<image width=\""+v.rect.$+"\" height=\""+v.rect.e+"\" id=\"img"+t.jR+"\" href=\""+Ww+"\"/>");
t.cO.push(u.$q(k)+"<use "+Om+" href=\"#img"+t.jR+"\" x=\""+WN.x+"\" y=\""+WN.y+"\" />")}}};Wo.n_=function(l,t){if(t.length!=0)l.push("class=\""+t.join(" ")+"\"");
return l.join(" ")};Wo.SN=function(l){return String(l).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
Wo.zQ=function(l){var t=[l.w,l.l,l.Mn,l.N_,l.Pu,l.wf].map(Wo.gJ);return"matrix("+t.join(",")+")"};Wo.ja=function(l,t,a,k){var R=Wo,u=t.vstk,b=t.vmsk,v=t.lmfx;
if(b&&b.cg!=0){var H=R.gJ(b.cg);if(a.Ws[H]==null){a.jh++;a.Ws[H]=a.jh;a.BC.push(R.$q(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+a.jh+"\"> <feGaussianBlur stdDeviation=\""+H+"\" /> </filter>")}l.push("filter: url(#flt"+a.Ws[H]+")")}var N=WD.pa(v),z=N[0],A=N[1];
if(u&&!u.fillEnabled.v)l.push("fill: none");else if(t.SoCo&&A==null||z){var Q=CSS.$C((z?z:t.SoCo).Clr.v);
l.push("fill: "+Q)}else if(t.GdFl||A){R.At(A?A:t.GdFl,a,k);l.push("fill: url(#grd"+a.Ky+")")}if(u==null||!u.strokeEnabled.v)u=WD.pu(v);
if(u&&u.strokeEnabled.v){var S=u.strokeStyleContent.v,o=S.classID;if(o=="solidColorLayer")l.push("stroke: "+CSS.$C(S.Clr.v));
else{R.At(S,a,k);l.push("stroke: url(#grd"+a.Ky+")")}var p=P.BF.Rc.indexOf(u.strokeStyleLineCapType.v.strokeStyleLineCapType),O=P.BF.join.indexOf(u.strokeStyleLineJoinType.v.strokeStyleLineJoinType),E=u.strokeStyleOpacity.v.val/100,L=u.strokeStyleLineWidth.v.val,U=P.BF.mt.indexOf(u.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(U==2){L*=2;l.push("paint-order:stroke fill markers")}var W=u.strokeStyleLineDashSet.v,Y=[];for(var y=0;
y<W.length;y++)Y.push(Math.round(W[y].v.val*L));if(p!=0)l.push("stroke-linecap:"+["butt","round","square"][p]);
if(O!=0)l.push("stroke-linejoin:"+["miter","round","bevel"][O]);if(E!=1)l.push("stroke-opacity:"+R.gJ(E));
if(L!=1)l.push("stroke-width: "+R.gJ(L));if(Y.length!=0)l.push("stroke-dasharray: "+Y.join(","))}};Wo.At=function(l,t,a){t.Ky++;
var k=Wo,R=l.Grad.v,u=R.Clrs.v.slice(0),b=R.Trns.v.slice(0),v=l.Ofst.v,H=l.Type.v.GrdT=="Rdl"?1:0,N=(H==1?"radial":"linear")+"Gradient",z=$.C.ad(l,a);
if(H==0){z[0].x=z[1].x+2*(z[0].x-z[1].x);z[0].y=z[1].y+2*(z[0].y-z[1].y)}var A=k.$q(2)+"<"+N+" id=\"grd"+t.Ky+"\" gradientUnits=\"userSpaceOnUse\" ";
if(H==0)t.BC.push(A+" x1=\""+k.gJ(z[0].x)+"\" y1=\""+k.gJ(z[0].y)+"\" x2=\""+k.gJ(z[1].x)+"\" y2=\""+k.gJ(z[1].y)+"\">");
if(H==1)t.BC.push(A+" cx=\""+k.gJ(z[0].x)+"\" cy=\""+k.gJ(z[0].y)+"\" r=\""+k.gJ(x.tq(z[0],z[1]))+"\">");
var Q=l.Rvrs.v;if(Q){u.reverse();b.reverse()}for(var S=0;S<u.length;S++){var o=u[S].v,p=S<b.length?b[S].v.Opct.v.val/100:1,p=p==1?"":"stop-opacity=\""+k.gJ(p)+"\"",O=o.Lctn.v/4096;
if(Q)O=1-O;t.BC.push(k.$q(3)+"<stop offset=\""+k.gJ(O)+"\" stop-color=\""+CSS.$C(o.Clr.v)+"\" "+p+" />")}t.BC.push(k.$q(2)+"</"+N+">")};
Wo.Wa=function(l,t,a,k,R){var u=[],b=Wo.Wa,v=!1,H={wa:l,Ii:t,Kt:[!0,!0,!0],xa:!1,dA:a,Pp:0};H.fG=Math.round(Math.max(l,t)*(.02+b.Ao(H)*.03));
H.xM=b.OS_(H);H.s_=b.OzN(H.xM,(b.Ao(H)<.5?-1:1)*(.2+b.Ao(H)*.3));if(b.Ao(H)<.5){var N=H.xM;H.xM=H.s_;
H.s_=N}H.OKo=b.Ao(H)<.4&&b.OSg(H.s_,{D:1,K:1,l:1})>.3;H.OKp=b.Ao(H)<.5?0:1;u.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+l+" "+t+"\" width=\""+l+"\" height=\""+t+"\">");
H.Wy=k[Math.floor(b.LJ(H)*k.length)];H.Wp=k[Math.floor(b.LJ(H)*k.length)];u.push("<style>");u.push("@font-face {  font-family: "+H.Wy[2]+";  src: url(rsrc/fonts/"+H.Wy[5]+");  }");
u.push("@font-face {  font-family: "+H.Wp[2]+";  src: url(rsrc/fonts/"+H.Wp[5]+");  }");u.push("</style>");
var z=[0,0,l,t],A=z;if(R==null)u.push("<path style=\"fill: "+b.nA(H.xM)+"\" d=\""+b.Rect(z[0],z[1],z[2]-z[0],z[3]-z[1])+"\" id=\"Background\" />");
else{H.xa=!0;b.qc(H,z,u,R)}if(b.Ao(H)<.25&&!H.xa){H.Kt[0]=H.Kt[2]=!1;b.ObH(z,H,u);A=z}else if(b.Ao(H)<.25||H.xa)A=z;
else{var Q=.52+b.Ao(H)*.2;if(b.Ao(H)<.5)Q=1-Q;var S=z.slice(0),o=z.slice(0);if(b.Ao(H)<.5)S[2]=o[0]=Math.round(Q*l);
else S[3]=o[1]=Math.round(Q*t);if(b.Ao(H)<.5){var N=S;S=o;o=N}A=S;b.Ozo(H,o,u,R)}b.OzS(H,A,u);u.push("</svg>");
u=u.join("\n");var p=$.I(Math.round(u.length*1.5)),O=OK.JA(u,p,0);return[p.buffer.slice(0,O),H.Yo]};
Wo.Wa.ObH=function(l,t,a){var k=Wo.Wa,R=l[2]-l[0],u=l[3]-l[1];if(k.Ao(t)<.5){a.push("<path id=\"Border\" style=\"fill: "+k.nA(t.s_)+"\" d=\""+k.Ozv(l[0],l[1],l[2]-l[0],l[3]-l[1],t.fG)+"\" />")}else if(k.Ao(t)<-.4){k.Ozw(t,l,a)}else{var b=k.Ao(t)<.5?0:1,v=(b==0?u:R)/4,H=k.LD(t,b,l,a,v,!0),H=k.LD(t,b+2,l,a,v,!0,H)}};
Wo.Wa.OzS=function(l,t,a){var k=Wo.Wa,R="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.".split("-"),u=2*Math.floor(k.Ao(l)*R.length/2),b=t[2]-t[0],v=t[3]-t[1],N=0,A=0;
l.qG=(l.wa+b)*.5*(.04+k.Ao(l)*.05);l.qG=Math.min(l.qG,v*.4,b*.12);l.qG=Math.round(l.qG);var H=Math.min(l.qG*R[u].length*(.35+.3*k.Ao(l)),b*.9),z=(t[1]+t[3])/2,Q=$.Be(l.xM)<.85?{D:1,K:1,l:1}:{D:.1,K:.1,l:.1};
if(k.Ao(l)<.25&&l.Kt[0]){A=0;N=t[0]+l.fG}else if(k.Ao(l)<.33&&l.Kt[2]){A=2;N=t[2]-l.fG}else{A=1;N=(t[0]+t[2])/2}var S=Q.D==1?"0,0,0":"255,255,255",o=l.xa&&k.Ao(l)<1;
if(o){var p=t[0],O=b,E=z-l.qG*1.1,L=l.qG*2.2,U=.7;if(A==1&&k.Ao(l)<.5){p=E=.2*Math.min(b,v);O=b-2*E;
L=v-E-E}else if(k.Ao(l)<.7){p=E=0;O=b;L=v;U=.25}a.push("<path id=\"Strip\" style=\"fill: rgb("+S+"); opacity: "+U+"\" d=\""+k.Rect(p,E,O,L)+"\" />")}if(k.Ao(l)<.4){var W=l.qG*.07;
W*=1.5+k.Ao(l)*1;if(A==-1&&b/v<3&&!o){a.push("<path id=\"Bar-bottom\" style=\"fill: "+k.nA(Q)+"\" d=\""+k.Rect(N-H/2,z+l.qG*1.1-W/2,H,W)+"\" />");
a.push("<path id=\"Bar-top\"    style=\"fill: "+k.nA(Q)+"\" d=\""+k.Rect(N-H/2,z-l.qG*1.1-W/2,H,W)+"\" />")}if(A!=1){a.push("<path id=\"Bar\" style=\"fill: "+k.nA(Q)+"\" d=\""+k.Rect(N-W/2,z-l.qG*.8,W,l.qG*.8*2)+"\" />");
N+=(A==0?1:-1)*l.qG/3}}var Y=l.qG*.4;a.push(k.T$(R[u+1],N,z+Y*1.6,Y,Q,A,l.Wp));a.push(k.T$(R[u],N,z+l.qG*.04,l.qG,Q,A,l.Wy))};
Wo.Wa.Ozo=function(l,t,a,k){var R=t[2]-t[0],u=t[3]-t[1],b=Math.max(R,u),v=Math.min(R,u),H=Wo.Wa;if(b/v<5&&!l.xa&&!1){H.qc(l,t,a,k)}else if(H.Ao(l)<0)a.push("<path style=\"fill: "+H.nA(l.s_)+"\" d=\""+H.Rect(t[0],t[1],R,u)+"\" />");
else{var N=0;if(t[3]!=l.Ii)N=0;if(t[2]!=l.wa)N=3;if(t[0]!=0)N=1;if(t[1]!=0)N=2;var z=N+2&3;if(b/v<3){var A=H.Ozh(z),Q=A[Math.round(H.Ao(l)*(A.length-1))],S=Q.fY.slice(0,4),o=S.indexOf(1);
Q=JSON.parse(JSON.stringify(Q));var p=-1;if(S!="0000"){var O=new WM;if(Q.fY[5]=="0"){if(o==3&&N==1){p=1;
O.scale(-1,1)}else p=o}else{var E=z;while(E==z)E=Math.floor(H.Ao(l)*4)&3;O.rotate((-o+E)*Math.PI/2)}H.N(Q,O)}var L=H._f(Q),U=R-2*l.fG,W=u-2*l.fG;
if(p!=-1){if((p&1)==0)W-=l.fG;else U-=l.fG}var Y=Math.min(U/L.$,W/L.e),y=new WM;y.translate(-L.x,-L.y);
y.scale(Y,Y);var C=(R-L.$*Y)/2,X=(u-L.e*Y)/2;if(p!=-1){if(p==3)C=0;if(p==0)X=0;if(p==1)C=R-L.$*Y;if(p==2)X=u-L.e*Y}y.translate(t[0]+C,t[1]+X);
H._Z(l,Q,y,l.s_,a)}else{H.LD(l,N,t,a,1e9)}}};Wo.Wa.qc=function(l,t,a,k){var R=t[2]-t[0],u=t[3]-t[1],b=Math.max(R,u),v=Math.min(R,u),H=Wo.Wa,N=H.LJ(l),z,A,Q,S=k[0]instanceof ArrayBuffer;
if(S){z="data:image/jpg;base64,"+Hx.Oy(k[0]);A=k[1];Q=k[2]}else{var o=Math.floor(N*k.length),p=k[o];
l.Yo=p;z=p.webformatURL;A=p.webformatWidth;Q=p.webformatHeight}var O=t[0],E=t[1],L=R,U=u;if(R/u>A/Q){U=L*Q/A;
E=E-(U-u)/2}else{L=U*A/Q;O=O-(L-R)/2}if(S){a.push("<defs>");a.push("<image width=\""+A+"\" height=\""+Q+"\" id=\"Background\" href=\""+z+"\" />");
a.push("</defs>");var W=L/A;a.push("<use href=\"#Background\" transform=\""+Wo.zQ(new WM(W,0,0,W,O,E))+"\" />")}else{var Y="cp"+Math.random();
a.push("<clipPath id=\""+Y+"\">");a.push("<path style=\"fill: "+H.nA(l.s_)+"\" d=\""+H.Rect(t[0],t[1],R,u)+"\" />");
a.push("</clipPath>");a.push("<image  clip-path=\"url(#"+Y+")\" xlink:href=\""+z+"\" x=\""+O+"\" y=\""+E+"\" width=\""+L+"\" height=\""+U+"\" />")}};
Wo.Wa.T$=function(l,t,a,k,R,u,b){var v=Wo.Wa;return"<text x=\""+t+"\" y=\""+a+"\" style=\"fill:"+v.nA(R)+"; font-size:"+k+"px; text-anchor:"+["start","middle","end"][u]+"; font-family:"+b[2]+";\"><tspan>"+l+"</tspan></text>"};
Wo.Wa._Z=function(l,t,a,k,R){var u=Wo.Wa,b=[];for(var v=0;v<t.BZ.length;v++){b.push(k);if(l.OKo){k=(v&1)==l.OKp?{D:1,K:1,l:1}:b[0]}}R.push("<g id=\""+t.fY.split("-")[2]+":::\" style=\"transform: "+Wo.zQ(a)+";\" >");
for(var v=0;v<t.BZ.length;v++){var H=t.BZ[v];k=b.pop();R.push("<path style=\"fill: "+(k?u.nA(k):"#"+H[0])+"\" d=\""+Typr.U.pathToSVG({crds:H[1].p,cmds:H[1].A})+"\" />")}R.push("</g>")};
Wo.Wa.Ozw=function(l,t,a){var k=Wo.Wa,R=Wo.Wa.LQ,u=[];for(var b=0;b<R.length;b++){var v=R[b],H=v.fY.slice(0,4);
if(H!="1001")continue;u.push(v)}var v=u[Math.floor(k.Ao(l)*u.length)];if(k.Ao(l)<.5)k.N(v,new WM(0,1,1,0,0,0));
var N=t[3]-t[1],z=t[2]-t[0],A=k._f(v),Q=.7*Math.min(z,N,.5*Math.max(z,N))/Math.max(A.$,A.e),S=new WM;
S.scale(Q,Q);if(k.Ao(l)<.5){S.scale(1,-1);S.translate(0,N)}k._Z(l,v,S,l.s_,a);S.rotate(Math.PI);S.translate(z,N);
k._Z(l,v,S,l.s_,a)};Wo.Wa.Ozh=function(l){var t=Wo.Wa.LQ,a=[];for(var k=0;k<t.length;k++){var R=t[k],u=R.fY.slice(0,4);
if(u=="0000"){a.push(R);continue}if(["1000","0100","0010","0001"].indexOf(u)==-1)continue;var b=u.indexOf("1");
if(R.fY[5]=="0"&&l==b&&b!=3)continue;a.push(R)}return a};Wo.Wa.LD=function(l,t,a,k,R,u,b){var v=Wo.Wa.LQ,H=Wo.Wa,N=[],U,W;
for(var z=0;z<v.length;z++){var A=v[z],Q=A.fY.slice(0,4);if(["1110","1101","1011","0111"].indexOf(Q)==-1)continue;
var S=Q.indexOf("0")+2&3;if(A.fY[5]=="0")if(u==!0||t!=S&&!(t==1&&S==3))continue;N.push(A)}var o=b!=null?b:Math.floor(H.Ao(l)*N.length),A=N[o],A=JSON.parse(JSON.stringify(A)),Q=A.fY.slice(0,4),S=Q.indexOf("0")+2&3;
if(S==3&&t==1)$.N(A,new WM(1,0,0,-1,0,1e3));var p=new WM;p.translate(-500,-500);p.rotate(-S*Math.PI/2);
p.translate(500,500);H.N(A,p);var O=a[3]-a[1],E=a[2]-a[0],L=H._f(A);if(L.y<0){L.e+=L.y;L.y=0}if(L.y>0){L.e+=L.y;
L.y=0}if((t&1)==0){W=O;U=E}else{U=O;W=E}var Y=Math.min(Math.min(.5+.5*H.Ao(l))*Math.min(E,O),R)/L.e,y=Math.ceil(U/(1e3*Y)),C=new WM,X=new WM;
X.scale(Y,Y);if(t==0||t==2){X.translate(-(E/2),-(O/2));X.rotate(-t*Math.PI/2);X.translate(E/2+a[0],O/2+a[1])}else{X.rotate(Math.PI/2);
X.scale(1,-1);X.translate(a[0],a[1]);if(t==1){X.scale(-1,1);X.translate(E,0)}}k.push("<g id=\"Border-"+["top","right","bottom","left"][t]+":::\">");
for(var z=0;z<y;z++){var M=C.clone();M.concat(X);H._Z(l,A,M,l.s_,k);C.translate(1e3-2,0)}k.push("</g>");
return o};Wo.Wa.Rect=function(l,t,a,k){return Typr.U.pathToSVG({crds:[l,t,l+a,t,l+a,t+k,l,t+k],cmds:["M","L","L","L","Z"]})};
Wo.Wa.Ozv=function(l,t,a,k,R){var u=[l,t,l+a,t,l+a,t+k,l,t+k];l+=R;t+=R;a-=2*R;k-=2*R;u.push(l,t,l,t+k,l+a,t+k,l+a,t);
return Typr.U.pathToSVG({crds:u,cmds:"M L L L Z M L L L Z".split(" ")})};Wo.Wa.OzN=function(l,t){var a=$.kG(l.D,l.K,l.l);
a.jl=Math.max(.1,Math.min(.9,a.jl+t));return $.AF(a.Ii,a.RI,a.jl)};Wo.Wa.Olh=function(l,t){var a=$.kG(l.D,l.K,l.l);
a.Ii+=t;return $.AF(a.Ii,a.RI,a.jl)};Wo.Wa.Olv=function(l){var t=$.kG(l.D,l.K,l.l);t.jl=1-t.jl;return $.AF(t.Ii,t.RI,t.jl)};
Wo.Wa.OSg=function(l,t){var a=l.D-t.D,k=l.K-t.K,R=l.l-t.l;return Math.sqrt(a*a+k*k+R*R)};Wo.Wa.OS_=function(l){var t=Wo.Wa;
return{D:t.Ao(l),K:t.Ao(l),l:t.Ao(l)}};Wo.Wa.nA=function(l){return CSS.on({D:l.D*255,K:l.K*255,l:l.l*255})};
Wo.Wa._f=function(l){var t=l.BZ,a=new d;for(var k=0;k<t.length;k++)a=a.wm($.M._f(t[k][1].p));return a};
Wo.Wa.N=function(l,t){var a=l.BZ;for(var k=0;k<a.length;k++)$.M.N(a[k][1].p,t,a[k][1].p)};Wo.Wa.Ao=function(l){l.Pp++;
var t=l.Pp&3;if(t==0)l.dA=Wo.Wa.$R(l.dA);var a=l.dA>>>8*t&255;return a*(.99999999/255)};Wo.Wa.LJ=function(l){var t=Wo.Wa.$R(l.dA);
l.dA=Wo.Wa.$R(t);return t*(1/4294967295)};Wo.Wa.$R=function(l){l=(l^61^l>>>16)>>>0;l=l+(l<<3)>>>0;l=(l^l>>>4)>>>0;
l=l*668265261>>>0;l=(l^l>>>15)>>>0;return l};Wo.Wa.LQ=[{fY:"0001-0-bird",BZ:[["4b3c34",{A:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),p:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{A:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),p:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{A:"M C C C C C C C C C C C C L Z".split(" "),p:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{fY:"0001-0-bird2",BZ:[["ff7f2a",{A:"M L L L Z M L L L Z".split(" "),p:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{A:"M C C C C C C C C C C C L Z".split(" "),p:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{A:"M C C C C C C L Z M C C Z".split(" "),p:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{A:"M L L L Z M L L L Z".split(" "),p:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{A:"M L C C C C C C C C L Z".split(" "),p:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{A:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),p:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{fY:"0000-1-flower",BZ:[["7a59a2",{A:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),p:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{fY:"0000-1-flower",BZ:[["d13777",{A:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),p:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{fY:"0000-1-flower",BZ:[["ffac42",{A:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),p:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{fY:"0000-1-flower",BZ:[["d04040",{A:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),p:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{fY:"0000-1-flower",BZ:[["ec7272",{A:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),p:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{A:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),p:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{fY:"0000-0-hearts",BZ:[["d17070",{A:"M C C C C C C C C C L Z".split(" "),p:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{A:"M C C C C C C C C C L Z".split(" "),p:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{A:"M C C C C C C C C C L Z".split(" "),p:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{fY:"0000-0-anchor",BZ:[["2a3b66",{A:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),p:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{fY:"0000-1-leaf",BZ:[["fbb600",{A:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),p:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{fY:"0000-1-acorn",BZ:[["a05a2c",{A:"M C C C C C C C L Z".split(" "),p:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{A:"M C C C C C C C C C C C Z".split(" "),p:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{fY:"0000-0-skull",BZ:[["808080",{A:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),p:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{fY:"0000-0-ghost",BZ:[["e6e6e6",{A:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),p:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{A:"M C C C C Z M C C C C Z".split(" "),p:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{fY:"1001-1-rose",BZ:[["9e1460",{A:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),p:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{A:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),p:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{fY:"1001-1-curls",BZ:[["53a7ab",{A:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),p:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{A:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),p:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{fY:"0111-0-pines",BZ:[["e9e9e9",{A:"M C C C C C C C C L L L Z".split(" "),p:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{A:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),p:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{fY:"0111-0-flowers",BZ:[["8cae40",{A:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),p:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{A:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),p:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{fY:"1101-1-confetti",BZ:[["e789ff",{A:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),p:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{A:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),p:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{fY:"1101-1-branch",BZ:[["7f500b",{A:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),p:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{A:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),p:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{fY:"1101-1-sticks",BZ:[["ec7272",{A:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),p:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{A:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),p:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{fY:"1101-1-dots",BZ:[["ec7272",{A:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),p:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{A:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),p:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{A:["M","C","C","Z"],p:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{fY:"1101-1-strips",BZ:[["ffc88c",{A:"M L L L L Z M L L L L Z M L L L L Z".split(" "),p:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{A:"M L L L L Z M L L L L Z M L L L L Z".split(" "),p:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{A:["M","C","C","Z"],p:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{fY:"1101-1-circs",BZ:[["ec7272",{A:"M C C C C Z M C C C C Z".split(" "),p:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{A:"M C C C C Z M C C C C Z".split(" "),p:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{A:["M","C","C","Z"],p:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{fY:"1101-1-squares",BZ:[["014ea7",{A:"M L L L L Z M L L L L Z".split(" "),p:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{A:"M L L L L Z M L L L L Z".split(" "),p:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{A:["M","C","C","Z"],p:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{fY:"1101-0-christmas",BZ:[["014ea7",{A:"M C C C C Z M C C C C Z M L L L L Z".split(" "),p:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{A:"M C C C C Z M C C C C Z M L L L L Z".split(" "),p:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var HG={};HG.parse=function(l){var t=new Uint8Array(l),a=null;if(t[0]==80&&t[1]==75){var k=Date.now(),R=UZIP.parse(t.buffer),a=R["document.json"];
a=JSON.parse(OK.Ei(a,0,a.length));HG.Lt(a,R)}else{var u=AS.parse(l);a=HG.Tn(u[2][0][1])}return a};HG.Lt=function(l,t){var a=typeof l;
if(a=="string"||a=="number"||a=="boolean")return l;if(l instanceof Array){for(var k=0;k<l.length;k++)l[k]=HG.Lt(l[k],t);
return l}var R=l._class;if(R==null)return l;if(R=="MSJSONFileReference"){var u=l._ref;if(!1){}else if(t[u+".json"]!=null){var b=OK.Ei(t[u+".json"],0,t[u+".json"].length);
l=JSON.parse(b)}else if(t[u+".png"]!=null)return{key:u.split("/").pop(),bdata:t[u+".png"]};else if(t[u+".jpg"]!=null)return{key:u.split("/").pop(),bdata:t[u+".jpg"]};
else if(t[u+".pdf"]!=null)return{key:u.split("/").pop(),bdata:t[u+".pdf"]};else if(t[u]!=null)return{key:u.split("/").pop(),bdata:t[u]};
else{console.log(l,t);throw"e"}}else if(R=="MSAttributedString"){var b=atob(l.archivedAttributedString._archive),v=b.length-1,H=new Uint8Array(v);
for(var k=0;k<v;k++)H[k]=b.charCodeAt(k);l.archivedAttributedString=HG.Tn(H)}for(var N in l)l[N]=HG.Lt(l[N],t);
return l};HG.Tz=function(l,t,a,k){if(l instanceof Uint8Array)return null;if(k.indexOf(l)!=-1)return null;
k.push(l);if(l==t)return a;for(var R in l){a.push(R);var u=HG.Tz(l[R],t,a,k);if(u){console.log(l,u);
throw"e"}a.pop()}};HG.Tn=function(l){var t=l_.parse(l,0),a=t.$objects,k=new Uint8Array(a.length),R=HG.Ri(a,k,t.$top.root);
for(var u=0;u<a.length;u++)if(k[u]==0&&u!=0){console.log(u,a[u]);HG.Tz(R,u,[],[])}for(var u=0;u<a.length;
u++){var b=a[u];if(b._class&&(b._class=="bitmap"||b._class=="fill"&&b.fillType==4)){var v=null,H=null;
if(b.image&&b.image.data){H=b.image.sha1["NS.bytes"];H=btoa(K.NU(H,0,H.length));v=b.image.data instanceof Uint8Array?b.image.data:b.image.data["NS.bytes"]}else{if(b.imageSHA)H=b.imageSHA instanceof Uint8Array?b.imageSHA:b.imageSHA["NS.bytes"];
else H=b.image.sha1["NS.bytes"];H=btoa(K.NU(H,0,H.length));var N=R.assets?R.assets.imageCollection:R.images,v=N.images[H].data;
if(v["NS.bytes"])v=v["NS.bytes"]}v=new Uint8Array(v.buffer.slice(v.byteOffset,v.byteOffset+v.length));
delete b.imageSHA;b.image={key:H,bdata:v}}}return R};HG.OSp=function(l){return l.slice(0,11)=="MSImmutable"?"MS"+l.slice(11):l};
HG.Ri=function(l,t,a){var k=l[a];if(t[a]==1){return k}t[a]=1;if(typeof k=="string")return k;if(typeof k=="number")return k;
if(typeof k=="boolean")return k;if(k instanceof Array)return k;if(k instanceof Uint8Array){return k}if(l[k.$class]==null){if(k.$class==null&&k["NS.data"]!=null)return k;
console.log(a,k);throw"e"}var R=l[k.$class],u=HG.OSp(R.$classname);t[k.$class]=1;k.$class=u;if(HG.TY[u]){delete k.$class;
k._class=HG.TY[u]}var b=HG.Ri;if(u=="NSMutableArray"||u=="NSArray"){var v=[];if(k["NS.objects"]!=null)for(var H=0;
H<k["NS.objects"].length;H++)v.push(b(l,t,k["NS.objects"][H]));else for(var H=0;k["NS.object."+H]!=null;
H++)v.push(b(l,t,k["NS.object."+H]));l[a]=v;return v}if(u=="NSDictionary"||u=="NSMutableDictionary"){var N={$class:u};
if(k["NS.keys"]!=null)for(var H=0;H<k["NS.keys"].length;H++){var z=b(l,t,k["NS.keys"][H]);if(z instanceof Uint8Array)z=btoa(HG.nq.NU(z,0,z.length));
else if(typeof z!="string"&&typeof z!="number")z=btoa(HG.nq.NU(z["NS.bytes"],0,z["NS.bytes"].length));
N[z]=b(l,t,k["NS.objects"][H])}else for(var H=0;k["NS.key."+H]!=null;H++){var z=b(l,t,k["NS.key."+H]);
if(z instanceof Uint8Array)z=btoa(HG.nq.NU(z,0,z.length));else if(typeof z!="string"&&typeof z!="number")z=btoa(HG.nq.NU(z["NS.bytes"],0,z["NS.bytes"].length));
N[z]=b(l,t,k["NS.object."+H])}for(var A in k)delete k[A];for(var A in N)k[A]=N[A];return k}if(u=="NSURL")return{$class:u,base:b(l,t,k["NS.base"]),relative:b(l,t,k["NS.relative"])};
if(HG.On_.indexOf(u)!=-1){l[a]=b(l,t,k.array_do);return l[a]}if(k.do_objectID!=null)k.do_objectID=b(l,t,k.do_objectID);
if(HG.OnF.indexOf(u)!=-1)return k;var Q=HG.Onj[u];if(Q==null){console.log(l,k);throw"unknown class "+u}for(var H=0;
H<Q.length;H++)if(k[Q[H]]!=null)k[Q[H]]=b(l,t,k[Q[H]]);if(u=="MSTextLayer"){var S=k,o,p,O,E;if(S.attributedString)o=S.attributedString.archivedAttributedString;
else o=S.storage;E=o.NSString;if(typeof E!="string")E=OK.Ei(E["NS.bytes"],0,E["NS.bytes"].length);if(o.NSAttributeInfo)p=o.NSAttributeInfo["NS.bytes"];
else{var L=E.length,U=[];while(L>0){var W=Math.min(100,L);U.push(W,0);L-=W}p=new Uint8Array(U)}O=o.NSAttributes instanceof Array?o.NSAttributes:[o.NSAttributes];
var Y={$class:"NSAttributedString",NSString:E,NSAttributes:O};S.attributedString={_class:"MSAttributedString",archivedAttributedString:Y};
Y.NSAttributeInfo={$class:"NSMutableData","NS.data":p};delete S.storage}return k};HG.nq={KA:function(l,t){return l[t+1]<<8|l[t]},o:function(l,t){return l[t+3]<<24|l[t+2]<<16|l[t+1]<<8|l[t]},NU:function(l,t,a){var k="";
for(var R=0;R<a;R++)k+=String.fromCharCode(l[t+R]);return k}};HG.TY={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
HG.On_=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
HG.OnF="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData MSStyleReflection".split(" ");
HG.Onj={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"]};
var l_={};l_.parse=function(l,t){var a=K.NU(l,t,8);t+=8;var k=l_.parse.Onq(l,l.length-31),R=[];if(k.qA==1){var t=l.length-31-k.qA*k.q$;
for(var u=0;u<k.q$;u++)R.push(l[t+u])}else if(k.qA==2){var t=l.length-31-k.qA*k.q$;for(var u=0;u<k.q$;
u++)R.push(K.KA(l,t+u*2))}else if(k.qA==4){var t=l.length-31-k.qA*k.q$;for(var u=0;u<k.q$;u++)R.push(K.o(l,t+u*4))}else{throw"e"}var b=l_.parse.Ri(l,R,k.root,k);
return b};l_.parse.Ri=function(l,t,a,k){var R=l_.nq,u=k.O_A,b=u==4?R.o:u==2?R.KA:R.OUg,v=l_.parse,H=t[a],N=l[H],z=N>>4,A=N&15,S=null;
H+=1;if([4,5,6,10,12,13].indexOf(z)!=-1&&A==15){var Q=v.Gh(l,H);H+=Q.gC;A=Q.V}if(!1){}else if(z==0)S=A==8?!1:A==9?!0:null;
else if(z==1)S=v.Gh(l,H-1).V;else if(z==2)S=1<<A==4?K.nd(l,H):K.CR(l,H);else if(z==3)S=K.CR(l,H);else if(z==4)S=new Uint8Array(l.buffer,H,A);
else if(z==5)S=K.NU(l,H,A);else if(z==6)S=K.Fd(l,H,A);else if(z==8){S=0;for(var o=0;o<A+1;o++)S=S<<8|l[H+o]}else if(z==10){S=[];
for(var o=0;o<A;o++)S.push(v.Ri(l,t,b(l,H+u*o),k))}else if(z==12){S=[];for(var o=0;o<A;o++)S.push(v.Ri(l,t,b(l,H+u*o),k))}else if(z==13){S={};
for(var o=0;o<A;o++){var p=v.Ri(l,t,b(l,H+u*o),k),O=v.Ri(l,t,b(l,H+u*(A+o)),k);S[p]=O}}else throw"unknown mask "+z;
return S};l_.parse.Gh=function(l,t){var a=1<<(l[t]&15),k=0;for(var R=0;R<a;R++)k=k<<8|l[t+1+R];return{V:k,gC:a+1}};
l_.parse.Onq=function(l,t){var a={};t+=6;a.qA=l[t];t++;a.O_A=l[t];t++;t+=4;a.q$=K.o(l,t);t+=4;t+=4;a.root=K.o(l,t);
t+=4;t+=4;a.Onc=K.o(l,t);t+=4;return a};l_.nq={OUg:function(l,t){return l[t]},KA:function(l,t){return l[t]<<8|l[t+1]},o:function(l,t){return l[t]<<24|l[t+1]<<16|l[t+2]<<8|l[t+3]},NU:function(l,t,a){var k="";
for(var R=0;R<a;R++)k+=String.fromCharCode(l[t+R]);return k}};var AS={parse:function(l){var t=new Uint8Array(l),a=AS.sw(t),k=[],R=new Uint8Array(t.length),u=[];
k.push(u);AS.Lh(t,a,1,R,u);for(var b=0;b<u.length;b++){var v=[];k.push(v);AS.Lh(t,a,u[b][3],R,v);u[b][3]=b+1}return k},Lh:function(l,t,a,k,R){a--;
var u=a*t.yK+(a==0?100:0),b=l[u],v=AS.KA(l,u+1);if(v!=0)throw"free block in a page";var H=AS.KA(l,u+3),N=AS.KA(l,u+5);
if(N==0)N=65536;var z=l[u+7],A=AS.KA(l,u+8);if(b==2||b==5)u+=4;else A=0;for(var Q=0;Q<H;Q++){var S=a*t.yK+AS.KA(l,u+8+2*Q),o=-1,p=0,O=0,E=0;
if(b==2||b==5){o=AS.o(l,S);S+=4}if(b==2||b==10||b==13){p=AS.AC(l,S);S+=p.gC}if(b==5||b==13){O=AS.AC(l,S);
S+=O.gC}if(b==5){AS.Lh(l,t,o,k,R);continue}var L=t.yK-(a==0?100:0),U=p.cI,W=b==13?L-35:Math.floor((L-12)*64/255)-23,Y=Math.floor((L-12)*32/255)-23,y=Y+(U-Y)%(L-4);
if(U<=W){AS.Ll(l,S,k,0,U)}else{var C=y<=W?y:Y,X=0;AS.Ll(l,S,k,0,C);X+=C;E=AS.o(l,S+C);while(E!=0){var M=(E-1)*t.yK;
E=AS.o(l,M);var g=Math.min(t.yK-4,U-X);AS.Ll(l,M+4,k,X,g);X+=g}}R.push(AS.OUr(k,U))}},OUr:function(l,t){var a=0,k=AS.AC(l,a);
a+=k.gC;var R=[],u=[];while(a<k.cI){var b=AS.AC(l,a);a+=b.gC;R.push(b.cI)}if(a!=k.cI)throw"e";for(var v=0;
v<R.length;v++){var b=R[v];if(!1){}else if(b==0)u.push(null);else if(b==1){u.push(AS.OEA(l,a));a+=1}else if(b==2){u.push(AS.De(l,a));
a+=2}else if(b==3){u.push(AS.OEO(l,a));a+=3}else if(b==4){u.push(AS.Gh(l,a));a+=4}else if(b==7){u.push(AS.OEi(l,a));
a+=16}else if(b==8)u.push(0);else if(b==9)u.push(1);else if(b>=12&&(b&1)==0){var H=b-13>>1,N=new Uint8Array(H);
AS.Ll(l,a,N,0,H);u.push(N);a+=H}else if(b>=13&&(b&1)==1){var H=b-12>>1;u.push(AS.Ei(l,a,H));a+=H}else throw"unknonw type "+b}return u},sw:function(l){if(!(l[18]==1&&l[19]==1&&l[20]==0&&l[21]==64&&l[22]==32&&l[23]==32))throw"unexpected SQL3 header";
var t={Wt:AS.NU(l,0,15),yK:AS.KA(l,16),OnC:AS.o(l,24),size:AS.o(l,28),Onv:AS.o(l,32),OnR:AS.o(l,36),OUS:AS.o(l,40),OUn:AS.o(l,44),OUm:AS.o(l,48),OUF:AS.o(l,52),Pc:AS.o(l,56),OUh:AS.o(l,60),OE$:AS.o(l,64)!=0,OEH:AS.o(l,68),OEe:AS.o(l,92),OEp:AS.o(l,96)};
if(t.yK==1)t.yK=65536;if(t.Pc!=1)throw"unsupported text encoding "+t.Pc;return t},OUf:function(l,t){return l[t]<<16|l[t+1]<<8|l[t+2]},OEO:function(l,t){var a=AS.OUf(l,t),k=a&8388608;
return k?-(16777215-a+1):a},OEA:function(l,t){AS.Rb[0]=l[t];return AS.OKz[0]},Gh:function(l,t){var a=AS.Rb;
for(var k=0;k<4;k++)a[k]=l[t+3-k];return AS.O_H[0]},De:function(l,t){var a=AS.Rb;a[0]=l[t+1];a[1]=l[t];
return AS.OKc[0]},KA:function(l,t){return l[t]<<8|l[t+1]},o:function(l,t){return l[t]<<24|l[t+1]<<16|l[t+2]<<8|l[t+3]},OEi:function(l,t){var a=AS.Rb;
for(var k=0;k<8;k++)a[k]=l[t+7-k];return AS.O_l[0]},AC:function(l,t){var a=t,k=0;while(!0){var R=l[t];
t++;k=k*128+(R&127);if(R<128)break}return{cI:k,gC:t-a}},NU:function(l,t,a){var k="";for(var R=0;R<a;
R++)k+=String.fromCharCode(l[t+R]);return k},Ei:function(l,t,a){var k="";for(var R=0;R<a;R++)k+="%"+AS.OEJ(l[t+R].toString(16));
return decodeURIComponent(k)},Ll:function(l,t,a,k,R){if(l[t+R-1]==null||a[k+R-1]==null){console.log(t,k,R);
throw"e"}for(var u=0;u<R;u++)a[k+u]=l[t+u]},OEJ:function(l){return l.length<2?"0"+l:l}};AS.Rb=new Uint8Array(8);
AS.OKz=new Int8Array(AS.Rb.buffer);AS.OKc=new Int16Array(AS.Rb.buffer);AS.O_H=new Int32Array(AS.Rb.buffer);
AS.O_l=new Float64Array(AS.Rb.buffer);var OK={};OK.parse=function(l,t,a){var k=OK.GP(l,t,a),R=[0,0,{}],u=0,b=[],v=0,N=0,z=0,A=0;
for(var H=0;H<100;H++)R.push(0,0,0);while(k[t]==32||k[t]==10)t++;t++;while(k[t]==32||k[t]==10)t++;while(t<a&&-1<u){N=R[u];
z=R[u+1];if(N==0){if(z==0){t++;R[u+1]=1;u+=3;R[u]=3;R[u+1]=0;R[u+2]=0;continue}else if(z==1){b[v++]=R[u+5];
t++;R[u+1]=2;u+=3;R[u]=2;R[u+1]=0;R[u+2]=0}else if(z==2){var Q=b[--v],S=R[u+5];R[u+2][Q]=S;if(k[t]==125){t++;
u-=3}else{t++;R[u+1]=0}}}else if(N==1){if(z==0){R[u+1]=1;u+=3;R[u]=2;R[u+1]=0;R[u+2]=0;continue}else if(z==1){var S=R[u+5];
R[u+2].push(S);if(k[t]==93){t++;u-=3}else{t++;R[u+1]=0}}}else if(N==2){if(z==0){A=k[t];if(A==123){t++;
if(k[t]==125){t++;R[u+2]={};u-=3}else{R[u+1]=1;u+=3;R[u]=0;R[u+1]=0;R[u+2]={}}}else if(A==91){t++;if(k[t]==93){t++;
R[u+2]=[];u-=3}else{R[u+1]=1;u+=3;R[u]=1;R[u+1]=0;R[u+2]=[]}}else if(A==34){t++;if(k[t]==34){t++;R[u+2]="";
u-=3}else{R[u+1]=1;u+=3;R[u]=3;R[u+1]=0;R[u+2]="";continue}}else if(A==102){t+=5;R[u+2]=!1;u-=3}else if(A==116){t+=4;
R[u+2]=!0;u-=3}else if(A==110){t+=4;R[u+2]=null;u-=3}else{var o="";while(48<=A&&A<=57||A==46||A==101||A==69||A==43||A==45){o+=String.fromCharCode(A);
A=k[++t]}R[u+2]=parseFloat(o);u-=3}}else if(z==1){R[u+2]=R[u+5];u-=3;continue}}else if(N==3){var p=[];
while(!0){A=k[t];t++;if(A==34)break;else if(A==92){A=k[t];t++;if(A==34||A==47||A==92)p.push(String.fromCharCode(A));
else if(A==110)p.push("\n");else if(A==114)p.push("\r");else if(A==116)p.push("\t");else if(A==117){throw"e"}}else p.push(String.fromCharCode(A))}R[u+2]=p.join("");
u-=3}while(k[t]==32||k[t]==10)t++}return R[2]};OK.OlN=function(l,t,a){var k="";for(var R=t;R<t+a;R++)k+=String.fromCharCode(l[R]);
return k};OK.GP=function(l,t,a){var k=[],R=0,u=0;a+=t;while(t<a){R=l[t++];if((R&128)==0)u=R;else if((R&224)==192){u=(R&31)<<6;
R=l[t++];u|=R&63}else if((R&240)==224){u=(R&15)<<12;R=l[t++];u|=(R&63)<<6;R=l[t++];u|=R&63}else if((R&248)==240){u=(R&7)<<18;
R=l[t++];u|=(R&63)<<12;R=l[t++];u|=(R&63)<<6;R=l[t++];u|=R&63}else throw"e";k.push(u)}return k};OK.Gz=window.TextDecoder?new window.TextDecoder:null;
OK.Ei=function(l,t,a){if(t==null)t=0;if(a==null)a=l.length;if(OK.Gz&&t==0&&a==l.length)return OK.Gz.decode(l);
var k=OK.GP(l,t,a),R=k.length;for(var u=0;u<R;u++)k[u]=String.fromCharCode(k[u]);return k.join("")};
OK.JA=function(l,t,a){var k=l.length,R=0;for(var u=0;u<k;u++){var b=l.charCodeAt(u);if((b&4294967295-(1<<7)+1)==0){t[a+R]=b;
R++}else if((b&4294967295-(1<<11)+1)==0){t[a+R]=192|b>>6;t[a+R+1]=128|b>>0&63;R+=2}else if((b&4294967295-(1<<16)+1)==0){t[a+R]=224|b>>12;
t[a+R+1]=128|b>>6&63;t[a+R+2]=128|b>>0&63;R+=3}else if((b&4294967295-(1<<21)+1)==0){t[a+R]=240|b>>18;
t[a+R+1]=128|b>>12&63;t[a+R+2]=128|b>>6&63;t[a+R+3]=128|b>>0&63;R+=4}else throw"e"}return R};function Hi(l,t,a){this.jZ=l;
this.sp=t;this.O_r=a;this.kg=0;this.ia=-1;this.it=0;this.KC=[];this.WC=null;this.kz=null;this.Wh=null;
this.P$=null;this.Wv=null}Hi.prototype.StartPage=function(l,t,a,k){this.kz=[l,t,a,k];var R=this.sp.bd();
l=Math.round(l*R);t=Math.round(t*R);a=Math.round(a*R);k=Math.round(k*R);var u=this.jZ,b=this.Wh;u.$+=Math.round(a-l);
u.e=Math.max(u.e,Math.round(k-t));this.sp.wf=this.O_r?k:-t;if(b){var v=b[2]-b[0]+30;this.sp.Pu+=v;this.kg+=v;
u.$+=30}else this.sp.Pu=-l;this.Wh=[l,t,a,k];u.Q.push(u.LA())};Hi.prototype.GU=function(){var l=this.jZ,t=l.Q[l.Q.length-1];
return t};Hi.prototype.GF=function(){var l=JSON.parse(JSON.stringify(P.BF.default));l.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
l.strokeEnabled.v=!1;l.fillEnabled.v=!1;return l};Hi.prototype.Gj=function(){var l=this.jZ,t=l.Ow();
t.wy("Path "+l.Q.length);this.jZ.Q.push(t);t.Ck|=16;t.add.SoCo={classID:"null",Clr:{t:"Objc",v:$.C.br({D:0,K:0,l:0})}};
t.add.vmsk=new _.rv;t.add.vstk=this.GF();return t};Hi.prototype.Jl=function(l){var t={p:l.crds,A:l.cmds},a=$.M.il(t,!1);
$.r.CH(a,this.sp);return a};Hi.Ji=function(l,t){for(var a=0;a<l.length;a++)if(l[a].mZ!=null)l[a].mZ=t};
Hi.O_o=function(l){return Math.sqrt(Math.abs(l[0]*l[3]-l[1]*l[2]))};Hi.El=function(l){return $.C.br({D:l[0]*255,K:l[1]*255,l:l[2]*255})};
Hi.$A=function(l){return new WM(l[0],l[1],l[2],l[3],l[4],l[5])};Hi.prototype.Stroke=function(l){if(this.ia!=-1&&this.ia!=this.it)return;
if(l.pth.cmds.length<=1)return;var t=this.Jl(l.pth);if(t.length<=2)return;this.$r(l);Hi.Ji(t,-1);t[2].mZ=1;
var a=Hi.El(l.COLR),k=this.GU(),R=this.GF();R.strokeEnabled.v=!0;R.strokeStyleMiterLimit.v=l.mlimit;
R.strokeStyleLineDashSet.v=WD.pQ(l.dash,1/l.lwidth);R.strokeStyleLineDashOffset.v.val=l.doff;R.strokeStyleLineJoinType.v.strokeStyleLineJoinType=P.BF.join[l.ljoin];
R.strokeStyleLineCapType.v.strokeStyleLineCapType=P.BF.Rc[l.lcap];R.strokeStyleLineWidth.v.val=Math.max(.4,l.lwidth*Hi.O_o(l.ctm));
R.strokeStyleContent.v.Clr.v=a;var u=k!=null&&k.add.vmsk!=null&&!k.PA(),b=u&&!k.add.vstk.strokeEnabled.v&&_.rv.Ozx(k.add.vmsk.k,t,!0),v=u&&!k.add.vstk.fillEnabled.v&&JSON.stringify(R)==JSON.stringify(k.add.vstk);
if(v){Hi.Ji(t,-1);k.add.vmsk.k=k.add.vmsk.k.concat(t.slice(2))}else if(b){k.add.vstk=R;R.fillEnabled.v=!0}else{k=this.Gj();
k.add.vmsk.k=t;k.add.vstk=R}};Hi.prototype.Fill=function(l,t){if(this.ia!=-1&&this.ia!=this.it)return;
if(l.ca==0)return;var a=l.pth.cmds;if(a.length==0)return;if(a.length==2&&JSON.stringify(a)=="[\"M\",\"L\"]")return;
var k=$.M._f(l.cpth.crds),R=$.M._f(l.pth.crds);if(R.gk(k).wp())return;var u=l.pth;if(this.P$==null&&UDOC.G.isBox(u,[R.x,R.y,R.x+R.$,R.y+R.e])&&R.rI(k)){u=l.cpth}else this.$r(l);
var b=this.Jl(u);Hi.Ji(b,t?0:-1);b[2].mZ=1;var v=$.M.Gf(R);$.M.N(v.p,this.sp,v.p);R=$.M._f(v.p);var H=Hi.GL(l.colr,this.sp,R),N=this.GU();
if(N!=null&&N.add.vstk!=null&&!N.add.vstk.strokeEnabled.v&&N.add.SoCo&&H.type=="SoFi"&&JSON.stringify(N.add.SoCo.Clr.v)==JSON.stringify(H.V.v.Clr.v)){var z=N.add.vmsk.k;
for(var A=2;A<b.length;A++)z.push(b[A])}else{N=this.Gj();delete N.add.SoCo;N.add.vmsk.k=_.rv.f_(b);Hi.lI(l.colr,N,this.sp,R);
Hi.aV(l,N)}};Hi.lI=function(l,t,a,k){var R=Hi.GL(l,a,k),u=null,b=null;t.add.vstk.fillEnabled.v=!0;if(R.type=="SoFi"){u="SoCo";
b=P.uk}if(R.type=="GrFl"){u="GdFl";b=P.RP}if(R.type=="patternFill"){u="PtFl";b=P.Ry}if(u!=null){t.add[u]={classID:"null"};
for(var v=0;v<b.length;v++){var H=b[v];t.add[u][H]=R.V.v[H]}}};Hi.prototype.$r=function(l){var t=this.jZ,a=l.cpth,k=a.cmds.join(""),R=a.crds,u=k+" "+R.join(","),b=UDOC.G.isBox(a,this.kz);
if(b&&this.P$==null)return;if(u==this.P$)return;if(this.P$!=null){t.Q.push(this.Wv);this.P$=null}if(!b){this.P$=u;
t.Q.push(t.LA());var v=t.Ow();v.wy("Mask");v.add.lsct=Oz.G_;v.wk="pass";v.Ck=24;var H=v.add.vmsk=new _.rv;
H.k=this.Jl(l.cpth);this.Wv=v}};Hi.GL=function(l,t,a){var k,R;if(l.length!=null){k="SoFi";var u=JSON.parse(P.Oh[P.order.indexOf("SoFi")]);
R={t:"Objc",v:u};R.v.Clr.v=Hi.El(l)}else{var b=Hi.Or$(l,t,a);k="GrFl";R={t:"Objc",v:b}}return{type:k,V:R}};
Hi.Or$=function(l,t,a){var k=JSON.parse(P.Oh[P.order.indexOf("GrFl")]),R=k.Grad.v;R.Intr.v=0;var u=Hi.$A(l.mat);
u.concat(t);var b=new x(0,0),v=new x(a.$,0),H=l.crds;if(l.typ=="rad"){k.Type.v.GrdT="Rdl";b.x=H[0];b.y=H[1];
v.x=b.x;v.y=b.y;v.x+=H[5]}else{k.Type.v.GrdT="Lnr";b.x=H[0];b.y=H[1];v.x=H[2];v.y=H[3];b.x=v.x+.5*(b.x-v.x);
b.y=v.y+.5*(b.y-v.y)}b=u.sV(b);v=u.sV(v);$.C.ax(b,v,a,k);var N=l.grad;$.C.ha(N,R);return k};Hi.prototype.PutText=function(l,t,a){if(this.ia!=-1&&this.ia!=this.it)return;
if(t.length==0||t.length==1&&t.charCodeAt(0)==0)return;this.$r(l);var k=this.jZ,R=l.font,u=Hi.$A(l.ctm),z=null;
u.concat(this.sp);var b=Hi.$A(R.Tm);b.concat(u);var v=s.b.bd(b),H=new WM(1/v,0,0,-1/v,0,0);H.concat(b);
var N=R.Tfs*v;if(R.Th!=100||R.Trise!=0){console.log(R)}var A=k.Q.length-1;while(A>=0&&k.Q[A].add.TySh==null)A--;
if(A>=0&&k.Q[A].add.TySh){var Q=k.Q[A],S=Q.add.TySh.N,o=S.w==H.w&&S.l==H.l&&S.Mn==H.Mn&&S.N_==H.N_&&Math.abs(S.wf-H.wf)==0&&Math.abs(S.Pu+this.KC[A]-H.Pu)<N*.3;
if(o){z=Q;this.KC[A]=H.Pu-S.Pu}}if(z==null){A=k.Q.length;this.KC[A]=0;z=k.Ow();k.Q.push(z);z.add.lnsr="rend";
z.add.TySh=Wz.AK(0,0);z.add.TySh.N=H}this.KC[A]+=a*N;var p=z.add.TySh.dH,O=Wz.NS(p),E=O.length-1,L=E+t.length;
Wz.dW(p,E,t);if(this.WC==null)this.WC=Wz.SG(p,E,E);var U=this.WC;U.Zl.FontSize=Math.round(N);U.Zl.Tracking=Math.round(R.Tc*100);
U.Zl.Underline=R.Tun==1;U.Zl.FillColor={Type:1,Values:[1,l.colr[0],l.colr[1],l.colr[2]]};if(R.Tal!=0)U.SP.Justification=R.Tal;
var W=R.Tf,Y={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT"};
if(Y[W])W=Y[W];Wz.FO(U,W);Wz.Hf(p,E,L-1,U);z.yx()};Hi.prototype.PutImage=function(l,t,a,k,R,u,b){if(this.ia!=-1&&this.ia!=this.it)return;
this.$r(l);var v=Hi.$A(l.ctm);v.concat(this.sp);var H=new WM(1/a,0,0,-1/k,0,1);H.concat(v);v=H;t=Hi.ag(t,a,k);
if(R)R=Hi.ag(R,a,k);if(R==null){if(t.length==a*k*4)t=new Uint8Array(Wr.PNG.Sn([[t.buffer,0]],a,k))}else{t=this.ab(t,a,k,u,!1);
R=this.ab(R,a,k,b,!0);var N=$.I(a*k);$.Du(R,N,0);$.xm(N,t,3);t=new Uint8Array(Wr.PNG.Sn([[t.buffer,0]],a,k))}var z=this.jZ,A=z.mV(t,"Bitmap",0,0),Q=A.rect.clone();
Q.x=Q.y=0;var S=$.M.Gf(Q).p;$.M.N(S,v,S);A.add.SoLd.Trnf=s.b.tW(S);A.add.SoLd.nonAffineTransform=s.b.tW(S);
A.Gk(z,!1);Hi.aV(l,A);z.Q.push(A)};Hi.aV=function(l,t){t.opacity=Math.round(255*l.ca);var a=Hi.JU[l.bmode];
if(a==null)console.log("Unknown blend mode",a);else t.wk=a};Hi.JU={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
Hi.ag=function(l,t,a){var k=Wr.Xv(l.buffer);if(k=="jpg")l=new Uint8Array(Wr.JPG.Okj(l.buffer));if(k==null&&l.length!=t*a*4){var R=new Uint8Array(t*a*4),u=new Uint8Array(Math.ceil(t*a/8));
UTIF.decode._decodeG4(l,0,l.length,u,0,t,1);for(var b=0;b<t*a;b++){var v=b*4,H=(u[b>>3]>>7-(b&7)&1)*255;
R[v]=H;R[v+1]=H;R[v+2]=H;R[v+3]=255}l=R}return l};Hi.prototype.ab=function(l,t,a,k,R){if(l.length!=t*a*4){var u=Wr.Xv(l.buffer),b=Wr.Dz(u);
l=new Uint8Array(b.cq(l,k,R)[0].data)}return l};Hi.prototype.ShowPage=function(){var l=this.jZ;this.it++;
var t=this.Wh;if(this.P$!=null){l.Q.push(this.Wv);this.P$=null}var a=l.Ow();l.Q.push(a);a.fP(new d(Math.round(this.kg),0,Math.round(t[2]-t[0]),Math.round(t[3]-t[1])));
a.wy("Page "+this.it);a.add.lsct=Oz.G_;a.wk="pass";a.Ck=24};Hi.prototype.Print=function(l){console.log("Print:",l)};
Hi.prototype.Done=function(){var l=this.jZ;if(this.it==1)l.Q[l.Q.length-1].add.lsct=Oz.ON;l.kC(this.it);
for(var t=0;t<l.Q.length;t++){var a=l.Q[t],k=a.add.vmsk;a.GH();a.cR(l)}l.y$=!0;l.buffer=$.I(l.$*l.e*4)};
var WI={};WI.DF=function(l,t,a){var k=l.add.artd?l.root.children:[l.root],R=new d(0,0,l.$,l.e);for(var u=0;
u<k.length;u++){var b=k[u],v=l.add.artd?b.u.rM():R;a.StartPage(0,0,v.$,v.e);var H=UDOC.getState([[0,0,v.$,v.e]]),N=new WM;
N.translate(-v.x,-v.y-v.e);N.scale(1,-1);if(t[0]){var z=l.FY();if(!R.cG(v)){z=$.I(v.s()*4);$.BM(l.FY(),R,z,v)}var A=new WM;
A.translate(v.x,v.y);WI.aT(H,a,z,v,A,N)}else WI.aj(l,b,H,a,N,t);a.ShowPage()}a.Done()};WI.am=function(l){l=$.C.BL(l);
return[l.D/255,l.K/255,l.l/255]};WI.aj=function(l,t,a,k,R,u){var b=t.u,v=b.add.lsct,H=b.add.lmfx,N=b.add.vmsk,z=b.add.vstk,A=b.add.TySh;
if(!b.jY())return;var Q=b.opacity/255,S=b.add.iOpa?b.add.iOpa/255:1;for(var o in Hi.JU)if(Hi.JU[o]==b.wk)a.bmode=o;
a.ca=a.CA=Q*S;if(b.PA()){for(var p=0;p<t.children.length;p++)WI.aj(l,t.children[p],a,k,R,u)}else if(N){var O=N.k,E=$.r.uf(O),L=$.M.FQ(O),U=!1,W=!1,Y=!1;
$.M.N(L.p,R,L.p);a.pth={cmds:L.A,crds:L.p};if(z.fillEnabled.v){var y=WD.pa(H),C=y[0],X=y[1];if(C==null)C=b.add.SoCo;
if(X==null)X=b.add.GdFl;if(C&&X==null){a.colr=WI.am(C.Clr.v)}else if(X){var M=X,g=[],n,V=M.Type.v.GrdT=="Rdl"?"rad":"lin",i=$.C.ad(M,E),f=R.sV(i[0]),r=R.sV(i[1]);
if(V=="rad")n=[f.x,f.y,0,f.x,f.y,x.tq(f,r)];else{f.$x(r.x+(f.x-r.x)*2,r.y+(f.y-r.y)*2);n=[f.x,f.y,r.x,r.y]}var e=M.Grad.v.Clrs.v;
for(var p=0;p<e.length;p++){var D=e[p].v;g.push([D.Lctn.v/4096,WI.am(D.Clr.v)])}a.colr={typ:V,mat:[1,0,0,1,0,0],grad:g,crds:n}}U=!0}var B=WD.pu(H);
if(!z.strokeEnabled.v&&B)z=B;if(z.strokeEnabled.v){var h=z.strokeStyleContent.v,I=z.strokeStyleLineDashSet.v,j=P.BF.mt.indexOf(z.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(h.Clr==null)return;var c=$.C.BL(h.Clr.v);a.COLR=[c.D/255,c.K/255,c.l/255];a.lwidth=z.strokeStyleLineWidth.v.val*(j==2?2:1);
a.mlimit=z.strokeStyleMiterLimit.v;a.doff=z.strokeStyleLineDashOffset.v.val;a.ljoin=P.BF.join.indexOf(z.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
a.lcap=P.BF.Rc.indexOf(z.strokeStyleLineCapType.v.strokeStyleLineCapType);a.dash=[];for(var p=0;p<I.length;
p++)a.dash.push(I[p].v.val*a.lwidth);if(a.dash.length==1&&a.dash[0]==0)a.dash=[];W=!0;if(j==2)Y=!0}if(U&&!Y)k.Fill(a);
if(W)k.Stroke(a);if(U&&Y)k.Fill(a)}else if(A&&u[1]==!1){var m=A.dH,F=A.N.clone(),G=new WM(1,0,0,-1,0,0),Or=0,Wu=0;
if(Wz.Hj(m)==0){var q=Wz.SG(m,0,0).SP.Justification,W_=b.rect.$/F.bd();if(q==1)G.Pu-=W_;if(q==2)G.Pu-=W_/2}G.concat(F);
G.concat(R);var WU=Wz.NS(m),Wd=m.EngineDict.ParagraphRun,WZ=Wd.RunArray,WL=Wd.RunLengthArray,Wj=b.add.lmfx;
if(Wj)Wj=Wj.frameFXMulti.v[0];if(Wj)Wj=Wj.v;for(var p=0;p<WZ.length;p++){var WE=[],Wf=WL[p],WS=WU.slice(Or,Or+Wf-1);
if(WS=="")continue;var Wx=Wz.SG(m,Or+WS.length-1,Or+WS.length-1),c=Wz.BL(Wx.Zl);a.colr=[c.D/255,c.K/255,c.l/255];
var WQ=Wx.kj[Wx.Zl.Font].Name;a.font.Tf=WQ;a.font.Tfs=Math.round(Wx.Zl.FontSize);var WJ=Wx.Zl.FontSize*1.12;
if(p==0)WJ=Wz.Hj(m)==0?0:Wx.Zl.FontSize;Wu+=WJ;var Ww=new WM;Ww.translate(0,-Wu);Ww.concat(G);a.ctm=[Ww.w,Ww.l,Ww.Mn,Ww.N_,Ww.Pu,Ww.wf];
if(Wx.Zl.FontCaps==2)WS=WS.toUpperCase();k.PutText(a,WS,0);a.ctm=[1,0,0,1,0,0];Or+=Wf}}else if(!b.rect.wp()){var Wv,Oi,Wc=new WM;
if(b.add.SoLd){var Wh=b.add.SoLd,Om=Wh.Idnt.v,WN=l.bF(Om,Wh.Crop?Wh.Crop.v:null),OP="";if(WN==null)return;
var WR=WN.bb,Wp=Wr.Xv(WN.raw.buffer);if(u[2].indexOf(Wp)!=-1)Wv=WN.raw;else Wv=WR[0];Oi=WR[1];Wc=$.U.Ez(Wh)}else{Wv=b.buffer;
Oi=b.rect;Wc.translate(Oi.x,Oi.y)}var Hz=H;if(Hz)Hz=Hz.solidFillMulti.v[0];if(Hz)Hz=Hz.v;if(Hz&&Hz.enab.v){var HP=Wv;
Wv=Wv.slice(0);var OW=HO.Rr[HO.Ar.indexOf(Hz.Md.v.BlnM)],WX=$.C.BL(Hz.Clr.v),Az=4278190080|Math.round(WX.l)<<16|Math.round(WX.K)<<8|Math.round(WX.D),c=$.I(Oi.s()*4);
$.IK(c,Az);$.j.bz(OW,c,Oi,Wv,Oi,Oi,Hz.Opct.v.val/100);for(var p=0;p<Wv.length;p+=4)Wv[p+3]=HP[p+3]}WI.aT(a,k,Wv,Oi,Wc,R)}};
WI.aT=function(l,t,a,k,R,u){var b=new WM;b.scale(k.$,-k.e);b.translate(0,k.e);b.concat(R);b.concat(u);
l.ctm=[b.w,b.l,b.Mn,b.N_,b.Pu,b.wf];t.PutImage(l,a,k.$,k.e);l.ctm=[1,0,0,1,0,0]};var Oc={};Oc.sj=function(l,t){var a=new Uint8Array(l);
return Oc.Jm(a,0,t)};Oc.Jm=function(l,t,a){var k=K.Rx,R=K.NU,u={_G:R(l,t,4),n:t+8,size:k(l,t+4)};if(a&&a[u.size]!=null)u.size=a[u.size];
if(u._G=="RIFF"||u._G=="LIST"){u.bt=R(l,t+8,4)}if(u.size<0||u.n+u.size>l.length)throw"e";if(u._G=="RIFF"||u._G=="LIST"&&(u.bt!="cmpr"&&u.bt!="stlt")){u.sub=[];
t+=12;var b=u.n+u.size;while(t<b){var v=Oc.Jm(l,t,a);u.sub.push(v);t+=8+v.size+(v.size&1)}}return u};
function OU(){}OU.sj=function(l,t){var a=new Uint8Array(l);t.y$=!0;var k=K.NU(a,0,2);if(k=="WL"){alert("Unsupported CDR version")}else{var R=OU.Jj,u=Oc.sj(a.buffer),b={data:a,n:0,j$:OU.OAn(a[11])};
b.WN=b.j$<600?16:32;OU.Ju(b,u.sub,t,0);var v=R(u,"cmpr").sub,H=v[0],N=v.slice(1),z=R(H,"mcfg").V,A=z.O_Y,Q=Math.round(A.x*300),S=Math.round(A.y*300);
t.$=Q;t.e=S;var o=R(H,"filt").sub,p=R(H,"otlt").sub;H.HW={};for(var O=0;O<o.length;O++)H.HW[o[O].sub[0].V.id]=o[O].sub[0].V;
H.HH={};for(var O=0;O<p.length;O++)H.HH[p[O].V.id]=p[O].V;var E=new WM(300,0,0,-300,A.x*150,A.y*150),L=N[1];
OU.lg(L,H,t,E);t.kC(1);t.Q[t.Q.length-1].fP(new d(0,0,Q,S))}};OU.Jj=function(l,t){var a=null;for(var k=0;
k<l.sub.length;k++){var R=l.sub[k];if(R._G==t||R.bt==t)a=R}return a};OU.lg=function(l,t,a,k){var R=OU.Jj,u=l.bt?l.bt:l._G,b=R(l,"lgob"),v=R(l,"txsm"),H,N;
if(b){H=R(b,"trfl");N=R(b,"loda")}var z=H?H.sub[0].sg.clone():new WM;z.concat(k);var A=a.Ow();if(u=="page"||u=="layr"||u=="grp "){A.wy((u=="page"?"Page":"Group")+" "+a.Q.length);
A.add.lsct=Oz.ON;A.wk="pass";A.Ck=24;var Q=[];if(u=="page")Q=R(l,"gobj").sub;if(u=="layr")Q=l.sub.slice(2);
if(u=="grp ")Q=l.sub.slice(4);if(Q.length==0)return;a.Q.push(a.LA());for(var S=Q.length-1;S>=0;S--)OU.lg(Q[S],t,a,k)}else if(u=="obj "&&N.V&&N.V.path){A.wy("Object "+a.Q.length);
var o=t.HW[N.V.O_y],p=t.HH[N.V.O_w],O=A.getName(),E=o&&o.type!=0,L=E&&o.V!=null?o.V:[0,0,0];A.Ck|=16;
A.add.vstk=JSON.parse(JSON.stringify(P.BF.default));var U=A.add.vstk;U.strokeEnabled.v=!1;A.add.vmsk=new _.rv;
if(p&&p.OrA!=1){U.strokeEnabled.v=!0;U.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
U.strokeStyleLineWidth.v.val=p.lineWidth*300;var W=p.color;U.strokeStyleContent.v.Clr.v=$.C.br({D:W[0]*255,K:W[1]*255,l:W[2]*255})}var Y=N.V.path;
A.add.vmsk.k=$.M.il(Y,!1);$.r.CH(A.add.vmsk.k,z);Hi.lI(L,A,z,$.r.uf(A.add.vmsk.k));U.fillEnabled.v=E;
A.GH();A.cR(a)}else if(u=="obj "&&v){var y=N.V.OrH,M="";A.add.TySh=Wz.AK(0,0);var C=z.bd();A.add.TySh.N.translate(z.Pu,z.wf);
var X=A.add.TySh.dH,g=v.V.kF;for(var S=0;S<g.length;S++){var n=g[S],V=M.length;M+=n.text+"\n";Wz.dW(X,V,n.text+"\n");
var i=OU.OVC(n.Orl,t),f=Wz.SG(X,V,M.length);if(i.align==3)f.SP.Justification=1;else f.SP.Justification=0;
var r=i.fill.V;f.Zl.FillColor={Type:1,Values:[1,r[0],r[1],r[2]]};f.Zl.FontSize=Math.round(i.OVP.fontSize*z.bd());
Wz.Hf(X,V,M.length-1,f)}Wz.fb(X,1);Wz.$I(X,[0,0,Math.round(y.x*z.w),Math.round(-y.y*z.N_)]);A.wy(M.slice(0,10))}else{A=null}if(A)a.Q.push(A)};
OU.OVC=function(l,t){var a=OU.Jj(t,"stlt").V,k=JSON.parse(JSON.stringify(a._t[l]));if(k.Hg!=0){var R=a._t[k.Hg];
for(var u in R)if(k[u]==null||k[u]==0)k[u]=R[u];delete k.Hg}k.align=a.OVb[k.OVE];k.fill=t.HW[a.OVm[k.bl]];
k.OEB=t.HH[a.OVG[k.bS]];k.OVP=a.bK[k.OVe];return k};OU.OVh=function(l){var t=l.data[l.n];l.n+=1;return t};
OU.lk=function(l){var t=K.zV(l.data,l.n);l.n+=2;return t};OU.lE=function(l){var t=K.Rx(l.data,l.n);l.n+=4;
return t};OU.$L=function(l){var t=K.OOg(l.data,l.n);l.n+=2;return t};OU.$c=function(l){var t=K.Of(l.data,l.n);
l.n+=4;return t};OU.CR=function(l){var t=K.OOy(l.data,l.n);l.n+=8;return t};OU.aa=function(l){var t=0;
while(l.data[l.n+t]!=0)t++;var a=K.NU(l.data,l.n,t);l.n+=t+1;return a};OU.OOV=function(l){if(l.j$<600)return Math.PI*OU.$L(l)/1800;
return Math.PI*OU.$c(l)/18e7};OU.OOH=function(l){if(l.j$<1500)return OU.lm(l);else return OU.CR(l)/254e3};
OU.lm=function(l){if(l.j$<600)return OU.$L(l)/1e3;else return OU.$c(l)/254e3};OU.OOI=function(l){if(l.j$<600)return CRDParser.lk(l);
else return OU.lE(l)};OU.OOh=function(l){if(l.j$<600)return CRDParser.$L(l);else return OU.$c(l)};OU.Ju=function(l,t,a,k){var R=OU,u=R.OVh,b=R.lk,v=R.lE,H=R.$L,N=R.$c,z=R.CR,A=R.lm,Q=R.OOH,S=R.OOV,o=R.OOI,p=R.OOh;
for(var O=0;O<t.length;O++){var E=l.j$,L=t[O];l.n=L.n+(L._G=="LIST"?4:0);if(L._G=="vrsn"){var U=b(l);
l.j$=U;console.log("Version",U);l.WN=U<600?16:32}else if(L._G=="DISP"){}else if(L._G=="LIST"&&L.bt=="cmpr"){var W=v(l),Y=v(l),y=v(l),C=v(l),X=new Uint8Array(l.data.buffer,l.n+8+2,W-6-8),M=pako.inflateRaw(X),i=0;
l.n+=W;X=new Uint8Array(l.data.buffer,l.n+8+2);var g=pako.inflateRaw(X),n=[];for(var V=0;V<g.length;
V+=4)n.push(K.Rx(g,V));L.sub=[];while(i<M.length){var f=Oc.Jm(M,i,n);i=f.n+f.size;L.sub.push(f)}var r={data:M,n:0,j$:E,WN:l.WN};
OU.Ju(r,L.sub,a,k+1)}else if(L._G=="LIST"&&L.bt=="stlt"){var e=l.n,Wj=32;L.V={};var D=v(l);if(D==0)return;
L.V.OVm=OU.JY(l,E>=1300);L.V.OVG=OU.JY(l);L.V.bK={};var B=v(l);for(var h=0;h<B;h++){var I=v(l);l.n+=E<1e3?12:20;
var j=b(l),c=b(l);l.n+=8;var m=A(l);l.n+=E<1e3?12:20;L.V.bK[I]={OVp:j,OEc:c,fontSize:m}}L.V.OVb=OU.JY(l);
var F=v(l);l.n+=52*F;var G=v(l);l.n+=152*G;var q=v(l);l.n+=784*q;var W_=v(l);for(var h=0;h<W_;h++){l.n+=40;
if(E>1300)l.n+=4;if(E>=1300){if(v(l))l.n+=68;else l.n+=12}else{l.n+=20;if(E>=1e3)l.n+=8;if(v(l))l.n+=8;
l.n+=8}}var WU=v(l);L.V.OOk={};for(var h=0;h<WU;h++){var Wd=v(l),WZ={};l.n+=12;WZ.right=A(l);WZ.OKH=A(l);
WZ.left=A(l);L.V.OOk[Wd]=WZ}var WL=v(l);if(E>=1300)Wj+=4;l.n+=Wj*WL;var Or=v(l);l.n+=28*Or;if(E>800){var Wu=v(l);
l.n+=12*Wu}L.V._t={};for(var h=0;h<D;h++){var WE=v(l),Wf=v(l),WS={};WS.Hg=v(l);l.n+=8;var Wx=v(l);if(E>=1200)Wx*=2;
l.n+=Wx;WS.bl=v(l);WS.bS=v(l);if(WE>1){WS.OVe=v(l);WS.OVE=v(l);WS.OKI=v(l);WS.OKP=v(l);if(E>800)WS.OKm=v(l)}if(WE>2){WS.OKj=v(l);
WS.OKT=v(l);WS.OKa=v(l);WS.OKw=v(l);WS.O_U=v(l)}L.V._t[Wf]=WS}}else if(L._G=="LIST")OU.Ju(l,L.sub,a,k+1);
else if(L._G=="txsm"){L.V={};if(E<600)throw"e";if(E<700)throw"e";if(E>=1600)throw"e";if(E>=1500)l.n+=37;
else l.n+=36;if(v(l)){if(E<800)l.n+=32}if(E<800)l.n+=4;L.V.O_d=v(l);L.V.kF=[];l.n+=48;if(E>=800){if(v(l)){l.n+=32;
if(E>=1300)l.n+=8}}if(E>=1500)l.n+=12;var WE=v(l),WQ=1;if(!WE){if(E>=800)l.n+=4;if(E>800)l.n+=2;if(E>=1400)l.n+=2;
l.n+=24;if(E<800)l.n+=8;WQ=v(l)}for(var V=0;V<WQ;V++){var WJ=v(l),h=0;if(E>=1300&&WE)l.n++;l.n++;var D=v(l),Ww=[];
for(h=0;h<D;h++){var Wv=u(l),Wc=0;u(l);var Oi=u(l);if(E>=800)Wc=u(l);var WS={};if(Oi&1){WS.OVp=b(l);
var Wh=b(l);if(Wh)WS.O_m=Wh}if(Oi&2)l.n+=4;if(Oi&4)WS.O_F=A(l);if(Oi&8)l.n+=4;if(Oi&16)l.n+=4;if(Oi&32)l.n+=4;
if(Oi&64){WS.bl=v(l);if(E>=1500)l.n+=48}if(Oi&128){WS.bS=v(l)}if(Wc&8){if(E>=1300){var Om=v(l);l.n+=Om*2}else l.n+=4}if(Wc&32){var WN=u(l);
if(WN)l.n+=52}if(Wv==2)if(E>=1300)l.n+=48;Ww.push(WS)}var WR=v(l),Wp=[];for(h=0;h<WR;h++){var OP=0;if(E>=1200)OP=readU64(l)&4294967295;
else OP=v(l);Wp[h]=OP>>16|OP&1}var Hz=WR;if(E>=1200)Hz=v(l);var HP=OU.aa(l);L.V.kF.push({Orl:WJ,text:HP,_t:Ww})}}else if(L._G=="font"){var OW=b(l),WX=b(l);
l.n+=14;var Az=OU.aa(l);L.V={id:OW,O_G:WX,name:Az}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(L._G)!=-1){}else if(L._G=="flgs")L.V=v(l);
else if(L._G=="bbox"){var Hg=A(l),Hm=A(l),HB=A(l),Ow=A(l);L.V=new d(Hg,Hm,HB-Hg,Ow-Hm)}else if(L._G=="fild"){var HH=v(l),Hk=0,O_;
if(E>=1300){l.n+=4;Hk=b(l);l.n+=2}var Hl=b(l);if(Hl==0){}else if(Hl==1){l.n+=E>=1300?13:2;O_=OU._q(l)}else if(Hl==2){l.n+=E>=1300?8:2;
var Hj=u(l),Hf=0;if(E>=1300){l.n+=17;Hf=H(l)}else if(E>=600){l.n+=19;Hf=N(l)}else{l.n+=11;Hf=H(l)}var HF=S(l),$$=.5+p(l),Og=.5+p(l)-.5;
if(E>=600)l.n+=2;var Hy=o(l)&255,HS=u(l)/100;l.n++;var AV=o(l)&65535;if(E>=1300)l.n+=3;var HT=[];for(var h=0;
h<AV;h++){var Oe=OU._q(l);if(E>=1300){if(Hk==158||E>=1600&&Hk==150)l.n+=26;else l.n+=5}var Hs=o(l)/100;
if(E>=1300)l.n+=3;HT.push([Hs,Oe])}O_={typ:Hj==1?"lin":"rad",crds:[$$-Math.cos(HF)/2,Og-Math.sin(HF)/2,$$,Og],grad:HT,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",Hl);
L.V={id:HH,type:Hl,V:O_}}else if(L._G=="outl"){var Ht=v(l);if(E>=1300){var HK=0,Ox=0;while(HK!=1){l.n+=Ox;
HK=v(l);Ox=v(l)}}var $O=b(l),HI=b(l),HE=b(l);if(E<1300&&E>=600)l.n+=2;var Al=A(l),ON=b(l)/100;if(E>=600)l.n+=2;
var AD=S(l);if(E>=1300)l.n+=46;else if(E>=600)l.n+=52;var O_=OU._q(l,Ht==270963208||Ht==276198e3,Ht);
L.V={id:Ht,OrA:$O,O_B:HI,O_h:HE,lineWidth:Al,color:O_}}else if(L._G=="mcfg"){if(1300<=E)l.n+=12;else if(900<=E)l.n+=4;
else if(600<=E&&E<700)l.n+=28;var AU=0,Hu=0;if(E<400)throw"e";else{AU=A(l);Hu=A(l)}L.V={O_Y:new x(AU,Hu)}}else if(L._G=="loda"){var e=l.n,On=o(l),AH=o(l),$R=o(l),Hp=o(l),$i=o(l),Ha=[],$Q=[];
l.n=e+$R;for(var h=0;h<AH;h++)Ha[h]=o(l);l.n=e+Hp;for(var h=AH-1;h>=0;h--)$Q[h]=o(l);L.V={};for(var h=0;
h<AH;h++){l.n=e+Ha[h];var HQ=$Q[h];if(HQ==10)L.V.O_w=v(l);else if(HQ==20)L.V.O_y=v(l);else if(HQ==200)L.V.OrV=o(l);
else if(HQ==30){if(E<400)$i--;if($i==1){var Hg=Q(l),Hm=Q(l),Af=0,Ho=0,Aq=0,Hh=0;if(E<1500){Hh=Q(l);Aq=E<900?Hh:Q(l);
Ho=E<900?Hh:Q(l);Af=E<900?Hh:Q(l)}else throw"e";L.V.path=$.M.FQ($.r.Wa.Rect(0,0,Hg,Hm,Af))}else if($i==2){var WW=A(l),HW=A(l),Oq=S(l),$h=S(l),HC=Math.abs(WW),Wg=Math.abs(HW);
L.V.path=$.M.FQ($.r.Wa.ie(0,0,HC,-Wg))}else if($i==3){L.V.path=OU.OAP(l)}else if($i==6){L.V.OrH=OU.OOv(l)}else if($i==37){L.V.path=OU.OAi(l)}else console.log($i)}}}else if(L._G=="trfd"){var e=l.n,On=o(l),AH=o(l),$R=o(l);
l.n=e+$R;var Ha=[];for(var h=0;h<AH;h++)Ha[h]=o(l);for(var h=0;h<AH;h++){l.n=e+Ha[h];if(E>=1300)l.n+=8;
var OZ=b(l);if(OZ==8){var Ag,Ax,Hg,Aj,AM,Hm;if(E>=600)l.n+=6;if(E>=500){Ag=z(l);Ax=z(l);Hg=z(l)/(E<600?1e3:254e3);
Aj=z(l);AM=z(l);Hm=z(l)/(E<600?1e3:254e3)}else throw"e";L.sg=new WM(Ag,Aj,Ax,AM,Hg,Hm)}else console.log(OZ)}}else if(!1){console.log(L);
var ll=Math.min(L.size,32);console.log(K.OVY(data,L.n,ll));console.log(K.OOA(data,L.n,ll))}}};OU.JY=function(l,t){var a=OU.lE,k={},R=a(l);
for(var u=0;u<R;u++){var b=a(l);l.n+=4;var v=a(l);k[b]=v;if(t)l.n+=48}return k};OU.OOv=function(l){var t=OU,a=t.lm;
l.n+=4;var k=a(l),R=a(l);return new x(k,R)};OU.OAi=function(l){var t=OU,a=t.lE,k=t.lk,R=t.lm;l.n+=4;
var u=k(l)+k(l);l.n+=16;var b=OU.aY(l,u);return b};OU.OAP=function(l){var t=OU.lk(l);l.n+=2;return OU.aY(l,t)};
OU.aY=function(l,t){var a=OU,k=a.lm,R=l.j$<600?2:4,u=l.n,b={p:[],A:[]},v=0,H=0,N=0;for(var z=0;z<t;z++){var v=k(l),H=k(l),A=l.data[u+t*R*2+z];
if(!(A&64)&&!(A&128)){b.p.push(v,H);b.A.push("M");N+=2}else if(A&64&&!(A&128)){b.p.push(v,H);b.A.push("L");
N+=2}else if(!(A&64)&&A&128){b.p.push(v,H);b.A.push("C");N+=6}else if(A&64&&A&128){b.p.push(v,H)}}if(N!=b.p.length)throw"e";
return b};OU.OlR=function(l,t){var a=K.Rx;t+=8;var k=a(l,t);t+=4;var R=a(l,t);t+=4;t+=4*7;var u=t,b=$.I(k*R*4);
t+=1024;for(var v=0;v<R;v++)for(var H=0;H<k;H++){var N=v*k+H,z=(R-v-1)*k+H,A=l[t+N]<<2,Q=z<<2;b[Q+0]=l[u+A+2];
b[Q+1]=l[u+A+1];b[Q+2]=l[u+A+0];b[Q+3]=255}return{nr:b,rect:new d(0,0,k,R)}};OU.OAn=function(l){if(l==32)return 300;
else if(l<49)return 0;else if(l<58)return 100*(l-48);else if(l<65)return 0;return 100*(l-55)};OU._q=function(l,t,a){var k=OU.lk,R=OU.lE,u=l.j$,b=0,v=0;
if(u>=500){b=k(l);if(b==1&&u>=1300)b=25;if(b==25||b==30)throw"e";else if(b==14)throw"e";else{l.n+=6;
v=R(l)}}else throw"e";var H=[];if(b==2||b==17){var N=[v>>>0&255,v>>>8&255,v>>>16&255,v>>>24&255];if(b==2)for(var z=0;
z<4;z++)N[z]=Math.round(255*N[z]/100);for(var z=0;z<4;z++)N[z]/=255;H=UDOC.C.cmykToRgb(N)}else console.log("Unknown color model "+b,v,v.toString(16));
return H};var s={};s.Wc=function(l,t,a){this.name=l;this.id=t;if(a!=null)this.r$=a};s.Wc.prototype.kM=function(l,t,a,k,R){};
s.Wc.prototype.enable=function(l,t,a,k,R,u){var b=new Z(w.E.J,!0);b.data={T:w.h.gV,fR:"default"};t.t(b)};
s.Wc.prototype.disable=function(l,t,a,k){};s.Wc.prototype.yY=function(l,t,a,k,R){};s.Wc.prototype.JP=function(l,t,a,k,R){};
s.Wc.prototype.cV=function(l,t,a,k,R){};s.Wc.prototype.Jy=function(l,t,a,k,R){};s.Wc.prototype.Bd=function(l,t,a,k){};
s.Wc.prototype.qU=function(l,t,a,k){};s.Wc.prototype.Bm=function(l,t){};s.Wc.prototype.NB=function(l,t){};
s.Wc.prototype.fE=function(l,t,a,k,R){};s.Wc.prototype.gO=function(l,t){};s.Wc.prototype.rC=function(l){return!1};
s.Wc.prototype.ck=function(l){return!1};s.Wc.prototype.xI=function(){return!1};s.Wc.prototype.Jv=function(l,t){return!0};
s.Wc.prototype.$v=function(){return null};s.Wc.prototype.as=function(l,t,a){};s.Wc.prototype.aM=function(){return!1};
s.Wc.prototype.ap=function(l,t,a,k){};s.lM="0";s.qw="1";s.ac="2";s.aw="5";s.OAm="6";s.OAq="7";s.Rz="8";
s.OWF="9";s.MQ="10";s.at="14";s.OHG="16";s.W$="18";s.WH="19";s.aC="20";s.cC="23";s.WU="24";s.Wd="27";
s._a="31";s.OHJ="34";s.OHo="35";s.le="36";s.lc="37";s.qE="38";s.av="39";s.uW="40";s.uH="41";s.OHy="42";
s.uP="43";s.E_="47";s.QV="51";s.OHB="52";s.OHc="54";s.OHC="55";s.OHh="56";s.OHv="57";s.OHN="58";s.Wu="59";
s.wQ="61";s.Yc="100";s.WJ="101";s.nP="230";s.OgH="231";s.nb="232";s.sO="233";s.Em="234";s.qK="235";s.WQ="236";
s.cD=function(l,t,a){s.Wc.call(this,l,t,a);this.MA={brush:l?WH.zA():null,bmode:"norm",opacity:1,flow:1,smth:0,wconf:{xX:10,xo:!0},algnd:!1,sfrom:0,expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.Ac=null;this.Rl=null;this.qH=null;this.Zn=null;this.GI=null;this.HI=null;this.Hi=null;this.TL=null;
this.jj=1;this.wr=!1;this.di=null;this.caller=null};s.cD.prototype=new s.Wc;s.cD.prototype.kM=function(l,t,a,k,R){if(l.T=="draw"){var u=l.OOU,b=this.MA.bmode;
this.EF(a);this.MA.bmode="norm";this.RS(a,"draw",l.OOf,u,u);this.MA.bmode=b;this.i(a,u);this.finish(a,u,l.ER)}};
s.cD.prototype.rC=function(l){if(J.oC.indexOf(l)!=-1)return!0;return!1};s.cD.prototype.Bd=function(l,t,a,k){var R=this.MA.brush,u=s.cD.QO(R,k);
if(u!=null){var b=new Z(w.E.J,!0);b.data={T:w.h.kn,wd:Wm.fr,_j:u};t.t(b)}if(!k.L(J.$K)&&k.oW()!=-1){var v=w.oa(Math.round(this.MA.opacity*100),k.oW())/100;
this.MA.opacity=v;var b=new Z(w.E.J,!0);b.data={T:w.h.kq,P:this.id,qi:{opacity:v}};t.t(b)}if(this.id==s.Rz&&k.L(J.Bl)!=this.wr&&l!=null){var H=this.MA.qsmode;
if(H==2)H=l.O==null?0:1;else H=2;this.QA(H,t);this.wr=k.L(J.Bl)}else this.wr=k.L(J.Bl);if(this.id==s.Wd||this.id==s.WH||this.id==s.aC||this.id==s.cC||this.id==s.WU){this.Wo(t,a,k)}};
s.cD.QO=function(l,t){var a=l.Brsh.v.Dmtr.v.val,k=l.Brsh.v.Hrdn!=null?l.Brsh.v.Hrdn.v.val:-1,R=a,u=k,b=t.L(J.hV);
if(t.L(J.oD)){if(b)k=25*Math.floor((k-1)/25);else{if(a>10)a=5*Math.floor((a-1)/5);else a--}}if(t.L(J.JW)){if(b)k=25*Math.ceil((k+1)/25);
else{if(a>9)a=5*Math.ceil((a+1)/5);else a++}}a=Math.max(1,a);k=Math.max(0,Math.min(100,k));if(u==-1)k=-1;
if(a!=R||k!=u){var v=JSON.parse(JSON.stringify(l));v.Brsh.v.Dmtr.v.val=a;if(u!=-1)v.Brsh.v.Hrdn.v.val=k;
return v}return null};s.cD.prototype.Wo=function(l,t,a){if(t.Dj.list.length==0)return;var k=Wy.pN(this.MA.brush,t.Dj.BN,this.jj),R=w.zh(k);
if((this.id==s.Wd||this.id==s.WH||this.id==s.cC||this.id==s.WU)&&a!=null&&a.L(J.Bl))R="crosshair";var u=new Z(w.E.J,!0);
u.data={T:w.h.gV,fR:R};if(l)l.t(u)};s.cD.prototype.enable=function(l,t,a,k){this.caller=t;var R=new Z(w.E.J,!0);
R.data={T:w.h.kn,wd:Wm.fr,_j:JSON.parse(JSON.stringify(this.MA.brush))};t.t(R);if(l&&l.Y.H!=0)this.jj=l.Y.H;
this.Wo(t,a,k)};s.cD.prototype.gO=function(l,t){if(t==Wm.fr){this.MA.brush=l.Dj.Kh;this.Wo(this.caller,l)}};
s.cD.prototype.fE=function(l,t,a,k,R){for(var u in l)this.MA[u]=l[u]};s.cD.prototype.EF=function(l,t){var a=l.Q[l._[0]],k=a.cA<=0?null:a.cA==1?a.c$():a.SS(l).Z;
this.TL=l.O==null?null:{rect:l.O.rect.clone(),channel:$.clone(l.O.channel)};this.GI=k?k.channel:a.buffer;
this.Zn=(k?k.rect:a.rect).clone();var R=new d(0,0,l.$,l.e),u=R.wm(this.Zn);if((this.We()||u.cG(this.Zn))&&t!=!0)this.GI=this.GI.slice(0);
else{if(k)k.extend(u);else a.extend(u)}this.HI=this.Zn;this.Hi=this.GI;if(a.cA<=0&&(this.id==s.Wd||this.id==s.WH)){var b=this.MA.sfrom;
if(b!=0){this.HI=new d(0,0,l.$,l.e);this.Hi=$.clone(l.FY(b==1?l._[0]:null))}}};s.cD.prototype.uK=function(l,t,a){if(l.L(J.Bl)){var k=new Z(w.E.q,!0);
k.P=s.at;k.data={T:"pickhere",OOo:a};t.t(k);return!0}return!1};s.cD.prototype.Ys=function(l,t,a,k,R,u){if(!l.JR()){this.Ac=null;
return}this.EF(l);var b=new d(0,0,l.$,l.e),v=null;if(u!=null){var H=l.Q[l._[0]],N=H.cA<=0?null:H.cA==1?H.c$():H.SS(l).Z;
v=$.I(b.s()*4);if(N)s.cD.qr(this.GI,this.Zn,N.color,v,b);else $.BM(this.GI,this.Zn,v,b)}if(this.Ac&&this.id==s.Rz&&this.MA.qsmode!=0){}else{var z=this.id==s.Rz?l.Q[l._[0]].rect:b;
this.Ac=new Wy(this.MA.brush,t.Dj.BN,t.Dj.FD,{Ai:R,Hb:u,OOp:this.MA.smth*50*w.m()/l.Y.H,Hn:this.id==s.WU},t.rq,t.WR,z,v)}if(this.id==s.Rz){this.Ac.eU(this.MA.brush,this.MA.qsmode==2?0:16777215)}var A=l.Y.KV(k.x,k.y);
A=s.Ya.TM(l,A,t);if(a.L(J.hV)&&this.Rl){this.Ac.moveTo(this.Rl.x,this.Rl.y,k.xy);this.Ac.lineTo(A.x,A.y,k.xy)}else this.Ac.moveTo(A.x,A.y,k.xy);
this.Rl=A;this.qH=new Ob(A)};s.cD.prototype.YN=function(l,t,a){if(l.Y.H!=0&&l.Y.H!=this.jj){this.jj=l.Y.H;
this.Wo(this.caller,a)}};s.cD.prototype.ss=function(l,t,a,k){if(this.Ac==null)return;var R=l.Q[l._[0]],u=l.Y.KV(k.x,k.y);
u=s.Ya.TM(l,u,t);var b=this.qH.ez(u,a);this.Ac.lineTo(b.x,b.y,k.xy);this.Rl=b};s.cD.prototype.qU=function(l,t,a,k){if(this.id!=s.Rz||l==null)return;
if(l.O==null||l._[0]!=this.OAI){this.OAI=l._[0];this.QA(0,t)}};s.cD.prototype.i=function(l,t){if(t==null){t=this.Ac.pv();
if(this.We())t=t.gk(this.Zn)}if(t.wp())return;var a=l.Q[l._[0]];if(a.cA<=0){a.i(t)}if(a.cA==1){a.c$().wU=!0;
a.cR(l)}if(a.cA==3){a.i()}l.i(l.root.pS(t,l,l._[0]))};s.cD.prototype.cV=function(l,t,a,k,R){if(this.Ac==null)return;
this.Ac.finish();if(this.id!=s.W$)this.Yr(l);if(this.id==s.Rz){var u=l.O;l.O=this.TL;var b=new Z(w.E.q,!0);
b.data={T:"setsel",ER:this.name,O:u};b.P=s.qw;t.t(b);if(this.MA.qsmode==0)this.QA(1,t)}else{this.finish(l,this.Ac.eT());
this.Ac=null}this.dir=0};s.cD.prototype.QA=function(l,t){if(l==this.MA.qsmode)return;this.MA.qsmode=l;
var a=new Z(w.E.J,!0);a.data={T:w.h.kq,P:this.id,qi:{qsmode:l}};t.t(a)};s.cD.prototype.We=function(){var l=this.id;
return l==s.Rz||l==s._a||l==s.av||l==s.uW||l==s.uH};s.cD.prototype.finish=function(l,t,a){var k=l.Q[l._[0]],R=k.cA<=0?null:k.cA==1?k.c$():k.SS(l).Z,u=R?R.rect:k.rect,H,N;
if(this.We()||!u.cG(this.Zn)){if(R==null){if(this.We())k.$e();else{var b=t.wm(this.Zn),v=$.I(b.s()*4);
$.BM(k.buffer,k.rect,v,b);k.buffer=v;k.rect=b}}else R.$e();this.i(l,u)}if(k.cA<=0){H=$.I(t.s()*4);$.BM(this.GI,this.Zn,H,t);
N=$.I(t.s()*4);$.BM(k.buffer,k.rect,N,t)}else{H=$.I(t.s());$.set(H,R.color);$.co(this.GI,this.Zn,H,t);
N=$.I(t.s());$.set(N,R.color);$.co(R.channel,R.rect,N,t)}var z=new Wt(a?a:this.name,this);z.data={T:"putbrush",u:l._[0],CK:k.cA,xc:t,HD:H,Hv:N};
l.KO(z)};s.cD.prototype.NB=function(l,t){this.uj(l,t,l.HD,l.OAS)};s.cD.prototype.Bm=function(l,t){this.uj(l,t,l.Hv,l.OAE)};
s.cD.prototype.uj=function(l,t,a,k){var R=t.Q[l.u];if(l.T=="putbrush"){if(l.CK<=0){R.extend(l.xc);$.BM(a,l.xc,R.buffer,R.rect);
R.$e()}if(l.CK==1||l.CK==3){var u=l.CK==1?R.c$():R.SS(t).Z;$.co(a,l.xc,u.channel,u.rect);if(l.CK==1){R.c$().wU=!0;
R.cR(t)}}}if(l.T=="drawtemp"){R.Sb.M_=k;R.fi(t,0,0,t.O)}R.i();t.i()};s.cD.prototype.Yr=function(l){this.RS(l,this.di,this.Ac.xK(),this.Ac.Sa(),this.Ac.pv());
this.i(l)};s.cD.prototype.RS=function(l,t,a,k,R){var u=this.MA,b=l.Q[l._[0]],v=b.cA<=0?null:b.cA==1?b.c$():b.SS(l).Z,H=$.I(R.s()*4);
if(v==null){$.BM(this.GI,this.Zn,H,R)}else{s.cD.qr(this.GI,this.Zn,v.color,H,R)}if(l.O&&t!="qselect"){var N=R.gk(l.O.rect),z=$.I(N.s()*4);
$.BM(a,k,z,N);$.$t(l.O.channel,l.O.rect,z,N);a=z;k=N}if(t=="draw")$.j.bz(u.bmode,a,k,H,R,R,u.opacity);
if(t=="erase"){var A=$.I(R.s()*4);$.BM(a,k,A,R);if(v==null){var Q=$.I(R.s());$.Du(A,Q,3);$.tP(Q,u.opacity);
$.sI(Q);$.$t(Q,R,H,R)}else{$.IK(A,0,4278190080);$.j.bz("norm",A,R,H,R,R,u.opacity)}}if(t=="clone"||t=="heal"){var S=this.Ww(),o=this.HI.clone();
o.offset(S.x,S.y);var p=R.clone();p.RK(1,1);var O=$.I(p.s()*4),E=$.I(p.s());$.BM(a,k,O,p);$.Du(O,E,3);
$.IK(O,0);if(v==null){$.BM(this.Hi,o,O,p);var L=$.I(p.s());$.Du(O,L,3);$.tb(L,E)}else s.cD.qr(this.GI,o,v.color,O,p);
if(t=="clone"){$.xm(E,O,3);$.j.bz(u.bmode,O,p,H,R,R,u.opacity)}if(t=="heal"){var U=$.clone(E);$.round(U,20);
var W=$.I(p.s()*4);$.BM(this.GI,this.Zn,W,p);$.j.wq(O,p,W,p,U,p,0,p,1,!1);$.uY.hw(W,U,p);$.j.wq(W,p,H,R,E,p,0,R,1,!1)}}if(t=="dodge"||t=="burn"){var O=$.I(R.s()*4),C=1,X=0,M=0,g=0;
$.BM(a,k,O,R);var Y=R.s()*4,y=s.cD.QH;if(this.wr){if(t=="dodge")t="burn";else t="dodge"}var n=u.rng;
if(t=="dodge"){X=[1-C/2,1,1+C][n];M=[1,1/(1+C),1][n];g=[C/2,0,0][n]}if(t=="burn"){X=[1/(1-C/2),1,1-C/2][n];
M=[1,1+C,1][n];g=[-(C/2)/(1-C/2),0,0][n]}for(var V=0;V<Y;V+=4){var i=O[V+3];H[V+0]=y(H[V+0],X,M,g,i);
H[V+1]=y(H[V+1],X,M,g,i);H[V+2]=y(H[V+2],X,M,g,i)}}if(t=="sponge"){var O=$.I(R.s()*4),E=$.I(R.s());$.BM(a,k,O,R);
$.Du(O,E,3);$.Ll(H,O);var f=u.smode;if(this.wr)f=1-f;var r=$.I(256);for(var V=0;V<256;V++)r[V]=V;var e=$.I(256);
$.set(e,127+[-50,23][f]);var D=$.I(256);$.set(D,127+[25,-5][f]);var B={type:"remapHSL",HN:r,JX:e,lV:D,lO:0,Kv:1,lW:0};
WT.fu(B,O,O,R);$.j.wq(O,R,H,R,E,R,0,R,1,!1)}if(t=="copy")$.BM(a,k,H,R);if(t=="sheal0"||t=="sheal1"||t=="sheal2"){var O=$.I(R.s()*4),E=$.I(R.s());
$.BM(a,k,O,R);$.Du(O,E,3);var h=[null,null,$.XI.hw][parseInt(t.charAt(5))];h(this.GI,this.Zn,E,H,R)}if(t=="qselect"){var I=this.MA.brush,j=this.MA.qsmode,c=Math.max(40,Math.round(I.Brsh.v.Dmtr.v.val*1.7)),p=R.clone();
p.RK(c,c);p=p.gk(this.Zn);var O=$.I(p.s()*4);$.BM(a,k,O,p);var E=$.I(p.s());for(var V=0;V<E.length;V++){var m=O[V<<2],F=O[(V<<2)+3];
E[V]=m==255&&F==255?255:m==0&&F==255?0:100}if(l.O==null)l.O={channel:$.I(0),rect:new d};$.extend(l.O,p);
var G=$.I(p.s());$.co(l.O.channel,l.O.rect,G,p);if(j==2){$.sI(E);$.sI(G)}$.BM(this.GI,this.Zn,O,p);var q=$.kw.kw(p,O,E);
$.SL.wm(G,q,q);if(j==2){$.sI(q)}$.co(q,p,l.O.channel,l.O.rect);l.fF=!0}if(v==null)$.BM(H,R,b.buffer,b.rect);
else s.cD.HO(H,R,v)};s.cD.Ww=function(){return null};s.cD.QH=function(l,t,a,k,R){var u=l*(1/255),b=k+t*Math.pow(u,a),v=Math.round(b*R+u*(255-R));
return Math.max(0,Math.min(255,v))};s.cD.qr=function(l,t,a,k,R){var u=$.I(R.s());$.set(u,a);$.co(l,t,u,R);
$.IK(k,4278190080);$.OIU(u,k)};s.cD.HO=function(l,t,a){var k=$.I(t.s());$.OW(l,k);$.co(k,t,a.channel,a.rect)};
s.CN=function(l,t,a){s.Wc.call(this,l,t,a);this.MA={ct:"front",cg:0,jH:{hL:0,x:3,y:2}};this.tG=new x(-1,-1);
this.cB=new x(-1,-1);this.qP="default";this.jT=!1;this._l=!1;this.wr=!1;this.qz=0;this.qf=0;this.qm=!1;
this.FP=null;this.Fk=null};s.CN.prototype=new s.Wc;s.CN.prototype.ck=function(l){return this.qm||l.bM&&this.id!=s.aw};
s.CN.prototype.wX=function(l,t,a){var k=new Z(t,!0);k.data=a;l.t(k)};s.CN.prototype.uG=function(l,t){var a=new Z(w.E.J,!0);
a.data={T:w.h.gV,fR:t};l.t(a)};s.CN.prototype.Sa=function(l,t,a){t=l.O==null||this.qz>1||this.qf>1?t:null;
var k=this.tG,R=this.cB;k.x=Math.round(k.x);k.y=Math.round(k.y);R.x=Math.round(R.x);R.y=Math.round(R.y);
if(a){k.x=Math.max(0,Math.min(l.$,k.x));k.y=Math.max(0,Math.min(l.e,k.y));R.x=Math.max(0,Math.min(l.$,R.x));
R.y=Math.max(0,Math.min(l.e,R.y))}var u=s._Z.LI(k,R,t,!0,this.MA.jH),b=u[0].x,v=u[0].y;return new d(b,v,u[1].x-b,u[1].y-v)};
s.CN.prototype.yY=function(l,t,a,k,R){this.jT=!1;this._l=k.L(J.hV);this.wr=k.L(J.Bl);this.qz=this._l?0:1;
this.qf=this.wr?0:1;this.tG=l.Y.KV(R.x,R.y);this.tG=s.Ya.TM(l,this.tG,a);if(this.uu(l,this.tG)){this.qm=!0;
this.FP=l.O.rect.clone();return}this.Yw(l,a,k,R);l.Y.js=new d};s.CN.prototype.uu=function(l,t){if(l.O&&this.MA.ct=="front")return $.km(t,l.O.channel,l.O.rect);
return!1};s.CN.prototype.JP=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);if(x.tq(this.tG,u)*l.Y.H>5)this.jT=!0;
if(k.L(J.Px)){if(this.Fk==null)this.Fk=new x(u.x-this.tG.x,u.y-this.tG.y);this.tG.x=u.x-this.Fk.x;this.tG.y=u.y-this.Fk.y}else this.Fk=null;
this.cB=u;if(!this.qm)this.cB=s.Ya.TM(l,this.cB,a);if(this.uu(l,this.cB))this.uG(t,"move");else this.uG(t,this.qP);
if(this.qm){var b=this.FP.clone();b.x+=this.cB.x-this.tG.x;b.y+=this.cB.y-this.tG.y;var v=s.Ya.gZ(l,b,a);
l.O.rect.x=Math.round(this.cB.x-this.tG.x+this.FP.x+v[0]);l.O.rect.y=Math.round(this.cB.y-this.tG.y+this.FP.y+v[1]);
l.fF=!0;s.Ya.g_(l,b,v);return}this.sJ(l,a,k,R);if(l.Y.js)l.Y.js=this.Sa(l,k)};s.CN.prototype.cV=function(l,t,a,k,R){l.Y.js=null;
this.cB=l.Y.KV(R.x,R.y);this.cB=s.Ya.TM(l,this.cB,a);if(this.qm){this.qm=!1;if(this.cB.cG(this.tG)&&this.uM()=="front"){var u=new Wt([7,1],this);
u.data={T:"changesel",TL:l.O,PX:null};l.KO(u);this.Bm(u.data,l);return}this.us(l,this.FP,l.O.rect.clone());
if(l!=null&&l.F.C_){l.F.C_=null;l.lD=!0}return}this.GW(l,a,k,R)};s.CN.prototype.us=function(l,t,a){var k=l.AA();
if(k!=null&&k.P==this&&k.data.T=="movesel"){}else{k=new Wt([7,7],this);k.data={T:"movesel",ng:t};l.KO(k)}k.data.qZ=a;
this.Bm(k.data,l)};s.CN.prototype.Bd=function(l,t,a,k){if(this.jT){if(this.qz==0&&!k.L(J.hV))this.qz++;
if(this.qz==1&&k.L(J.hV))this.qz++;if(this.qf==0&&!k.L(J.Bl))this.qf++;if(this.qf==1&&k.L(J.Bl))this.qf++}if(l.O!=null){var R=k.rF();
if(R.x!=0||R.y!=0){var u=l.O.rect.clone();u.x+=R.x;u.y+=R.y;this.us(l,l.O.rect.clone(),u)}}};s.CN.prototype.finish=function(l,t,a,k){var R=l.O,u=this.getSelection(l,t,a,k),N;
if(u&&this.MA.cg!=0){var b={rect:u.rect.clone(),channel:null},v=Math.round(this.MA.cg*2.6);b.rect.RK(v,v);
var H=$.I(b.rect.s());b.channel=$.I(b.rect.s());$.co(u.channel,u.rect,H,b.rect);$.blur.gW(H,b.channel,b.rect,this.MA.cg);
u=b}if(u!=null&&$.GQ(u.channel,0)){u=null}if(u==null){if(R==null)return;N=new Wt([7,1],this);N.data={T:"changesel",TL:R,PX:u}}else{if(R!=null)u=$.SL.vD(u,R,this.uM());
N=new Wt(this.name,this);N.data={T:"changesel",TL:R,PX:u}}l.KO(N);this.Bm(N.data,l);this.tG.$x(-1,-1);
this.cB.$x(-1,-1)};s.CN.prototype.uM=function(){var l=this.MA.ct;if(this._l)l="union";if(this.wr)l="difference";
if(this._l&&this.wr)l="intersection";return l};s.CN.prototype.getSelection=function(l,t,a,k){return null};
s.CN.prototype.Yw=function(l,t,a,k){};s.CN.prototype.sJ=function(l,t,a,k){};s.CN.prototype.GW=function(l,t,a,k){};
s.CN.prototype.NB=function(l,t){var a=l.T;if(a=="changesel")t.O=l.TL;if(a=="movesel")t.O.rect=l.ng;t.fF=!0};
s.CN.prototype.Bm=function(l,t){var a=l.T;if(a=="changesel")t.O=l.PX;if(a=="movesel")t.O.rect=l.qZ;t.fF=!0};
s.CN.prototype.fE=function(l){this.MA=l};s.CN.prototype.gA=function(l){var t=$.M.ju(l.p);if(t.wp())return null;
var a=w.X("canvas","");a.width=t.$;a.height=t.e;var k=a.getContext("2d");k.beginPath();k.translate(-t.x,-t.y);
Typr.U.pathToContext({cmds:l.A,crds:l.p},k);k.closePath();k.fill();var R=$.I(t.s()),u=k.getImageData(0,0,a.width,a.height);
$.Du(u.data,R,3);return{rect:t,channel:R}};s.HS=function(){s.cD.call(this,[10,18],s.le,"tools/blur");
this.di="copy"};s.HS.prototype=new s.cD;s.HS.prototype.yY=function(l,t,a,k,R){var u=k.L(J.Bl)?Wy.zG:Wy.le;
this.Ys(l,a,k,R,this.MA.strn,u);if(this.Ac==null)return;this.Yr(l)};s.HS.prototype.JP=function(l,t,a,k,R){if(this.Ac==null)return;
this.YN(l,t,a);if(!R.bM)return;this.ss(l,a,k,R);this.Yr(l)};s.HE=function(){s.cD.call(this,[10,0],s.cC,"tools/brush");
this.di="draw"};s.HE.prototype=new s.cD;s.HE.prototype.yY=function(l,t,a,k,R){if(this.uK(k,t,R))return;
this.Ys(l,a,k,R,this.MA.flow);if(this.Ac==null)return;this.Yr(l)};s.HE.prototype.JP=function(l,t,a,k,R){if(this.Ac==null)return;
this.YN(l,t,a);if(!R.bM)return;this.ss(l,a,k,R);this.Yr(l)};s.H_=function(){s.cD.call(this,[10,38],s.WU,"tools/pencil");
this.di="draw"};s.H_.prototype=new s.cD;s.H_.prototype.yY=function(l,t,a,k,R){if(this.uK(k,t,R))return;
this.Ys(l,a,k,R,this.MA.flow);if(this.Ac==null)return;this.Yr(l)};s.H_.prototype.JP=function(l,t,a,k,R){if(this.Ac==null)return;
this.YN(l,t,a);if(!R.bM)return;this.ss(l,a,k,R);this.Yr(l)};s.Hm=function(){s.cD.call(this,[10,22],s.uW,"tools/burn");
this.di="burn"};s.Hm.prototype=new s.cD;s.Hm.prototype.yY=function(l,t,a,k,R){this.Ys(l,a,k,R,this.MA.expo/Math.E);
if(this.Ac==null)return;this.Yr(l)};s.Hm.prototype.JP=function(l,t,a,k,R){if(this.Ac==null)return;this.YN(l,t,a);
if(!R.bM)return;this.ss(l,a,k,R);this.Yr(l)};s.Eu=function(){s.cD.call(this,[10,1],s.Wd,"tools/clone");
this.di="clone";this.Fb=null;this.Cd=null;this.n=null;this.b_=0};s.Eu.prototype=new s.cD;s.Eu.prototype.yY=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);
this.Fb=u;if(k.L(J.Bl)||k.L(J.oT)){this.Cd=l.Y.KV(R.x,R.y);this.n=null;return}if(this.Cd==null){if(Date.now()-this.b_>1e3){alert(Wq.get([15,7,0]));
this.b_=Date.now()}return}this.Ys(l,a,k,R,this.MA.flow);if(this.Ac==null)return;if(this.n==null||!this.MA.algnd)this.n=new x(Math.round(u.x-this.Cd.x),Math.round(u.y-this.Cd.y));
this.Yr(l)};s.Eu.prototype.JP=function(l,t,a,k,R){if(this.Ac==null)return;this.YN(l,t,a);if(!R.bM||this.Cd==null)return;
this.ss(l,a,k,R);this.Yr(l)};s.Eu.prototype.Ww=function(){return this.n};s.Eu.prototype.disable=function(l,t,a,k){this.Cd=null;
this.n=null};s.L$=function(){s.Wc.call(this,[10,2],s.MQ,"tools/crop");this.qM={_E:{hL:0,x:0,y:0}};this.PG=null;
this.cursor=null;this.zH=0};s.L$.prototype=new s.Wc;s.L$.prototype.ck=function(l){return this.PG&&this.PG.Lr()};
s.L$.prototype.yY=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y),b=this.qM._E,v=b.hL==1?b.x/b.y:null;if(this.PG==null)this.PG=new lV(null,!0,!1,!1,!0,b.hL==1);
this.PG.yY(l,a,k,u,v)};s.L$.prototype.Wo=function(l){var t=new Z(w.E.J,!0);t.data={T:w.h.gV,fR:this.cursor};
l.t(t)};s.L$.prototype.enable=function(l,t,a,k){this.cursor="crosshair";this.Wo(t)};s.L$.prototype.JP=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);
if(!R.bM){var b="crosshair";if(this.PG&&this.PG.Er(u,l.Y.H))b=this.PG.Er(u,l.Y.H);else if(this.PG){if(this.PG._v(u))b="default";
else b="default"}if(b!=this.cursor){this.cursor=b;this.Wo(t)}}if(this.PG==null)return;this.PG.JP(l,a,k,u)};
s.L$.prototype.cV=function(l,t,a,k,R){if(this.PG==null)return;var u=l.Y.KV(R.x,R.y);this.PG.cV(l,a,k,u);
this.wX(t,w.E.J,{T:w.h.kq,P:this.id,li:!0});var b=this.PG.Mv();if(Math.abs(b[0]-b[4])<2||Math.abs(b[1]-b[5])<2){this.disable(l,t,null,k);
return}if(Date.now()-this.zH<200&&this.PG._v(u)){this.Rf(l,a);this.disable(l,t,a,k);return}this.zH=Date.now()};
s.L$.prototype.Bd=function(l,t,a,k){if(k.L(J.KX)){this.Rf(l,a);this.disable(l,t,a,k)}else if(k.L(J.ZR)){this.disable(l,t,a,k)}else if(this.PG)this.PG.Bd(l,a,k)};
s.L$.prototype.kM=function(l,t,a,k,R){var u,b=new d(0,0,a.$,a.e),v=[11,3],H=a.DS,N=a.$/2,z=a.e/2,A=!1;
if(l.T=="imgsize"){b=new d(0,0,l.qL,l.qB);if(l.TO)H=l.TO;A=l.TP==0}else if(l.T=="canvsize"){var Q=l.ye!=null?l.ye:0;
b=new d(0,0,l.qL,l.qB);var S=a.$-l.qL,o=a.e-l.qB,p=Math.round(S/2),O=Math.round(o/2);if(Q==1||Q==4||Q==7)b.x=p;
if(Q==2||Q==5||Q==8)b.x=S;if(Q==3||Q==4||Q==5)b.y=O;if(Q==6||Q==7||Q==8)b.y=o;if(l.n){b.x=l.n.x;b.y=l.n.y}}else if(l.T=="rot"&&l.V!=Math.PI){b=new d(N-a.e/2,z-a.$/2,a.e,a.$);
if((a.$+a.e&1)==1){N=Math.floor(N);z=Math.floor(z);b=new d(N-Math.floor(a.e/2),z-Math.floor(a.$/2),a.e,a.$);
if((a.$&1)==1&&l.V!=-Math.PI/2)b.y--;if((a.e&1)==1&&l.V==-Math.PI/2)b.x--}}else if(l.T=="trim"){v=[11,12];
var E=a.Q[a._[0]];b=$.Ge(E.buffer,E.rect);if(b.wp())b=E.rect.clone()}if(l.T=="imgsize"||l.T=="rot"||l.T=="scl"){var L=new WM;
if(l.T=="imgsize"){v=[11,10];L.scale(l.qL/a.$,l.qB/a.e)}else{L.translate(-N,-z);if(l.T=="rot")L.rotate(l.V);
if(l.T=="scl")L.scale(l.V.x,l.V.y);L.translate(N,z);v=l.ER}u=this.uL(a,R,L,A)}var U=new d(0,0,a.$,a.e);
if(!b.wp()&&(!b.cG(U)||u!=null)){var W=new Wt(v,this);W.data={ng:U,qZ:b,zB:a.DS,TO:H,yy:u,sg:L};a.KO(W);
this.Bm(W.data,a)}};s.L$.prototype.uL=function(l,t,a,k){var R={Q:[],rJ:null,lS:null};for(var u=0;u<l.Q.length;
u++)R.Q.push(u);R.rJ=s.b.gw(l,R.Q,!0);s.b.XZ(l,t,R.Q,R.rJ,k,$.U.tU(a),null,!0);R.lS=s.b.gw(l,R.Q,!0);
return R};s.L$.prototype.Bm=function(l,t){if(l.TO)t.DS=l.TO;if(l.yy){s.L$.uJ(t,l.sg);s.b.I$(t,l.yy.Q,l.yy.lS)}s.L$.gH(t,l.qZ)};
s.L$.prototype.NB=function(l,t){if(l.zB)t.DS=l.zB;var a=l.ng.clone();a.offset(-l.qZ.x,-l.qZ.y);s.L$.gH(t,a);
if(l.jp)t.Y.n.kE(l.jp);t.X_();if(l.yy){var k=l.sg.clone();k.sI();s.L$.uJ(t,k);s.b.I$(t,l.yy.Q,l.yy.rJ)}};
s.L$.uJ=function(l,t){for(var a=0;a<l.Q.length;a++){var k=l.Q[a];if(k.add.artb==null)continue;var R=$.M.Gf(k.rM()).p;
$.M.N(R,t,R);var u=$.M.ju(R);k.fP(u)}};s.L$.gH=function(l,t){l.$=t.$;l.e=t.e;var a=[];for(var k=0;k<l.Q.length;
k++)a.push(k);s.Ya.Ho(l,a,null,-t.x,-t.y);for(var k=0;k<l.Q.length;k++){l.Q[k].cR(l)}l.X_();l.Y.n.$x(0,0);
if(l.O)l.O.rect.offset(-t.x,-t.y)};s.L$.prototype.fE=function(l,t,a,k,R){if(l.cW=="commit"){this.Rf(a,R);
this.disable(a,t,null,k)}else if(l.cW=="cancel"){this.disable(a,t,null,k)}var u=null,b=this.qM._E;if(l.cW=="config"){this.qM=l.qM;
b=this.qM._E;if(a==null)return;u=new d(0,0,a.$,a.e);if(b.hL==1){var v=b.x/b.y;u.e=Math.round(u.$/v)}if(b.hL==2){u.$=b.x;
u.e=b.y}u.x=Math.round((a.$-u.$)/2);u.y=Math.round((a.e-u.e)/2)}if(l.cW=="cropby"){if(a==null)return;
var H=l.OAK,u;if(H==0)u=a.root.Sa(a,!0);if(H==1){var N=a.root.H$(a._[0]);u=N.Sa(a,!0)}if(H==2){var z=a.Q[a._[0]];
u=$.Ge(z.buffer,z.rect);if(u.wp())u=z.rect.clone();if(u.wp())u=null}if(H==3){if(a.O!=null)u=a.O.rect;
else alert("There is no selection.")}}if(u!=null){this.PG=new lV([u.x,u.y,u.x+u.$,u.y,u.x+u.$,u.y+u.e,u.x,u.y+u.e],!0,!1,!1,!0,b.hL==1);
this.PG.tL(a);this.wX(t,w.E.J,{T:w.h.kq,P:this.id,li:!0})}};s.L$.prototype.Rf=function(l,t){var a=new Wt(this.name,this),k=$.U.gd($.U.DY(this.PG.Mv())),R,u=Math.atan2(k.l,k.w);
if(u!=0){var b=new WM;b.translate(-k.Pu,-k.wf);b.rotate(u);b.translate(k.Pu,k.wf);R=this.uL(l,t,b,!1)}var v=this.OlW();
a.data={ng:new d(0,0,l.$,l.e),qZ:v,yy:R,sg:b,jp:l.Y.n.clone()};l.KO(a);this.Bm(a.data,l)};s.L$.prototype.OlW=function(){var l=$.U.gd($.U.DY(this.PG.Mv())),t=l.Pu,a=l.wf,k=Math.atan2(l.l,l.w);
l.rotate(k);var R=new d(t,a,l.w,l.N_);R.x=Math.round(R.x);R.y=Math.round(R.y);R.$=Math.round(R.$);R.e=Math.round(R.e);
if(R.$<0){R.x=R.x+R.$;R.$*=-1}if(R.e<0){R.y=R.y+R.e;R.e*=-1}return R};s.L$.prototype.disable=function(l,t,a,k){if(l==null)return;
if(this.PG)this.PG.clear(l);this.PG=null;this.wX(t,w.E.J,{T:w.h.kq,P:this.id,li:!1})};s.L$.prototype.wX=function(l,t,a,k){var R=new Z(t,!0);
R.data=a;if(k)R.P=k;l.t(R)};s.HF=function(){s.cD.call(this,[10,21],s.av,"tools/dodge");this.di="dodge"};
s.HF.prototype=new s.cD;s.HF.prototype.yY=function(l,t,a,k,R){this.Ys(l,a,k,R,this.MA.expo/Math.PI);
if(this.Ac==null)return;this.Yr(l)};s.HF.prototype.JP=function(l,t,a,k,R){if(this.Ac==null)return;this.YN(l,t,a);
if(!R.bM)return;this.ss(l,a,k,R);this.Yr(l)};s.qF=function(){s.cD.call(this,[10,3],s._a,"tools/eraser");
this.di="erase"};s.qF.prototype=new s.cD;s.qF.prototype.yY=function(l,t,a,k,R){this.Ys(l,a,k,R,this.MA.flow);
if(this.Ac==null)return;this.Yr(l)};s.qF.prototype.JP=function(l,t,a,k,R){if(this.Ac==null)return;this.YN(l,t,a);
if(!R.bM)return;var u=this.ss(l,a,k,R);this.Yr(l)};s.qF.prototype.kM=function(l,t,a,k,R){if(!a.JR())return;
var u=a.Q[a._[0]];if(l.T=="clear"){var b=a.O,A,Q;if(b==null)return;if(l.jw!=null)u=a.Q[l.jw];var v=u.cA<=0?null:u.cA==1?u.c$():u.SS(a).Z,H=u.cA<=0?u.rect:v.rect,N=u.cA<=0||v.color==0?b.rect.gk(H):b.rect;
if(N.wp())return;var z=N.s();if(u.cA<=0){A=$.I(z*4);Q=$.I(z*4);$.BM(u.buffer,u.rect,A,N);$.BM(u.buffer,u.rect,Q,N)}else{A=$.I(z);
Q=$.I(z);v.extend(N);$.co(v.channel,v.rect,A,N);$.co(v.channel,v.rect,Q,N)}if(u.iG(a,b)){if(u.cA<=0){$.IK(Q,0);
$.BM(u.Sb._Y,u.Sb.kd,Q,N)}else{$.set(Q,255);$.co(u.Sb._Y,u.Sb.kd,Q,N)}}else{if(u.cA<=0){var S=$.I(Q.length>>2);
$.Du(Q,S,3);$.j.lN($.kY(b.rect.s()),b.rect,S,N,b.channel,N,1);$.xm(S,Q,3)}else{var o=$.I(b.rect.s()),p=R.WR>>16&255,O=R.WR>>8&255,E=R.WR>>0&255;
$.set(o,Math.round($.RN(p,O,E)));$.j.lN(o,b.rect,Q,N,b.channel,N,1)}}var L=new Wt([2,2],this);L.data={T:"putbrush",u:a._[0],CK:u.cA,xc:N,HD:A,Hv:Q};
a.KO(L);this.Bm(L.data,a)}if(l.T=="stroke"){var U=l.OAD,b=a.O;if(b==null){b={rect:u.rect.clone(),channel:$.I(u.rect.s())};
$.Du(u.buffer,b.channel,3)}var W=WD.bo(U),Y=s.na.MZ(b,Math.ceil(W[0]),Math.ceil(W[1])),y=$.C.BL(U.Clr.v),p=Math.round(y.D),O=Math.round(y.K),E=Math.round(y.l);
this.uQ(a,u,Y,p,O,E,Math.round(255*U.Opct.v.val/100),HO.sU(U.Md.v.BlnM),[14,9])}if(l.T=="fill"){var y=[R.rq,R.WR,0,16777215][l.cH],p=y>>16&255,O=y>>8&255,E=y>>0&255;
this.uQ(a,u,a.O,p,O,E,255,"norm",[2,3])}if(l.T=="fillBMP"){this.uX(a,u,a.O,l.$G,l.EQ,l.ER)}if(l.T=="paste"){var C=l.qV,X=WK.hd.Lu(C,a);
this.EF(a,!0);this.RS(a,"draw",C.buffer,X,X);this.i(a,X);this.finish(a,X,"Paste")}};s.qF.prototype.uQ=function(l,t,a,k,R,u,b,v,H){var N=a==null?new d(0,0,l.$,l.e):a.rect,z=b<<24|u<<16|R<<8|k<<0,A=$.I(N.s()*4);
$.IK(A,z);this.uX(l,t,a,A,v,H)};s.qF.prototype.uX=function(l,t,a,k,R,u){var b=t.cA<=0?null:t.cA==1?t.c$():t.SS(l).Z,v=t.cA<=0?t.rect:b.rect,H=a==null?new d(0,0,l.$,l.e):a.rect,N=a==null?$.nL(l.$*l.e):a.channel,z=H.s(),A,Q,S=null;
if(t.cA<=0){A=$.I(z*4);Q=$.I(z*4);$.BM(t.buffer,t.rect,A,H);$.BM(t.buffer,t.rect,Q,H)}else{A=$.I(z);
Q=$.I(z);b.extend(H);$.co(b.channel,b.rect,A,H);$.co(b.channel,b.rect,Q,H)}if(a!=null)$.nM(N,k);if(t.cA>0){S=$.I(z);
$.OW(k,S)}if(t.iG(l,a)){var o=t.Sb.M_,p=$.clone(t.Sb.M_);if(t.cA<=0)$.Ll(k,p);else $.Ll(S,p);var O=new Wt([2,3],this);
O.data={T:"drawtemp",u:l._[0],CK:t.cA,OAS:o,OAE:p};l.KO(O);this.Bm(O.data,l)}else{if(t.cA<=0)$.j.bz(R,k,H,Q,H,H,1);
else $.j.lN(S,H,Q,H,N,H,1);var O=new Wt(u,this);O.data={T:"putbrush",u:l._[0],CK:t.cA,xc:H,HD:A,Hv:Q};
l.KO(O);this.Bm(O.data,l)}};s.RF=function(){s.CN.call(this,[10,4],s.ac,"tools/eselect");this.qP="crosshair"};
s.RF.prototype=new s.CN;s.RF.prototype.sJ=function(l,t,a,k){if(!k.bM||!this.jT)return;var R=this.Sa(l,a);
l.F.HU=s.RF.ue(R);l.lD=!0};s.RF.prototype.GW=function(l,t,a,k){l.F.HU=null;l.lD=!0;this.finish(l,t,a,k)};
s.RF.prototype.getSelection=function(l,t,a,k){if(this.tG.cG(this.cB)||!this.jT)return null;var R=this.Sa(l,a);
if(!R.Nf(new d(0,0,l.$,l.e)))return null;return this.gA(s.RF.ue(R))};s.RF.ue=function(l){var t=l.x,a=l.y,k=l.x+l.$,R=l.y+l.e,u=(t+k)/2,b=(a+R)/2,v=(t-k)/2,H=(a-R)/2,N=.5522848,z={p:[u,b-H],A:["M","C","C","C","C"]};
z.p.push(u+N*v,b-H,u+v,b-N*H,u+v,b);z.p.push(u+v,b+N*H,u+N*v,b+H,u,b+H);z.p.push(u-N*v,b+H,u-v,b+N*H,u-v,b);
z.p.push(u-v,b-N*H,u-N*v,b-H,u,b-H);return z};s.Fg=function(){s.Wc.call(this,[10,5],s.at,"tools/eyedropper");
this.bI=!1;this._L=1};s.Fg.prototype=new s.Wc;s.Fg.prototype.ck=function(l){return l.bM};s.Fg.prototype.kM=function(l,t,a,k,R){if(l.T=="pickhere")this.QS(a,t,R,k,l.OOo)};
s.Fg.prototype.yY=function(l,t,a,k,R){this.bI=!0;this.QS(l,t,a,k,R)};s.Fg.prototype.JP=function(l,t,a,k,R){if(this.bI)this.QS(l,t,a,k,R)};
s.Fg.prototype.cV=function(l,t,a,k,R){this.bI=!1};s.Fg.prototype.QS=function(l,t,a,k,R){var u=s.Fg.uo(l,R,this._L),b=new Z(w.E.J);
b.data={T:w.h.kn,wd:Wm.tJ,mk:0,V:u};t.t(b)};s.Fg.uo=function(l,t,a){var k=l.Y.KV(t.x,t.y),R=Math.floor(k.x),u=Math.floor(k.y),b=(a-1)/2,v=Math.max(0,R-b),H=Math.max(0,u-b),N=Math.min(l.$,R+b+1),z=Math.min(l.e,u+b+1),A=(N-v)*(z-H),Q=l.FY(),S=0,o=0,p=0;
for(var R=v;R<N;R++)for(var u=H;u<z;u++){var O=4*(u*l.$+R);S+=Q[O];o+=Q[O+1];p+=Q[O+2]}S=Math.round(S/A);
o=Math.round(o/A);p=Math.round(p/A);return S<<16|o<<8|p};s.Fg.prototype.fE=function(l){this._L=l._L};
s.xr=function(){s.Wc.call(this,[10,6],s.OHJ,"tools/gradient");this.MA={C:JSON.parse(P.Iz.Xo).v,style:"Lnr",reverse:!1,zR:"norm",opacity:1};
this._u=!1;this.Dx=null};s.xr.prototype=new s.Wc;s.xr.prototype.enable=function(l,t,a,k){var R=new Z(w.E.J,!0);
R.data={T:w.h.gV,fR:"default"};t.t(R)};s.xr.prototype.fE=function(l){this.MA=l.wd};s.xr.prototype.yY=function(l,t,a,k,R){if(!l.JR())return;
this.Dx=l.Y.KV(R.x,R.y);this.Dx=s.Ya.TM(l,this.Dx,a);this._u=!0};s.xr.prototype.JP=function(l,t,a,k,R){if(!this._u)return;
var u=l.Y.KV(R.x,R.y);u=s.Ya.TM(l,u,a);if(k.L(J.hV))u=s.xr.Qm(this.Dx,u);l.F.HU={p:[this.Dx.x,this.Dx.y,u.x,u.y],A:["M","L"]};
l.F.kp=[this.Dx.x,this.Dx.y,u.x,u.y];l.lD=!0};s.xr.prototype.cV=function(l,t,a,k,R){if(!this._u)return;
var u=l.Q[l._[0]],b=l.Y.KV(R.x,R.y);b=s.Ya.TM(l,b,a);if(k.L(J.hV))b=s.xr.Qm(this.Dx,b);var v=b.ux(this.Dx),H=x.uq(this.Dx,b,.5),N=Math.atan2(v.y,v.x),z=x.tq(this.Dx,b),A=Math.sin(N),Q=Math.cos(N);
if(z>2){var S;if(l.O)S=l.O.rect;else S=new d(0,0,l.$,l.e);var o=$.I(S.s()*4),p=this.MA.style;if(p!="Lnr"){z*=2;
H=this.Dx}$.C.Or(this.MA.C,o,S,[Q*1/z,A*1/z,-A*1/z,Q*1/z],H.x,H.y,this.MA.reverse,P.C.types.indexOf(p),a.rq,a.WR);
var O=Math.round(this.MA.opacity*256),E=o.length;if(O!=256)for(var L=0;L<E;L+=4)o[L+3]=o[L+3]*O>>>8;
var U=new Z(w.E.q);U.P=s._a;U.data={T:"fillBMP",$G:o,EQ:this.MA.zR,ER:this.name};t.t(U)}l.F.HU=null;
l.F.kp=[];l.lD=!0;this._u=!1};s.xr.Qm=function(l,t){if(l.cG(t))return l;var a=t.x-l.x,k=t.y-l.y,R=Math.abs(a),u=Math.abs(k);
if(R>u)u=R/2>u?0:R;if(u>R)R=u/2>R?0:u;R=a>0?R:-R;u=k>0?u:-u;var b=Math.sqrt(a*a+k*k)/Math.sqrt(R*R+u*u);
return new x(l.x+R*b,l.y+u*b)};s.xr.cT=function(l,t,a,k,R,u,b){if(b==null)b=w.X("canvas","");var v=b.getContext("2d");
b.width=t;b.height=a;var H=new d(0,0,t,a),N=$.I(t*a*4);$.O$(N,t,a,4,0,0);var z=Math.sin(k),A=Math.cos(k),Q=$.I(t*a*4);
$.C.Or(l,Q,H,[A*1/t,z*1/t,-z*1/a,A*1/a],t/2,a/2,!1,0,R,u);$.j.bz("norm",Q,H,N,H,H,1);var S=v.getImageData(0,0,t,a);
$.Ll(N,S.data);v.putImageData(S,0,0);return b.toDataURL()};s.xr.OlH=function(l,t,a){var k=JSON.parse(JSON.stringify(l));
for(var R=0;R<k.Clrs.v.length;R++){var u=k.Clrs.v[R].v,b=u.Type.v.Clry;if(b=="UsrS")continue;var v=b=="FrgC"?t:a;
u.Type.v.Clry="UsrS";u.Clr={t:"Objc",v:$.C.br({D:v>>16&255,K:v>>8&255,l:v&255})}}return k};s.qq=function(){s.Wc.call(this,[10,7],s.Wu,"tools/hand");
this.lP=new x(0,0);this.lU=new x(0,0)};s.qq.prototype=new s.Wc;s.qq.prototype.kM=function(l,t,a,k,R){var u=l.T;
if(u=="scroll"&&!k.L(J.Bl)){if(k.L(J.$K))this.QZ(a,a.Y.n.x-l.pl.y,a.Y.n.y-l.pl.x);else this.QZ(a,a.Y.n.x-l.pl.x,a.Y.n.y-l.pl.y)}};
s.qq.prototype.enable=function(l,t,a,k){var R=new Z(w.E.J,!0);R.data={T:w.h.gV,fR:"grab; cursor:-moz-grab; cursor:-webkit-grab;"};
t.t(R)};s.qq.prototype.yY=function(l,t,a,k,R){this.lU.kE(l.Y.n);this.lP.$x(R.x,R.y)};s.qq.prototype.JP=function(l,t,a,k,R){if(!R.bM)return;
this.QZ(l,this.lU.x+(R.x-this.lP.x),this.lU.y+(R.y-this.lP.y))};s.qq.prototype.QZ=function(l,t,a){var k=l.Y.H;
if(l.$*k<l.Y.cO.$&&l.e*k<l.Y.cO.e)l.Y.n.$x(0,0);else{l.Y.n.x=t;l.Y.n.y=a}l.da=!0};s.qT=function(){s.cD.call(this,[10,25],s.WH,"tools/hbrush");
this.di="clone";this.Fb=null;this.Cd=null;this.n=null};s.qT.prototype=new s.cD;s.qT.prototype.yY=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);
this.Fb=u;if(k.L(J.Bl)||k.L(J.oT)){this.Cd=l.Y.KV(R.x,R.y);this.n=null;return}if(this.Cd==null){alert(Wq.get([15,7,0]));
return}this.Ys(l,a,k,R,this.MA.flow);if(this.Ac==null)return;if(this.n==null||!this.MA.algnd)this.n=new x(Math.round(u.x-this.Cd.x),Math.round(u.y-this.Cd.y));
this.Yr(l,{n:this.n})};s.qT.prototype.JP=function(l,t,a,k,R){if(this.Ac==null)return;this.YN(l,t,a);
if(!R.bM||this.Cd==null)return;this.ss(l,a,k,R);this.Yr(l)};s.qT.prototype.cV=function(l,t,a,k,R){if(this.Ac==null)return;
this.RS(l,"heal",this.Ac.xK(),this.Ac.Sa(),this.Ac.Sa());this.i(l,this.Ac.Sa());s.cD.prototype.cV.call(this,l,t,a,k,R);
if(!this.MA.algnd)this.n=null};s.qT.prototype.Ww=function(){return this.n};s.qT.prototype.disable=function(l,t,a,k){this.Cd=null;
this.n=null};s.Rm=function(){s.Wc.call(this,[10,8],s.E_,"tools/htype");this.qg=[];this.NY=null;this.Xh=null;
this.caller=null;this.Si=0;this._J=0;this.St=null;this.Lz=null;this._Q=null;this.q_=null;this.qd=null;
this.Sv=null;this.pt=null;this.PG=null;this.zd=!1;this.qx=!1;this.YM=!1;this._o=null;this.zq=null;this.nx=null;
this.l_=!1;this.lr=!1;this.Cy=-1;this.bm=-1;this.mb=document.createElement("textarea");this.mb.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.mb.addEventListener("input",this.Oln.bind(this),!1);this.mb.addEventListener("keydown",this.OlE.bind(this),!1);
document.body.appendChild(this.mb)};s.Rm.prototype=new s.Wc;s.Rm.prototype.ck=function(l){return l.bM};
s.Rm.prototype.qU=function(l,t,a,k){if(this.Lz!=null)return;this.caller=t;this.NY=l;var R=this.uc(l);
if(R.length!=0){var u=null,b=[],v=[];for(var H=0;H<R.length;H++){var N=l.Q[R[H]],z=N.add.TySh,A=0,Q=Wz.NS(z.dH).length-2,S=Wz.SG(z.dH,A,Q);
Wz.BR(S,s.b.bd(z.N));if(S.Zl.Font!=null)S.Zl.Font=S.kj[S.Zl.Font].Name;u=S.kj;b.push(S.Zl);v.push(S.SP)}var S={kj:u,Zl:Wz.bL(b),SP:Wz.bL(v)};
if(S.Zl.Font)Wz.FO(S,S.Zl.Font);this.St=JSON.stringify(S);this.Yl(t,S)}};s.Rm.prototype.uc=function(l){var t=[];
for(var a=0;a<l._.length;a++)if(l.Q[l._[a]].add.TySh)t.push(l._[a]);return t};s.Rm.prototype.kM=function(l,t,a,k,R){if(this.Lz!=null){var u=this.lr;
if(l.T=="warp"||l.T=="warpCancel"){if(l.T=="warp")this.Lz.add.TySh.dj=l.Ha;else this.Lz.add.TySh.dj=this.Sv;
var a=this.NY;this.Rq(a,R);if(!u)this.RY(a);this.mb.focus()}if(l.T=="warpConfirm"){}if((l.T=="warpConfirm"||l.T=="warpCancel")&&u){this.lr=!1;
if(l.T=="warpConfirm")this.MX(a,t);else this.TR(a,t)}}if(l.T=="editCurr"){if(this.Lz!=null)this.disable(a,t,R,k);
this.NY=a;this.Xh=R;this.caller=t;this.HZ(a,t,R,[l.BY]);var b=Wz.NS(this.Lz.add.TySh.dH);this.Cy=0;this.bm=b.length-1;
this.RY(a);this.Qa();this.mb.focus()}if(l.T=="switchPntPrgr"){var v=a.Q[a._[0]],H=v.add.TySh,N=JSON.parse(JSON.stringify(H.dH)),z=Wz.Hj(N),A=z==1?Wz.WT(N):[0,0,v.rect.$+6,v.rect.e+6],Q=Wz.SG(N,0,1),S=[0,A[2],A[2]/2][Q.SP.Justification%3],o=Q.Zl.FontSize*.8;
Wz.fb(N,1-z);if(z==0){S=-S;o=-o;Wz.$I(N,[0,0,A[2],A[3]])}var p=new WM(1,0,0,1,S,o);p.concat(H.N);l={zs:a._[0],T:"newED",nD:N,N:p}}if(l.T=="newED"){var v=a.Q[l.zs],H=v.add.TySh,O=this.HT(a,[l.zs]);
H.dH=l.nD;if(l.N)H.N=l.N;var E=new HR(H.dH,R.jF),L=Hw.zM(E,H);v.rect=L.rect;v.buffer=L.nr;v.i();a.i();
var U=new Wt(this.name,this);U.data={Tu:O,lf:this.HT(a,[l.zs])};a.KO(U)}};s.Rm.prototype.rC=function(l){return this.qg.indexOf(l)!=-1};
s.Rm.prototype.enable=function(l,t,a,k){this.Wo(t)};s.Rm.prototype.xI=function(){return this.Lz!=null};
s.Rm.prototype.uw=function(l,t){for(var a=l.Q.length-1;a>=0;a--){var k=l.Q[a];if(k.add.TySh&&k.rect.ML(t)&&l.Xf(a)){var R=k.Mu(2)||k.Mu(31);
return R?-2:a}}return-1};s.Rm.prototype.yY=function(l,t,a,k,R){this.NY=l;this.Xh=a;this.caller=t;var u=l.Y.KV(R.x,R.y),b=this.Lz==null;
if(b){var v=this.uw(l,u);if(v==-2){alert(Wq.get([6,57,0]));return}if(v>=0)this.HZ(l,t,a,[v]);else{this.YM=!0;
this._o=R;return}}if(this.PG&&this.PG.yY(l,a,k,u)&&$.Ha.Hq(this.Lz.add.TySh.dj)||!b&&$.M.K_(u,this.Lz.rect)>20/l.Y.H&&Wz.Hj(this.Lz.add.TySh.dH)==0){this.zd=!0;
this.zq=u;this.nx=this.Lz.add.TySh.N.clone()}else{this.qx=!0;this.Cy=this.bm=this.YI(u);var H=Date.now();
if(H-this.Si>300)this._J=0;this._J++;this.Si=H;if(this._J==2){this.Oll();this.qx=!1}if(this._J==3){this.OlI();
this.qx=!1}}this.RY(l)};s.Rm.prototype.HZ=function(l,t,a,k){var R=l.Q[k[0]];this.Lz=R;this.wX(t,w.E.J,{T:w.h.kq,P:this.id,cW:"showactive"});
this._Q=k;l._=k.slice(0);l.pj();l.TS=!0;var u=R.add.TySh;this.qd=this.HT(l,k);if(Wz.Hj(u.dH)==1){var b=Wz.WT(u.dH);
b=new d(0,0,b[2]-b[0],b[3]-b[1]);var v=[b.x,b.y,b.x+b.$,b.y,b.x+b.$,b.y+b.e,b.x,b.y+b.e];$.M.N(v,u.N,v);
this.PG=new lV(v,!1,!1,!1,!0)}this.Rq(l,a)};s.Rm.prototype.Oll=function(){var l=Wz.NS(this.Lz.add.TySh.dH);
this.Cy=this.uh(l,this.Cy);this.bm=this.uv(l,this.Cy)};s.Rm.prototype.uh=function(l,t){var a=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",k=[];
for(var R=0;R<a.length;R++)k.push(a.charAt(R));var u=k.indexOf(l[t])==-1?!0:!1;for(var R=t-1;R>=0;R--)if(k.indexOf(l.charAt(R))!=-1==u)return R+1;
return 0};s.Rm.prototype.uv=function(l,t){var a=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",k=[];for(var R=0;
R<a.length;R++)k.push(a.charAt(R));var u=k.indexOf(l[t])==-1?!0:!1;for(var R=t+1;R<l.length;R++)if(k.indexOf(l.charAt(R))!=-1==u)return R;
return l.length-1};s.Rm.prototype.OlI=function(){var l=this.q_.OEr(this.Cy);this.Cy=l[0];this.bm=l[1]};
s.Rm.prototype.Wo=function(l){var t=new Z(w.E.J,!0);t.data={T:w.h.gV,fR:this.pt};l.t(t)};s.Rm.prototype.JP=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y),b=this.Lz;
if(!R.bM){var v="default";if(this.PG&&$.Ha.Hq(b.add.TySh.dj)){if(this.PG.Er(u,l.Y.H))v=this.PG.Er(u,l.Y.H);
else{if(this.PG._v(u))v="text"}}else if(b&&$.M.K_(u,b.rect)>20/l.Y.H)v="move";else if(this.uw(l,u)>=0)v="text";
if(v!=this.pt){this.pt=v;this.Wo(t)}}if(this.YM&&x.tq(this._o,R)>4){this.YM=!1;this.uN(l,t,a,k,R);b=this.Lz;
Wz.fb(b.add.TySh.dH,1);this.zd=!0;this.PG=new lV(null,!1,!1,!1,!0);this.PG.yY(l,a,k,l.Y.KV(this._o.x,this._o.y))}if(this.zd){var H=b.add.TySh;
if(this.PG){this.PG.JP(l,a,k,u);var N=H.N.clone(),z=Math.atan2(N.l,N.w);N.rotate(z);var A=$.U.gd($.U.DY(this.PG.Mv())),Q=Math.atan2(A.l,A.w);
A.rotate(Q);if(!isNaN(A.w)&&A.w*A.N_-A.l*A.Mn!=0){var S=new d(0,0,A.w/N.w,A.N_/N.N_);Wz.$I(H.dH,[0,0,Math.round(S.$),Math.round(S.e)]);
H.N=$.U.gd($.U.DY(this.PG.Mv(),S));this.Rq(l,a)}}else{var o=u.x-this.zq.x,p=u.y-this.zq.y;H.N=this.nx.clone();
var O=new x(H.N.Pu+o,H.N.wf+p);O=s.Ya.TM(l,O,a);H.N.Pu=O.x;H.N.wf=O.y;this.Rq(l,a)}}if(this.qx)this.bm=this.YI(u);
if(this.zd||this.qx)this.RY(l)};s.Rm.prototype.uN=function(l,t,a,k,R){var u=l.Ow();u.add.lnsr="rend";
var b=l.Q.slice(0);u.wy("Text layer "+b.length);this.Lz=u;var v=l._.length==0?l.Q.length-1:l._[l._.length-1],H=v+1;
if(b[v].add.lsct==Oz.ON)H--;this.qd={Tx:b.slice(0),TL:l._.slice(0)};b.splice(H,0,u);l._=[H];this.Cy=this.bm=0;
l.aH(b);this.qd.Cr=b.slice(0);this.qd.PX=l._.slice(0);this.wX(t,w.E.J,{T:w.h.kq,P:this.id,cW:"showactive"});
R=l.Y.KV(R.x,R.y);u.add.TySh=Wz.AK(R.x,R.y,a.To);return u};s.Rm.prototype.cV=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);
if(this.YM){this.YM=!1;this.uN(l,t,a,k,R);Wz.fb(this.Lz.add.TySh.dH,0);this.qx=!0}if(this.zd||this.qx){this.RY(l);
this.Qa()}if(this.zd&&this.PG)this.PG.cV(l,a,k,u);this.zd=this.qx=!1;this.mb.focus()};s.Rm.prototype.Qa=function(){var l=Math.min(this.Cy,this.bm),t=Math.max(this.Cy,this.bm),a,k;
if(l==t){var R=this.q_&&this.q_.Bb(l-1);if(l==0||R&&R.dJ=="\n")a=k=l;else a=k=l-1}else{a=l;k=t-1}var u=this.Lz.add.TySh,b=Wz.SG(u.dH,a,k);
Wz.BR(b,s.b.bd(u.N));this.Yl(this.caller,b)};s.Rm.prototype.Yl=function(l,t){this.wX(l,w.E.J,{T:w.h.kn,wd:Wm.TT,To:t})};
s.Rm.prototype.Bd=function(l,t,a,k){if(k.L(J.ZR))this.TR(l,t)};s.Rm.prototype.disable=function(l,t,a,k){if(this.Lz)this.MX(l,t);
else this.TR(l,t)};s.Rm.prototype.fE=function(l,t,a,k,R){if(l.cW=="commit")this.MX(a,t);if(l.cW=="cancel")this.TR(a,t);
if(l.cW=="showwarp"){if(a==null)return;if(this.Lz==null){var u=a.Q[a._[0]],b=u.add.TySh;if(b==null)return;
this.HZ(a,t,R,[a._[0]]);this.mb.focus();this.lr=!0}this.Sv=this.Lz.add.TySh.dj;var v=new Z(w.E.J,!0);
v.data={T:w.h.AG,XG:"textwarp"};t.t(v)}};s.Rm.prototype.gO=function(l,t){this.Xh=l;var a=this.NY;if(a==null)return;
if(t!=Wm.CM&&t!=Wm.TT&&t!=Wm.rA)return;if(this.l_){this.l_=!1;var k=this._Q;for(var R=0;R<k.length;R++){this.Lz=a.Q[k[R]];
this.Rq(a,l)}this.MX(a,this.caller);return}if(this.Lz==null){if(this.St==JSON.stringify(l.To)){return}var k=this.uc(a),u=!1;
if(k.length!=0){this.HZ(a,this.caller,l,k);for(var R=0;R<k.length;R++){var b=a.Q[k[R]],v=b.add.TySh;
this.Lz=b;var H=Wz.NS(v.dH);this.Cy=0;this.bm=H.length-1;Wz.Hf(v.dH,this.Cy,this.bm,this.Qu(l,v));var N=this.Rq(a,l);
if(N==!1)u=!0}if(u){this.l_=!0;return}this.MX(a,this.caller)}return}var z=Math.min(this.Cy,this.bm),A=Math.max(this.Cy,this.bm),v=this.Lz.add.TySh;
Wz.Hf(v.dH,z,A-1,this.Qu(l,v));var a=this.NY;this.Rq(a,l);this.RY(a);this.mb.focus()};s.Rm.prototype.Qu=function(l,t){var a=JSON.parse(JSON.stringify(l.To));
Wz.BR(a,1/s.b.bd(t.N));return a};s.Rm.prototype.Bm=function(l,t){if(l.Tu!=null)this.QM(t,l.lf);else this.Yg(t,l.Cr,l.PX)};
s.Rm.prototype.NB=function(l,t){if(l.Tu!=null)this.QM(t,l.Tu);else this.Yg(t,l.Tx,l.TL)};s.Rm.prototype.QM=function(l,t){for(var a=0;
a<t.length;a++){var k=t[a],R=k.zs,u=l.Q[R];u.buffer=k.FJ;u.rect=k.MU.clone();u.i();var b=u.add.TySh;
b.dj=k.Ha;b.Nu=k.Nu.clone();b.N=k.N.clone();b.dH=JSON.parse(JSON.stringify(k.dH));u.yx()}l.i()};s.Rm.prototype.HT=function(l,t){var a=[];
for(var k=0;k<t.length;k++){var R=t[k],u=l.Q[R],b=u.add.TySh;a.push({zs:R,N:b.N.clone(),Ha:JSON.parse(JSON.stringify(b.dj)),Nu:b.Nu.clone(),dH:JSON.parse(JSON.stringify(b.dH)),FJ:$.clone(u.buffer),MU:u.rect.clone()})}return a};
s.Rm.prototype.Yg=function(l,t,a){l._=a;l.aH(t);l.i()};s.Rm.prototype.Rq=function(l,t,a){if(a==null)a=!1;
var k=this.Lz.add.TySh;if(!Hw.EE(k,t.jF))return!1;this.q_=new HR(k.dH,t.jF);if(!a){var R=Wz.NS(k.dH);
this.mb.value=R.slice(0,R.length-1)}var u=Hw.zM(this.q_,k),b=u.rect;if($.Ha.Hq(k.dj))k.Nu=new d;else{if(Wz.Hj(k.dH)==1){var v=Wz.WT(k.dH),H=u.Nu.y;
k.Nu=new d(0,H,v[2]-v[0],v[3]-v[1]-H)}else{k.Nu=u.Nu}}var N=this.Lz.rect;this.Lz.rect=u.rect;this.Lz.buffer=u.nr;
this.Lz.i();l.AU();l.i(l.root.pS(u.rect.wm(N),l,l.Q.indexOf(this.Lz)));return!0};s.Rm.prototype.Oln=function(l){if(this.Lz==null)return;
var t=this.mb.selectionStart,a=this.Lz.add.TySh,k=Wz.NS(a.dH),R=this.mb.value+"\n",u=Math.min(this.Cy,this.bm),b=Math.max(this.Cy,this.bm);
this.Cy=Math.min(t,u);if(R.length-t<k.length-this.bm)this.bm=k.length-R.length+t;if(k!=R){while(this.Cy>0&&k.charAt(this.Cy-1)!=R.charAt(this.Cy-1))this.Cy--}var v=k.substring(0,this.Cy),H=k.substring(this.bm,k.length),N=R.substring(this.Cy,R.length-H.length);
Wz.Bv(a.dH,this.Cy,this.bm);Wz.dW(a.dH,this.Cy,N);Wz.Hf(a.dH,this.Cy,this.Cy+N.length-1,this.Qu(this.Xh,a));
this.Cy=this.bm=v.length+N.length;var z=this.NY;this.Rq(z,this.Xh,!0);this.RY(z,!0)};s.Rm.prototype.OlE=function(l){if(this.Lz==null)return;
var t=J,a=0,k=0,H=!1;if(t.uS(l.code,t.JV))a=1;if(t.uS(l.code,t.LR))a=-1;if(t.uS(l.code,t.oi))k=-1;if(t.uS(l.code,t.oU))k=1;
var R=l.ctrlKey||l.metaKey,u=t.uS(l.code,J.OPi),b=t.uS(l.code,J.OPz),v=Wz.NS(this.Lz.add.TySh.dH);if(a!=0||k!=0||u||b){l.preventDefault();
var N=this.Cy;if(a!=0){if(R&&a==-1)N=this.uh(v,this.Cy-1);else if(R&&a==1)N=this.uv(v,this.Cy);else N=this.Cy+a}else if(k!=0){var z=this.q_.zL(this.Cy);
if(k==-1&&z._y==0)N=0;else if(k==1&&z._y==this.q_.nT-1)N=99999999999;else N=this.q_.ea(new x(z.rect.x+z.rect.$/2,0),z._y+k)}else if(u){var A=this.Cy-1;
while(A>0&&v.charCodeAt(A)!=10)A--;N=A==0?0:A+1}else if(b){var A=this.Cy;while(A<v.length-1&&v.charCodeAt(A)!=10)A++;
N=A}N=Math.max(0,Math.min(v.length-1,N));if(l.shiftKey)this.Cy=N;else this.Cy=this.bm=N;H=!0}if(t.uS(l.code,J.h)&&R){this.Cy=0;
this.bm=v.length-1;H=!0}if(H){this.Qa();this.RY(this.NY)}};s.Rm.OlL=function(l,t){var a=l.length;if(a!=t.length)return!1;
for(var k=0;k<a;k++)if(l[k].zs!=t[k].zs)return!1;return!0};s.Rm.prototype.MX=function(l,t){if(this.Lz==null)return;
this.Lz.yx();var a=this.qd;if(a instanceof Array){var k=this.HT(l,this._Q),R=l.AA();if(R!=null&&R.P==this&&R.data.Tu&&s.Rm.OlL(R.data.Tu,a))R.data.lf=k;
else{var u=new Wt(this.name,this);u.data={Tu:a,lf:k};l.KO(u)}}else{var u=new Wt(this.name,this);u.data={Tx:a.Tx,Cr:a.Cr,TL:a.TL,PX:a.PX};
l.KO(u)}this.escape(l,t)};s.Rm.prototype.TR=function(l,t){if(this.Lz==null)return;if(this.qd instanceof Array)this.QM(l,this.qd);
else{l._=this.qd.TL;l.aH(this.qd.Tx)}l.i();this.escape(l,t)};s.Rm.prototype.escape=function(l,t){this.Lz=null;
this._Q=null;this.q_=null;this.PG=null;this.mb.blur();l.F.HU=null;l.F.rQ=null;l.F.kp=[];l.lD=!0;this.zd=!1;
this.qx=!1;this.Cy=this.bm=-1;this.wX(t,w.E.J,{T:w.h.kq,P:this.id,cW:"hideactive"})};s.Rm.prototype.wX=function(l,t,a,k){var R=new Z(t,!0);
R.data=a;if(k)R.P=k;l.t(R)};s.Rm.prototype.YI=function(l){var t=this.Lz.add.TySh,a=this.q_,k=t.N.clone();
k.sI();var R=k.sV(l),u=Wz.Sa(t,a),b=$.Ha.GY(t.dj,u),v=$.wS.f.Uo(b,0,1,0,1),H=new Uint32Array(30),N=$.wS.f.OAF(v.dw,v.EU,R.x,R.y,H),z=$.wS.km(b,R.x,R.y,v.dw,H,N,!1),A=$.wS.CD;
if(A==null)A=new Float64Array(2);R=new x(u.x+A[0]*u.$,u.y+A[1]*u.e);var Q=a.ea(R),S=a.Bb(Q),o=a.zL(Q).rect;
if(S.dJ!="\n"&&(S.BX==0&&R.x>o.x+o.$/2||S.BX==1&&R.x<o.x+o.$/2))Q++;return Q};s.Rm.prototype.RY=function(l,t){if(t==null)t=!1;
var a=this.Lz.add.TySh,k=this.q_,R=k?Wz.Sa(a,k):null;l.F.kp=[];l.F.HU=null;l.F.rQ=null;if(this.PG){this.PG.tL(l,!$.Ha.Hq(a.dj));
var u=a.N.clone();u.sI();$.M.N(l.F.kp,u,l.F.kp);$.M.N(l.F.HU.p,u,l.F.HU.p);if(k&&k.nC){var b=R.$-20,v=R.e+8;
l.F.HU.p.push(b,v,b+10,v,b+5,v-5,b+5,v+5);l.F.HU.A.push("M","L","M","L")}}else this.Olc(l,a,k);var H=Math.min(this.Cy,this.bm),N=Math.max(this.Cy,this.bm);
if(!t){this.mb.selectionStart=H;this.mb.selectionEnd=N}if(k!=null){if(H==N){var z=k.zL(H).rect.clone(),A=this.Xh.To.Zl.FontSize;
if(A!=null&&A!=0){z.y+=z.e-A;z.e=A}var Q=k.Bb(H);if(Q!=null&&Q.BX==1)z.x+=z.$;z.y+=z.e*.27;l.F.HU.A.push("M","L");
l.F.HU.p.push(z.x,z.y,z.x,z.y+z.e)}else{l.F.rQ={p:[],A:[]};for(var S=H;S<N;S++){var z=k.zL(S).rect;z.y+=z.e*.27;
var o=$.M.Gf(z);$.M.concat(l.F.rQ,o)}}}if(k!=null){if(!R.wp()){var p=$.Ha.GY(a.dj,R);if(l.F.HU){l.F.HU=$.M.$H(l.F.HU);
l.F.HU=$.M.$z(l.F.HU,Math.min(R.$,R.e)/10);$.wS.apply(p,l.F.HU.p,R)}if(l.F.rQ){l.F.rQ=$.M.$H(l.F.rQ);
l.F.rQ=$.M.$z(l.F.rQ,Math.min(R.$,R.e)/10);$.wS.apply(p,l.F.rQ.p,R)}$.wS.apply(p,l.F.kp,R)}}if(l.F.HU)$.M.N(l.F.HU.p,a.N,l.F.HU.p);
if(l.F.rQ)$.M.N(l.F.rQ.p,a.N,l.F.rQ.p);$.M.N(l.F.kp,a.N,l.F.kp);l.lD=!0};s.Rm.prototype.Olc=function(l,t,a){if(a==null)return;
l.F.kp.push(0,0);if(l.F.HU==null)l.F.HU={A:[],p:[]};for(var k=0;k<a.SP.length;k++){var R=a.SP[k];for(var u=0;
u<R.Eh.length;u++){var b=R.Eh[u],v=R.BG.x+b.BG.x+b.rect.x,H=R.BG.y+b.BG.y+b.rect.y+b.rect.e;l.F.HU.A.push("M","L");
l.F.HU.p.push(v,H,v+b.rect.$,H)}}l.lD=!0};s.Kf=function(){s.CN.call(this,[10,9],s.aw,"tools/lasso");
this.qP="crosshair";this.kD=null;this.iO=null};s.Kf.prototype=new s.CN;s.Kf.prototype.Yw=function(l,t,a,k){this.kD=this.tG;
this.iO={p:[this.kD.x,this.kD.y],A:["M"]}};s.Kf.prototype.sJ=function(l,t,a,k){if(!k.bM||this.iO==null)return;
this.iO.A.push("L");this.iO.p.push(this.cB.x,this.cB.y);this.kD=this.cB;if(this.jT){l.F.HU=this.iO;l.lD=!0}};
s.Kf.prototype.GW=function(l,t,a,k){if(this.iO==null||!this.jT)return;l.F.HU=null;l.lD=!0;this.finish(l,t,a,k)};
s.Kf.prototype.getSelection=function(l,t,a,k){if(this.tG.cG(this.cB))return null;return this.gA(this.iO)};
s.Ya=function(){s.Wc.call(this,[10,11],s.lM,"tools/move");this.FS=new x(0,0);this.F_=new x(0,0);this.qH=null;
this.DJ=new x(0,0);this.Te=null;this.GT=null;this.FZ=null;this.dN=null;this.BD=[];this.Ta=null;this._u=!1;
this.T=0;this.lZ=null;this.Tw=null;this.Fp=null;this._C=!1;this.MA={Ts:!1,Fc:!1,DB:!1};this.PG=null;
this.Gr=null;this.nh=null;this.lq=[];for(var l=0;l<$.ca.uB.length;l++)this.lq.push({name:$.ca.uB[l],v:function(t,a,k){return{rV:a.IJ.oP==k}}});
this.$W=new HY(this.lq);this.$W.a("select",this.OgB,this)};s.Ya.prototype=new s.Wc;s.Wc.prototype.ck=function(l){return this._u&&this.T!=2};
s.Ya.prototype.aM=function(){return this._u&&this.T==0};s.Ya.prototype.ap=function(l,t,a,k){this.gl(l,-this.DJ.x,-this.DJ.y);
this.DJ.$x(0,0);this.gz(l,null,a);this.Jw(l)};s.Ya.prototype.$v=function(){var l=this.MA;return[l.Ts?1:0,l.Fc?1:0,l.DB?1:0]};
s.Ya.prototype.as=function(l,t,a){var k=this.MA;if(l&&l[0]!=null)k.Ts=l[0]==1;if(l&&l[1]!=null)k.Fc=l[1]==1;
if(l&&l[2]!=null)k.DB=l[2]==1;var R=new Z(w.E.J,!0);R.data={T:w.h.kq,P:this.id,EA:k,OAL:t};a.t(R)};s.Ya.Yb=function(l,t,a,k,R){var u=l.$i(null,R),b=l.XP(u)[0];
if(a!=1){var v=new d(0,0,Math.round(b.$*a),Math.round(b.e*a));s.L$.gH(b,v);var H=[];for(var N=0;N<b.Q.length;
N++)H.push(N);var z=s.b.gw(b,H,!0);s.b.XZ(b,k,H,z,!1,$.U.tU(new WM(a,0,0,a,0,0)),null,!0);b.$d()}var A=[];
for(var N=0;N<t.length;N++)A.push(Wr.RT(b,t[N].toUpperCase()));return A};s.Ya.prototype.YU=function(l,t,a,k,R){if(l==null)return;
var u=s.Ya.Yb(l,[t],a,k,null)[0],b=new Z(w.E.J,!0);b.data={T:w.h.Sj,data:u,name:l.Q[l._[0]].getName()+"."+t};
R.t(b)};s.Ya.prototype.fE=function(l,t,a,k,R){if(l.mk=="getPNG"){this.YU(a,"png",l.nv,R,t)}else if(l.mk=="getSVG"){this.YU(a,"svg",l.nv,R,t)}if(l.mk=="prms"){this.MA=l;
this.Jw(a)}if(l.mk=="algn"){var u=l.V;if(a==null)return;if(a._.length<2&&!(a.O!=null&&u!=3&&u!=7)){alert(Wq.get([15,7,5]));
return}var b=a.O;a.O=null;var v=b?b.rect:s.b.Sa(a);this.HG(a,t,k,R,!1);if(!this._u)return;var H=this.dN,N={},z=[],A=[],Q=[];
for(var S=0;S<H.length;S++){var o=H[S];while(a.Q[o].getName()=="</Layer group>")o++;var p=a.root.H$(o),O=p;
while(p.parent!=null){p=p.parent;if(H.indexOf(p.index)!=-1)O=p}var E=A.indexOf(O.index);if(E==-1){E=A.length;
A.push(O.index)}z[S]=E}var L=[],U=[],W=[];for(var S=0;S<A.length;S++){var Y=s.b.Sa(a,a.$i(!0,A[S]));
W.push(Y);var y=u==3?[Y.y,Y.e]:[Y.x,Y.$];L[S]=y;U.push(y)}s.Ya.Ogk(U);for(var S=0;S<A.length;S++){var Y=W[S],C=Y.x,X=Y.y;
if(u==0)C=v.x;if(u==1)C=v.x+(v.$-Y.$)/2;if(u==2)C=v.x+(v.$-Y.$);if(u==3)X=L[S][0];if(u==4)X=v.y;if(u==5)X=v.y+(v.e-Y.e)/2;
if(u==6)X=v.y+(v.e-Y.e);if(u==7)C=L[S][0];Q.push(Math.round(C-Y.x),Math.round(X-Y.y))}var M=[];for(var S=0;
S<H.length;S++){var g=z[S];M[2*S]=Q[2*g];M[2*S+1]=Q[2*g+1]}this.gl(a,0,0,null,M);var n=u==3||u==7?[20,4,6]:[20,4,u<3?u:u-1];
this.gz(a,null,R,M,n);a.O=b}};s.Ya.Ogk=function(l){var t=l.length,k=0;l.sort(function(v,H){return v[0]+v[1]/2-(H[0]+H[1]/2)});
var a=l[t-1][0]+l[t-1][1]-l[0][0];for(var R=0;R<t;R++)k+=l[R][1];var u=Math.round((a-k)/(t-1)),b=l[0][0];
for(var R=0;R<t;R++){l[R][0]=b;b+=l[R][1]+u}};s.Ya.prototype.kM=function(l,t,a,k,R){var u=l.T;if(u=="trsl"){var b=Math.round(l.OAJ),v=Math.round(l.OAo);
this.DJ.$x(b,v);this.HG(a,t,k,R,!1,l.u);this.gl(a,b,v);this.gz(a,null,R)}else if(u=="gids"){var H=l.Tw[0].length+l.Tw[1].length,N=l.TQ[0].length+l.TQ[1].length,u=new Wt(H==N?[23,2]:H>N?[23,3]:[23,4],this);
u.data={T:2,Tw:l.Tw,TQ:l.TQ};a.KO(u)}};s.Ya.prototype.enable=function(l,t,a,k,R){this._C=R?!0:!1;this.Jw(l);
this.Wo("default",t)};s.Ya.prototype.disable=function(l,t,a,k){if(l==null)return;if(this.PG){this.PG.clear(l);
this.PG=null}if(l.F.DB){l.F.DB=null;l.lD=!0}if(l.F.C_){l.F.C_=null;l.lD=!0}if(l.F.HU){l.F.HU=null;l.lD=!0}};
s.Ya.prototype.qU=function(l,t,a,k){this.Jw(l)};s.Ya.prototype.Jw=function(l,t){if(l==null)return;var a=this.MA;
this.disable(l,null,null,null);if(!this._C){var k=$.M.jW(s.b.Sa(l));if(a.Fc&&!k.wp()){this.PG=new lV([k.x,k.y,k.x+k.$,k.y,k.x+k.$,k.y+k.e,k.x,k.y+k.e],!0);
this.PG.tL(l)}if(a.DB){var R=l.XF(l._[0]),z=null,A=!1;if(R==null)R=new d(0,0,l.$,l.e);l.F.DB={la:[k],nR:[]};
var u=l.F.DB.nR,b=k.x+k.$,v=k.y+k.e,H=k.x+Math.floor(k.$/2),N=k.y+Math.floor(k.e/2);if(t){var Q=l.root.km(new x(Math.floor(t.x),Math.floor(t.y)));
if(Q){z=$.M.jW(Q.u.Tp(l));if(z.Nf(k)){A=(z.rI(k)||k.rI(z))&&!k.cG(z);if(!A)z=null}}}this.YK(k,u);if(z!=null){l.F.DB.la.push(z);
var S=z.x+z.$,o=z.y+z.e,p=z.x+Math.floor(z.$/2),O=z.y+Math.floor(z.e/2);if(A){var E=H,L=N;if(k.rI(z)){E=p;
L=O}u.push(k.x,L,z.x,L);u.push(b,L,S,L);u.push(E,k.y,E,z.y);u.push(E,v,E,o)}else{this.YK(z,u);var U=v<z.y||o<k.y,W=b<z.x||S<k.x;
if(b<z.x)u.push(b,N,z.x,N);if(S<k.x)u.push(S,N,k.x,N);if(v<z.y)u.push(H,v,H,z.y);if(o<k.y)u.push(H,o,H,k.y);
if(U&&!W){if(k.x<z.x)u.push(k.x,O,z.x,O);if(z.x<k.x)u.push(z.x,N,k.x,N)}}}else{if(k.y>R.y)u.push(H,R.y,H,k.y);
if(v<R.y+R.e)u.push(H,v,H,R.y+R.e);if(k.x>R.x)u.push(R.x,N,k.x,N);if(b<R.x+R.$)u.push(b,N,R.x+R.$,N)}l.lD=!0}}if(this.T==3&&this._u){var Y=$.M.Gf(this.lZ);
if(l.F.HU==null)l.F.HU=Y;else $.M.concat(l.F.HU,Y);l.lD=!0}};s.Ya.prototype.YK=function(l,t){var a=l.$,k=l.e,R=l.x+Math.floor(a*.2),u=l.y+Math.floor(k*.2);
t.push(R,l.y,R,l.y+k);t.push(l.x,u,l.x+a,u)};s.Ya.prototype.Wo=function(l,t){var a={T:w.h.gV,fR:l},k=new Z(w.E.J,!0);
k.data=a;t.t(k)};s.Ya.prototype.wR=function(l){var t=this.Gr.Mf()[0],a=this.Te,k=this.nh[t];this.Yd(a,k)};
s.Ya.prototype.OgB=function(l){var t=JSON.parse(JSON.stringify(this.GT.IJ));t.oP=this.$W.Mf()[0];var a=new Z(w.E.J,!0);
a.data={T:w.h.kn,wd:Wm.eB,sQ:t};this.FZ.t(a)};s.Ya.prototype.Jy=function(l,t,a,k,R){this.Te=l;this.GT=a;
this.FZ=t;var u=l.Y.KV(R.x,R.y),b,v;if(s.Ya.Y_(a,R)){b=this.$W;v=this.lq}else{if(this.Gr)this.Gr.removeEventListener("select",this.wR);
var H=[];l.root.km(u,H);if(H.length==0)return;v=[];this.nh=H;for(var N=0;N<H.length;N++)v.push({name:l.Q[H[N]].getName()});
b=this.Gr=new HY(v);b.a("select",this.wR,this)}b.parent=t;b.update(l,v,a);var z=new Z(w.E.J,!0);z.data={T:w.h._e,jn:b,x:R.O$O+1,y:R.O$W+1};
t.t(z)};s.Ya.prototype.yY=function(l,t,a,k,R){this.FS.$x(R.x,R.y);this.F_=l.Y.KV(R.x,R.y);this.qH=new Ob(this.F_);
this.HG(l,t,k,a,!0)};s.Ya.Y_=function(l,t){return l.qD&&(t.x<$.ca.MK||0<t.y&&t.y<$.ca.MK)};s.Ya.prototype.HG=function(l,t,a,k,R,u){var b,v=this.F_;
if(R){var H=k.md&&k.IJ.gh;if(s.Ya.Y_(k,this.FS)){b=JSON.parse(JSON.stringify(l.gh));if(this.FS.x<$.ca.MK)l.gh[0].push(v.x);
if(this.FS.y<$.ca.MK)l.gh[1].push(v.y);if(!H){var N=new Z(w.E.J);N.data={T:w.h.kn,wd:Wm.Iq};t.t(N);H=!0}}var z=this.Ym(l,v);
if(H&&z){this.T=2;this.Tw=b?b:JSON.parse(JSON.stringify(l.gh));this.dN=z;this._u=!0;return}if(this.PG&&this.PG.Er(v,l.Y.H,!0)!=null){var N=new Z(w.E.J);
N.data={T:w.h.iA,P:s.Yc};t.t(N);var A=new Z(w.E.q);A.P=s.Yc;A.data={T:"doMouseDown",rX:this.FS};t.t(A);
return}if(l.O==null&&(!this._C&&(a.L(J.$K)||this.MA.Ts)||this._C&&this.MA.Ts&&(a.L(J.hV)||l._.length<2))){var Q=this.OIS(l,v,a);
if(!Q){l._=[];l.rm=l._R=!0;this.T=3;this.lZ=new d;this._u=!0;return}}if(a.L(J.Bl)&&l.O==null){var A=new Z(w.E.q);
A.P=s.sO;A.data={T:_.OT};t.t(A)}}this.dN=l.$i(u==null,u);for(var S=0;S<this.dN.length;S++){var o=l.Q[this.dN[S]];
if(o.Mu(2)||o.Mu(31)){alert(Wq.get([6,57,0]));return}}this.BD=s.Ya.YG(l,this.dN);this.T=0;if(l.O&&l._.length==1&&l.JR(!1)){if(!l.Xq()){this._u=!1;
return}var p=l.Q[l._[0]],O=a.L(J.Bl);this.T=1;var E=l.history[l.XD];if(E.P==this&&E.data.T==1&&E.data.u==l._[0]&&p.cA==p.Sb.cA&&!O){this.Fp=E}else{var L=p.Sb,U=!1,W;
if(!p.iG(l,l.O)||O){U=!0;p.yU(l,l.O,O)}if(p.Sb.cA<=0){W=$.I(p.Sb.M_.length>>2);$.Du(p.Sb.M_,W,3)}else W=$.clone(l.O.channel);
var Y={rect:p.Sb.Sd.clone(),channel:W};this.Fp=new Wt(O?[12,53]:[12,54],this);this.Fp.data={T:1,u:l._[0],Sb:p.Sb,cY:L,Mg:U,TL:l.O,PX:Y,N_:new x(0,0)};
l.KO(this.Fp);l.O=Y;l.fF=!0}}this._u=!0;this.Ta=s.b.Sa(l)};s.Ya.prototype.OIS=function(l,t,a){var k=l.root.km(new x(Math.floor(t.x),Math.floor(t.y)));
if(k){if(k.u.add.vmsk)l.lD=!0;var R=l.Q.indexOf(k.u);if(a.L(J.hV)){var u=l._.indexOf(R);if(u==-1)l._.push(R);
else if(l._.length>1)l._.splice(u,1)}else if(l._.indexOf(R)==-1){this.Yd(l,R)}}return k!=null};s.Ya.prototype.Yd=function(l,t){l.Q[t].cA=0;
l._=[t];l.pj();l.TS=!0;l.rm=!0};s.Ya.prototype.JP=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y),Q,S;if(this.qH)u=this.qH.ez(u,k);
if(!this._u){if(a.md&&a.IJ.gh){var b=this.Ym(l,u),v="default";if(b)v=["col-resize","row-resize"][b[0]];
else if(this.PG){var H=this.PG.Er(u,l.Y.H);if(H)v=H}this.Wo(v,t)}this.Jw(l,u);return}var N=this.F_,z=Math.round(u.x-N.x)-this.DJ.x,A=Math.round(u.y-N.y)-this.DJ.y;
if(this.Ta){S=this.Ta.clone();S.offset(this.DJ.x+z,this.DJ.y+A);Q=s.Ya.gZ(l,S,a);z+=Math.round(Q[0]);
A+=Math.round(Q[1])}this.DJ.x+=z;this.DJ.y+=A;this.gl(l,z,A,u,null,k.L(J.hV));this.Jw(l,u);if(Q)s.Ya.g_(l,S,Q)};
s.Ya.prototype.Ym=function(l,t){t=[t.x,t.y];for(var a=0;a<2;a++)for(var k=0;k<l.gh[a].length;k++)if(Math.abs(l.gh[a][k]-t[a])*l.Y.H<4)return[a,k];
return null};s.Ya.prototype.gl=function(l,t,a,k,R,u){if(this.T==0){if(R)s.Ya.Hp(l,this.dN,this.BD,R);
else s.Ya.Ho(l,this.dN,this.BD,t,a)}else if(this.T==1){var b=this.Fp.data;b.N_.offset(t,a);s.Ya.gg(l,b.u,t,a)}else if(this.T==2){var v=k.x,H=k.y;
if(u){var N=l.Y.H<=1?10:1;v=N*Math.round(k.x/N);H=N*Math.round(k.y/N)}var z=[v,H],A=this.dN;l.gh[A[0]][A[1]]=z[A[0]];
l.lD=!0}else if(this.T==3){var Q=this.F_,S=$.M.ju([Q.x,Q.y,k.x,k.y]);this.lZ=S;var o=[];l.root.QX(S,o);
if(JSON.stringify(l._)!=JSON.stringify(o)){l._=o;l.rm=!0;l._R=!0}}};s.Ya.gg=function(l,t,a,k){var R=l.Q[t];
l.O.rect.offset(a,k);R.fi(l,a,k,l.O);l.fF=!0;l.i()};s.Ya.prototype.cV=function(l,t,a,k,R){this.gz(l,R,a);
this.Jw(l)};s.Ya.prototype.gz=function(l,t,a,k,R){if(!this._u)return;this._u=!1;if(this.T==0){if(k){this.Yx(l,null,k,R)}else{if(this.DJ.x==0&&this.DJ.y==0)return;
this.Yx(l,this.DJ.clone())}l.da=!0}else if(this.T==2){var u=0;t=[t.x,t.y];var b=this.dN,v=this.Tw[0].length+this.Tw[1].length,H=l.gh[0].length+l.gh[1].length;
if(a.qD&&t[b[0]]<$.ca.MK){l.gh[b[0]].splice(b[1],1);u=1;if(v==H-1)return}if(v<H)u=2;var N=new Wt([[23,2],[23,3],[23,4]][u],this);
N.data={T:2,Tw:this.Tw,TQ:JSON.parse(JSON.stringify(l.gh))};l.KO(N)}this.DJ.$x(0,0)};s.Ya.prototype.Bd=function(l,t,a,k){var R=k.rF();
if(R.x!=0||R.y!=0){this.DJ.$x(R.x,R.y);this.HG(l,t,k,a,!1);if(!this._u)return;this.gl(l,R.x,R.y);this.gz(l,null,a);
this.Jw(l)}};s.Ya.prototype.NB=function(l,t){if(l.T==0)s.Ya.Hp(t,l._,l.ri,l.rP,!0);else if(l.T==2){t.gh=JSON.parse(JSON.stringify(l.Tw));
t.lD=!0}else{var a=t.Q[l.u];if(l.Mg){a.y_(t,l.cY);t.O=l.TL;t.fF=!0;t.i();a.i()}else{s.Ya.gg(t,l.u,-l.N_.x,-l.N_.y)}}};
s.Ya.prototype.Bm=function(l,t){if(l.T==0)s.Ya.Hp(t,l._,l.ri,l.rP);else if(l.T==2){t.gh=JSON.parse(JSON.stringify(l.TQ));
t.lD=!0}else{var a=t.Q[l.u];if(l.Mg){a.Sb=l.Sb;t.O=l.PX;s.Ya.gg(t,l.u,0,0);a.i()}else{s.Ya.gg(t,l.u,l.N_.x,l.N_.y)}}};
s.Ya.prototype.Yx=function(l,t,a,k){if(a){var R=!0;for(var u=0;u<a.length;u++)if(a[u]!=0)R=!1;if(R)return}var b=l.history[l.XD];
if(b.data&&b.P==this&&b.data.T==0&&a==null&&JSON.stringify(b.data._)==JSON.stringify(this.dN)&&JSON.stringify(b.data.ri)==JSON.stringify(this.BD)){var v=b.data.rP;
for(var u=0;u<v.length;u+=2){v[u]+=t.x;v[u+1]+=t.y}}else{var H=new Wt(k?k:[12,54],this);if(a)H.data={T:0,_:this.dN,ri:this.BD,rP:a};
else H.data={T:0,_:this.dN,ri:this.BD,rP:s.Ya.YD(this.dN,t.x,t.y)};l.KO(H)}};s.Ya.YD=function(l,t,a){var k=[];
for(var R=0;R<l.length;R++)k.push(t,a);return k};s.Ya.Ho=function(l,t,a,k,R){s.Ya.Hp(l,t,a,s.Ya.YD(t,k,R))};
s.Ya.Hp=function(l,t,a,k,R){if(l._.length==0)return;if(a==null){a=[];for(var u=0;u<t.length;u++){a.push(l.Q[t[u]].iy(l,!0))}}var b=new d,v=new d(0,0,l.$,l.e);
for(var u=0;u<t.length;u++){var H=k[2*u],N=k[2*u+1];if(R){H=-H;N=-N}var z=l.Q[t[u]],A=a[u];if(z.add.fxrp&&(A.indexOf(0)!=-1||z.OY()))z.add.fxrp.offset(H,N);
for(var Q=0;Q<A.length;Q++){var S=A[Q];if(S==0){z.rect.offset(H,N);if(z.Bx()&&z.SS(l))z.SS(l).rect.offset(H,N);
if(z.add.artb){var o=z.rM();o.offset(H,N);z.fP(o)}if(z.add.TySh)z.add.TySh.N.translate(H,N);if(z.add.SoLd){var p=new WM(1,0,0,1,H,N),O=z.add.SoLd,E=s.b._W(O.Trnf),L=s.b._W(O.nonAffineTransform);
$.M.N(E,p,E);$.M.N(L,p,L);O.Trnf=s.b.tW(E);O.nonAffineTransform=s.b.tW(L)}}if(S==1)z.c$().rect.offset(H,N);
if(S==2){z.add.vmsk.offset(H,N);if(z.add.vogk)$.$F.N(z.add.vogk,[1,0,H,0,1,N,0,0],[])}if(S==3){z.SS(l).Z.rect.offset(H,N);
if(A.length==1)z.i()}}if(A.length>0){var U=z.add.GdFl;if(U==null)U=z.add.PtFl;if(z.OY()&&!z.TK()&&z.add.vmsk!=null&&$.r.WW(z.add.vmsk.k)&&z.add.vmsk.dB==255&&(U==null||U.Algn&&U.Algn.v)){z.rect.offset(H,N)}else z.cR(l);
var W=l.root.pS(z.Tp(l),l,t[u]);b=b.wm(W);W.offset(-H,-N);b=b.wm(W);if(z.add.SoCo||z.add.GdFl||z.add.PtFl||WT.get(z.add)!=null)b=b.wm(v);
z.QI()}}l.i(b)};s.Ya.YG=function(l,t){var a=[];for(var k=0;k<t.length;k++){var R=l.Q[t[k]];a.push(R.iy(l))}return a};
s.Ya.g_=function(l,t,a){var k=l.F.C_={p:[],A:[]},R=t.x+a[0],u=t.y+a[1];if(a[2]!=1e9){k.A.push("M","L");
k.p.push(a[2],u,a[2],u+t.e)}if(a[3]!=1e9){k.A.push("M","L");k.p.push(R,a[3],R+t.$,a[3])}l.lD=!0};s.Ya.TM=function(l,t,a){var k=s.Ya.sN(l,[[t.x],[t.y]],a);
return new x(t.x+k[0],t.y+k[1])};s.Ya.gZ=function(l,t,a){var k=s.Ya.sN(l,[[t.x,t.x+(t.$>>>1),t.x+t.$],[t.y,t.y+(t.e>>>1),t.y+t.e]],a);
return k};s.Ya.sN=function(l,t,a){var k=[0,0,1e9,1e9];if(!a.rk||!a.md)return k;for(var R=0;R<2;R++){var u=1e9,b=t[R],v=0;
for(var H=0;H<3;H++){var N=s.Ya.OIE(l,b[H],R,a);if(N!=1e9&&Math.abs(N-b[H])<Math.abs(u)){u=N-b[H];v=N}}if(u!=1e9){k[R]=u;
k[R+2]=v}}return k};s.Ya.OIE=function(l,t,a,k){var R=1e9,u=k.Ty,b=k.IJ;if(u[0]&&b.gh){var v=l.gh[a];
for(var H=0;H<v.length;H++)if(Math.abs(v[H]-t)<Math.abs(R-t))R=v[H]}if(u[1]&&b.qp){var N=Math.round(t/b.cX)*b.cX;
if(Math.abs(N-t)<Math.abs(R-t))R=N}if(u[4]){var z=l.$,A=l.e,Q=[0,0,z>>>1,A>>>1,z,A];for(var H=0;H<6;
H+=2)if(Math.abs(Q[H+a]-t)<Math.abs(R-t))R=Q[H+a]}return Math.abs(R-t)<=4*w.m()/l.Y.H?R:1e9};s.Qz=function(){s.CN.call(this,[10,12],s.OWF,"tools/mwand");
this.MA={ct:"front",cg:0,lo:{xo:!0,xX:10}}};s.Qz.prototype=new s.CN;s.Qz.prototype.GW=function(l,t,a,k){this.finish(l,t,a,k)};
s.Qz.prototype.getSelection=function(l,t,a,k){return s.Qz.Mi(l,this.cB,this.MA.lo)};s.Qz.Mi=function(l,t,a){if(l._.length!=1){alert("More than one layer selected.");
return null}var k=l.Q[l._[0]];if(k.add.lsct!=null&&k.add.lsct!=Oz.yq){alert("No layer selected.");return null}if(t.x<0||t.x>l.$||t.y<0||t.y>l.e)return null;
var R=new d(0,0,l.$,l.e),u=R.$,b=R.e,v=u*b,H=$.I(v*4),N=k.cA<=0?null:k.cA==1?k.c$():k.SS(l).Z;if(N==null)$.BM(k.buffer,k.rect,H,R);
else s.cD.qr(N.channel,N.rect,N.color,H,R);H=new Uint32Array(H.buffer);var z=Math.round(t.x-.5-R.x),A=Math.round(t.y-.5-R.y);
if(!R.ML(t))z=A=0;var Q=A*u+z,S=H[Q],o=S&255,p=S>>8&255,O=S>>16&255,E=S>>24&255,L=$.I(u*b),U=a.xX,W=1/U;
if(a.xo){var Y=$.I(L.length);Y[Q]=2;var y=[z,A];while(y.length>0){var C=y.pop(),X=y.pop(),M=C*u+X;Y[M]=2;
var g=s.Qz.QJ(H[M],o,p,O,E);if(g>U){L[M]=Math.round(255*(1-Math.max(0,Math.min(1,(g-U)*W))));continue}L[M]=255;
if(X>0){if(C>0&&Y[M-u-1]==0){y.push(X-1,C-1);Y[M-u-1]=1}if(C<b-1&&Y[M+u-1]==0){y.push(X-1,C+1);Y[M+u-1]=1}if(Y[M-1]==0){y.push(X-1,C);
Y[M-1]=1}}if(X<u-1){if(C>0&&Y[M-u+1]==0){y.push(X+1,C-1);Y[M-u+1]=1}if(C<b-1&&Y[M+u+1]==0){y.push(X+1,C+1);
Y[M+u+1]=1}if(Y[M+1]==0){y.push(X+1,C);Y[M+1]=1}}if(C>0&&Y[M-u]==0){y.push(X,C-1);Y[M-u]=1}if(C<b-1&&Y[M+u]==0){y.push(X,C+1);
Y[M+u]=1}}}else{for(var M=0;M<v;M++){var g=s.Qz.QJ(H[M],o,p,O,E);if(g>U)continue;else L[M]=255}if(U>0)for(var M=0;
M<v;M++){if(L[M]==255)continue;var X=M%u,C=Math.floor(M/u),g=s.Qz.QJ(H[M],o,p,O,E),n=255*(1-Math.max(0,Math.min(1,(g-U)*W)));
if(X>0&&L[M-1]==255||X<u-1&&L[M+1]==255||C>0&&L[M-u]==255||C<b-1&&L[M+u]==255)L[M]=Math.round(n)}}var V=$.wv(L,R),i=$.I(V.$*V.e);
$.co(L,R,i,V);return{rect:V,channel:i}};s.Qz.QJ=function(l,t,a,k,R){var u=l&255,b=l>>8&255,v=l>>16&255,H=l>>24&255;
if(R==0)return H<5?0:255;var N=Math.max(Math.abs(u-t),Math.max(Math.abs(b-a),Math.abs(v-k)));return H==0?255:N};
s.nE=function(){s.cD.call(this,[10,26],s.aC,"tools/patch");this.kD=null;this.iO=null;this.n=null;this.BG=null;
this.lv=new x;this.lR=null};s.nE.prototype=new s.cD;s.nE.prototype.yY=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);
if(l.O&&$.km(u,l.O.channel,l.O.rect)){if(!l.JR())return;this.EF(l);this.BG=u;this.lv=new x(u.x-l.O.rect.x,u.y-l.O.rect.y);
this.lR=$.I(l.O.rect.s()*4);$.set(this.lR,4294967295);if(this.MA.patch==1){var b=l.Q[l._[0]];b.yU(l,l.O,!0)}}else{this.iO={p:[u.x,u.y],A:["M"]};
this.kD=u}};s.nE.prototype.JP=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);if(this.BG){if(this.MA.patch==1){var b=l.Q[l._[0]].Sb,v=u.x-this.lv.x,H=u.y-this.lv.y;
s.Ya.gg(l,l._[0],Math.round(v-b.Sd.x),Math.round(H-b.Sd.y))}else this.Mb(l,u,"clone")}if(this.kD){this.iO.A.push("L");
this.iO.p.push(u.x,u.y);this.kD=u;l.F.HU=this.iO;l.lD=!0}};s.nE.prototype.cV=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);
if(this.BG){this.Mb(l,u,"heal");this.finish(l,l.O.rect);this.BG=null}if(this.kD){var b=this.MA.setop,v=k.L(J.hV),H=k.L(J.Bl);
if(v)b="union";if(H)b="difference";if(v&&H)b="intersection";var N=new Z(w.E.q,!0);N.P=s.qw;if(this.iO.p.length<=4)N.data={T:"deselect"};
else N.data={T:"polygon",U$:b,TB:this.iO,ER:[10,26]};t.t(N);this.kD=null;l.F.HU=null;l.lD=!0}};s.nE.prototype.Ww=function(){return this.n};
s.nE.prototype.fE=function(l,t,a,k,R){s.cD.prototype.fE.call(this,l,t,a,k,R);this.Wo(t,R,k)};s.nE.prototype.Wo=function(l,t,a){var k="auto;";
if(a!=null&&a.L(J.hV)&&!a.L(J.Bl)||this.MA.setop=="union")k="copy";var R=new Z(w.E.J,!0);R.data={T:w.h.gV,fR:k};
if(l)l.t(R)};s.nE.prototype.Mb=function(l,t,a){var k=new x(Math.round(this.BG.x-t.x),Math.round(this.BG.y-t.y));
if(this.MA.patch==1)k.$x(-k.x,-k.y);this.n=k;this.RS(l,a,this.lR,l.O.rect,l.O.rect);this.i(l,l.O.rect)};
s.gY=function(){s.cD.call(this,[10,13],s.OHo,"tools/pbucket")};s.gY.prototype=new s.cD;s.gY.prototype.enable=function(l,t,a,k){var R=new Z(w.E.J,!0);
R.data={T:w.h.gV,fR:"default"};t.t(R)};s.gY.prototype.gO=function(l,t){};s.gY.prototype.cV=function(l,t,a,k,R){if(!l.JR())return;
var u=l.Y.KV(R.x,R.y),b=s.Qz.Mi(l,u,this.MA.wconf);if(b==null)return;var v=$.I(b.rect.s()*4);$.IK(v,(a.rq&255)<<16|(a.rq>>8&255)<<8|(a.rq>>16&255)<<0);
$.xm(b.channel,v,3);this.EF(l);this.RS(l,"draw",v,b.rect,b.rect);this.i(l,b.rect);this.finish(l,b.rect)};
s.eP=function(){s.CN.call(this,[10,14],s.OAm,"tools/plasso");this.qP="crosshair";this.qg=[];this.iO=null;
this.UW=0};s.eP.prototype=new s.CN;s.eP.prototype.disable=function(l,t,a,k){this.gQ(l)};s.eP.prototype.Yw=function(l,t,a,k){this.qg=[J.tQ,J.od]};
s.eP.prototype.rC=function(l){return this.qg.indexOf(l)!=-1};s.eP.prototype.ck=function(l){return this.iO!=null};
s.eP.prototype.sJ=function(l,t,a,k){if(this.iO==null)return;var R=this.iO.p.length-2;this.iO.p[R]=this.cB.x;
this.iO.p[R+1]=this.cB.y;l.F.HU=this.iO;l.lD=!0};s.eP.prototype.GW=function(l,t,a,k){var R=Date.now();
if(this.iO==null)this.iO={p:[this.cB.x,this.cB.y,this.cB.x,this.cB.y],A:["M","L"]};else{this.sJ(l,t,a,k);
this.iO.A.push("L");this.iO.p.push(this.cB.x,this.cB.y);l.F.HU=this.iO;if(R-this.UW<250||x.tq(this.cB,new x(this.iO.p[0],this.iO.p[1]))<4/l.Y.H){this.finish(l,t,a,k);
this.gQ(l)}}this.UW=R;l.F.HU=this.iO};s.eP.prototype.gQ=function(l){this.iO=null;this.qg=[];if(l!=null){l.F.HU=null;
l.lD=!0}};s.eP.prototype.Bd=function(l,t,a,k){if(this.iO==null)return;if(k.L(J.tQ)||k.L(J.od)){this.iO.p.pop();
this.iO.p.pop();this.iO.A.pop();this.sJ(l,a,k)}if(k.L(J.KX)){if(this.iO.p.length>4)this.finish(l,a,k);
this.iO=null}if(k.L(J.ZR)){this.iO=null}l.F.HU=this.iO;l.lD=!0};s.eP.prototype.getSelection=function(l,t,a,k){return this.gA(this.iO)};
s.$S=function(){s.CN.call(this,[10,10],s.OAq,"tools/mlasso");this.qP="crosshair";this.qg=[];this.Wf={mu:3};
this.k=[];this.rz=[];this.Eh=[];this.rL=null;this.Sk=null;this.Ft=null;this.FN=0};s.$S.prototype=new s.CN;
s.$S.prototype.disable=function(l,t,a,k){this.clear(l)};s.$S.prototype.ck=function(l){return this.k.length!=0};
s.$S.prototype.rC=function(l){return this.qg.indexOf(l)!=-1};s.$S.prototype.Yw=function(l,t,a,k){this.qg=[J.tQ];
var R=this.HR(this.tG,l);if(this.k.length!=0&&(x.tq(R,this.k[0])<4*w.m()/l.Y.H||Date.now()-this.FN<300)){this.Hh(l,this.k[0]);
this.finish(l,t,a);this.clear(l);return}this.FN=Date.now();if(this.k.length!=0)R=this.Qw(R,l,this.Wf.mu);
else{var u=l.$,b=l.e,v=$.I(u*b),H=l.FY(),N=u*b*4;for(var z=0;z<N;z+=4)v[z>>>2]=$.nS(Math.round(.3*H[z]+.6*H[z+1]+.1*H[z+2])*H[z+3]);
this.rL=$.nm.O$V(v,u,b);this.Ft=new Uint16Array(v.length)}this.Hh(l,R);this.cP(l)};s.$S.prototype.Hh=function(l,t){var a=this.k;
this.rz[a.length]=this.Eh.length;if(a.length!=0){$.nm.a_(this.Sk,t.y*l.$+t.x);var k=this.QB(l,t);k.reverse();
var R=this.MF(l,k);this.Eh=this.Eh.concat(R)}a.push(t);this.Mm(l)};s.$S.prototype.Mm=function(l){var t=this.k[this.k.length-1],a=t.y*l.$+t.x;
this.Sk=$.nm.O$$(this.rL.YR,this.rL.jl,a);$.set(this.Ft,0)};s.$S.prototype.HR=function(l,t){return new x(Math.floor(Math.max(0,Math.min(t.$-1,l.x))),Math.floor(Math.max(0,Math.min(t.e-1,l.y))))};
s.$S.prototype.clear=function(l){this.Eh=[];this.k=[];this.rz=[];this.rL=null;this.Sk=null;this.Ft=null;
if(l!=null){l.F.HU=null;l.F.kp=[];l.lD=!0}this.qg=[]};s.$S.prototype.sJ=function(l,t,a,k){if(this.k.length==0)return;
var R=this.Qw(this.HR(this.cB,l),l,this.Wf.mu),u=this.QB(l,R);for(var b=0;b<u.length;b++){var v=u[b],H=new x(v%l.$,Math.floor(v/l.$));
if(this.Ft[v]>30&&x.tq(H,this.k[this.k.length-1])>20){this.Hh(l,H);return}this.Ft[v]++}this.cP(l)};s.$S.prototype.cP=function(l){var t=this.Qw(this.HR(this.cB,l),l,this.Wf.mu),a=this.QB(l,t);
a.reverse();var k=this.MF(l,a),R=this.Eh.concat(k);l.F.HU=this.Mx(R);l.F.kp=[];for(var u=0;u<this.k.length;
u++)l.F.kp.push(this.k[u].x+.5,this.k[u].y+.5);l.lD=!0};s.$S.prototype.GW=function(l,t,a,k){};s.$S.prototype.Bd=function(l,t,a,k){if(this.k.length==0)return;
if(k.L(J.tQ)){this.k.pop();this.Eh=this.Eh.slice(0,this.rz[this.k.length]);this.rz.pop();if(this.k.length==0)this.clear(l);
else this.Mm(l);this.cP(l)}if(k.L(J.KX)){var R=this.HR(this.cB,l);this.Hh(l,R);this.finish(l,a,k);this.clear(l)}if(k.L(J.ZR)){this.clear(l)}};
s.$S.prototype.Mx=function(l){var t={p:l.slice(0),A:["M"]};for(var a=2;a<l.length;a+=2)t.A.push("L");
return t};s.$S.prototype.getSelection=function(l,t,a,k){var R=this.Mx(this.Eh);return this.gA(R)};s.$S.prototype.QB=function(l,t){var a=this.k[this.k.length-1],k=a.y*l.$+a.x,R=t.y*l.$+t.x,u=[R];
while(R!=k){R=this.Sk.Hu[R];u.push(R);if(u.length>5e3){console.log(u);throw"e"}}return u};s.$S.prototype.MF=function(l,t){var a=[],k=l.$;
for(var R=0;R<t.length;R++){var u=t[R];a.push(u%k+.5,Math.floor(u/k)+.5)}return a};s.$S.prototype.Qw=function(l,t,a){var k=t.$,R=t.e,u=l.clone();
$.nm.a_(this.Sk,l.y*k+l.x);var b=this.Sk.YJ[l.y*k+l.x];for(var v=-a+1;v<a;v++)for(var H=-a+1;H<a;H++){var N=l.x+H,z=l.y+v;
if(N<0||N>=k||z<0||z>=R)continue;$.nm.a_(this.Sk,z*k+N);if(this.Sk.YJ[z*k+N]<b)u.$x(N,z)}return u};s.na=function(){s.CN.call(this,[10,15],s.qw,"tools/rselect");
this.qP="crosshair"};s.na.prototype=new s.CN;s.na.prototype.sJ=function(l,t,a,k){if(!k.bM||!this.jT)return;
var R=this.Sa(l,a,!0),u=R.x,b=R.y,v=R.x+R.$,H=R.y+R.e;l.F.HU={p:[u,b,v,b,v,H,u,H,u,b],A:["M","L","L","L","L"]};
l.lD=!0};s.na.prototype.GW=function(l,t,a,k){l.F.HU=null;l.lD=!0;this.finish(l,t,a,k)};s.na.prototype.getSelection=function(l,t,a,k){if(this.tG.cG(this.cB)||!this.jT)return null;
var R=this.Sa(l,a,!0);if(R.wp())return null;var u=$.I(R.s());$.set(u,255);return{channel:u,rect:R}};
s.na.prototype.kM=function(l,t,a,k,R){var u=l.T,b,v;if(u=="setsel"){v=l.O;b=new Wt(l.ER,this)}if(u=="all"){v={channel:$.I(a.$*a.e),rect:new d(0,0,a.$,a.e)};
$.set(v.channel,255);b=new Wt([7,0],this)}if(u=="polygon"){v=this.gA(l.TB);if(a.O&&l.U$!=null){v=$.SL.vD(v,a.O,l.U$)}b=new Wt(l.ER,this)}if(u=="deselect"){if(a.O==null)return;
v=null;b=new Wt([7,1],this)}if(u=="fromlayer"){var H=a.Q[l.u];if(l.O$H==0){if(H.rect.wp())return;var N=$.I(H.buffer.length>>2);
$.Du(H.buffer,N,3);v={channel:N,rect:H.rect.clone()}}else{var z=H.c$(),N,A;if(z.BL()==0){A=z.Sa();if(A.s()==0)return;
N=z.fk()}else{A=new d(0,0,a.$,a.e);N=$.I(A.s());z.OK(A,N)}v={channel:N,rect:A}}if(l.O$i&&a.O)v=$.SL.vD(a.O,v,"union");
b=new Wt("Selection from layer",this)}if(u=="inverse"){if(a.O==null){alert("No selection!");return}v={channel:$.I(a.$*a.e),rect:new d(0,0,a.$,a.e)};
$.co(a.O.channel,a.O.rect,v.channel,v.rect);$.sI(v.channel);b=new Wt([7,2],this)}if(u=="expand"){var Q=a.O.rect.clone();
Q.RK(l.V,l.V);v={channel:$.I(Q.s()),rect:Q};var S=$.I(v.channel.length);$.co(a.O.channel,a.O.rect,S,v.rect);
$.style.stroke(S,v.channel,v.rect,l.V);b=new Wt([7,4],this)}if(u=="contract"){var o=a.O.rect.clone();
o.RK(1,1);var S=$.I(o.s()),p=$.I(S.length);$.co(a.O.channel,a.O.rect,S,o);$.sI(S);$.style.stroke(S,p,o,l.V);
$.sI(p);v={channel:null,rect:a.O.rect.clone()};v.rect.RK(-l.V,-l.V);v.channel=$.I(v.rect.s());$.co(p,o,v.channel,v.rect);
var b=new Wt([7,5],this)}if(u=="feather"){var O=Math.ceil(2.6*l.V);v={channel:null,rect:a.O.rect.clone()};
v.rect.RK(O,O);v.channel=$.I(v.rect.s());var S=$.I(v.channel.length);$.co(a.O.channel,a.O.rect,S,v.rect);
$.blur.gW(S,v.channel,v.rect,l.V);var b=new Wt([7,6],this)}if(u=="border"){v=s.na.MZ(a.O,l.V/2,l.V/2);
b=new Wt([7,9],this)}if(v!=null&&$.GQ(v.channel,0)){v=null;b.name=[7,1]}if(v)$.$e(v);b.data={T:"changesel",TL:a.O,PX:v};
a.KO(b);this.Bm(b.data,a)};s.na.MZ=function(l,t,a){var k=Math.max(1,Math.ceil(a)),R=l.rect.clone();R.RK(k,k);
var u=R.s(),b={channel:$.I(u),rect:R},v=$.I(u);$.co(l.channel,l.rect,v,b.rect);if(a!=0)$.style.stroke(v,b.channel,b.rect,a);
else $.Ll(v,b.channel);var H=$.I(u);$.sI(v);if(t!=0)$.style.stroke(v,H,b.rect,t);else $.Ll(v,H);$.SL.gk(b.channel,H,b.channel);
return b};s.ps=function(){s.Wc.call(this,[10,36],s.OHG,"tools/ruler");this.BZ=null;this.S_=null;this.g$=null;
this.gP=null};s.ps.prototype=new s.Wc;s.ps.prototype.ck=function(l){return l.bM};s.ps.prototype.disable=function(l,t,a,k){this.BZ=this.S_=null;
if(l)this.Jw(l)};s.ps.prototype.yY=function(l,t,a,k,R){var u=l.Y.H/w.m(),b=l.Y.KV(R.x,R.y);b.x=Math.round(b.x);
b.y=Math.round(b.y);var v=this.BZ;if(v&&x.tq(b,v[0])*u<6)this.S_=[0];else if(v&&x.tq(b,v[1])*u<6)this.S_=[1];
else if(v&&s.ps.OIm(v[0],v[1],b)*u<6&&Math.min(v[0].x,v[1].x)-5<=b.x&&b.x<=Math.max(v[0].x,v[1].x)+5&&Math.min(v[0].y,v[1].y)-5<=b.y&&b.y<=Math.max(v[0].y,v[1].y)+5){this.S_=[0,1];
this.gP=[v[0].clone(),v[1].clone()];this.g$=b}else{this.BZ=[b.clone(),b.clone()];this.S_=[1]}};s.ps.prototype.JP=function(l,t,a,k,R){if(this.S_==null)return;
var u=this.BZ,b=this.S_,v=l.Y.KV(R.x,R.y);v.x=Math.round(v.x);v.y=Math.round(v.y);if(b.length==2){var H=v.x-this.g$.x,N=v.y-this.g$.y;
u[0]=this.gP[0].clone();u[0].offset(H,N);u[1]=this.gP[1].clone();u[1].offset(H,N)}else{u[b[0]].$x(v.x,v.y);
if(k.L(J.hV)){u[b[0]]=s.xr.Qm(u[1-b[0]],u[b[0]])}}this.Jw(l);this.wX(t,w.E.J,{T:w.h.kq,P:this.id,O$k:u[0],O$z:u[1]})};
s.ps.prototype.cV=function(l,t,a,k,R){this.S_=null};s.ps.prototype.wX=function(l,t,a){var k=new Z(t,!0);
k.data=a;l.t(k)};s.ps.prototype.Jw=function(l){var t=this.BZ;if(t==null){l.F.HU=null;l.F.kp=[]}else{var a=[t[0].x,t[0].y,t[1].x,t[1].y];
l.F.HU={A:["M","L"],p:a};l.F.kp=a}l.lD=!0};s.ps.OIm=function(l,t,a){var k=t.x-l.x,R=t.y-l.y,u=Math.abs(R*a.x-k*a.y+t.x*l.y-t.y*l.x),b=Math.sqrt(k*k+R*R);
return u/b};s.ln=function(){s.cD.call(this,[10,19],s.lc,"tools/sharpen");this.di="copy"};s.ln.prototype=new s.cD;
s.ln.prototype.yY=function(l,t,a,k,R){var u=this.MA.pdetail?Wy.zG:Wy.lc;if(k.L(J.Bl))u=Wy.le;this.Ys(l,a,k,R,this.MA.strn,u);
if(this.Ac==null)return;this.Yr(l)};s.ln.prototype.JP=function(l,t,a,k,R){if(this.Ac==null)return;this.YN(l,t,a);
if(!R.bM)return;this.ss(l,a,k,R);this.Yr(l)};s.Ke=function(){s.cD.call(this,[10,24],s.W$,"tools/shbrush");
this.di="draw";this.MA.opacity=.5};s.Ke.prototype=new s.cD;s.Ke.prototype.yY=function(l,t,a,k,R){this.Ys(l,a,k,R,1);
if(this.Ac==null)return;this.Yr(l)};s.Ke.prototype.JP=function(l,t,a,k,R){if(this.Ac==null)return;this.YN(l,t,a);
if(!R.bM)return;this.ss(l,a,k,R);this.Yr(l)};s.Ke.prototype.cV=function(l,t,a,k,R){if(this.Ac==null)return;
this.RS(l,"sheal2",this.Ac.xK(),this.Ac.Sa(),this.Ac.Sa(),null);this.i(l,this.Ac.Sa());s.cD.prototype.cV.call(this,l,t,a,k,R)};
s.Ke.prototype.kM=function(l,t,a,k,R){if(l.T&&l.T.slice(0,4)=="heal"){if(a.O==null){alert("Select an area to heal first.");
return}if(!a.JR())return;this.EF(a);var u=a.O,b=$.I(u.rect.s()*4);$.xm(u.channel,b,3);this.RS(a,"s"+l.T,b,u.rect,u.rect);
this.i(a,u.rect);this.finish(a,u.rect)}else s.cD.prototype.kM.call(this,l,t,a,k,R)};s.lK=function(){s.cD.call(this,[10,20],s.qE,"tools/smudge");
this.di="copy"};s.lK.prototype=new s.cD;s.lK.prototype.yY=function(l,t,a,k,R){this.Ys(l,a,k,R,this.MA.strn,Wy.qE);
if(this.Ac==null)return;this.Yr(l)};s.lK.prototype.JP=function(l,t,a,k,R){if(this.Ac==null)return;this.YN(l,t,a);
if(!R.bM)return;this.ss(l,a,k,R);this.Yr(l)};s.lj=function(){s.cD.call(this,[10,23],s.uH,"tools/sponge");
this.di="sponge"};s.lj.prototype=new s.cD;s.lj.prototype.yY=function(l,t,a,k,R){this.Ys(l,a,k,R,this.MA.flow);
if(this.Ac==null)return;this.Yr(l)};s.lj.prototype.JP=function(l,t,a,k,R){if(this.Ac==null)return;this.YN(l,t,a);
if(!R.bM)return;this.ss(l,a,k,R);this.Yr(l)};s.NZ=function(){s.Wc.call(this,[10,17],s.wQ,"tools/zoom");
this.sI=!1;this.Kx=!0;this.Dx=null;this.gS=0;this.jp=null};s.NZ.prototype=new s.Wc;s.NZ.prototype.enable=function(l,t,a,k){this.Qt(t)};
s.NZ.prototype.yY=function(l,t,a,k,R){this.Dx=new x(R.x,R.y);this.gS=l.Y.H;this.jp=l.Y.n.clone()};s.NZ.prototype.JP=function(l,t,a,k,R){if(this.Dx==null)return;
var u=Math.round((R.x-this.Dx.x)/16);if(u==0)return;var b=s.NZ.MG(this.gS),v=s.NZ.ge[Math.max(0,Math.min(s.NZ.ge.length-1,b-u))];
l.Y.H=this.gS;l.Y.n=this.jp.clone();this.kM({T:"zoom",H:v,rX:this.Dx},t,l,k,a)};s.NZ.prototype.cV=function(l,t,a,k,R){if(x.tq(this.Dx,R)<4){var u=this.Kx;
if(this.sI)u=!u;this.kM({T:"zoom",Kx:u,rX:R},t,l,k,a)}this.Dx=null};s.NZ.ge=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
s.NZ.MT=function(l,t,a,k){var R=1;while(l*R*1/2>a||t*R*1/2>k)R*=1/2;if(l*R*2/3>a||t*R*2/3>k)R*=1/2;else if(l*R>a||t*R>k)R*=2/3;
return R};s.NZ.OIF=function(l,t){var a=s.NZ.MG(l);if(t&&a==0)return l;if(!t&&a==s.NZ.ge.length-1)return l;
return s.NZ.ge[t?a-1:a+1]};s.NZ.MG=function(l){var t=0;while(s.NZ.ge[t]>l)t++;return t};s.NZ.Ms=function(l,t,a,k){var R=l.NY;
if(k==0||k==null){k=s.NZ.OIF(l.H,a);if(k==l.H)return}var u=l.KV(t.x,t.y);if(R.$*k<=l.cO.$&&R.e*k<=l.cO.e)l.n.$x(0,0);
else{l.n.x=Math.round(R.$*k/2-u.x*k+(t.x-l.cO.$/2));l.n.y=Math.round(R.e*k/2-u.y*k+(t.y-l.cO.e/2))}l.H=k};
s.NZ.prototype.kM=function(l,t,a,k,R){var u=0,b=!1,v=null;if(l.T=="adapt"){var H=0;if(l.V=="pixel")H=1;
if(l.V=="fitscr"){var H=0,N=a.Y.cO.$,z=a.Y.cO.e;if(a.$<=N&&a.e<=z){var A=1;while(a.$*(A+1)<=N&&a.e*(A+1)<=z)A++;
H=A}else{H=s.NZ.MT(a.$,a.e,N,z)}}v=new x(Math.round(a.Y.cO.$/2),Math.round(a.Y.cO.e/2));u=H}if(l.T=="scroll"){v=l.rX;
b=l.pl.y<0}if(l.T=="zoom"){v=l.rX?l.rX:new x(Math.round(a.Y.cO.$/2),Math.round(a.Y.cO.e/2));if(l.H!=null)u=l.H;
else b=l.Kx}if(l.T=="mskView"&&a.Y.nV!=l.V){a.Y.nV=l.V;a.lD=!0}if(v==null)return;s.NZ.Ms(a.Y,v,b,u);
a.da=!0};s.NZ.prototype.Bd=function(l,t,a,k){if(this.sI!=k.L(J.Bl)){this.sI=k.L(J.Bl);var R={T:w.h.kq,P:this.id,sI:this.sI},u=new Z(w.E.J,!0);
u.data=R;t.t(u);this.Qt(t)}};s.NZ.prototype.Qt=function(l){var t=new Z(w.E.J,!0),a=this.Kx;if(this.sI)a=!a;
t.data={T:w.h.gV,fR:a?"zoom-in":"zoom-out"};l.t(t)};s.NZ.prototype.fE=function(l,t,a,k){if(l.action){var R={T:"adapt",V:l.action};
this.kM(R,t,a,k,null)}else{this.Kx=l.Kx;this.Qt(t)}};s.Mp=function(l,t,a){s.Wc.call(this,l,t,a);this.MS=null;
this.FZ=null;this.Ul=0};s.Mp.prototype=new s.Wc;s.Mp.prototype.qU=function(l,t,a,k){if(l._.length==0)return;
var R=l.Q[l._[0]],u=R.add.vmsk,b=R.add.vstk,v=s.Mp.MC(l,l._[0]);this.MS=l;this.FZ=t;if(R.OY()&&u!=null&&(JSON.stringify(b)!=JSON.stringify(a.ZA)||JSON.stringify(v)!=JSON.stringify(a.ZP))){this.Ul=Date.now();
var H=new Z(w.E.J,!0);H.data={T:w.h.kn,wd:Wm.rd,V:v};t.t(H);H.data={T:w.h.kn,wd:Wm.iY,V:b};t.t(H)}};
s.Mp.prototype.gO=function(l,t){if(this.MS==null)return;if(t==Wm.CM||t==Wm.rd||t==Wm.iY){if(Date.now()-this.Ul<50)return;
var a=t==Wm.rd,k=this.MS,R=a?l.ZP:l.ZA,u=[];for(var b=0;b<k._.length;b++){var v=k._[b],H=k.Q[v];if(!H.OY()||H.add.vmsk==null)continue;
u.push(v)}var N=new Z(w.E.q,!0);N.P=s.sO;N.data={T:_.nn,p_:u,Me:a,V:R};if(u.length!=0)this.FZ.t(N)}};
s.Mp.prototype.kM=function(l,t,a,k,R){var u=a.Q[a._[0]],b=u.add.vmsk,v=u.add.vogk,H=b.clone(),N=b.clone(),z=JSON.stringify(v);
if(l.T=="remove"){if(N._.length==0)return;var A=0;for(var Q=0;Q<N._.length;Q++){v.splice(N._[Q]+A,1);
A--}N.k=$.r.OzF(N.k,N._);N._=[];N.dV=[]}if(l.T=="append"){var S=$.r.HP(N.k),o=$.r.HP(l.Ug);N.k=N.k.concat(l.Ug.slice(2));
N._=[];for(var Q=0;Q<o;Q++)N._.push(S+Q);for(var Q=0;Q<o;Q++)v.push(JSON.parse(JSON.stringify(l.Zb[Q])))}this.tV(a,u,N,v);
this.ZS(a,l.ER,a._[0],H,N.clone(),null,z,JSON.stringify(v))};s.Mp.prototype.rC=function(l){return[J.tQ].indexOf(l)!=-1};
s.Mp.prototype.Bd=function(l,t,a,k){if(l==null)return;var R=l.Q[l._[0]],u=R?R.add.vmsk:null;if(u==null)return;
if(k.L(J.ZR)||k.L(J.KX)){u.dV=[];l.lD=!0}if(u._.length!=0){var b=k.rF();if(b.x!=0||b.y!=0){var v=u.clone(),H=u.clone(),N=new WM(1,0,0,1,b.x,b.y),z=R.add.vogk,A=JSON.stringify(z);
$.r.CH(H.k,N,H._);$.$F.N(z,$.U.tU(N),H._);this.tV(l,R,H,z);this.ZS(l,"Move Paths",l._[0],v,H.clone(),!0,A,JSON.stringify(z))}if(k.L(J.tQ))this.kM({T:"remove",ER:"Delete Paths"},t,l,k,a)}};
s.Mp.prototype.ZS=function(l,t,a,k,R,u,b,v){var H=new Wt(t,this);H.data={jw:a,gE:k,cj:R,UI:u,UP:b,Zb:v};
l.KO(H)};s.Mp.prototype.Bm=function(l,t){this.tV(t,t.Q[l.jw],l.cj.clone(),JSON.parse(l.Zb))};s.Mp.prototype.NB=function(l,t){this.tV(t,t.Q[l.jw],l.gE.clone(),JSON.parse(l.UP))};
s.Mp.prototype.tV=function(l,t,a,k){t.add.vmsk=a;t.add.vogk=k;a.wU=!0;t.cR(l);l.i()};s.Mp.MC=function(l,t){var a=l.Q[t],k=a.add.vstk,R=null;
if(k&&!k.fillEnabled.v)R={cH:0};else if(a.add.SoCo)R={cH:1,Xj:a.add.SoCo};else if(a.add.GdFl)R={cH:2,Xj:a.add.GdFl};
else if(a.add.PtFl)R={cH:3,Xj:a.add.PtFl};return R};s.Mp.Xb=function(l,t){var a=l.add.vmsk,k=l.add.vstk,R=t.cH;
if(k)k.fillEnabled.v=R!=0;if(R>0){var u=["SoCo","GdFl","PtFl"][R-1];for(var b=0;b<3;b++)delete l.add[["SoCo","GdFl","PtFl"][b]];
l.add[u]=t.Xj}};s._Z=function(l,t,a,k){s.Mp.call(this,l,t,a);this.MA={tmode:1,shape:null,pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{hL:0}};
this.O$K=k;this.cv=null;this.gD=null;this.rp=null};s._Z.prototype=new s.Mp;s._Z.prototype.ck=function(l){return l.bM&&this.id!=s.uP};
s._Z.prototype.enable=function(l,t,a,k,R){var u=new Z(w.E.J,!0);u.data={T:w.h.gV,fR:"crosshair"};t.t(u)};
s._Z.prototype.ni=function(l,t,a,k){};s._Z.prototype.yY=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);u=s.Ya.TM(l,u,a);
var b=this.MA.tmode,v=l.Q[l._[0]],H=v?v.add.vmsk:null;if(b==0&&H==null){alert("Paths can be added to existing shapes only.");
return}if(b==2&&!l.JR())return;if(b==1){var N=new Z(w.E.q,!0);N.P=s.sO;N.data={T:_.vS,Jk:1};t.t(N);v=l.Q[l._[0]];
H=v.add.vmsk}this.rp=[u.x,u.y];this.cv=u;this.gD=new x(0,0)};s._Z.prototype.MR=function(l,t,a){var k=[this.cv.clone(),t.clone()];
k[0].x=Math.floor(k[0].x);k[0].y=Math.floor(k[0].y);k[1].x=Math.ceil(k[1].x);k[1].y=Math.ceil(k[1].y);
if(this.O$K)k=s._Z.LI(k[0],k[1],a,!1,this.MA.cstr);l.Y.js=new d(k[0].x,k[0].y,k[1].x-k[0].x,k[1].y-k[0].y);
return this.ni(k[0],k[1],a.L(J.hV),this.rp)};s._Z.prototype.LO=function(l,t,a){var k=l.Y.KV(t.x,t.y),R=this.MA.cstr;
if(R.hL==2){var u=new d(k.x-R.x,k.y-R.y,R.x,R.y),b=s.Ya.gZ(l,u,a);k.x+=b[0];k.y+=b[1];s.Ya.g_(l,u,b)}else k=s.Ya.TM(l,k,a);
return k};s._Z.prototype.JP=function(l,t,a,k,R){if(this.cv==null)return;var u=this.LO(l,R,a);if(k.L(J.Px))this.cv=u.ux(this.gD);
else this.gD=u.ux(this.cv);this.rp.push(u.x,u.y);if(this.MA.shape==null)this.MA.shape=a.ZL[0];var b=this.MR(l,u,k)[0],v=$.M.FQ(b);
l.F.HU=v;l.lD=!0};s._Z.prototype.cV=function(l,t,a,k,R){if(this.cv==null)return;var u=this.LO(l,R,a),b=this.MA.binop,v=this.MA.tmode;
if(this.rp.length!=2){var H=this.MR(l,u,k),N=H[0];if(v==0)N[2].mZ=[1,2,3,0][b];if(v!=2){var z=l.Q[l._[0]],A=z.add.vmsk,Q=z.add.vogk,S=A.clone(),o=A.clone(),p=JSON.stringify(Q);
o.k=o.k.concat(N.slice(2));o._=[$.r.HP(o.k)-1];Q.push(H[1]);this.tV(l,z,o,Q);if(v==0)this.ZS(l,this.name,l._[0],S,o,null,p,JSON.stringify(Q))}else{var o=new _.rv;
o.k=o.k.concat(N.slice(2));var O=o.c$(),E=$.I(O.rect.s()*4);$.IK(E,(a.rq&255)<<16|(a.rq>>8&255)<<8|(a.rq>>16&255)<<0);
$.xm(O.channel,E,3);var L=new Z(w.E.q,!0);L.P=s.cC;L.data={T:"draw",OOf:E,OOU:O.rect,ER:this.name};t.t(L)}}this.cv=null;
l.F.HU=null;l.F.C_=null;l.Y.js=null;l.lD=!0};s._Z.prototype.fE=function(l,t,a,k,R){for(var a in l)this.MA[a]=l[a]};
s._Z.LI=function(l,t,a,k,R){var u=l.x,b=l.y,v=t.x,H=t.y;if(R&&R.hL==2){u=v-R.x;b=H-R.y}else{var N=0;
if(R&&R.hL==1)N=R.y/R.x;else if(a&&a.L(J.hV))N=1;if(N!=0){var z=Math.abs(v-u),A=Math.abs(H-b),Q=z;if(A/z<N)Q*=A/z/N;
v=v>u?u+Q:u-Q;H=H>b?b+Q*N:b-Q*N}if(a&&a.L(J.Bl)){u-=v-u;b-=H-b}}if(k){if(u>v){var S=u;u=v;v=S}if(b>H){var S=b;
b=H;H=S}u=Math.floor(u);b=Math.floor(b);v=Math.ceil(v);H=Math.ceil(H)}return[new x(u,b),new x(v,H)]};
s.qa=function(){s.Mp.call(this,[10,29],s.OHy,"tools/pen");this.Ca=null;this.$J=null;this.gG=1;this.Ub=0};
s.qa.prototype=new s.Mp;s.qa.prototype.ck=function(l){return this.Ca!=null};s.qa.prototype.yY=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y),z,A;
u.x=Math.round(u.x);u.y=Math.round(u.y);var b=s.Ya.TM(l,u,a),v=l.Q[l._[0]],H=v?v.add.vmsk:null;if(this.gG==0&&H==null){alert("Paths can be added to existing shapes only.");
return}var N=4*w.m()/l.Y.H;if(H)z=$.r.km(H.k,u,!0,N);if(this.gG==1&&(H==null||(H.dV.length==0||H.dV[0]!=H.k.length-1)&&z.AZ==-1)){var Q=new Z(w.E.q,!0);
Q.P=s.sO;Q.data={T:_.vS,Jk:1};t.t(Q);v=l.Q[l._[0]];H=v.add.vmsk}var S=v.add.vogk;this.Ca=H.clone();this.$J=JSON.stringify(S);
var o=H.k,p=$.r.HP(o);A=$.r.Yq(H.k,new d(u.x-N,u.y-N,N*2,N*2));z=$.r.km(H.k,u,!0,N);if(z.AZ!=-1&&A[0].length==0){var O=$.r.jQ(o,z.AZ);
o[O].length++;o.splice(O+2+z.lw,0,{type:4,re:b.clone(),S:b.clone(),Fx:b.clone()});H.dV=[O+2+z.lw]}else{var E=0;
if(H.dV.length!=1){H._=[p];o.push({type:3,length:1,mZ:[1,2,3,0][this.Ub],rc:0,gx:0,gF:0});E=o.length;
S.push($.$F.kY())}else{var L=H.dV[0],U=$.r._n(o,L),O=$.r.jQ(o,U);if(L==O+o[O].length&&x.tq(u,o[O+1].S)<N){o[O].type=0;
H.dV=[];this.tV(l,v,H,S);l.lD=!0;this.ZS(l,"Close the Path",l._[0],this.Ca,H.clone(),null,this.$J,JSON.stringify(S));
this.Ca=null;this.$J=null;return}o[O].length++;E=L+1}o.splice(E,0,{type:4,re:b.clone(),S:b.clone(),Fx:b.clone()});
H.dV=[E]}this.tV(l,v,H,S);l.lD=!0};s.qa.prototype.JP=function(l,t,a,k,R){if(this.Ca==null)return;var u=l.Y.KV(R.x,R.y),b=s.Ya.TM(l,u,a),v=l.Q[l._[0]],H=v.add.vmsk,N=H.k,z=N[H.dV[0]];
z.Fx=b;z.re=z.S.add(z.S.ux(z.Fx));this.tV(l,v,H,v.add.vogk);l.lD=!0};s.qa.prototype.cV=function(l,t,a,k,R){if(this.Ca==null)return;
var u=l.Q[l._[0]],b=u.add.vmsk,v=u.add.vogk;this.ZS(l,"Add Anchor Point",l._[0],this.Ca,b.clone(),null,this.$J,JSON.stringify(v));
this.Ca=null};s.qa.prototype.fE=function(l,t,a,k,R){this.gG=l.tmode;this.Ub=l.binop};s.Xn=function(){s._Z.call(this,[10,30],s.uP,"tools/fpen",!1)};
s.Xn.prototype=new s._Z;s.Xn.prototype.ni=function(l,t,a,k){return[$.r.Ona(k,this.MA.tolr),$.$F.kY()]};
s.Rs=function(){s.Mp.call(this,[10,27],s.QV,"tools/pselect");this.Nr=null;this.Zv=!1;this.Ca=null;this.$J=null;
this.Ta=null};s.Rs.prototype=new s.Mp;s.Rs.prototype.ck=function(l){return l.bM};s.Rs.prototype.yY=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y),b=l.root.Qp(u);
if(b!=null){var v=b.O$_.u,H=l.Q.indexOf(v),N=v.add.vmsk;N.dV=[];var z=N._.indexOf(b.gu);v.td=!0;if(H!=l._[0]){l._=[H];
l.pj();l.TS=!0}else if(k.L(J.hV)){if(z==-1){N._.push(b.gu);this.Zv=!0}else N._.splice(z,1)}else{if(z==-1)N._=[b.gu];
this.Zv=!0}this.Ta=$.r.uf(N.k,N._)}this.Nr=u;l.rm=!0;l.lD=!0};s.Rs.prototype.JP=function(l,t,a,k,R){if(this.Nr==null)return;
var u=l.Y.KV(R.x,R.y);if(this.Zv){var b=l.Q[l._[0]];if(this.Ca==null){this.Ca=b.add.vmsk.clone();this.$J=JSON.stringify(b.add.vogk)}var v=this.Ta.clone(),H=v.x,N=v.y;
v.offset(u.x-this.Nr.x,u.y-this.Nr.y);v.x=Math.round(v.x);v.y=Math.round(v.y);var z=s.Ya.gZ(l,v,a),A=this.Ca.clone(),Q=new WM(1,0,0,1,v.x-H+z[0],v.y-N+z[1]),S=JSON.parse(this.$J);
$.r.CH(A.k,Q,A._);$.$F.N(S,$.U.tU(Q),A._);this.tV(l,b,A,S);s.Ya.g_(l,v,z)}else{var o=this.Nr;l.F.HU=$.M.Gf(new d(o.x,o.y,u.x-o.x,u.y-o.y));
l.lD=!0}};s.Rs.prototype.cV=function(l,t,a,k,R){if(this.Nr==null)return;var u=l.Y.KV(R.x,R.y),b=l.Q[l._[0]],v=b?b.add.vmsk:null;
if(this.Zv){var H=JSON.stringify(b.add.vogk);if(!this.Nr.cG(u))this.ZS(l,"Move Paths",l._[0],this.Ca,v,null,this.$J,H);
if(l!=null&&l.F.C_){l.F.C_=null;l.lD=!0}}else{if(v){var N=this.Nr,z=new d(N.x,N.y,u.x-N.x,u.y-N.y),A=$.r.Obo(v.k,z);
if(k.L(J.hV)){for(var Q=0;Q<A.length;Q++)if(v._.indexOf(A[Q])==-1)v._.push(A[Q])}else v._=A}l.F.HU=null;
l.lD=!0}this.Nr=null;this.Ca=null;this.Zv=!1};s.Rs.prototype.qU=function(l,t,a,k){s.Mp.prototype.qU.call(this,l,t,a,k);
if(l._.length==0)return;var R=l.Q[l._[0]],u=R.add.vmsk,b=R.add.vstk,v=R.add.vogk,H=new Z(w.E.J,!0);H.data={T:w.h.kq,P:this.id,cW:"main",eo:u?u:null,$F:v};
t.t(H)};s.Rs.prototype.fE=function(l,t,a,k,R){var u=l.Ce,b=a._[0];if(u.eo){var v=a.Q[b],H=v.add.vmsk.clone(),N=JSON.stringify(v.add.vogk);
this.tV(a,v,u.eo,u.$F);this.ZS(a,H._[0]==u.eo._[0]?"Fill Rule":"Path Order",b,H,u.eo,null,N,JSON.stringify(u.$F))}};
s.cu=function(){s.Mp.call(this,[10,28],s.OHB,"tools/dselect");this.nO=-1;this.wY=-1;this.Uz=null;this.Nr=null;
this.Ca=null;this.$J=null;this.FN=0;this.US={psnap:!1}};s.cu.prototype=new s.Mp;s.cu.prototype.ck=function(l){return l.bM};
s.cu.prototype.fE=function(l){this.US=l};s.cu.prototype.yY=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);
this.Uz=u.clone();var b=l.Q[l._[0]],v=b?b.add.vmsk:null;if(v==null)return;var H=4*w.m()/l.Y.H,N=$.r.Yq(v.k,new d(u.x-H,u.y-H,H*2,H*2));
if(N[0].length!=0){var z=this.nO=N[0][0];this.wY=0;var A=v.dV.indexOf(z);this.Nr=v.k[z].S.clone();if(k.L(J.hV)){if(A==-1)v.dV.push(z);
else v.dV.splice(A,1)}else if(A==-1)v.dV=[z]}else if(N[1].length!=0){this.nO=N[1][0];this.wY=1;this.Nr=u}else if(N[2].length!=0){this.nO=N[2][0];
this.wY=2;this.Nr=u}else{var Q=$.r.km(v.k,u,!0,H);if(Q.AZ==-1)this.Nr=u;else{v._=[Q.AZ];v.dV=[]}}if(this.Ca==null){this.Ca=b.add.vmsk.clone();
this.$J=JSON.stringify(b.add.vogk)}l.lD=!0};s.cu.prototype.JP=function(l,t,a,k,R){if(l==null||l._.length==0)return;
var u=l.Y.KV(R.x,R.y);if(this.US.psnap){u.x=Math.round(u.x);u.y=Math.round(u.y)}u=s.Ya.TM(l,u,a);var b=l.Q[l._[0]],v=b.add.vmsk,H=b.add.vogk;
if(this.nO!=-1){var b=l.Q[l._[0]],v=this.Ca.clone(),N=new WM(1,0,0,1,u.x-this.Nr.x,u.y-this.Nr.y),H=b.add.vogk;
if(this.wY==0)$.r.CH(v.k,N,null,v.dV);else{var z=v.k[this.nO],A=z.re,Q=z.Fx;if(this.wY==2){A=z.Fx;Q=z.re}A.$x(u.x,u.y);
if(z.type==1||z.type==4){var S=x.tq(A,z.S),o=x.tq(Q,z.S);if(o!=0){Q.x=z.S.x-(A.x-z.S.x)*(o/S);Q.y=z.S.y-(A.y-z.S.y)*(o/S)}}}this.XU(v,H);
this.tV(l,b,v,H)}else if(this.Nr!=null){var p=this.Nr;l.F.HU=$.M.Gf(new d(p.x,p.y,u.x-p.x,u.y-p.y));
l.lD=!0}};s.cu.prototype.cV=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y),b=l.Q[l._[0]],v=b?b.add.vmsk:null,H=b?b.add.vogk:null;
if(this.nO!=-1){if(Date.now()-this.FN<300){var N=v.k[this.nO],z=this.wY,A=null;if(z==0){var Q=N.re.cG(N.S),S=N.Fx.cG(N.S);
if(!Q&&!S){A="Anchor Type";if(N.type==1||N.type==4)N.type++;else{N.type--;N.Fx=N.S.add(N.S.ux(N.re))}}else{A="Add Handles";
if(Q&&S){N.re.x-=30;N.Fx.x+=30}else if(Q)N.re=N.S.add(N.S.ux(N.Fx));else if(S)N.Fx=N.S.add(N.S.ux(N.re))}}else{A="Remove Handle";
if(z==1)N.re.kE(N.S);else N.Fx.kE(N.S)}this.XU(v,H);this.tV(l,b,v,H);this.ZS(l,A,l._[0],this.Ca,v,null,this.$J,JSON.stringify(H))}else if(!this.Uz.cG(u)){this.ZS(l,"Drag Anchors",l._[0],this.Ca,v,null,this.$J,JSON.stringify(H))}this.FN=Date.now()}else if(this.Nr!=null){var o=this.Nr,p=new d(o.x,o.y,u.x-o.x,u.y-o.y);
if(p.$<0)p.x+=p.$;if(p.e<0)p.y+=p.e;p.$=Math.abs(p.$);p.e=Math.abs(p.e);var O=$.r.Yq(v.k,p);v.dV=O[0];
l.F.HU=null}this.Ca=null;this.Nr=null;this.nO=this.wY=-1;l.lD=!0};s.cu.prototype.XU=function(l,t){for(var a=0;
a<l.dV.length;a++){var k=$.r._n(l.k,l.dV[a]);$.$F.vf(t,k)}};s.cu.prototype.rC=function(l){return[J.tQ].indexOf(l)!=-1};
s.cu.prototype.Bd=function(l,t,a,k){if(l==null||l._.length==0)return;var R=l.Q[l._[0]],u=R.add.vmsk;
if(u==null||u.dV.length==0)return;var b=R.add.vogk,v=JSON.stringify(b),H=k.rF();if(H.x!=0||H.y!=0){var N=u.clone(),z=u.clone(),A=new WM(1,0,0,1,H.x,H.y);
$.r.CH(z.k,A,null,z.dV);this.XU(z,b);this.tV(l,R,z,b);this.ZS(l,"Move Anchors",l._[0],N,z.clone(),!0,v,JSON.stringify(b))}if(k.L(J.tQ)){var N=u.clone(),z=u.clone();
z.k=$.r.Ozm(z.k,z.dV,b);z.dV=[];this.tV(l,R,z,b);this.ZS(l,"Delete Anchors",l._[0],N,z.clone(),!0,v,JSON.stringify(b))}};
s.cu.prototype.ZS=function(l,t,a,k,R,u,b,v){var H=l.AA();if(u&&H!=null&&H.P==this&&H.data.UI&&H.data.jw==a&&JSON.stringify(H.data.gE.dV)==JSON.stringify(k.dV)){H.data.cj=R;
H.data.Zb=v}else{var H=new Wt(t,this);H.data={jw:a,gE:k,cj:R,UI:u,UP:b,Zb:v};l.KO(H)}};s.Rect=function(){s._Z.call(this,[10,32],s.OHc,"tools/rect",!0)};
s.Rect.prototype=new s._Z;s.Rect.prototype.ni=function(l,t,a){var k=this.MA.crad,R=t.x-l.x,u=t.y-l.y;
return[$.r.Wa.Rect(l.x,l.y,R,u,k),$.$F.ni(2,[l.x,l.y,t.x,t.y],[k,k,k,k])]};s.ie=function(){s._Z.call(this,[10,33],s.OHC,"tools/ellipse",!0)};
s.ie.prototype=new s._Z;s.ie.prototype.ni=function(l,t,a){var k=t.x-l.x,R=t.y-l.y;return[$.r.Wa.ie(l.x,l.y,k,R),$.$F.ni(5,[l.x,l.y,t.x,t.y])]};
s.XE=function(){s._Z.call(this,[10,34],s.OHh,"tools/pshape",!1)};s.XE.prototype=new s._Z;s.XE.prototype.ni=function(l,t,a){var k=this.MA.pshape,R=this.MA.crad,u=this.MA.irad/100,b=this.MA.sides,v=this.MA.length,o;
t=t.clone();if(a){if(Math.abs(t.x-l.x)<Math.abs(t.y-l.y))t.x=l.x;else t.y=l.y}var H=l.x,N=l.y,z=t.x,A=t.y,Q=Math.sqrt((z-H)*(z-H)+(A-N)*(A-N)),S=Math.atan2(-A+N,z-H);
if(k==0)o=$.r.Wa.O_p(H,N,Q,S,b,R);if(k==1)o=$.r.Wa.OV_(H,N,Q,S,b,R,u);if(k==2)o=$.r.Wa.OKF(H,N,Q,S,v);
return[o,$.$F.kY()]};s.kK=function(){s._Z.call(this,[10,35],s.OHv,"tools/line",!1)};s.kK.prototype=new s._Z;
s.kK.prototype.ni=function(l,t,a){var k=this.MA.width;t=t.clone();if(a){if(Math.abs(t.x-l.x)<Math.abs(t.y-l.y))t.x=l.x;
else t.y=l.y}return[$.r.Wa.kK(l.x,l.y,t.x,t.y,k),$.$F.kY()]};s.XK=function(){s._Z.call(this,[10,31],s.OHN,"tools/cshape",!0)};
s.XK.prototype=new s._Z;s.XK.prototype.ni=function(l,t,a){var k=this.MA.shape,R=k._Y.$/k._Y.e,u=_.rv.f_(k.k),b=t.x-l.x,v=t.y-l.y;
$.r.CH(u,new WM(b,0,0,v,l.x,l.y));return[u,$.$F.kY()]};s.b=function(l,t,a){s.Wc.call(this,l,t,a);this.rN=0;
this.Q=null;this.ug=null;this.Xh=null;this.TP=1;this.rR=!1;this.cursor=null;this.cY=null;this.TL=null;
this.Mg=!1;this.rJ=null;this.UU=0;this.oE=0;this.ng=null;this.PG=null;this.Hz=null;this.gM=null;this.gy=null};
s.b.prototype=new s.Wc;s.b.prototype.ck=function(l){return this.PG&&this.PG.Lr()};s.b.prototype.kM=function(l,t,a,k,R){this.Xh=R;
if(l.T=="doMouseDown"){if(this.PG==null)return;this.yY(a,t,R,k,l.rX);return}if(!this.Jv(a,R))return;
this.Q=a.$i(l.u==null,l.u);this.LS(a);var u=this.ng,b=l.ye!=null?l.ye:4,v=this.PG.OIs()[b],H=v.x,N=v.y;
if(l.T=="rot"&&l.V!=Math.PI&&(u.$+u.e&1)==1){H=Math.floor(H);N=Math.floor(N)}var z=new WM;z.translate(-H,-N);
if(l.T=="rot")z.rotate(l.V);if(l.T=="scl")z.scale(l.V.x,l.V.y);z.translate(H,N);var A=this.PG.Mv();$.M.N(A,z,A);
this.PG.Xu(A);this.MX(a,t,l.ER,!1)};s.b.prototype.xI=function(){return!0};s.b.prototype.Jv=function(l,t){if(l==null)return!1;
if(this.id==s.WJ)return l.O!=null;var a=l.$i(!0);for(var k=0;k<a.length;k++){var R=l.Q[a[k]];if(R.Mu(2)||R.Mu(31)){alert(Wq.get([6,57,0]));
return!1}if(R.add.artb){alert("You can not ransform the whole artboard");return!1}if(R.add.TySh)if(!Hw.EE(R.add.TySh,t.jF))return!1;
if(R.add.SoLd){if(a.length==1&&!$.Ha.Hq(R.add.SoLd.warp.v)&&(R.c$()&&R.c$().Bg||R.add.vmsk&&R.add.vmsk.Bg)){alert("Unlink masks before transforming Smart Object");
return!1}if(!l.OSX(R.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+l.AV(R.add.SoLd.Idnt.v).OD+")");
return!1}}}if(l.O==null)return!0;if(!l.JR())return!1;return l.Xq()};s.b.prototype.yY=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);
if(this.oE==1){var b=$.U.sI($.U.DY(this.PG.Mv(),this.ng));u=$.U.EY(b,u)}var v=this.oE==0?this.PG:this.Hz;
this.rR=v.yY(l,a,k,u);if(this.rR&&v._v(u)){if(Date.now()-this.UU<250)this.MX(l,t,null,!0);this.UU=Date.now()}};
s.b.prototype.Wo=function(l){var t=new Z(w.E.J,!0);t.data={T:w.h.gV,fR:this.cursor};l.t(t)};s.b.prototype.JP=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);
if(this.oE==1){var b=$.U.sI($.U.DY(this.PG.Mv(),this.ng));u=$.U.EY(b,u)}var v=this.oE==0?this.PG:this.Hz;
if(!R.bM){var H="default";if(v&&v.Er(u,l.Y.H))H=v.Er(u,l.Y.H);if(H!=this.cursor){this.cursor=H;this.Wo(t)}}if(!this.rR)return;
v.JP(l,a,k,u);this._H(l,a,!0);this.Ko(l);this.lJ(t)};s.b.prototype.cV=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);
this.PG.cV(l,a,k,u);this.rR=!1};s.b.prototype.Bd=function(l,t,a,k){if(k.L(J.KX))this.MX(l,t,null,!0);
else if(k.L(J.ZR))this.TR(l,t);else{var R=this.PG.Bd(l,a,k);if(R){this._H(l,a,!0);this.lJ(t)}}};s.b.prototype.fE=function(l,t,a,k){if(l.cW=="commit")this.MX(a,t,null,!0);
else if(l.cW=="cancel")this.TR(a,t);else if(l.cW=="switchWarp"){this.oE=1-this.oE;this.OIY();this.Ko(a);
this.lJ(t)}else if(l.cW=="wrp"){this.Hz.Lj(l.fO);this.Ko(a);this._H(a,this.Xh,!0)}else if(l.cW=="cen"){this.PG.OIR(l.fA);
this.Ko(a);this._H(a,this.Xh,!0)}else if(l.cW=="trn"){var R=$.U.tU(l.uZ),u=this.ng,b=$.U.DY(this.PG.Mv(),this.ng);
R[6]=b[6],R[7]=b[7];var v=[u.x,u.y,u.x+u.$,u.y,u.x+u.$,u.y+u.e,u.x,u.y+u.e];$.U.apply(R,v);this.TP=l.TP;
this.PG.Xu(v);this.Ko(a);this._H(a,this.Xh,!0)}};s.b.prototype.Ko=function(l){if(this.oE==0)this.PG.tL(l);
else{this.Hz.tL(l);var t=$.U.DY(this.PG.Mv(),this.ng);$.U.apply(t,l.F.HU.p);$.U.apply(t,l.F.kp)}};s.b.prototype.MX=function(l,t,a,k){this._H(l,this.Xh,this.TP==0);
var R=new Wt(a?a:this.name,this);if(this.rN==0)R.data={type:this.rN,Q:this.Q,rJ:this.ug,lS:s.b.gw(l,this.Q)};
else if(this.rN==1){var u=l.Q[this.Q[0]],b;if(u.Sb.cA<=0){b=$.I(u.Sb.Sd.s());$.Du(u.Sb.M_,b,3)}else b=l.O.channel;
var v={rect:u.Sb.Sd.clone(),channel:b};R.data={type:this.rN,u:this.Q[0],TL:this.TL,PX:v,cY:this.cY,Mg:this.Mg,Sb:u.Sb,rJ:this.rJ,lS:{MU:u.Sb.Sd,FJ:u.Sb.M_}}}else if(this.rN==2){R.data={type:this.rN,TL:this.TL,PX:{rect:l.O.rect.clone(),channel:$.clone(l.O.channel)}}}l.KO(R);
this.escape(l,t,k)};s.b.prototype.TR=function(l,t){if(this.rN==0)s.b.I$(l,this.Q,this.ug);else if(this.rN==1){var a=l.Q[this.Q[0]];
l.O=this.TL;if(!this.Mg){a.Sb.Sd=this.rJ.MU;a.Sb.M_=this.rJ.FJ;a.fi(l,0,0,l.O)}else{a.y_(l,this.cY)}l.i();
l.fF=!0}else if(this.rN==2){l.O=this.TL;l.fF=!0}this.escape(l,t,!0)};s.b.prototype.escape=function(l,t,a){this.PG.clear(l);
this.PG=null;this.Hz=null;this.oE=0;if(a)this.wX(t,w.E.J,{T:w.h.ot})};s.b.prototype.Bm=function(l,t){if(l.type==0)s.b.I$(t,l.Q,l.lS);
else{if(l.type==1){var a=t.Q[l.u];if(l.Mg){a.Sb=l.Sb}else{a.Sb.Sd=l.lS.MU;a.Sb.M_=l.lS.FJ}a.fi(t,0,0,t.O);
t.i()}t.O={rect:l.PX.rect.clone(),channel:$.clone(l.PX.channel)};t.fF=!0}};s.b.prototype.NB=function(l,t){if(l.type==0)s.b.I$(t,l.Q,l.rJ);
else{if(l.type==1){var a=t.Q[l.u];if(l.Mg){a.y_(t,l.cY)}else{a.Sb.Sd=l.rJ.MU;a.Sb.M_=l.rJ.FJ;a.fi(t,0,0,t.O)}t.i()}t.O=l.TL;
t.fF=!0}};s.b.prototype.enable=function(l,t,a,k,R,u){this.Wo(t);if(this.PG)return;this.Q=l.$i(!0);this.Xh=a;
this.LS(l,u&&u.fc==1?1:null);this.lJ(t);this.Ko(l);if(u&&u.fc==2)this.fE({cW:"switchWarp"},t,l,k)};s.b.prototype.lJ=function(l){var t={T:w.h.kq,P:this.id};
if(this.oE==0){var a=$.U.DY(this.PG.Mv(),this.ng),k=$.U.gd(a);t.uZ={sg:k,fA:this.PG.qs(),MU:this.ng.clone()}}else{t.fO=this.Hz.Xs()}t.O$D=this.Hz!=null;
this.wX(l,w.E.J,t)};s.b.prototype.LS=function(l,t){var a=this.id==s.WJ,k=!0,R=l.Q[this.Q[0]],b=!1,v=null;
if(a){this.rN=2;this.TL=l.O}else if(l.O&&this.Q.length==1&&!R.rect.wp()){this.rN=1;this.TL=l.O;this.cY=R.Sb;
this.Mg=!1;if(!R.iG(l,l.O)){this.Mg=!0;R.yU(l,l.O,!1)}this.rJ={FJ:R.Sb.M_,MU:R.Sb.Sd}}else{this.rN=0;
this.ug=s.b.gw(l,this.Q);for(var u=0;u<this.ug.length;u++)if(this.ug[u][3]!=null)k=!1}if(this.ug&&this.ug.length==1){var H=this.ug[0];
if(H[3]==null)b=!0;if(H[4]!=null){v=l.Q[this.Q[0]].add.SoLd;if(H[1]||H[2])b=!1}}var N=a?l.O.rect.clone():s.b.Sa(l,this.Q);
this.ng=N;if(!a&&v){var z=s.b._W(v.nonAffineTransform);this.ng=$.M._f($.Ha.GY(v.warp.v));if(b)this.Hz=new $P(v.warp.v);
this.gM=$.U.DY(z,this.ng);this.PG=new lV(z,!0,!0,k,!1,!1,t)}else{if(b||a)this.Hz=new $P($.Ha.I(this.ng));
this.gM=[1,0,0,0,1,0,0,0];this.PG=new lV([N.x,N.y,N.x+N.$,N.y,N.x+N.$,N.y+N.e,N.x,N.y+N.e],!0,!0,k,!1,!1,t)}this.gy=[1,0,0,0,1,0,0,0]};
s.b.Sa=function(l,t){if(t==null)t=l.$i(!0);var a=new d;if(l.O&&t.length==1)a=l.O.rect.clone();else for(var k=0;
k<t.length;k++)a=a.wm(l.Q[t[k]].Tp(l,t.length==1));return a};s.b.prototype.wX=function(l,t,a,k){var R=new Z(t,!0);
R.data=a;if(k)R.P=k;l.t(R)};s.b.gw=function(l,t,a){var k=[];for(var R=0;R<t.length;R++){var u=l.Q[t[R]],b=u.iy(l,a),v=[];
if(b.indexOf(0)!=-1){var H={nr:$.clone(u.buffer),MU:u.rect.clone()};v.push(H);if(u.Bx()){var N=u.SS(l);
H.O$s=$.clone(N.buffer);H.O$M=N.rect.clone()}}else v.push(null);if(b.indexOf(1)!=-1)v.push(u.c$().clone());
else v.push(null);if(b.indexOf(2)!=-1)v.push({eo:u.add.vmsk.clone(),BF:u.add.vstk?JSON.parse(JSON.stringify(u.add.vstk)):null,$F:u.add.vogk?JSON.parse(JSON.stringify(u.add.vogk)):null});
else v.push(null);if(u.add.TySh&&v[0])v.push(u.add.TySh.N.clone());else v.push(null);if(u.add.SoLd&&v[0])v.push(JSON.parse(JSON.stringify(u.add.SoLd)));
else v.push(null);if(b.indexOf(3)!=-1)v.push(u.SS(l).Z.clone());else v.push(null);k.push(v)}return k};
s.b.I$=function(l,t,a){for(var k=0;k<t.length;k++){var R=l.Q[t[k]],u=a[k];if(u[0]){R.rect=u[0].MU.clone();
R.buffer=$.clone(u[0].nr);if(R.Bx()){var b=R.SS(l);b.buffer=$.clone(u[0].O$s);b.rect=u[0].O$M.clone()}}if(u[1]){R.c$().channel=$.clone(u[1].channel);
R.c$().rect=u[1].rect.clone();R.c$().wU=!0}if(u[2]){R.add.vmsk=u[2].eo.clone();if(u[2].BF)R.add.vstk=JSON.parse(JSON.stringify(u[2].BF));
if(u[2].$F)R.add.vogk=JSON.parse(JSON.stringify(u[2].$F))}if(u[3]){R.add.TySh.N=u[3].clone()}if(u[4]){R.add.SoLd=JSON.parse(JSON.stringify(u[4]))}if(u[5]){var v=R.SS(l).Z;
v.channel=$.clone(u[5].channel);v.rect=u[5].rect.clone()}R.cR(l);R.i()}l.i()};s.b.bd=function(l){var t=l.clone(),a=Math.atan2(-t.l,t.w),k=new WM;
k.rotate(-a);t.concat(k);return(Math.abs(t.w)+Math.abs(t.N_))/2};s.b.XZ=function(l,t,a,k,R,u,b,v){var H=$.U.gd(u),N=s.b.bd(H);
for(var z=0;z<a.length;z++){var A=l.Q[a[z]],Q=k[z];if(A.add.lmfx&&v)WD.Xc(A.add.lmfx,N);if(Q[0]&&!Q[3]&&!Q[4]&&!Q[5]){var S=s.b.qY([Q[0].nr,Q[0].MU],R,u,b,R?A.buffer.buffer:null);
if(S){A.rect=S.rect;A.buffer=S.buffer}}if(Q[1])s.b.LU(l,Q[1],A.c$(),R,u,b);if(Q[2]){var o=b&&!$.Ha.Hq(b),p=Q[2].eo.clone(),O=a.length==1&&p._.length!=0;
if(o){var E=$.Ha.GY(b);$.U.apply(u,E);$.r.OIq(p.k,E)}else $.r.OgC(p.k,u,O?p._:null);if(A.add.vstk&&v)A.add.vstk.strokeStyleLineWidth.v.val=Q[2].BF.strokeStyleLineWidth.v.val*N;
if(A.add.vogk){A.add.vogk=JSON.parse(JSON.stringify(Q[2].$F));if(o)$.$F.OWu(A.add.vogk);else $.$F.N(A.add.vogk,u,a.length>1?[]:p._,v)}p.cg*=N;
A.add.vmsk=p;if(A.add.vogk)$.$F.uI(A.add.vogk,A.add.vmsk)}if(Q[3]){var L=Q[3].clone();L.concat(H);A.add.TySh.N=L;
var U=new HR(A.add.TySh.dH,t.jF),W=Hw.zM(U,A.add.TySh);A.rect=W.rect;A.buffer=W.nr}if(Q[4]){var Y=A.add.SoLd,y=s.b._W(Q[4].nonAffineTransform);
$.U.apply(u,y);var C=$.M.ju(y);if(lV.XY(y)){if(b){var X=$.M._f($.Ha.GY(Q[4].warp.v)),M=$.U.DY(y,X),g=$.M._f($.Ha.GY(b));
y=[g.x,g.y,g.x+g.$,g.y,g.x+g.$,g.y+g.e,g.x,g.y+g.e];$.U.apply(M,y);Y.warp.v=b}var n=$.U.DY(y),V=y;if(!$.U.Ed(n)){n[6]=n[7]=0;
V=[0,0,1,0,1,1,0,1];$.U.apply(n,V)}Y.Trnf=s.b.tW(V);Y.nonAffineTransform=s.b.tW(y);A.Gk(l,R)}}if(Q[5])s.b.LU(l,Q[5],A.SS(l).Z,R,u,b);
if(R==!1)A.$e();A.cR(l);A.i()}l.i()};s.b.tS=function(l,t,a,k,R,u){if(a==null)a=!1;return s.b.qY(l,a,$.U.tU(t),null,k,R,u)};
s.b.qY=function(l,t,a,k,R,u,b){var v={},A=0;if(k&&!$.Ha.Hq(k)){var H=$.Ha.GY(k);$.U.apply(a,H);v.rect=$.M.ju(H);
v.buffer=$.I(v.rect.s()*4);$.wS.drawImage(H,l[0],l[1].$,l[1].e,v.buffer,v.rect,t);return v}$.nz(l);var N=l[0],z=l[1];
while(A+3<l.length&&$.U.Ed(a)&&s.b.bd($.U.gd(a))<.4){A+=2;var Q=l[A],S=l[A+1];a=$.U.bL(a,[z.$/S.$,0,-S.x,0,z.e/S.e,-S.y,0,0]);
z=S;N=Q}var o=$.U.bL(a,$.U.tU(new WM(z.$,0,0,z.e,z.x,z.y))),p=[0,0,1,0,1,1,0,1];$.U.apply(o,p);v.rect=$.M.ju(p);
if(b)v.rect=v.rect.gk(b);if(!lV.XY(p)||v.rect.$>3e4||v.rect.e>3e4)return null;var O=v.rect.s()*4;if(R&&R.byteLength>=O&&O>=R.byteLength>>2){v.buffer=new Uint8Array(R)}else{v.buffer=$.I(O)}$.U.drawImage(o,N,z.$,z.e,v.buffer,v.rect,t,u);
if(v.buffer)return v};s.b.LU=function(l,t,a,k,R,u){if(t.color==255)$.sI(t.channel);var b=t.rect,v=$.I(b.s()*4);
$.xm(t.channel,v,3);var H=s.b.qY([v,b],k,R,u);if(H){a.rect=H.rect;a.channel=$.I(H.rect.s());$.Du(H.buffer,a.channel,3);
a.wU=!0}if(t.color==255){$.sI(t.channel);if(H)$.sI(a.channel)}};s.b._W=function(l){var t=[],a=l.v.length;
for(var k=0;k<a;k++)t.push(l.v[k].v);return t};s.b.tW=function(l){var t={t:"VlLs",v:[]},a=l.length;for(var k=0;
k<a;k++)t.v.push({t:"doub",v:l[k]});return t};s.b.prototype.OIY=function(){var l=$.M._f($.Ha.GY(this.Hz.Xs())),t=$.U.DY(this.PG.Mv(),this.ng),a=[l.x,l.y,l.x+l.$,l.y,l.x+l.$,l.y+l.e,l.x,l.y+l.e];
$.U.apply(t,a);this.PG.Xu(a);this.ng=l};s.b.prototype._H=function(l,t,a){var k=$.U.DY(this.PG.Mv(),this.ng),v=1e-10;
k=$.U.bL(k,$.U.sI(this.gM));var R=$.U.gd(k),u=this.gy,b=$.U.gd(u);this.gy=k;var H=Math.abs,N=Math.round,z=k[2]-u[2],A=k[5]-u[5],Q=H(k[0]-u[0])<v&&H(k[1]-u[1])<v&&H(k[3]-u[3])<v&&H(k[4]-u[4])<v&&H(k[6]-u[6])<v&&H(k[7]-u[7])<v&&H(z-N(z))<v&&H(A-N(A))<v,S=this.rN==0&&this.Q.length==1&&this.ug[0][2]&&this.ug[0][2].eo._.length!=0;
if(Q&&this.rN==0&&a==!0&&this.oE==0&&!S){s.Ya.Ho(l,this.Q,s.Ya.YG(l,this.Q),Math.round(-b.Pu+R.Pu),Math.round(-b.wf+R.wf));
return}var o=this.Hz?this.Hz.Xs():null;if(this.rN==0){s.b.XZ(l,t,this.Q,this.ug,a,k,o)}else if(this.rN==1){var p=l.Q[this.Q[0]],O=this.rJ.MU;
if(p.cA<=0){var E=s.b.qY([this.rJ.FJ,O],a,k,o);p.Sb.M_=E.buffer;p.Sb.Sd=E.rect;var L=$.I(E.rect.s());
$.Du(p.Sb.M_,L,3);l.O={channel:L,rect:p.Sb.Sd.clone()}}else{var U=$.I(O.s()*4);$.xm(this.rJ.FJ,U,3);
var E=s.b.qY([U,O],a,k,o);p.Sb.M_=$.I(E.rect.s());$.Du(E.buffer,p.Sb.M_,3);p.Sb.Sd=E.rect;this.LE(l,a,k,o)}p.fi(l,0,0,l.O);
if(a==!1)p.$e();l.fF=!0;l.i()}else if(this.rN==2)this.LE(l,a,k,o)};s.b.prototype.LE=function(l,t,a,k){var R=this.TL.rect,u=$.I(R.s()*4);
$.xm(this.TL.channel,u,3);var b=s.b.qY([u,R],t,a,k),v=$.I(b.rect.s());$.Du(b.buffer,v,3);l.O={channel:v,rect:b.rect};
l.fF=!0};s.b.prototype.disable=function(l,t,a,k){if(this.PG)this.MX(l,t,null,!0)};s.LK=function(){s.b.call(this,[10,16],s.Yc,"tools/transform")};
s.LK.prototype=new s.b;s.L_=function(){s.b.call(this,[7,10],s.WJ,"tools/transform")};s.L_.prototype=new s.b;
s.lQ=function(){s.cD.call(this,[10,37],s.Rz,"tools/qselect");this.di="qselect"};s.lQ.prototype=new s.cD;
s.lQ.prototype.yY=function(l,t,a,k,R){this.Ys(l,a,k,R,1);if(this.Ac==null)return;this.Yr(l)};s.lQ.prototype.JP=function(l,t,a,k,R){if(this.Ac==null)return;
this.YN(l,t,a);if(!R.bM)return;this.ss(l,a,k,R);this.Yr(l)};function lV(l,t,a,k,R,u,b){this.ub=null;
this.BZ=l?l.slice(0):null;this.gR=4;this.cB=null;this.UE=null;this.f$=null;this.iX=-1;this.UK=[];for(var v=0;
v<8;v++)this.UK.push(w.zh(Wr.Ogh(0,PIMG.rotate,-.5,-.5,-45-v*45)));this.U_=t;this.O$t=a;this.O$C=k;this.OWW=R;
this.Ur=u;this.fc=b}lV.prototype.Lr=function(){return this.iX!=-1};lV.prototype.Mv=function(){return this.BZ.slice(0)};
lV.prototype.Xu=function(l){this.BZ=l};lV.prototype.OIs=function(){return this.qJ(this.BZ)};lV.prototype.qs=function(l){if(l==null)l=this.BZ;
if(this.gR==9)return this.cB;else return this.qJ(l)[this.gR]};lV.prototype.OIR=function(l){if(this.gR==9)this.cB=l.clone();
else{var t=this.qs(),a=new WM(1,0,0,1,l.x-t.x,l.y-t.y);$.M.N(this.BZ,a,this.BZ)}};lV.prototype.Er=function(l,t,a){var k=this.IQ(l,t),R;
if(k==9)return"default";if(k==10&&a)return null;if(k==10&&!this.U_)return"move";if(k==-1||k==4)return null;
if(k==11){var u=this.qs().ux(l);R=90-Math.atan2(u.y,u.x)*180/Math.PI;var b=Math.round(8*(R/360));b=(b+8)%8;
return this.UK[b]}else{var v=this._M(l,this.BZ);R=[135,90,45,180,0,0,225,270,315][k];var H=$.U.DY(this.BZ);
R+=Math.atan2(-H[3],H[0])*180/Math.PI;var N="ew nesw ns nwse ew nesw ns nwse".split(" "),b=Math.round(8*(R/360));
b=(b+8)%8;return N[b]+"-resize"}};lV.prototype._M=function(l,t){var a=$.U.sI($.U.DY(t)),k=new Float64Array(2);
$.U.af(l.x,l.y,a,k);return new x(k[0],k[1])};lV.prototype._v=function(l){var t=this._M(l,this.BZ);return 0<=t.x&&t.x<=1&&0<=t.y&&t.y<=1};
lV.prototype.yY=function(l,t,a,k,R){var u=l.Y.H;if(this.BZ==null)k=s.Ya.TM(l,k,t);this.f$=k.clone();
if(this.BZ==null){this.f$.offset(1,1);var b=R==null?1:1/R;this.BZ=[k.x,k.y,k.x+1,k.y,k.x+1,k.y+b,k.x,k.y+b];
this.ub=this.BZ.slice(0);this.iX=8;this.tL(l);return!0}this.ub=this.BZ.slice(0);var v=this.IQ(k,u);if(0<=v&&v<=8)this.f$=this.qJ(this.BZ)[v];
this.iX=v;this.tL(l);this.UE=this.qs();return v!=-1};lV.prototype.IQ=function(l,t){var a=-1,k=this.qJ(),R=6*w.m()/t;
if(a==-1)if(x.tq(this.qs(),l)<R)a=9;if(a==-1)for(var u=0;u<k.length;u++)if(u!=4&&x.tq(k[u],l)<R)a=u;
if(a==-1){if(this._v(l)){if(this.U_)a=10}else{var b=this._M(l,this.BZ),v=new d(0,0,1,1);v.RK(.2,.2);
a=v.ML(b)?11:10}}return a};lV.prototype.JP=function(l,t,a,k){if(this.iX==-1)return;var R=a.L(J.hV),u=a.L(J.Bl),b=a.L(J.$K),v=l.Y.H,H=this.f$,N=this.iX,z=this.qJ(),A=s.Ya.TM(l,H,t),Q=s.Ya.TM(l,k,t),S,o;
if(N==9){var z=this.qJ(),p=-1;for(var O=0;O<z.length;O++)if(x.tq(z[O],Q)*v<10)p=O;this.gR=p==-1?9:p;
this.cB=Q.clone()}else if(N==10){o=$.M._f(this.ub);var E=o.x,L=o.y;o.offset(k.x-H.x,k.y-H.y);if(this.Lx()){o.x=Math.round(o.x);
o.y=Math.round(o.y)}S=s.Ya.gZ(l,o,t);var U=new WM(1,0,0,1,o.x-E+S[0],o.y-L+S[1]);$.M.N(this.ub,U,this.BZ)}else if(N==11){var W=this.qs(this.ub),Y=W.ux(k),y=W.ux(H),C=Math.atan2(Y.y,Y.x),X=Math.atan2(y.y,y.x),U=new WM(1,0,0,1,-W.x,-W.y),M=Math.PI/12;
if(R)U.rotate(Math.round((X-C)/M)*M);else U.rotate(X-C);U.translate(W.x,W.y);$.M.N(this.ub,U,this.BZ)}else{var g,n=this.ub,V=N==0||N==2||N==6||N==8;
if(this.fc==1){if(V)R=u=b=!0}if(this.O$C&&V&&b){g=n.slice(0);var O=[0,0,2,0,0,0,6,0,4,0][N],i=-1,f=Q.x,r=Q.y;
if(R){var e=O+6&7,D=O+10&7,B=lV.Lm(n[O],n[O+1],n[e],n[e+1],Q.x,Q.y),h=lV.Lm(n[O],n[O+1],n[D],n[D+1],Q.x,Q.y),I=B[2]<h[2]?B:h;
f=I[0];r=I[1];if(u)i=B[2]<h[2]?e:D}else if(u)i=O+4&7;if(i!=-1){var j=n[i],c=n[i+1],m=(n[O]+j)/2,F=(n[O+1]+c)/2;
g[i]=m-(f-m);g[i+1]=F-(r-F)}g[O]=f;g[O+1]=r}else{g=this.BZ.slice(0);if(this.Lx()){Q.x=Math.round(Q.x);
Q.y=Math.round(Q.y)}var G=[0,1,2,5,8,7,6,3],q=G[(G.indexOf(N)+4)%8],W_=[];for(var O=0;O<3;O++)for(var i=0;
i<3;i++)W_.push(new x(i/2,O/2));var W=this.UE,WU=this._M(Q,n),Wd=this._M(H,n),WZ=u?this._M(W,n):W_[q],WL=new WM,Wj=new WM,Or=(WU.x-WZ.x)/(Wd.x-WZ.x);
if(Or==0)Or=1e-4;var Wu=(WU.y-WZ.y)/(Wd.y-WZ.y);if(Wu==0)Wu=1e-4;if(this.OWW){Or=Math.max(Or,0);Wu=Math.max(Wu,0)}if(N==0||N==2||N==6||N==8){if(R||this.Ur)WL.scale(Or,Or);
else WL.scale(Or,Wu)}if(N==1||N==3||N==5||N==7){var WE=this.Ur;if(N==1||N==7)WL.scale(WE?Wu:1,Wu);else WL.scale(Or,WE?Or:1);
if(this.O$t&&b){if(N==1||N==7)Wj.Mn=(WU.x-WZ.x)/(WU.y-WZ.y);else Wj.l=(WU.y-WZ.y)/(WU.x-WZ.x)}}g=[0,0,1,0,1,1,0,1];
var Wf=new WM;Wf.translate(-WZ.x,-WZ.y);Wf.concat(WL);Wf.concat(Wj);Wf.translate(WZ.x,WZ.y);$.M.N(g,Wf,g);
var I=$.U.DY(n);$.U.apply(I,g)}if(lV.XY(g))this.BZ=g}this.tL(l);if(S)s.Ya.g_(l,o,S)};lV.Lm=function(l,t,a,k,R,u){var b=a-l,v=k-t,H=R-l,N=u-t,z=b*b+v*v,A=H*b+N*v,Q=A/z,S=l+Q*b,o=t+Q*v,p=R-S,O=u-o;
return[S,o,Math.sqrt(p*p+O*O)]};lV.prototype.Lx=function(){var l=this.BZ;return Math.abs(l[1]-l[3])<1e-6&&Math.abs(l[2]-l[4])<1e-6||Math.abs(l[0]-l[2])<1e-6&&Math.abs(l[3]-l[5])<1e-6};
lV.XY=function(l){return $.M.KK(l)||$.M.KK([l[6],l[7],l[4],l[5],l[2],l[3],l[0],l[1]])};lV.prototype.cV=function(l,t,a,k){this.iX=-1;
l.F.C_=null;l.lD=!0};lV.prototype.Bd=function(l,t,a){var k=a.rF();if(k.x||k.y){var R=new WM(1,0,0,1,k.x,k.y);
$.M.N(this.BZ,R,this.BZ);this.tL(l);return!0}return!1};lV.prototype.qJ=function(l){if(l==null)l=this.BZ;
var t=l[6]-l[0],a=l[7]-l[1],k=l[4]-l[2],R=l[5]-l[3],u=[l[0],l[1],l[2],l[3],l[0]+t/2,l[1]+a/2,l[2]+k/2,l[3]+R/2,l[6],l[7],l[4],l[5]],b=[];
for(var v=0;v<3;v++){var H=v*4,N=u[H+0],z=u[H+1],A=u[H+2],Q=u[H+3];b.push(new x(N,z));b.push(new x(N+(A-N)/2,z+(Q-z)/2));
b.push(new x(A,Q))}return b};lV.prototype.tL=function(l,t){if(t==null)t=!1;var a=this.qJ();l.F.HU={A:[],p:[]};
l.F.HU.A.push("M","L","L","L","L");l.F.HU.p.push(a[0].x,a[0].y,a[2].x,a[2].y,a[8].x,a[8].y,a[6].x,a[6].y,a[0].x,a[0].y);
l.Y.js=new d(0,0,x.tq(a[0],a[2]),x.tq(a[0],a[6]));if(!t){l.F.kp=[];for(var k=0;k<a.length;k++)if(k!=4)l.F.kp.push(a[k].x,a[k].y);
var R=this.qs();l.F.kp.push(R.x,R.y)}l.lD=!0};lV.prototype.clear=function(l){l.Y.js=null;l.F.C_=null;
l.F.HU=null;l.F.kp=[];l.lD=!0};function $P(l,t){this.Ha=null;this.iX=-1;this.Lj(l)}$P.prototype.Xs=function(){return JSON.parse(JSON.stringify(this.Ha))};
$P.prototype.Lj=function(l){this.Ha=JSON.parse(JSON.stringify(l))};$P.prototype._v=function(l){return!0};
$P.prototype.Er=function(l,t){var a=this.IQ(l,t);if(a==-1)return"default";return"pointer"};$P.prototype.yY=function(l,t,a,k){this.iX=this.IQ(k,l.Y.H);
return this.iX!=-1};$P.prototype.IQ=function(l,t){var a=-1,k=20*w.m(),R=this.Lq();for(var u=0;u<R.length;
u++)if(x.tq(R[u],l)*t<k)a=u;return a};$P.prototype.JP=function(l,t,a,k){if(this.iX==-1)return;var R=l.Y.H,u=this.iX,b=$.Ha.GY(this.Ha);
b[u*2]=k.x;b[u*2+1]=k.y;$.Ha._B(b,this.Ha)};$P.prototype.cV=function(l,t,a,k){this.iX=-1;l.lD=!0};$P.prototype.Bd=function(l,t,a){var k=a.rF();
if(k.x||k.y){var R=new WM(1,0,0,1,k.x,k.y);$.M.N(this.BZ,R,this.BZ);this.tL(l)}};$P.prototype.Lq=function(l){var t=$.Ha.GY(this.Ha),a=[];
for(var k=0;k<t.length;k+=2)a.push(new x(t[k],t[k+1]));return a};$P.prototype.tL=function(l){var t=this.Lq();
l.F.HU={A:[],p:[]};l.F.HU.A.push("M","C","C","C","C");var a=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var k=0;
k<a.length;k++)l.F.HU.p.push(t[a[k]].x,t[a[k]].y);l.F.HU.A.push("M","L","L","M","L","L","M","L","L","M","L","L");
a=[4,0,1,2,3,7,11,15,14,13,12,8];for(var k=0;k<a.length;k++)l.F.HU.p.push(t[a[k]].x,t[a[k]].y);l.F.kp=[];
for(var k=0;k<t.length;k++)l.F.kp.push(t[k].x,t[k].y);l.lD=!0};$P.prototype.clear=function(l){l.F.HU=null;
l.F.kp=[];l.lD=!0};var WK={};WK.RD=function(l){this.id=l};WK.RD.prototype.kM=function(l,t,a,k,R){};WK.RD.prototype.Bm=function(l,t){};
WK.RD.prototype.NB=function(l,t){};WK.History=function(){WK.RD.call(this,s.nb);this.gp=!0;this.Uf=0};
WK.History.prototype=new WK.RD;WK.History.prototype.kM=function(l,t,a,k){if(l.T=="h_itemchange"){if(l.index<a.XD)for(var R=a.XD;
R>l.index;R--)this.XM(a);if(l.index>a.XD)for(var R=a.XD;R<l.index;R++)this.XL(a)}if(l.T=="h_stepfwd")this.XL(a);
if(l.T=="h_stepbck")this.XM(a);if(l.T=="h_undoredo"){var u=this.gp||this.Uf!=a.XD;if(u){this.XM(a);u=!1}else{this.XL(a);
u=!0}this.gp=u;this.Uf=a.XD}else this.gp=!0};WK.History.prototype.XM=function(l){if(l.XD==0)return;var t=l.history[l.XD];
t.P.NB(t.data,l);l.XD--};WK.History.prototype.XL=function(l){if(l.XD==l.history.length-1)return;var t=l.history[l.XD+1];
t.P.Bm(t.data,l);l.XD++};WK.hd=function(){WK.RD.call(this,s.sO)};WK.hd.prototype=new WK.RD;WK.hd.prototype.kM=function(l,t,a,k,R){var u=l.T,b=l.u!=null?l.u:a._.length!=0?a._[0]:a.Q.length-1,v=a.Q[b];
if(u==_.dp&&a.O==null)u=_.OT;if(u==_.bi){var H=new Wt([6,33],this),N=v.PA()?["pass"].concat(HO.Rr):HO.Rr;
H.data={T:u,u:b,yC:v.wk,sQ:N[l.sQ]};a.KO(H);this.Bm(H.data,a)}if(u==_.dn){var H,z=a.AA();if(z&&z.data&&z.data.T==u&&z.data.u==b)H=z;
else{H=new Wt([6,32],this);H.data={T:u,u:b,yC:v.opacity,sQ:l.sQ};a.KO(H)}H.data.sQ=l.sQ;this.Bm(H.data,a)}if(u==_.Py){if(v.add.iOpa==null)v.add.iOpa=255;
var H,z=a.AA();if(z&&z.data&&z.data.T==u&&z.data.u==b)H=z;else{H=new Wt("Fill Opacity Change",this);
H.data={T:u,u:b,yC:v.add.iOpa,sQ:l.sQ};a.KO(H)}H.data.sQ=l.sQ;this.Bm(H.data,a)}if(u==_.bU){if(v.add.lspf==null)v.add.lspf=0;
var A=v.add.lspf,Q=A,S=l.sQ,H;for(var o=0;o<S[0].length;o++){var p=S[1][o],O=1<<p;if((Q&O)==0&&S[0][o])Q^=O;
else if((Q&O)!=0&&!S[0][o])Q^=O}var z=a.AA();if(z&&z.data&&z.data.T==u&&z.data.u==b)H=z;else{var H=new Wt([6,57,1],this);
H.data={T:u,u:b,yC:A,sQ:Q};a.KO(H)}H.data.sQ=Q;this.Bm(H.data,a)}if(u==_.Pw){var E="----",L=l.fS,Q=null;
for(var o=0;o<We._m.Eo.length;o++)if(v.add[We._m.Eo[o]])E=We._m.Eo[o];var U=v.add[E];if(L=="TySh")Q=Wz.AK(50,50,R.To);
var H=new Wt("Layer Type",this);H.data={T:u,u:b,Ud:[E,U],fS:[L,Q]};a.KO(H);this.Bm(H.data,a)}if(u==_.ul){var W=[];
if(k.L(J.Bl)){var Y=a.AA(),y=Y?Y.data:null;if(Y!=null&&Y.P==this&&y.T==_.ul&&y.p_.length!=1){var C=new Z(w.E.q);
C.P=s.nb;C.data={T:"h_stepbck"};t.t(C);if(y.u==b)return}var X=a.root.H$(b),M=a.$i(null,b);while(X.parent!=a.root){M.push(X.parent.index);
X=X.parent}for(var o=0;o<a.Q.length;o++){var g=a.Q[o],n=g.jY(),V=M.indexOf(o)!=-1;if(!V&&n)W.push(o);
if(o==b&&!n)W.push(o)}}else W.push(b);var H=new Wt("Layer visibility",this,!0);H.data={T:u,p_:W,u:b};
a.KO(H);this.Bm(H.data,a)}if(u==_.kV){if(a.Y.nV!=0){a.Y.nV=0;a.lD=!0}var escape=!1;if(k.L(J.$K)){var i=a._.indexOf(b);
if(i==-1)a._.push(b);else if(a._.length>1)a._.splice(i,1);a._.sort(function(H,lW){return H-lW})}else if(k.L(J.hV)&&l.uE>0){u=l.uE==1?_.GB:l.uE==2?_.fw:_.bO;
escape=!0}else if(k.L(J.hV)&&a._.length>0){var f=Math.min(b,a._[0]),r=Math.max(b,a._[a._.length-1]);
a._=[];for(var o=f;o<=r;o++)a._.push(o)}else{a._=[b]}if(!escape){if(a._.length==1){var e=a._[0];for(var o=0;
o<a.Q.length;o++){if(o==e)continue;var D=a.Q[o];D.cA=0;D.td=!1}var v=a.Q[e];if(l.uE==2)v.td=!v.td;else v.cA=l.uE<=0?0:l.uE}else for(var o=0;
o<a.Q.length;o++){var D=a.Q[o];D.cA=0;D.td=!1}a.da=!0}}if(u==_.GB||u==_.bO){var B=u==_.GB,h=B?v.c$():v.SS(a).Z;
if(h==null)return;var H=new Wt(h.isEnabled?B?[6,15]:[6,42]:B?[6,14]:[6,41],this);H.data={T:u,u:b};a.KO(H);
this.Bm(H.data,a)}if(u==_.fw){var h=v.add.vmsk;if(h==null)return;var H=new Wt(h.isEnabled?[6,17]:[6,16],this);
H.data={T:u,u:b};a.KO(H);this.Bm(H.data,a)}if(u==_.QG){if(v.add.lsct==Oz.ON)v.add.lsct=Oz.G_;else v.add.lsct=Oz.ON;
a.da=!0}if(u==_.Ou){if(!a.bW(b))return;var H=new Wt(v.Nq?[6,19]:[6,18],this);H.data={T:u,u:b};a.KO(H);
if(l.sQ==null||l.sQ!=v.Nq)this.Bm(H.data,a)}if(u==_.QY){if(v.kO())v.Ck-=32;else v.Ck+=32;a.da=!0}if(u==_.bu||u==_.Ss){var H;
if(u==_.bu)H=new Wt(v.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(u==_.Ss)H=new Wt(v.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
H.data={T:u,u:b};a.KO(H);this.Bm(H.data,a)}if(u==_.bY||u==_.Sc){var e=l.index,H;if(u==_.bY)H=new Wt(v.add.lmfx[P.Sr[e[0]]].v[e[1]].v.enab.v?[6,30]:[6,29],this);
if(u==_.Sc)H=new Wt(v.add.SoLd.filterFX.v.filterFXList.v[e].v.enab.v?[6,44]:[6,43],this);H.data={T:u,u:b,index:l.index};
a.KO(H);this.Bm(H.data,a)}if(u==_.bN){if(l.src==l.iK)return;var I=a.Q[l.src],j=a.Q[l.iK],c=I.add.lmfx?JSON.stringify(I.add.lmfx):"",m=j.add.lmfx?JSON.stringify(j.add.lmfx):"";
if(j.add.lmfx==null){j.add.lmfx=JSON.parse(P.default);for(var o=0;o<P.order.length;o++)j.add.lmfx[P.Sr[o]]={t:"VlLs",v:[]}}if(l.Yi==null){j.add.lmfx=JSON.parse(c);
if(!l.Gg)delete I.add.lmfx}else{var F=l.Yi[0],G=P.Sr[F];if(P.XX.indexOf(P.order[F])==-1)j.add.lmfx[G].v=[];
j.add.lmfx[G].v.push(I.add.lmfx[G].v[l.Yi[1]]);if(!l.Gg)I.add.lmfx[G].v.splice(l.Yi[1],1)}var q=I.add.lmfx?JSON.stringify(I.add.lmfx):"",W_=j.add.lmfx?JSON.stringify(j.add.lmfx):"";
if(!j.kO())j.Ck+=32;var H=new Wt("Move Layer Styles",this);H.data={T:u,UZ:l.src,UD:l.iK,OWi:c,OWP:m,OWk:q,OWU:W_};
a.KO(H);this.Bm(H.data,a)}if(u==_.pV||u==_.QQ){var WU=u==_.pV;if(WU&&l.src==l.iK)return;var Wd=JSON.parse(JSON.stringify(v.add.SoLd.filterFX.v)),WZ=JSON.parse(JSON.stringify(Wd)),WL=WZ.filterFXList.v;
if(WU){WL.splice(l.iK,0,WL[l.src]);WL.splice(l.src+(l.src<l.iK?0:1),1)}else WL.splice(l.tf,1);var H=new Wt(WU?[6,52]:[6,53],this);
H.data={T:_.pz,u:b,OW_:Wd,OWr:WZ};a.KO(H);this.Bm(H.data,a)}if(u==_.PT){var h=v.c$(),H=new Wt(h.Bg?[6,26]:[6,25],this);
H.data={T:u,u:b};a.KO(H);this.Bm(H.data,a)}if(u==_.Ps){var h=v.add.vmsk,H=new Wt(h.Bg?[6,28]:[6,27],this);
H.data={T:u,u:b};a.KO(H);this.Bm(H.data,a)}if(u==_.PJ){var Wj=[],H;for(var o=0;o<a._.length;o++){var Or=a._[o],g=a.Q[Or];
if(g.add.vogk)Wj.push(Or,JSON.stringify(g.add.vogk))}$.$F.OHW(a,l._Y,l.OWs);var Wu=[];for(var o=0;o<a._.length;
o++){var Or=a._[o],g=a.Q[Or];if(g.add.vogk)Wu.push(Or,JSON.stringify(g.add.vogk))}var z=a.AA();if(z&&z.data&&z.data.T==u){var WE=!0;
for(var o=0;o<Wj.length;o+=2)if(Wj[o]!=z.data.Uj[o])WE=!1;if(WE){H=z;H.data.qi=Wu}}if(H==null){var H=new Wt([12,91,1],this);
H.data={T:u,Uj:Wj,qi:Wu};a.KO(H)}this.Bm(H.data,a)}if(u==_.gj){var H=new Wt(l.ER,this);H.data={T:_.gj,Tx:a.Q.slice(0),Cr:l.Cr,jm:a._.slice(0),TA:l.PX};
a.KO(H);this.Bm(H.data,a)}if(u==_.Gu){var Wf=a.$i(null,l.u),Wx=1e10;if(Wf.length==0)return;if(a.Q.length==Wf.length){alert("Project must have at least 1 layer");
return}var WS=[];for(var o=0;o<a.Q.length;o++)if(Wf.indexOf(o)==-1)WS.push(a.Q[o]);for(var o=0;o<Wf.length;
o++)Wx=Math.min(Wx,Wf[o]);Wx=Math.max(Wx-1,0);while(WS[Wx].name=="</Layer group>")Wx++;var H=new Wt([6,31],this);
H.data={T:_.gj,Tx:a.Q.slice(0),Cr:WS,jm:a._.slice(0),TA:[Wx]};a.KO(H);this.Bm(H.data,a)}if(u==_.kB){var M=a._,WQ=0,Wv=!1;
if(M.length==0)return;if(M.length==1&&a.Q[M[0]].Xt==0){alert(Wq.get([15,7,5]));return}var WJ=[];for(var o=0;
o<a.Q.length;o++){var Ww=a.Q[o].Xt;WJ.push(Ww);WQ=Math.max(WQ,Ww)}var Oi=-1,Wc=-1;for(var o=0;o<M.length;
o++){var Ww=a.Q[M[o]].Xt;if(Ww==0)Wv=!0;else if(Oi==-1||Oi==Ww)Oi=Ww;else Wc=Ww}if(!Wv)for(var o=0;o<M.length;
o++)a.Q[M[o]].Xt=0;else if(Oi!=-1&&Wc==-1)for(var o=0;o<M.length;o++)a.Q[M[o]].Xt=Oi;else for(var o=0;
o<M.length;o++)a.Q[M[o]].Xt=WQ+1;var Wh=[];for(var o=0;o<a.Q.length;o++){var Ww=a.Q[o].Xt;if(Wh[Ww]==null)Wh[Ww]=0;
Wh[Ww]++}for(var o=0;o<a.Q.length;o++){var Ww=a.Q[o].Xt;if(Wh[Ww]==1)a.Q[o].Xt=0}var Om=WJ;WJ=[];for(var o=0;
o<a.Q.length;o++){var Ww=a.Q[o].Xt;WJ.push(Ww);WQ=Math.max(WQ,Ww)}var H=new Wt(Wv?[6,54,0]:[6,54,1],this);
H.data={T:_.kB,OWM:Om,OWL:WJ};a.KO(H);this.Bm(H.data,a)}if(u==_.OT||u==_.yM){var WN=a.bT(u==_.OT?l.u:b);
if(u==_.yM){var D=WN[0],WR=D.add.SoLd.Idnt.v,Wp=a.AV(WR).clone();D.add.SoLd.Idnt.v=Wp._G=Hb.m_()+WR.slice(8);
a.add.lnk2.push(Wp)}u=_.bs;l.Q=WN;l.Tr=a;l.fn=a}if(u==_.bs){var OP,Hz,HP=l.Tr,OW=l.fn;if(HP!=OW){var OP=new d(0,0,HP.$,HP.e),Hz=new d(0,0,OW.$,OW.e),WX=[],Az=[];
for(var o=0;o<l.Q.length;o++){var D=l.Q[o];if(D.add.SoLd==null)continue;var WR=D.add.SoLd.Idnt.v;if(WX.indexOf(WR)==-1){WX.push(WR);
Az.push(Hb.m_()+WR.slice(8))}D.add.SoLd.Idnt.v=Az[WX.indexOf(WR)]}if(WX.length>0){if(OW.add.lnk2==null)OW.add.lnk2=[];
for(var o=0;o<WX.length;o++){var Hg=HP.AV(WX[o]),Wp=Hg.clone();Wp._G=Az[o];OW.add.lnk2.push(Wp)}}}var Hm=OW._.slice(0);
Hm.sort(function(H,lW){return H-lW});var WS=OW.Q.slice(0),HB=[],Ow=-1;for(var o=0;o<Hm.length;o++)Ow=Math.max(Ow,Hm[o]);
Ow++;for(var o=0;o<l.Q.length;o++){var g=l.Q[o];WS.splice(Ow,0,g);HB.push(Ow);Ow++}var H=new Wt([6,0],this);
H.data={T:_.gj,Tx:OW.Q.slice(0),Cr:WS,jm:Hm,TA:HB};OW.KO(H);this.Bm(H.data,OW)}if(u==_.yh){var HH=a.$i(),WS=a.Q.slice(0);
for(var o=0;o<HH.length;o++){var g=a.Q[HH[o]].clone();g.Qd(a);WS.splice(HH[o],1,g)}var H=new Wt([6,8],this);
H.data={T:_.gj,Tx:a.Q.slice(0),Cr:WS,jm:a._.slice(0),TA:a._.slice(0)};a.KO(H);this.Bm(H.data,a)}if(u==_.yv){var HH=a.$i(),WS=a.Q.slice(0),Hk=new Hb("hi");
for(var o=0;o<HH.length;o++){var Hl=a.Q[HH[o]],O_=Hl.jY();Hl.Ro(!0);var Hj=a.root.H$(HH[o]);if(Hl.PA())continue;
if(Hj==null)continue;var g=Hl.clone();g.Qd(a);var Hf=Hj.Sa(a,!0);g.rect.offset(-Hf.x,-Hf.y);if(g.Z)g.Z.rect.offset(-Hf.x,-Hf.y);
Hk.$=Hf.$;Hk.e=Hf.e;Hk.aH([g]);Hk.i();Hk.$d();g.buffer=$.I(Hf.s()*4);$.Ll(Hk.FY(),g.buffer);g.rect=Hf;
g.i();g.f.Co=!0;if(g.add.lmfx)delete g.add.lmfx;g.Z=g.cy=null;WS.splice(HH[o],1,g);g.Ro(O_);Hl.Ro(O_)}var H=new Wt([6,34],this);
H.data={T:_.gj,Tx:a.Q.slice(0),Cr:WS,jm:a._.slice(0),TA:a._.slice(0)};a.KO(H);this.Bm(H.data,a)}if(u==_.Qs){var HH=a.$i(),WS=a.Q.slice(0);
for(var o=0;o<HH.length;o++){var g=a.Q[HH[o]],HF=g.add.TySh;if(HF==null)continue;var D=new HR(HF.dH,R.jF),$$=$.M.Oia(Hw.eG(D,HF));
for(var Og in $$){var Hy=$$[Og],HS=g.clone();delete HS.add.TySh;HS.Ck=HS.Ck|1<<4;HS.add.SoCo=JSON.parse(JSON.stringify(P.AL[0]));
var AV=HS.add.SoCo.Clr.v;AV.Rd.v=parseInt(Og.slice(1,3),16);AV.Grn.v=parseInt(Og.slice(3,5),16);AV.Bl.v=parseInt(Og.slice(5,7),16);
var HT=new _.rv;HT.k=$.M.il(Hy,!1);if(HS.add.vmsk!=null){HS.add.vmsk.Oza();HT.concat(HS.add.vmsk)}HS.add.vmsk=HT;
HS.add.vstk=JSON.parse(JSON.stringify(P.BF.default));HS.GH();HS.cR(a);WS.splice(WS.indexOf(g),0,HS)}WS.splice(WS.indexOf(g),1)}var H=new Wt([6,40],this);
H.data={T:_.gj,Tx:a.Q.slice(0),Cr:WS,jm:a._.slice(0),TA:a._.slice(0)};a.KO(H);this.Bm(H.data,a)}if(u==_.ih){var Hm=a._.slice(0),Oe=a.Q.slice(0),HH=a.$i();
if(HH.length==0)return;a.Xk(HH);var H=new Wt([6,36,0],this);H.data={T:_.gj,Tx:Oe,Cr:a.Q.slice(),jm:Hm,TA:a._.slice(0)};
a.KO(H);this.Bm(H.data,a)}if(u==_.bV){var Hg=l.NY.AV(l.id),Wp=Hg.clone();Wp.raw=l.data;Wp.jJ="8BIM";
Wp.cH="8BPB";Wp.OD=Wp.OD+".psd";var H=new Wt([6,36,1],this);H.data={T:_.bV,id:l.id,Uq:Hg,UT:Wp};l.NY.KO(H);
this.Bm(H.data,l.NY)}if(u==_.Qj){var Hs,Ht;if(l.GZ){Hs=l.NY;Ht=l.GZ}else{l.NY.AU();l.NY.bG();l.NY.i();
l.NY.$d();l.NY.FY();Hs=Wr.PSD.Sn(l.NY,0,0,[!0,!0]);Ht=l.NY.name}if(!(Hs instanceof ArrayBuffer))throw"e";
Hs=new Uint8Array(Hs);var i=l.BY!=null?l.BY:a._[a._.length-1]+1,HK=a.mV(Hs,Ht,0,0,!0),WS=a.Q.slice(0);
WS.splice(i,0,HK);var H=new Wt([6,36,2],this);H.data={T:_.gj,Tx:a.Q.slice(),Cr:WS,jm:a._.slice(0),TA:[WS.indexOf(HK)]};
a.KO(H);this.Bm(H.data,a)}if(u==_.fL||u==_.PS){var Oe=a.Q.slice(0),Hm=a._.slice(0),Ox=!0,HK,HB;if(u==_.fL)a._=[a._[0],a._[0]-1];
var HH=a.$i();HH.sort(function(H,lW){return H-lW});var $O=new d,HI=new d(0,0,a.$,a.e);for(var o=0;o<HH.length;
o++){var Or=HH[o],g=a.Q[Or];Ox=Ox&&g.OY()&&g.add.vmsk!=null;$O=$O.wm(a.root.H$(Or).Sa(a,!0))}if(Ox){HK=a.Q[HH[0]].clone();
var HE=HK.add.vmsk;for(var o=1;o<HH.length;o++){var Al=a.Q[HH[o]],ON=_.rv.f_(Al.add.vmsk.k);HE.k=HE.k.concat(ON.slice(2));
HK.add.vogk=HK.add.vogk.concat(JSON.parse(JSON.stringify(Al.add.vogk)))}HK.add.vmsk.wU=!0;HK.cR(a)}else if(HI.rI($O)){HK=a.Ow();
HK.wy(a.Q[HH[HH.length-1]].getName());HK.rect=$O;HK.buffer=$.I($O.s()*4);var AD=a.FY(HH);$.BM(AD,HI,HK.buffer,$O);
HK.i()}else{a.Xk(HH,!0);HK=a.Q[a._[0]];a.Q.splice(a._[0],1);var AU=a.AV(HK.add.SoLd.Idnt.v);a.add.lnk2.splice(a.add.lnk2.indexOf(AU),1);
delete HK.add.SoLd}var WS=[];for(var o=0;o<a.Q.length;o++)if(k.L(J.Bl)||HH.indexOf(o)==-1)WS.push(a.Q[o]);
var Hu=HH[HH.length-1],On=Hu==a.Q.length-1?null:a.Q[Hu+1],AH=On?WS.indexOf(On):WS.length;WS.splice(AH,0,HK);
HB=[AH];var H=new Wt([6,12],this);H.data={T:_.gj,Tx:Oe,Cr:WS,jm:Hm,TA:HB};a.KO(H);this.Bm(H.data,a)}if(u==_.bv||u==_.dx||u==_.vS||u==_.kP||u==_.dp){var g=a.Ow(),Hp=Wq.get([0,3]);
if(u==_.dx)Hp=Wq.get(WT.names[l.Am]);if(u==_.vS)Hp=Wq.get(l.PB==null?[12,76,1]:[6,48,0,l.PB]);g.wy(Hp+" "+a.Q.length);
if(u==_.dp){var Hl=a.Q[a._[0]],$i=Hl.Qn(a,a.O);if($i==null){alert("Copied area is empty");return}g.rect=$i.rect,g.buffer=$i.FJ}if(u==_.kP){g.rect=WK.hd.Lu(l.qV,a);
g.buffer=$.clone(l.qV.buffer)}if(u==_.dx){g.Ck|=16;WT.ov(l.Am,g.add);g.Z=WK.hd.LT(a)}if(u==_.vS){g.Ck|=16;
if(l.Jk==0)g.Z=WK.hd.LT(a);else{g.add.vmsk=new _.rv;g.add.vogk=[];g.add.vstk=JSON.parse(JSON.stringify(P.BF.default))}var Ha;
if(l.PB!=null){Ha=["SoCo","GdFl","PtFl"][l.PB];g.add[Ha]=JSON.parse(JSON.stringify(P.AL[l.PB]))}else{var $Q=R.ZP;
g.add.vstk=JSON.parse(JSON.stringify(R.ZA));Ha=["none","SoCo","GdFl","PtFl"][$Q.cH];s.Mp.Xb(g,$Q);if($Q.cH==0)g.add.SoCo=JSON.parse(JSON.stringify(P.AL[0]))}if(Ha=="PtFl")a.YS(WD.$b(g.add[Ha].Ptrn.v,R.pM));
g.cR(a)}var HQ=a._.length==0?a.Q.length-1:a._[a._.length-1],Af=HQ+1;if(a.Q[HQ].add.lsct==Oz.ON)Af--;
var WS=a.Q.slice(0);WS.splice(Af,0,g);var Ho=[5,2];if(u==_.bv)Ho=[6,13];if(u==_.dx)Ho=[6,1];if(u==_.vS)Ho=[6,48,1];
if(u==_.dp)Ho=[6,49];var H=new Wt(Ho,this);H.data={T:_.gj,Tx:a.Q.slice(0),Cr:WS,jm:a._.slice(0),TA:[Af]};
a.KO(H);this.Bm(H.data,a);if(u==_.vS&&l.Jk==0||u==_.dx){var Aq=new Z(w.E.J);Aq.data={T:w.h.K$,XG:"properties"};
t.t(Aq)}}if(u==_.kW){var g=a.Ow();g.wy(Wq.get([0,4])+" "+a.Q.length);g.wk="pass";g.add.lsct=Oz.ON;g.Ck=24;
var Hh=a.LA(),HQ=b,Af=HQ+1,WS=a.Q.slice(0);WS.splice(Af,0,Hh,g);var H=new Wt([6,20],this);H.data={T:_.gj,Tx:a.Q.slice(0),Cr:WS,jm:a._.slice(0),TA:[Af+1]};
a.KO(H);this.Bm(H.data,a)}if(u==_.dF||u==_.de){var WW=u==_.dF?l.source:a._[0],HW,Oq,$h=k.L(J.Bl),HC;
if(a._.indexOf(WW)!=-1)HC=a.$i();else HC=a.Un(WW);HC.sort(function(H,lW){return H-lW});if(u==_.dF){HW=l.target;
Oq=l.gB>.5}else{var Wg=l.mk;Oq=Wg>1;if(Wg==0){HW=a.Q.length-1}if(Wg==1){HW=HC[HC.length-1]+1;var Al=a.Un(HW);
if(Al.indexOf(WW)==-1)HW+=Al.length-1}if(Wg==2){HW=HC[0]-1;var Al=a.Un(HW);if(Al.indexOf(WW)==-1)HW-=Al.length-1}if(Wg==3){HW=0}if(HW<0||HW>a.Q.length-1)return;
a.TS=!0}if(HC.indexOf(HW)!=-1)return;var OZ=a.Q[HW],WS=[];if($h)WS=a.Q.slice(0);else for(var o=0;o<a.Q.length;
o++)if(HC.indexOf(o)==-1)WS.push(a.Q[o]);var Ag=WS.indexOf(OZ);if(u==_.dF&&OZ.PA()&&OZ.add.lsct==Oz.G_&&l.gB>.8)Ag-=a.Un(HW).length-1;
var Ax=[];for(var o=0;o<HC.length;o++){var Aj=Ag+(Oq?0:1)+o,D=a.Q[HC[o]];if($h)D=D.clone();WS.splice(Aj,0,D);
Ax.push(Aj)}var H=new Wt($h?[6,0]:[6,35],this);H.data={T:_.gj,Tx:a.Q.slice(0),Cr:WS,jm:a._.slice(0),TA:Ax};
a.KO(H);this.Bm(H.data,a)}if(u==_.kU){var g=a.Ow();g.wy(Wq.get([0,4])+" "+a.Q.length);g.wk="pass";g.add.lsct=Oz.ON;
g.Ck=24;var Hh=a.LA(),HC=a.$i();if(HC.length==0)return;HC.sort(function(H,lW){return H-lW});var WS=[];
for(var o=0;o<a.Q.length;o++)if(HC.indexOf(o)==-1)WS.push(a.Q[o]);var HQ=a._[a._.length-1]-HC.length;
WS.splice(HQ+1,0,Hh);for(var o=0;o<HC.length;o++)WS.splice(HQ+2+o,0,a.Q[HC[o]]);WS.splice(HQ+2+HC.length,0,g);
var H=new Wt([6,9],this);H.data={T:_.gj,Tx:a.Q.slice(0),Cr:WS,jm:a._.slice(0),TA:[WS.indexOf(g)]};a.KO(H);
this.Bm(H.data,a)}if(u==_.QT){if(a._.length!=1)return;var i=a._[0];if(a.Q[i].c$()==null)u=_.Oa;else u=_.aB}if(u==_.Oa){if(a._.length!=1)return;
var i=a._[0],AM=a.Q[i].c$();if(AM==null||l.OWJ){var H=new Wt([6,21],this),ll=new _.fl;if(l.dY||k.L(J.Bl))ll.color=0;
if(a.O!=null){ll.color=0;ll.channel=$.clone(a.O.channel);ll.rect=a.O.rect.clone()}H.data={T:u,u:i,Z:ll,gc:AM};
a.KO(H);this.Bm(H.data,a)}}else if(u==_.Pf){var I=a.Q[l.src],j=a.Q[l.iK];if(j.c$())return;var H=new Wt([6,21],this),ll=I.c$();
if(l.Gg){H.data={T:_.Oa,u:l.iK,Z:ll.clone()}}else{H.data={T:u,src:l.src,iK:l.iK,Z:ll}}a.KO(H);this.Bm(H.data,a)}if(u==_.bA){if(a._.length!=1)return;
var i=a._[0];if(a.Q[i].c$()!=null){var H=new Wt([6,22],this);H.data={T:u,u:i,Z:a.Q[i].c$()};a.KO(H);
this.Bm(H.data,a)}}if(u==_.yN){var Oe=a.Q.slice(0),HS=v.clone(),lG=HS.c$();$.$t(lG.OK(HS.rect),HS.rect,HS.buffer,HS.rect);
WK.hd._N(a,HS);a.Q[a._[0]]=HS;var H=new Wt([5,8],this);H.data={T:_.gj,Tx:Oe,Cr:a.Q.slice(),jm:a._.slice(0),TA:a._.slice(0)};
a.KO(H);this.Bm(H.data,a)}if(u==_.kx){if(a._.length!=1)return;var i=a._[0];if(a.Q[i].SS(a).Z==null){var H=new Wt([6,45],this);
H.data={T:u,u:i,Z:new _.fl};a.KO(H);this.Bm(H.data,a)}}if(u==_.kZ){if(a._.length!=1)return;var i=a._[0];
if(a.Q[i].SS(a).Z!=null){var H=new Wt([6,46],this);H.data={T:u,u:i,Z:a.Q[i].SS(a).Z};a.KO(H);this.Bm(H.data,a)}}if(u==_.Sw){if(l.u==null&&a._.length!=1)return;
if(a.Q[b].Bx()){var H=new Wt([6,47],this);H.data={T:u,u:b,OWe:a.Q[b].add.SoLd.filterFX,Eg:a.Q[b].SS(a)};
a.KO(H);this.Bm(H.data,a)}}if(u==_.aB){if(a._.length!=1)return;if(v.add.vmsk==null){var H=new Wt([6,23],this),ll=new _.rv;
ll.k[1].all=l.dY?1:0;H.data={T:u,u:b,gt:!0,Z:ll,$F:"[]",BF:null};if(v.OY()){H.data.BF=JSON.stringify(P.BF.default)}a.KO(H);
this.Bm(H.data,a)}}if(u==_.PD){var I=a.Q[l.src],j=a.Q[l.iK];if(j.add.vmsk)return;var H=new Wt([6,23],this),HE=I.add.vmsk;
H.data={u:l.iK,gt:I.td,Z:HE.clone(),$F:JSON.stringify(I.add.vogk),BF:I.add.vstk?JSON.stringify(I.add.vstk):null};
if(l.Gg){H.data.T=_.aB}else{H.data.T=u;H.data.src=l.src;H.data.iK=l.iK}a.KO(H);this.Bm(H.data,a)}if(u==_.b$){if(a._.length!=1)return;
var g=a.Q[b],HE=g.add.vmsk;if(HE!=null){var H=new Wt([6,24],this);H.data={T:u,u:b,gt:g.td,Z:HE,$F:JSON.stringify(g.add.vogk),BF:g.add.vstk?JSON.stringify(g.add.vstk):null};
a.KO(H);this.Bm(H.data,a)}}if(u==_.zy){var WP=a.name,lg=l.V+".psd";if(WP==lg)return;var H=new Wt([6,37],this);
H.data={T:u,gv:WP,Gy:lg};if(l.OWy!=!0)a.KO(H);this.Bm(H.data,a)}if(u==_.zl){var WP=v.getName(),lg=l.name.substring(0,255);
if(WP==lg)return;var H=new Wt([6,37],this);H.data={T:u,u:b,gv:WP,Gy:lg,UG:v.add.lnsr,Ua:null};a.KO(H);
this.Bm(H.data,a)}if(u==_.SO){var AJ=a.$i(),$D=[],OY=[];for(var o=0;o<AJ.length;o++){$D.push(a.Q[AJ[o]].add.lclr);
OY.push(l.OWp)}var H=new Wt([6,38],this);H.data={T:u,Q:AJ,OWB:$D,OWt:OY};a.KO(H);this.Bm(H.data,a)}if(u==_.kX){var H=a.history[a.XD];
if(H!=null&&H.P==this&&H.data.T==u&&H.data.u==l.IO&&H.data.sQ.Gv==l.xW.Gv)H.data.sQ=l.xW;else{H=new Wt("Mask Density / Feather",this);
H.data={T:u,u:l.IO,Eb:a.Q[l.IO].Qx(l.xW.Gv),sQ:l.xW};a.KO(H)}this.Bm(H.data,a)}if(u==_.nn){var Am=JSON.stringify(l.V),lf=JSON.parse(Am),H=a.history[a.XD];
if(H!=null&&H.P==this&&H.data.T==u&&H.data.PB==l.PB&&H.data.Me==l.Me&&H.data.p_.join(",")==l.p_.join(","))for(var o=0;
o<l.p_.length;o++)H.data.IH[o]=lf;else{H=new Wt("Edit Style",this);H.data={T:u,p_:l.p_,Me:l.Me,Uu:[],IH:[]};
var $a=!1;for(var o=0;o<l.p_.length;o++){var Or=l.p_[o],g=a.Q[Or],lM=l.Me?s.Mp.MC(a,Or):JSON.parse(JSON.stringify(g.add.vstk));
H.data.Uu.push(lM);H.data.IH.push(lf);if(JSON.stringify(lM)!=Am)$a=!0}if(!$a)return;a.KO(H)}if(l.Me&&lf.cH==3)a.YS(WD.$b(lf.Xj.Ptrn.v,R.pM));
if(!l.Me){var lX=lf.strokeStyleContent.v;if(lX.classID==P.BF.bt[2])a.YS(WD.$b(lX.Ptrn.v,R.pM))}this.Bm(H.data,a)}};
WK.hd.LT=function(l){var t=new _.fl;if(l.O!=null){t.color=0;t.channel=$.clone(l.O.channel);t.rect=l.O.rect.clone()}return t};
WK.hd.La=function(l,t){for(var a=0;a<l.Q.length;a++){var k=l.Q[a];if(k.add.SoLd==null||k.add.SoLd.Idnt.v!=t)continue;
k.Gk(l)}l.i()};WK.hd.Ogb=function(l,t,a){t.color=255-t.color;$.sI(t.channel);t.wU=!0;l.cR(a);a.i()};
WK.hd.prototype.NB=function(l,t){var a=l.T,k=t.Q[l.u];if(a==_.bV){t.add.lnk2.splice(t.add.lnk2.indexOf(l.UT),1,l.Uq);
WK.hd.La(t,l.id)}if(a==_.bi){k.wk=l.yC;t.i()}if(a==_.dn){k.opacity=l.yC;t.i()}if(a==_.bU){k.add.lspf=l.yC}if(a==_.Pw){var R=l.fS,u=l.Ud;
delete k.add[R[0]];if(u[0]!="----")k.add[u[0]]=u[1]}if(a==_.Py){k.add.iOpa=l.yC;t.i()}if(a==_.ul){for(var b=0;
b<l.p_.length;b++){var v=t.Q[l.p_[b]];v.Ro(!v.jY())}t.i()}if(a==_.GB){var H=k.c$();H.isEnabled=!H.isEnabled;
k.cR(t);t.i()}if(a==_.bO){var H=k.SS(t).Z;H.isEnabled=!H.isEnabled;k.i();t.i()}if(a==_.fw){var H=k.add.vmsk;
H.isEnabled=!H.isEnabled;if(!H.isEnabled){if(k.cy){k.Z=k.cy;k.cy=null}else k.Z=null}else if(k.Z){k.cy=k.Z;
k.Z=null}k.cR(t);t.i()}if(a==_.Ou){k.Nq=!k.Nq;t.i()}if(a==_.bu){k.add.lmfx.masterFXSwitch.v=!k.add.lmfx.masterFXSwitch.v;
k.f.Co=!0;t.i()}if(a==_.Ss){k.add.SoLd.filterFX.v.enab.v=!k.add.SoLd.filterFX.v.enab.v;k.rT(t);t.i()}if(a==_.bY){var N=l.index,z=k.add.lmfx[P.Sr[N[0]]].v[N[1]].v;
z.enab.v=!z.enab.v;k.f.Co=!0;t.i()}if(a==_.bN){var A=t.Q[l.UZ],Q=t.Q[l.UD],S=l.OWi,o=l.OWP;if(S=="")delete A.add.lmfx;
else A.add.lmfx=JSON.parse(S);if(o=="")delete Q.add.lmfx;else Q.add.lmfx=JSON.parse(o);A.f.Co=!0;Q.f.Co=!0;
t.i()}if(a==_.Sc){var p=k.add.SoLd.filterFX.v.filterFXList.v[l.index].v;p.enab.v=!p.enab.v;k.rT(t);t.i()}if(a==_.pz){k.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(l.OW_));
k.rT(t);t.i()}if(a==_.PT){var H=k.c$();H.Bg=!H.Bg}if(a==_.Ps){var H=k.add.vmsk;H.Bg=!H.Bg}if(a==_.PJ){var O=l.Uj;
for(var b=0;b<O.length;b+=2){var E=O[b],v=t.Q[E];v.add.vogk=JSON.parse(O[b+1]);$.$F.uI(v.add.vogk,v.add.vmsk);
v.cR(t)}t.i()}if(a==_.kB){var L=l.OWM;for(var b=0;b<L.length;b++)t.Q[b].Xt=L[b]}if(a==_.gj){if(l.jm)t._=l.jm;
t.i();t.aH(l.Tx)}if(a==_.Oa){WK.hd._N(t,k);if(l.gc)WK.hd.Io(t,k,l.gc)}if(a==_.Pf){WK.hd._N(t,t.Q[l.iK]);
WK.hd.Io(t,t.Q[l.src],l.Z)}if(a==_.bA){WK.hd.Io(t,k,l.Z)}if(a==_.kx){k.SS(t).Z=null;k.i();t.i()}if(a==_.kZ){k.SS(t).Z=l.Z;
k.i();t.i()}if(a==_.Sw){k.add.SoLd.filterFX=l.OWe;t.nB(l.Eg);k.Gk(t)}if(a==_.aB){WK.hd.lp(t,k,!0)}if(a==_.PD){WK.hd.lp(t,t.Q[l.iK],l.Z.isEnabled);
WK.hd.lC(t,t.Q[l.src],l)}if(a==_.b$){WK.hd.lC(t,k,l)}if(a==_.zy){t.name=l.gv}if(a==_.zl){k.wy(l.gv);
if(l.UG)k.add.lnsr=l.UG;else delete k.add.lnsr}if(a==_.SO){for(var b=0;b<l.Q.length;b++)t.Q[l.Q[b]].add.lclr=l.OWB[b]}if(a==_.nn){var U=l.Uu;
for(var b=0;b<l.p_.length;b++){var v=t.Q[l.p_[b]],W=U[b];if(!l.Me)v.add.vstk=JSON.parse(JSON.stringify(W));
else s.Mp.Xb(v,JSON.parse(JSON.stringify(W)));v.iT(t)}t.i()}if(a==_.kX){k.QF(l.Eb);k.cR(t);t.i()}t.da=!0};
WK.hd.prototype.Bm=function(l,t){var a=l.T,k=t.Q[l.u];if(a==_.bV){t.add.lnk2.splice(t.add.lnk2.indexOf(l.Uq),1,l.UT);
WK.hd.La(t,l.id)}if(a==_.bi){k.wk=l.sQ;t.i()}if(a==_.dn){k.opacity=l.sQ;t.i()}if(a==_.bU){k.add.lspf=l.sQ}if(a==_.Pw){var R=l.Ud,u=l.fS;
delete k.add[R[0]];if(u[0]!="----")k.add[u[0]]=u[1]}if(a==_.Py){k.add.iOpa=l.sQ;t.i()}if(a==_.ul){for(var b=0;
b<l.p_.length;b++){var v=t.Q[l.p_[b]];v.Ro(!v.jY())}t.i()}if(a==_.GB){var H=k.c$();H.isEnabled=!H.isEnabled;
k.cR(t);t.i()}if(a==_.bO){var H=k.SS(t).Z;H.isEnabled=!H.isEnabled;k.i();t.i()}if(a==_.fw){var H=k.add.vmsk;
H.isEnabled=!H.isEnabled;if(!H.isEnabled){if(k.cy){k.Z=k.cy;k.cy=null}else k.Z=null}else if(k.Z){k.cy=k.Z;
k.Z=null}k.cR(t);t.i()}if(a==_.Ou){k.Nq=!k.Nq;t.i()}if(a==_.bu){k.add.lmfx.masterFXSwitch.v=!k.add.lmfx.masterFXSwitch.v;
k.f.Co=!0;t.i()}if(a==_.Ss){k.add.SoLd.filterFX.v.enab.v=!k.add.SoLd.filterFX.v.enab.v;k.rT(t);t.i()}if(a==_.bY){var N=l.index,z=k.add.lmfx[P.Sr[N[0]]].v[N[1]].v;
z.enab.v=!z.enab.v;k.f.Co=!0;t.i()}if(a==_.bN){var A=t.Q[l.UZ],Q=t.Q[l.UD],S=l.OWk,o=l.OWU;if(S=="")delete A.add.lmfx;
else A.add.lmfx=JSON.parse(S);if(o=="")delete Q.add.lmfx;else Q.add.lmfx=JSON.parse(o);A.f.Co=!0;Q.f.Co=!0;
t.i()}if(a==_.Sc){var p=k.add.SoLd.filterFX.v.filterFXList.v[l.index].v;p.enab.v=!p.enab.v;k.rT(t);t.i()}if(a==_.pz){k.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(l.OWr));
k.rT(t);t.i()}if(a==_.PT){var H=k.c$();H.Bg=!H.Bg}if(a==_.Ps){var H=k.add.vmsk;H.Bg=!H.Bg}if(a==_.PJ){var O=l.qi;
for(var b=0;b<O.length;b+=2){var E=O[b],v=t.Q[E];v.add.vogk=JSON.parse(O[b+1]);$.$F.uI(v.add.vogk,v.add.vmsk);
v.cR(t)}t.i()}if(a==_.kB){var L=l.OWL;for(var b=0;b<L.length;b++)t.Q[b].Xt=L[b]}if(a==_.gj){if(l.TA)t._=l.TA;
t.i();t.aH(l.Cr)}if(a==_.Oa){if(l.gc)WK.hd._N(t,k);WK.hd.Io(t,k,l.Z)}if(a==_.Pf){WK.hd._N(t,t.Q[l.src]);
WK.hd.Io(t,t.Q[l.iK],l.Z)}if(a==_.bA){WK.hd._N(t,k)}if(a==_.kx){k.SS(t).Z=l.Z;k.cA=0;k.i();t.i()}if(a==_.kZ){k.SS(t).Z=null;
k.cA=0;k.i();t.i()}if(a==_.Sw){delete k.add.SoLd.filterFX;k.cA=0;t.Xi(l.Eg);k.Gk(t)}if(a==_.aB){WK.hd.lC(t,k,l)}if(a==_.PD){WK.hd.lp(t,t.Q[l.src],l.Z.isEnabled);
WK.hd.lC(t,t.Q[l.iK],l)}if(a==_.b$){WK.hd.lp(t,k,l.Z.isEnabled)}if(a==_.zy){t.name=l.Gy}if(a==_.zl){k.wy(l.Gy);
if(l.Ua)k.add.lnsr=l.Ua;else delete k.add.lnsr}if(a==_.SO){for(var b=0;b<l.Q.length;b++)t.Q[l.Q[b]].add.lclr=l.OWt[b]}if(a==_.nn){var U=l.IH;
for(var b=0;b<l.p_.length;b++){var v=t.Q[l.p_[b]],W=U[b];if(!l.Me)v.add.vstk=JSON.parse(JSON.stringify(W));
else s.Mp.Xb(v,JSON.parse(JSON.stringify(W)));v.iT(t)}t.i()}if(a==_.kX){k.QF(l.sQ);k.cR(t);t.i()}t.da=!0};
WK.hd.Lu=function(l,t){var a=l.Zn,k=l.rect.clone();if(a!=null&&(a.x!=t.$||a.y!=t.e)){k.x=Math.floor((t.$-k.$)/2);
k.y=Math.floor((t.e-k.e)/2)}return k};WK.hd._N=function(l,t){if(t.cy)t.cy=null;else t.Z=null;t.cR(l);
l.i();t.cA=0};WK.hd.Io=function(l,t,a){if(t.Z)t.cy=a;else t.Z=a;t.cR(l);l.i()};WK.hd.lp=function(l,t,a){if(t.cy&&a){t.Z=t.cy;
t.cy=null}else if(t.Z&&a){t.Z=null}delete t.add.vogk;delete t.add.vstk;delete t.add.vmsk;t.cR(l);t.td=!1;
l.i()};WK.hd.lC=function(l,t,a){t.add.vogk=JSON.parse(a.$F);if(a.BF)t.add.vstk=JSON.parse(a.BF);else delete t.add.vstk;
t.add.vmsk=a.Z.clone();if(t.Z&&t.add.vmsk.isEnabled)t.cy=t.Z;t.cR(l);t.td=a.gt;l.i()};WK.AI=function(){WK.RD.call(this,s.Em);
this.sW=null;this.Pb=null;this.ES=null;this.Oh=[];this.ff=null};WK.AI.prototype=new WK.RD;WK.AI.prototype.kM=function(l,t,a,k,R){var u=a.Q[l.u],b=l.AZ,H=null;
if(this.sW==null){this.ES=WK.AI.RM(a,u);this.sW=JSON.stringify(this.ES);if(u.add.lmfx)this.Pb=JSON.stringify(u.add.lmfx)}if(u.add.lmfx==null){u.add.lmfx=JSON.parse(P.default);
for(var v=0;v<P.order.length;v++)u.add.lmfx[P.Sr[v]]={t:"VlLs",v:[]}}if(l.T=="changeprop"){if(b!=0){var N=this.Oh[b[0]];
if(N==null)N=P.Oh[b[0]];N=JSON.parse(N);var z=u.add.lmfx[P.Sr[b[0]]].v;if(z[b[1]]==null)z[b[1]]={t:"Objc",v:N};
H=z[b[1]].v;for(var A in N)if(H[A]==null)H[A]=N[A]}if(l.T=="changeprop"){if(b==0){this.ES[l.PB].v=l.V;
WK.AI.i$(a,u,this.ES)}else if(l.PB=="lagl"){if(H.uglg&&H.uglg.v){a.nc(l.V.val);this.ES.UY=a.Yj()}else H[l.PB].v=l.V}else if(l.PB=="Lald"){if(H.uglg.v){a.bf(l.V.val);
this.ES.Us=a.Ui()}else H[l.PB].v=l.V}else if((b[0]==3||b[0]==8)&&(l.PB=="Clr"||l.PB=="Grad")){if(l.PB=="Clr"){H.Clr={t:"Objc",v:l.V};
delete H.Grad}if(l.PB=="Grad"){H.Grad={t:"Objc",v:l.V};delete H.Clr}}else{H[l.PB].v=l.V}if(b!=0)this.Oh[b[0]]=JSON.stringify(H)}if(b!=0)if(H.Ptrn)a.YS(WD.$b(H.Ptrn.v,R.pM))}else if(l.T=="setstl"){var Q=l.V.Lefx;
if(Q)WD.eV(Q,a,R.pM);WD.ei(l.V,u)}else if(l.T=="st_dupsingle"){var S=u.add.lmfx[P.Sr[l.tf[0]]].v;if(S[l.tf[1]]==null)return;
var o=JSON.parse(JSON.stringify(S[l.tf[1]]));S.splice(l.tf[1],0,o)}else if(l.T=="st_movsingle"){var p=l.tf[1],S=u.add.lmfx[P.Sr[l.tf[0]]].v;
if(S[l.tf[1]]==null)return;var O=Math.max(0,Math.min(S.length-1,p+l.UM)),E=S[O];S[O]=S[p];S[p]=E}else if(l.T=="cancel"){if(this.Pb==null)delete u.add.lmfx;
else u.add.lmfx=JSON.parse(this.Pb);WK.AI.i$(a,u,JSON.parse(this.sW));this.sW=null;this.Pb=null}else if(l.T=="confirm"){var L=new Wt([11,6],this);
L.data={Q:[l.u],Il:[this.Pb],Ig:[JSON.stringify(u.add.lmfx)],II:[this.sW],IP:[JSON.stringify(this.ES)]};
a.KO(L);this.sW=null;this.Pb=null}else if(l.T=="st_copy"){this.ff=[this.sW,this.Pb];this.sW=null;this.Pb=null}else if(l.T=="st_paste"||l.T=="st_clear"){if(l.T=="st_paste"&&this.ff==null)return;
var U=a._.indexOf(l.u)==-1?[l.u]:a._.slice(0),W=[],Y=[],y=[],C=[];for(var v=0;v<U.length;v++){var u=a.Q[U[v]],X=WK.AI.RM(a,u);
W.push(u.add.lmfx?JSON.stringify(u.add.lmfx):null);y.push(JSON.stringify(X));if(l.T=="st_paste"){Y.push(this.ff[1]);
C.push(this.ff[0])}else{Y.push(null);X.lrMd.v=0;X.Opct.v.val=100;X.iOpa.v.val=100;C.push(JSON.stringify(X))}}var L=new Wt([11,6],this);
L.data={Q:U,Il:W,Ig:Y,II:y,IP:C};this.Bm(L.data,a);a.KO(L);this.sW=null;this.Pb=null}else{var M=this.ES,g=null;
if(l.T=="st_delsingle"){g=JSON.parse(this.Pb);g[P.Sr[l.tf[0]]].v.splice(l.tf[1],1);g=JSON.stringify(g)}if(g==null)delete u.add.lmfx;
else u.add.lmfx=JSON.parse(g);if(M!=null)WK.AI.i$(a,u,M);var L=new Wt([11,6],this);L.data={Q:[l.u],Il:[this.Pb],Ig:[g],II:[this.sW],IP:[JSON.stringify(M)]};
a.KO(L);this.sW=null;this.Pb=null}u.f.Co=!0;a.i()};WK.AI.RM=function(l,t){if(t.add.iOpa==null)t.add.iOpa=255;
var a=t.PA()?["pass"].concat(HO.Rr):HO.Rr;return{lrMd:{v:a.indexOf(t.wk)},Opct:{v:{type:"#Prc",val:Math.round(t.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(t.add.iOpa*100/255)},t:"UntF"},UY:l.Yj(),Us:l.Ui(),PA:t.PA()}};
WK.AI.i$=function(l,t,a){var k=t.PA()?["pass"].concat(HO.Rr):HO.Rr;t.wk=k[a.lrMd.v];t.opacity=Math.round(a.Opct.v.val*255/100);
t.add.iOpa=Math.round(a.iOpa.v.val*255/100);l.nc(a.UY);l.bf(a.Us)};WK.AI.prototype.NB=function(l,t){for(var a=0;
a<l.Q.length;a++){var k=t.Q[l.Q[a]],R=l.Il[a];if(R==null)delete k.add.lmfx;else k.add.lmfx=JSON.parse(R);
WK.AI.i$(t,k,JSON.parse(l.II[a]));k.f.Co=!0}t.i()};WK.AI.prototype.Bm=function(l,t){for(var a=0;a<l.Q.length;
a++){var k=t.Q[l.Q[a]],R=l.Ig[a];if(R==null)delete k.add.lmfx;else k.add.lmfx=JSON.parse(R);WK.AI.i$(t,k,JSON.parse(l.IP[a]));
k.f.Co=!0}t.i()};WK.hE=function(){WK.RD.call(this,s.WQ)};WK.hE.prototype=new WK.RD;WK.hE.prototype.kM=function(l,t,a,k){var R=JSON.parse(JSON.stringify(a.jd)),u=JSON.parse(JSON.stringify(a.jd)),b=null,v=null,H=null,N=-1,z=!1;
if(l.T=="delLC"){var A=WK.hE.gr(a.jd,l.AZ),Q=a.jd.lastAppliedComp?a.jd.lastAppliedComp.v:0;u.list.v.splice(A,1);
if(Q==l.AZ)delete u.lastAppliedComp;b="Delete Layer Comp"}if(l.T=="editLC"){var A=WK.hE.gr(a.jd,l.AZ),S=u.list.v[A].v;
if(l.Gy!=null)S.Nm.v=l.Gy;if(l.UL!=null){var o=l.UL,p=S.capturedInfo.v,O=p&(1<<o)-1;p=p>>o;if((p&1)==1)p--;
else p++;S.capturedInfo.v=(p<<o)+O}b="Layer Comp properties"}if(l.T=="setLC"){WK.hE.gi(a);if(l.AZ==0)delete u.lastAppliedComp;
else u.lastAppliedComp={t:"long",v:l.AZ};b="Switch Layer Comp";z=!0}if(l.T=="updLC"){WK.hE.gi(a);v=WK.hE.OiO(a,l.AZ);
H=WK.hE.XJ(a,l.AZ);u.lastAppliedComp={t:"long",v:l.AZ};b="Update Layer Comp";N=l.AZ;z=!0}if(l.T=="addLC"){WK.hE.gi(a);
var E=1;for(var L=0;L<u.list.v.length;L++)E=Math.max(E,u.list.v[L].v.compID.v)+1;E+=Math.floor(Math.random()*1e4);
var U={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(u.list.v.length+1)},compID:{t:"long",v:E},capturedInfo:{t:"long",v:7}}};
u.list.v.push(U);u.lastAppliedComp={t:"long",v:E};b="New Layer Comp";var W=WK.hE.XJ(a,E);WK.hE.gT(a,W,E)}var Y=new Wt(b,this);
Y.data={OWh:R,OHz:u,UJ:v,UQ:H,AZ:N,cP:z};this.Bm(Y.data,a);a.KO(Y)};WK.hE.prototype.Bm=function(l,t){t.jd=l.OHz;
t.rm=!0;if(l.UQ)WK.hE.gT(t,l.UQ,l.AZ);if(l.cP){var a=t.jd.lastAppliedComp?t.jd.lastAppliedComp.v:0,k=WK.hE.gr(t.jd,a),R=k==-1?null:t.jd.list.v[k].v,u=R?R.capturedInfo.v:7;
WK.hE.gq(t,a,u);t.i()}};WK.hE.prototype.NB=function(l,t){t.jd=l.OWh;t.rm=!0;if(l.UJ)WK.hE.gT(t,l.UJ,l.AZ);
if(l.cP){var a=t.jd.lastAppliedComp?t.jd.lastAppliedComp.v:0,k=WK.hE.gr(t.jd,a),R=k==-1?null:t.jd.list.v[k].v,u=R?R.capturedInfo.v:7;
WK.hE.gq(t,a,u);t.i()}};WK.hE.gi=function(l){if(l.jd.lastAppliedComp!=null||!l.Ik)return;var t=WK.hE.XJ(l,0);
WK.hE.gT(l,t,0);l.Ik=!1};WK.hE.gb=function(l,t,a){l.v.Hrzn.v+=t;l.v.Vrtc.v+=a};WK.hE.gr=function(l,t){var a=l.list.v;
for(var k=0;k<a.length;k++)if(a[k].v.compID.v==t)return k;return-1};WK.hE.OiV=function(l){var t=l.layerSettings.v,R=null;
if(t.length==0)return;var a="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),k=t[0].v;
if(k.enab==null)k.enab={t:"bool",v:!0};if(k.Ofst==null)k.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var u=0;u<t.length;u++){var b=t[u].v;if(R==null)R=JSON.parse(JSON.stringify(b));else for(var v=0;
v<a.length;v++){var H=a[v];if(b[H])R[H]=JSON.parse(JSON.stringify(b[H]))}t[u].v=JSON.parse(JSON.stringify(R))}};
WK.hE.LY=function(l,t){var a=l.add.shmd.cmls,k=a.layerSettings.v;for(var R=0;R<k.length;R++){var u=k[R].v,b=u.compList.v[0].v;
if(b==t)return R}return-1};WK.hE.Ls=function(l,t){var a=WK.hE.LY(l,t);return a==-1?null:l.add.shmd.cmls.layerSettings.v[a].v};
WK.hE.gq=function(l,t,a){for(var k=0;k<l.Q.length;k++){var R=l.Q[k],u=R.add.shmd.cmls,b=u.layerSettings.v,v=WK.hE.Ls(R,t);
if(v==null){R.Ro(!1);continue}if((a&1)!=0){if(v.enab)R.Ro(v.enab.v);else R.Ro(!0)}if((a&2)!=0){if(v.Ofst){var H=v.Ofst.v,N=R.Tp(l),z=Math.round(H.Hrzn.v-N.x),A=Math.round(H.Vrtc.v-N.y);
if(z!=0||A!=0)s.Ya.Ho(l,[k],null,z,A)}}if((a&4)!=0){if(v.Lefx){var Q=JSON.parse(JSON.stringify(v.Lefx.v));
lk.sM(Q);if(JSON.stringify(Q)!=JSON.stringify(R.add.lmfx)){R.add.lmfx=Q;R.f.Co=!0}}else delete R.add.lmfx;
if(v.blendOptions){var S=v.blendOptions.v;if(S.Opct)R.opacity=Math.round(255*S.Opct.v.val/100);if(S.Md)R.wk=R.add.lsct==Oz.ip?"norm":HO.sU(S.Md.v.BlnM)}else{R.opacity=255;
R.wk=R.PA()?"pass":"norm"}}}};WK.hE.OiO=function(l,t){var a={};for(var k=0;k<l.Q.length;k++){var R=l.Q[k];
if(R.add.shmd==null||R.add.shmd.cmls==null)continue;a["l"+R.add.lyid]=JSON.parse(JSON.stringify(WK.hE.Ls(R,t)))}return a};
WK.hE.XJ=function(l,t){var a={};for(var k=0;k<l.Q.length;k++){var R=l.Q[k],u=R.add.lyid;a["l"+u]=WK.hE.LM(l,R,t)}return a};
WK.hE.LM=function(l,t,a){var k=t.add.shmd?t.add.shmd.cmls:null,R={classID:"null"},u=t.Tp(l),b={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:u.x},Vrtc:{t:"long",v:u.y}}};
R.compList={t:"VlLs",v:[{t:"long",v:a}]};R.enab={t:"bool",v:t.jY()};R.Ofst=JSON.parse(JSON.stringify(b));
R.FXRefPoint=JSON.parse(JSON.stringify(k&&k.origFXRefPoint?k.origFXRefPoint:b));R.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:HO.OzH(t.wk)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*t.opacity/255}}}};
if(t.add.vmsk){R.vectorMask={t:"Objc",v:{classID:"null"}};R.vectorMask.v.Ofst=JSON.parse(JSON.stringify(b))}if(t.add.lmfx){R.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(t.add.lmfx))};
lk.se(R.Lefx.v)}return R};WK.hE.OiA=function(l,t){var a=t.add.lyid;if(t.add.shmd==null)t.add.shmd={};
if(t.add.shmd.cmls==null){t.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:a},layerSettings:{t:"VlLs",v:[{t:"Objc",v:WK.hE.LM(l,t,0)}]}}}};
WK.hE.gT=function(l,t,a){for(var k=0;k<l.Q.length;k++){var R=l.Q[k],u=R.add.lyid;WK.hE.OiA(l,R);var b=R.add.shmd.cmls,v=b.layerSettings.v,H=t["l"+u];
if(H!=null)H={t:"Objc",v:JSON.parse(JSON.stringify(H))};var N=WK.hE.LY(R,a);if(N==-1){if(H==null)continue;
else v.push(H)}else{if(H==null)v.splice(N,1);else v[N]=H}}};WK.hE.Xy=function(l,t){for(var a=0;a<l.Q.length;
a++){var k=l.Q[a],R=k.add.lyid;if(k.add.shmd==null||k.add.shmd.cmls==null)continue;var u=k.Tp(l),b=Math.round(u.x),v=Math.round(u.y);
if(!t){b=-b;v=-v}var H=k.add.shmd.cmls,N=H.layerSettings.v;if(H.origFXRefPoint)WK.hE.gb(H.origFXRefPoint,-b,-v);
for(var z=0;z<N.length;z++){var A=N[z].v;WK.hE.gb(A.Ofst,b,v);if(A.imageMask)WK.hE.gb(A.imageMask.v.Ofst,b,v);
if(A.vectorMask)WK.hE.gb(A.vectorMask.v.Ofst,b,v)}}};WK.Ax=function(){WK.RD.call(this,s.nP);this.lS=null};
WK.Ax.prototype=new WK.RD;WK.Ax.ga=function(l,t,a,k){if(k)t/=4;var R=0,u=0,b=255,v=0,H=0,N=255;while(u+l[R]<t){u+=l[R];
R++}while(v+l[b]<t){v+=l[b];b--}if(k){R-=Math.round(l[R]/(a/32));b+=Math.round(l[b]/(a/32));if(R<0)H=Math.round(-R*255/(b-R));
if(b>255)N=255-Math.round((b-255)*255/(b-R))}return[Math.max(R,0),Math.min(b,255),H,N,100]};WK.Ax.prototype.kM=function(l,t,a,k,R){var u=l.T;
if(u=="auto"){var b=l.E$,v=WK.Ax.getData(a);for(var H=0;H<v.length;H++){var N=v[H],z=N.YE.s(),A,Q=$.Og(N.GI),S=.001*z;
if(b==0||b==2)A=[[0,255,0,255,100],WK.Ax.ga(Q[1],S,z,b==2),WK.Ax.ga(Q[2],S,z,b==2),WK.Ax.ga(Q[3],S,z,b==2)];
if(b==1)A=[WK.Ax.ga(Q[0],S*.33,z,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var o=WT.ry("levl",A);
WT.fu(o,N.GI,N.hn,N.YE)}WK.Ax.er(a,v);WK.Ax.e_(a,v,[4,16,b],this);a.i()}if(u=="edit_layer")this.Oi$(l,t,a,k);
if(u=="edit"||u=="confirm"||u=="cancel")this.Xw(l,a,R);if(u=="start"){if(a._.length==0)return;var p=a.Q[a._[0]];
if(p.add.SoLd&&p.cA<=0){var O=new Z(w.E.q,!0);O.P=s.qK;O.data={T:"start",filter:l.GN};t.t(O);return}if(!a.pF())return;
if(WG[l.GN]){if(a._.length!=1)alert("Will be applied to "+a._.length+" layers.");var O=new Z(w.E.J,!0);
O.data={T:w.h.AG,XG:"adjust_"+l.GN};t.t(O)}else{this.Xw({T:"edit",cI:1,Am:l.GN},a,R);this.Xw({T:"confirm",Am:l.GN},a,R)}}};
WK.Ax.prototype.Oi$=function(l,t,a,k){var R=l.T,u=a._[0],b=a.Q[u],v=a.history[a.XD],H;if(v&&v.P==this&&v.data.Eb!=null&&v.data.u==u)H=v;
else{var H=new Wt([6,39],this);H.data={u:u,Eb:WT.rh(b.add),sQ:l.V};a.KO(H)}H.data.sQ=l.V;this.Bm(H.data,a)};
WK.Ax.getData=function(l,t){var a=[],k=new d(0,0,l.$,l.e);for(var R=0;R<l._.length;R++){var u=l.Q[l._[R]],b={u:l._[R],CK:u.cA};
a.push(b);var v=u.cA<=0?null:u.cA==1?u.c$():u.SS(l).Z,H=v?v.rect:u.rect;if(l.O)b.YE=v!=null?l.O.rect.gk(k):l.O.rect.gk(H);
else b.YE=t||v!=null?H.wm(k):H.clone();var N=b.YE.s();b.GI=$.I(N*4);b.hn=$.I(N*4);if(v){s.cD.qr(v.channel,v.rect,v.color,b.GI,b.YE);
s.cD.qr(v.channel,v.rect,v.color,b.hn,b.YE)}else{$.BM(u.buffer,H,b.GI,b.YE);$.BM(u.buffer,H,b.hn,b.YE)}if(l.O){b.DW=$.I(N);
$.co(l.O.channel,l.O.rect,b.DW,b.YE)}}return a};WK.Ax.prototype.Xw=function(l,t,a){if(this.lS==null)this.lS=WK.Ax.getData(t);
if(l.T=="edit"){var k=WT.ry(l.Am,l.cI);if(k!=null){for(var R=0;R<this.lS.length;R++){var u=this.lS[R];
WT.fu(k,u.GI,u.hn,u.YE)}WK.Ax.er(t,this.lS)}}if(l.T=="cancel"){WK.Ax.LX(t,this.lS);this.lS=null}if(l.T=="confirm"){WK.Ax.e_(t,this.lS,WT.names[l.Am],this);
this.lS=null}t.i()};WK.Ax.LX=function(l,t){WK.Ax.iz(l,t,!1)};WK.Ax.e_=function(l,t,a,k){for(var R=0;
R<t.length;R++){var u=t[R],b=l.Q[u.u],v=b.cA<=0?null:b.cA==1?b.c$():b.SS(l).Z;if(v){v.$e();v.wU=!0;b.cR();
s.cD.qr(v.channel,v.rect,v.color,u.hn,u.YE)}else{b.$e();b.i();$.BM(b.buffer,b.rect,u.hn,u.YE)}}var H=new Wt(a,k);
H.data=t;l.KO(H)};WK.Ax.er=function(l,t){for(var a=0;a<t.length;a++){var k=t[a],R=l.Q[k.u];if(k.CK==0){R.extend(k.YE);
if(k.DW){$.BM(k.GI,k.YE,R.buffer,R.rect);$.j.wq(k.hn,k.YE,R.buffer,R.rect,k.DW,k.YE,0,k.YE,1)}else $.BM(k.hn,k.YE,R.buffer,R.rect)}else{var u=k.CK==1?R.c$():R.SS(l).Z;
u.extend(k.YE);if(k.DW){var b=$.I(k.YE.s()*4);$.Ll(k.GI,b);$.j.wq(k.hn,k.YE,b,k.YE,k.DW,k.YE,0,k.YE,1);
s.cD.HO(b,k.YE,u)}else s.cD.HO(k.hn,k.YE,u);u.wU=!0;R.cR()}R.i()}};WK.Ax.iz=function(l,t,a){for(var k=0;
k<t.length;k++){var R=t[k],u=l.Q[R.u];if(R.CK==0){u.extend(R.YE);$.BM(a?R.hn:R.GI,R.YE,u.buffer,u.rect);
u.$e()}else{var b=R.CK==1?u.c$():u.SS(l).Z;b.extend(R.YE);s.cD.HO(a?R.hn:R.GI,R.YE,b);b.$e();b.wU=!0;
u.cR()}u.i()}};WK.Ax.prototype.NB=function(l,t){var a=t.Q[l.u];if(l.Eb!=null)WT.hT(l.Eb,a.add);else WK.Ax.iz(t,l,!1);
t.i()};WK.Ax.prototype.Bm=function(l,t){var a=t.Q[l.u];if(l.Eb!=null)WT.hT(l.sQ,a.add);else WK.Ax.iz(t,l,!0);
t.i()};WK.ET=function(){WK.RD.call(this,s.qK);this.lS=null;this.T=null;this.uU=null};WK.ET.prototype=new WK.RD;
WK.ET.prototype.kM=function(l,t,a,k,R){if(l.T=="start"){if(a._.length==0)return;var u=a.Q[a._[0]];if(u.add.SoLd&&u.cA<=0){}else if(!a.pF())return;
var b=l.filter;if(Wn[b]||WG[b]){if(a._.length!=1)alert("Will be applied to "+a._.length+" layers.");
var v=new Z(w.E.J,!0);v.data={T:w.h.AG,XG:"filter_"+b,h$:this.ej(a)};t.t(v)}else{var H={T:"edit",filter:l.filter,h$:this.ej(a)};
this.kM(H,t,a,k,R);H.T="confirm";this.kM(H,t,a,k,R)}}if(l.T=="edit"||l.T=="cancel"||l.T=="confirm"){if(l.T=="edit")this.uU=[l.filter,l.cI];
if(l.h$)this.Oid(l,a,R);else this.OiL(l,a,R)}if(l.T=="applylast"&&this.uU!=null){var H={T:"edit",filter:this.uU[0],cI:this.uU[1],h$:this.ej(a)};
this.kM(H,t,a,k,R);H.T="confirm";delete H.cI;this.kM(H,t,a,k,R)}};WK.ET.prototype.ej=function(l){var t=l.Q[l._[0]],a;
if(t.add.SoLd&&t.cA<=0){a={u:l._[0],index:0};if(t.add.SoLd.filterFX!=null)a.index=t.add.SoLd.filterFX.v.filterFXList.v.length}return a};
WK.ET.prototype.Oid=function(l,t,a){var k=t.Q[l.h$.u],R=l.filter;if(l.T=="edit"){if(this.T==null){var u=HU.names[R];
if(u==null)u=WT.names[R];this.T=new Wt(u,this);this.T.data={h$:l.h$,OHS:JSON.parse(JSON.stringify(k.add.SoLd))}}if(!k.Bx()){k.add.SoLd.filterFX=HU.Q$();
this.T.data.Eg={id:k.add.SoLd.placed.v,rect:new d,buffer:$.I(1),Z:new _.fl};t.nB(this.T.data.Eg);k.Gk(t)}var b=k.add.SoLd.filterFX.v.filterFXList.v;
if(b[l.h$.index]==null){b.push(HU.iq(R,a))}if(l.cI)b[l.h$.index].v.Fltr.v=l.cI;this.T.data.OHr=JSON.parse(JSON.stringify(k.add.SoLd));
this.Bm(this.T.data,t)}if(l.T=="cancel"){if(this.T)this.NB(this.T.data,t);this.T=null}if(l.T=="confirm"){t.KO(this.T);
this.T=null}};WK.ET.prototype.iS=function(l){return{D:l>>16,K:l>>8&255,l:l&255}};WK.ET.prototype.OiL=function(l,t,a){if(this.lS==null)this.lS=WK.Ax.getData(t,!0);
if(l.T=="edit"){for(var k=0;k<this.lS.length;k++){var R=this.lS[k],u={rect:R.YE,buffer:R.GI},b={rect:R.YE,buffer:R.hn};
HU.fu(l.filter,u,l.cI,this.iS(a.rq),this.iS(a.WR),b,t.add.lnk2?t.add.lnk2:[])}WK.Ax.er(t,this.lS)}if(l.T=="cancel"){WK.Ax.LX(t,this.lS);
this.lS=null}if(l.T=="confirm"){WK.Ax.e_(t,this.lS,HU.names[l.filter],this);this.lS=null}t.i()};WK.ET.prototype.NB=function(l,t){if(l.h$){var a=t.Q[l.h$.u];
if(l.Eg)t.Xi(l.Eg);a.add.SoLd=JSON.parse(JSON.stringify(l.OHS));if(a.Bx())a.rT(t);else{a.Gk(t);a.cA=0}}else WK.Ax.iz(t,l,!1);
t.i()};WK.ET.prototype.Bm=function(l,t){if(l.h$){var a=t.Q[l.h$.u];if(l.Eg)t.nB(l.Eg);a.add.SoLd=JSON.parse(JSON.stringify(l.OHr));
if(a.Bx())a.rT(t);else a.Gk(t);if(!a.kO())a.Ck+=32}else WK.Ax.iz(t,l,!0);t.i()};var Wm={CM:"0",cC:"1",rO:"2",iU:"3",KI:"4",qo:"5",Tk:"6",iE:"7",rA:"10",TT:"11",rd:"12",iY:"13",fr:"14",IA:"15",tJ:"21",eM:"22",ey:"23",eB:"23.0",Iq:"23.1",eR:"23.2",Le:"23.3",Lo:"23.4",LB:"30",IG:"31",o$:"40",Ia:"41"};
Wm.NL={};Wm.NL[Wm.cC]=["abr","brushes",OM,[9,3]];Wm.NL[Wm.rO]=["grd","gradients",gk,[12,37]];Wm.NL[Wm.iU]=["shc","contours",gH,[12,21]];
Wm.NL[Wm.KI]=["asl","styles",$o,[12,22]];Wm.NL[Wm.qo]=["pat","patterns",l$,[12,62]];Wm.NL[Wm.Tk]=["csh","shapes",OJ,[12,77]];
Wm.NL[Wm.iE]=["aco","swatches",AF,[9,8]];function J(){this.Sx={};this.fd=0}J.prototype.reset=function(){this.Sx={};
this.fd=0};J.prototype.Oie=function(l){this.fd++;this.Sx[l]=!0};J.prototype.Oio=function(l){this.fd--;
delete this.Sx[l];if(this.fd<=0||J.uS(l,J.Lw))this.reset()};J.prototype.L=function(l){for(var t=0;t<l.in.length;
t++)if(this.Sx[l.in[t]])return!0;return!1};J.prototype.rF=function(){var l=this,t=l.L(J.hV)?10:1,a=0,k=0;
if(l.L(J.LR))a=-t;if(l.L(J.JV))a=t;if(l.L(J.oi))k=-t;if(l.L(J.oU))k=t;return new x(a,k)};J.prototype.oW=function(){var l=this,t=J.oC;
for(var a=0;a<10;a++)if(l.L(t[a]))return a;return-1};J.uS=function(l,t){return t.in.indexOf(l)!=-1};
J.Lc=function(l){var t=l.code;return J.OPO.indexOf(t)==-1||l.shiftKey&&t=="F5"};J.Oic=function(l){if(l==null)return"";
var t=[];for(var a=0;a<l.length;a++)t.push(l[a].cj);return t.join(" + ")};J.OPO="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
J.KX={cj:"Enter",in:["Enter","NumpadEnter"]};J.hV={cj:"Shift",in:["ShiftLeft","ShiftRight"]};J.Lw={cj:"Meta",in:["MetaLeft","MetaRight","OSLeft","OSRight"]};
J.$K={cj:"Ctrl",in:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};J.Bl={cj:"Alt",in:["AltLeft","AltRight"]};
J.ZR={cj:"Escape",in:["Escape"]};J.Px={cj:"Space",in:["Space"]};J.Lv={cj:"Tab",in:["Tab"]};J.OPi={cj:"Home",in:["Home"]};
J.OPz={cj:"End",in:["End"]};J.LR={cj:"Left",in:["ArrowLeft"]};J.oi={cj:"Up",in:["ArrowUp"]};J.JV={cj:"Right",in:["ArrowRight"]};
J.oU={cj:"Down",in:["ArrowDown"]};J.Iu={cj:"+",in:["NumpadAdd","Equal"]};J.or={cj:"-",in:["NumpadSubtract","Minus","Slash"]};
J.OPS={cj:";",in:["Semicolon"]};J.OPn={cj:"Dead",in:["Dead"]};J.OPx={cj:"=",in:["Equal"]};J.od={cj:"Backspace",in:["Backspace"]};
J.tQ={cj:"Delete",in:["Delete"]};J.OPL={cj:"Backslash",in:["Backslash","IntlBackslash"]};J.OPc={cj:"Backquote",in:["Backquote"]};
J.oD={cj:"[",in:["BracketLeft"]};J.JW={cj:"]",in:["BracketRight"]};J.OkH={cj:".",in:["Period"]};J.Okl={cj:",",in:["Comma"]};
J.h={cj:"A",in:["KeyA","KeyQ"]};J.Jb={cj:"B",in:["KeyB"]};J.iS={cj:"C",in:["KeyC"]};J.gf={cj:"D",in:["KeyD"]};
J.E={cj:"E",in:["KeyE"]};J.qG={cj:"F",in:["KeyF"]};J.Jz={cj:"G",in:["KeyG"]};J.JS={cj:"H",in:["KeyH"]};
J.oq={cj:"I",in:["KeyI"]};J.Jn={cj:"J",in:["KeyJ"]};J.oT={cj:"K",in:["KeyK"]};J.IL={cj:"L",in:["KeyL"]};
J.fG={cj:"M",in:["KeyM"]};J.YR={cj:"N",in:["KeyN"]};J.JK={cj:"O",in:["KeyO"]};J.ra={cj:"P",in:["KeyP"]};
J.OgK={cj:"Q",in:["KeyQ"]};J.OkP={cj:"R",in:["KeyR"]};J.Ic={cj:"S",in:["KeyS"]};J.f={cj:"T",in:["KeyT"]};
J.kT={cj:"U",in:["KeyU"]};J.Jx={cj:"V",in:["KeyV"]};J.Okk={cj:"W",in:["KeyW"]};J.JZ={cj:"X",in:["KeyX"]};
J.Ogm={cj:"Y",in:["KeyY","KeyZ"]};J.IC={cj:"Z",in:["KeyZ","KeyY"]};J.Jq={cj:"0",in:["Numpad0","Digit0"]};
J.JT={cj:"1",in:["Numpad1","Digit1"]};J.Okb={cj:"2",in:["Numpad2","Digit2"]};J.OkS={cj:"3",in:["Numpad3","Digit3"]};
J.OkK={cj:"4",in:["Numpad4","Digit4"]};J.Okm={cj:"5",in:["Numpad5","Digit5"]};J.Okx={cj:"6",in:["Numpad6","Digit6"]};
J.Okv={cj:"7",in:["Numpad7","Digit7"]};J.Obn={cj:"8",in:["Numpad8","Digit8"]};J.Obx={cj:"9",in:["Numpad9","Digit9"]};
J.oC=[J.Jq,J.JT,J.Okb,J.OkS,J.OkK,J.Okm,J.Okx,J.Okv,J.Obn,J.Obx];J.OgJ={cj:"F1",in:["F1"]};J.OIi={cj:"F2",in:["F2"]};
J.OI_={cj:"F3",in:["F3"]};J.OIZ={cj:"FF",in:["F4"]};J.ObF={cj:"F5",in:["F5"]};J.Oir={cj:"F6",in:["F6"]};
J.OiG={cj:"F7",in:["F7"]};J.OiM={cj:"F8",in:["F8"]};J.OPE={cj:"F9",in:["F9"]};J.OPT={cj:"F10",in:["F10"]};
J.OPu={cj:"F11",in:["F11"]};J.OPM={cj:"F12",in:["F12"]};function Wt(l,t,a){if(a==null)a=!1;this.name=l;
this.P=t;this.Ib=a;this.data=null}var WT={};WT.get=function(l){for(var t in WT.names)if(l[t]!=null)return t;
return null};WT.ry=function(l,t){var a;if(l=="brit"){var k=t[0],R=t[1],u=t[2];if(u){var b=k/255,v=1+R/100;
if(v>1)v=1+Math.tan(Math.PI/2*R/100);var H=(1-v)/2,N=$.sg.Oj(b,b,b),z=[v,0,0,H,0,v,0,H,0,0,v,H,0,0,0,1],A=$.sg.multiply(N,z),Q=new $.gL(256);
for(var S=0;S<256;S++)Q.D[S]=S;$.sg.transform(Q,Q,A);a={type:"remap",hb:Q.D,hp:Q.D,EQ:Q.D,sK:!1,sT:!1}}else{var o=1024,p=-30+60*(R+100)/200,O=[],L;
for(var S=0;S<4;S++)O.push($.Fa.gX(S/3*255,S/3*255,!0));O[1].v.Hrzn.v=64;O[1].v.Vrtc.v=64-p;O[2].v.Hrzn.v=128+64;
O[2].v.Vrtc.v=128+64+p;O.sort(function(On,AH){return On.v.Hrzn.v-AH.v.Hrzn.v});var E=$.Fa.iB(O,o);O=[];
for(var S=0;S<3;S++)O.push($.Fa.gX(S/2*255,S/2*255,!0));if(k<0){var U=128+10*k/150,W=128-120*k/150;O[1].v.Hrzn.v=W;
O[1].v.Vrtc.v=U;L=$.Fa.iB(O,o);for(var S=0;S<o;S++)if(S*(255/o)<W)L[S]=S*(255/o)/W*U/255}else{O[1].v.Hrzn.v=128-64*k/150;
O[1].v.Vrtc.v=128+24*k/150;L=$.Fa.iB(O,o)}var Y=new Uint8Array(o);for(var S=0;S<o;S++){var y=Math.round((o-1)*L[S]);
Y[S]=Math.round(255*E[y])}a={type:"remap",hb:Y,hp:Y,EQ:Y,sK:!1,sT:!1}}}if(l=="levl"){var C=t,X,M,N,g,n,V;
X=-C[0][0]/255;M=1/(C[0][1]/255-C[0][0]/255);N=$.sg.multiply($.sg.AW(M,M,M),$.sg.Oj(X,X,X));g=$.sg.AW(1/(C[1][1]/255-C[1][0]/255),1/(C[2][1]/255-C[2][0]/255),1/(C[3][1]/255-C[3][0]/255));
n=$.sg.Oj(-C[1][0]/255,-C[2][0]/255,-C[3][0]/255);V=$.sg.multiply(g,n);var Y=new $.gL(256);for(var S=0;
S<256;S++)Y.D[S]=Y.K[S]=Y.l[S]=S;var i=1/(C[0][4]/100),f=1/(C[1][4]/100),r=1/(C[2][4]/100),e=1/(C[3][4]/100);
$.sg.transform(Y,Y,V);for(var S=0;S<256;S++){Y.D[S]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Y.D[S]/255,f))));
Y.K[S]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Y.K[S]/255,r))));Y.l[S]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Y.l[S]/255,e))))}$.sg.transform(Y,Y,N);
for(var S=0;S<256;S++){Y.D[S]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Y.D[S]/255,i))));Y.K[S]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Y.K[S]/255,i))));
Y.l[S]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Y.l[S]/255,i))))}X=C[0][2]/255;M=C[0][3]/255-C[0][2]/255;
N=$.sg.multiply($.sg.Oj(X,X,X),$.sg.AW(M,M,M));g=$.sg.AW(C[1][3]/255-C[1][2]/255,C[2][3]/255-C[2][2]/255,C[3][3]/255-C[3][2]/255);
n=$.sg.Oj(C[1][2]/255,C[2][2]/255,C[3][2]/255);V=$.sg.multiply(n,g);$.sg.transform(Y,Y,$.sg.multiply(N,V));
a={type:"remap",hb:Y.D,hp:Y.K,EQ:Y.l,sK:!1,sT:!1}}if(l=="curv"){var D=t[0].length==256?1:0,B=[];if(D==0){var h=$.Fa.PV(t[0],256);
for(var S=1;S<4;S++){var I=$.Fa.PV(t[S],256);B.push($.Fa._V(I,h))}}else{var j=[];for(var S=0;S<4;S++){var c=new Uint8Array(256);
j.push(c);for(var m=0;m<256;m++)c[m]=t[S][m]}for(var S=1;S<4;S++)B.push($.Fa._V(j[S],j[0]))}a={type:"remap",hb:B[0],hp:B[1],EQ:B[2],sK:!1,sT:!1}}if(l=="expA"){var F=t[0],G=t[1],q=t[2],Y=new Uint8Array(256);
for(var S=0;S<256;S++){var t=S/255,W_=Math.pow(Math.abs(G),1/(Math.PI/2));if(G>0){t=Math.max(G/Math.E,t);
t=t*Math.exp(G/1.75+F/Math.PI);t=(1-W_)*t+W_*1}else{t=t*Math.exp(-G*1.75+F/Math.PI);t=t+-W_*1.14}t=Math.pow(t,1/q);
t=Math.max(0,Math.min(1,t));Y[S]=Math.round(t*255)}a={type:"remap",hb:Y,hp:Y,EQ:Y,sK:!1,sT:!1}}if(l=="vibA"){a={type:"vibrance",wd:t}}if(l=="hue2"){t=JSON.parse(JSON.stringify(t));
var WU=[],Wd=[],WZ=[];for(var S=0;S<256;S++){WU[S]=S/255;Wd[S]=0;WZ[S]=0}var WL=t.nf?t.xL:t.DN,Wj=WT.oh(WL[1]/100);
if(t.nf){var Or=WL[0]/360;for(var S=0;S<256;S++){WU[S]=Or;Wd[S]=Wj}}else{for(var S=0;S<256;S++){var Wu=WU[S],WE=Wd[S];
WU[S]+=WL[0]/360;for(var m=0;m<6;m++){var Wf=t.gm[m].ai,WS=t.gm[m].Pn,W_=0;for(var Wx=1;Wx<4;Wx++)if(WS[Wx]<WS[0])WS[Wx]+=360;
var WQ=WS[0],WJ=WS[1],Ww=WS[2],Wv=WS[3],Oi=Wu*360;if(Oi<WS[0])Oi+=360;var Wc=(Oi-WQ)/(WJ-WQ),Wh=(Oi-Ww)/(Wv-Ww);
if(Wc<0)W_=0;else if(Wc<1)W_=Wc;else if(Wh<0)W_=1;else if(Wh<1)W_=1-Wh;else W_=0;var v=WT.oh(Wf[1]/100);
WU[S]+=W_*Wf[0]/360;Wd[S]+=W_*v;WZ[S]+=W_*Wf[2]/100}}for(var S=0;S<256;S++){Wd[S]=(1+Wd[S])*(1+Wj)-1;
WZ[S]=Math.max(-1,Math.min(1,WZ[S]))}}var Om=new Uint8Array(256),WN=new Uint8Array(256),WR=new Uint8Array(256);
for(var S=0;S<256;S++){var Wp=WU[S],OP=Wd[S],Hz=WZ[S];if(Wp>1)Wp--;if(Wp<0)Wp++;OP=WT.Obe(OP);OP=(1+OP)*.5;
Hz=(1+Hz)*.5;Om[S]=Math.round(255*Wp);WN[S]=Math.round(255*OP);WR[S]=Math.round(255*Hz)}var HP=WL[2]/100,OW=HP<0?-HP:HP,WX=HP<0?0:1;
a={type:"remapHSL",HN:Om,JX:WN,lV:WR,lO:OW*WX,Kv:1-OW,OWY:WL[2]/100,lW:t.nf?1:0}}if(l=="nvrt"){var Y=new Uint8Array(256);
for(var S=0;S<256;S++)Y[S]=255-S;a={type:"remap",hb:Y,hp:Y,EQ:Y,sK:!1,sT:!1}}if(l=="grdm"){var Az=t[0],Hg=$.C.hG(Az.Clrs.v,0,0),o=1024,Hm=$.C.Ey(Az,Hg,o),HB=$.I(o),Ow=$.I(o),HH=$.I(o);
$.Du(Hm,HB,0);$.Du(Hm,Ow,1);$.Du(Hm,HH,2);if(t[1]){HB.reverse();Ow.reverse();HH.reverse()}a={type:"remap",hb:HB,hp:Ow,EQ:HH,sK:!0,sT:!1}}if(l=="selc"){var Hk=new Float32Array(9*3*2),Hl=t.xf,O_=t.XT;
for(var m=1;m<10;m++){var Hj=(m-1)*6,Hf=Hl[m][0]/100,HF=Hl[m][1]/100,$$=Hl[m][2]/100,Og=Hl[m][3]/100;
if(O_){Hk[Hj]=Hk[Hj+1]=Hk[Hj+2]=1;Hk[Hj+3]=Hf*(1+Og)+Og;Hk[Hj+4]=HF*(1+Og)+Og;Hk[Hj+5]=$$*(1+Og)+Og}else{Hk[Hj+0]=(1+Hf)*(1+Og);
Hk[Hj+1]=(1+HF)*(1+Og);Hk[Hj+2]=(1+$$)*(1+Og)}}a={type:"selc",gs:Hk}}if(l=="blwh"){var Hy=[],Oe=0,Hs=0;
for(var S=0;S<6;S++)Hy.push((t[S]-50)/50);var HS=$.C.BL(t[7]);HS.D/=255;HS.K/=255;HS.l/=255;var AV=$.HC(HS.D,HS.K,HS.l),Hz=$.Be($.AF(AV.Ii,1,.5)),HT=AV.RI*AV.cI;
if(Hz==.5)Oe=Hs=.5;else{Oe=HT*(.5-Hz)/(.5/Hz-1);Hs=1-HT*(.5-Hz)-1/(2*(1-Hz));Hs/=1-1/(2*(1-Hz))}a={type:"blwh",UX:Hy,EL:t[6]?1:0,Ue:AV.Ii,Be:Hz,Uy:HT,mm:Oe,EO:Hs}}if(l=="blnc"){var C=[];
for(var S=0;S<3;S++){var Ht=t.ai[S][0]/100,HK=t.ai[S][1]/100,Ox=t.ai[S][2]/100,$O=t.Be?$O=(Math.min(Ht,HK,Ox)+Math.max(Ht,HK,Ox))/2:0;
C[S]=[Ht-$O,HK-$O,Ox-$O]}var B=[$.I(256),$.I(256),$.I(256)];for(var m=0;m<3;m++)for(var S=0;S<256;S++){var HI=S*(1/255),HE=0,p=0,Al=0;
p=C[2][m];Al=Math.abs(p);if(p<0)HE=Math.pow(HI,Math.SQRT2);else HE=1.63*(Math.pow(HI+.04,.5)-.2);HI=Al*HE+(1-Al)*HI;
p=C[1][m];Al=Math.abs(p);if(p<0)HE=Math.pow(HI,2);else HE=Math.min(2.35*(Math.pow(HI+.09,.5)-.3),Math.pow(HI,1/2));
HI=Al*HE+(1-Al)*HI;p=C[0][m];Al=Math.abs(p);if(p<0)HE=HI<.4?0:Math.pow((HI-.4)/.6,Math.SQRT2);else HE=Math.pow(HI,Math.SQRT2/2);
HI=Al*HE+(1-Al)*HI;HI=Math.max(0,Math.min(1,HI));B[m][S]=Math.round(HI*255)}a={type:"remap",hb:B[0],hp:B[1],EQ:B[2],sK:!1,sT:!1}}if(l=="phfl"){var ON=[t.xL.Rd.v/255,t.xL.Grn.v/255,t.xL.Bl.v/255],AD=t.fm/100,B=[$.I(256),$.I(256),$.I(256)];
for(var m=0;m<3;m++)for(var S=0;S<256;S++){var HI=S*(1/255),AU=HI*ON[m];AU=Math.max(0,Math.min(1,AU));
HI=AD*AU+(1-AD)*HI;B[m][S]=Math.round(HI*255)}a={type:"remap",hb:B[0],hp:B[1],EQ:B[2],sK:!1,sT:t.fC}}if(l=="thrs"){var Y=$.I(256);
for(var S=t;S<256;S++)Y[S]=255;a={type:"remap",hb:Y,hp:Y,EQ:Y,sK:!0,sT:!1}}if(l=="mixr"){var A=[];for(var S=0;
S<t.V.length;S++)if(S%5!=3)A.push(t.V[S]/100);if(t.Nd){for(var Hu=1;Hu<3;Hu++)for(var HI=0;HI<4;HI++)A[Hu*4+HI]=A[HI]}a={type:"matrix",sg:A}}return a};
WT.oh=function(l){if(l<0)return l;return Math.pow(Math.tan(Math.PI/2*l),1.3)};WT.Obe=function(l){if(l<0)return l;
l=Math.pow(l,1/1.3);return Math.atan2(l,1)/(Math.PI/2)};WT.fu=function(l,t,a,k){var R=Date.now();if(T.jS&&k.s()>300*300&&l.type!="remap"){k=k.clone();
k.x=k.y=0;var u=WT.OWQ;if(u==null||u.$!=k.$||u.e!=k.e){if(u)u.delete();u=new T.gL(k.$,k.e)}u.set(t);
WT.Ja(l,u,k);u.get(a);return}if(l.type=="matrix")$.sg.O$E(t,a,l.sg);if(l.type=="blwh"){var b=l.Uy,v=l.Be,H=l.mm,N=l.EO,z=t.length;
for(var A=0;A<z;A+=4){var k=t[A]*(1/255),Q=t[A+1]*(1/255),S=t[A+2]*(1/255),o=$.kG(k,Q,S),p=0;for(var O=0;
O<6;O++)p+=Math.min(1,1.7*(1-o.jl))*o.RI*l.UX[O]*WT.JL(o.Ii,O*(1/6));var E=Math.max(0,Math.min(1,o.jl*(1+p)));
if(l.EL==1){var L=0;if(E<H)L=E*(.5/v);else if(E<N)L=E+b*(.5-v);else L=1-(1-E)*.5/(1-v);o.Ii=l.Ue;o.RI=Math.min(1,b+3*b*Math.abs(E-.5*(H+N)));
o.jl=L}else{o.Ii=0;o.RI=0;o.jl=E}var U=$.AF(o.Ii,o.RI,o.jl);a[A]=Math.round(U.D*255);a[A+1]=Math.round(U.K*255);
a[A+2]=Math.round(U.l*255)}}if(l.type=="selc"){var W=l.gs,z=t.length,Y=1/255;for(var A=0;A<z;A+=4){var k=t[A]*Y,Q=t[A+1]*Y,S=t[A+2]*Y,o=$.kG(k,Q,S),y=Math.max(k,Math.max(Q,S)),C=Math.min(k,Math.min(Q,S)),X=1-k,M=1-Q,g=1-S,n=0,V=0,i=0;
for(var O=0;O<9;O++){var f=O*6,B=0;if(W[f]==1&&W[f+1]==1&&W[f+2]==1&&W[f+3]==0&&W[f+4]==0&&W[f+5]==0)continue;
var r=X*W[f]+W[f+3],e=M*W[f+1]+W[f+4],D=g*W[f+2]+W[f+5];if(O<6)B=WT.JL(o.Ii,O*(1/6))*o.RI*2*Math.min(o.jl,1-o.jl);
else if(O==6)B=Math.max(0,C-.5)*2;else if(O==7)B=1-(Math.abs(y-.5)+Math.abs(C-.5));else B=Math.max(0,.5-y)*2;
n+=(Math.max(0,Math.min(1,r))-X)*B;V+=(Math.max(0,Math.min(1,e))-M)*B;i+=(Math.max(0,Math.min(1,D))-g)*B}X=Math.max(0,Math.min(1,X+n));
M=Math.max(0,Math.min(1,M+V));g=Math.max(0,Math.min(1,g+i));k=1-X;Q=1-M;S=1-g;a[A]=Math.round(k*255);
a[A+1]=Math.round(Q*255);a[A+2]=Math.round(S*255)}}if(l.type=="remap"){$.OVJ(t,a,l.hb,l.hp,l.EQ,l.sK,l.sT)}if(l.type=="remapHSL"){var h=new Uint32Array(t.buffer),I=new Uint32Array(a.buffer),z=h.length;
if(WT.In==null){WT.In=new Float64Array(256);for(var A=0;A<256;A++)WT.In[A]=WT.oh(-1+2*A/255)}var j=WT.In;
for(var A=0;A<z;A++){var c=h[A],k=(c&255)*(1/255),Q=(c>>>8&255)*(1/255),S=(c>>>16&255)*(1/255),m=c>>>24,F=Math.min(k,Q,S),G=Math.max(k,Q,S),q=0,W_=0,WU=0;
if(G!=F){var Wd=G-F;switch(G){case k:q=(Q-S)/Wd+(Q<S?6:0);break;case Q:q=(S-k)/Wd+2;break;case S:q=(k-Q)/Wd+4;
break}q=q*(1/6)}var WZ=~~(q*255+.5),WL=l.HN[WZ]*(1/255),Wj=l.JX[WZ]*(1/255)*2-1,Or=l.lV[WZ]*(1/255)*2-1,p=-Or,Wu=F;
if(0<Or){p=Or;Wu=G}var WE=l.lO+l.Kv*p*Wu,Wf=l.Kv*(1-p);k=WE+Wf*k;Q=WE+Wf*Q;S=WE+Wf*S;G=Math.max(k,Q,S);
F=Math.min(k,Q,S);WU=(G+F)*.5;if(G!=F){var Wd=G-F;W_=WU>.5?Wd/(2-(G+F)):Wd/(G+F)}var WS=Wj;if(l.lW==0){Wj=j[Math.floor((1+Wj)*127.5)];
WS=Math.min(W_*(1+Wj),1)}q=WL;W_=WS;if(W_==0)k=Q=S=WU;else{var Wx=WU<.5?WU*(1+W_):WU+W_-WU*W_,WQ=2*WU-Wx;
k=$.lu(WQ,Wx,q+1/3);Q=$.lu(WQ,Wx,q);S=$.lu(WQ,Wx,q-1/3)}I[A]=m<<24|S*255<<16|Q*255<<8|k*255}}if(l.type=="vibrance"){var h=new Uint32Array(t.buffer),I=new Uint32Array(a.buffer),z=h.length,WJ=l.wd[0]/100,Ww=l.wd[1]/100;
for(var A=0;A<z;A++){var c=h[A],k=(c&255)*(1/255),Q=(c>>>8&255)*(1/255),S=(c>>>16&255)*(1/255),m=c>>>24,o=$.HC(k,Q,S),q=o.Ii,W_=o.RI,WU=o.cI,Wv=0,Oi=45/360,Wc=q<Oi?Math.cos(Math.PI/2*(q-Oi/2)/(Oi/2)):0;
W_=W_+.2*(1-.4*Wc)*WJ*Math.max(0,Math.sin(W_*Math.PI));W_=W_*(1+Ww);W_=Math.max(0,Math.min(1,W_));var U=$.gU(q,W_,WU);
k=U.D;Q=U.K;S=U.l;I[A]=m<<24|S*255<<16|Q*255<<8|k*255}}};WT.Ja=function(l,t,a){if(l.type=="remap")T.Dn(t,{D:l.hb,K:l.hp,l:l.EQ},l.sK,l.sT,a);
if(l.type=="remapHSL")T.hj(t,{D:l.HN,K:l.JX,l:l.lV},a,l.lO,l.Kv,l.lW);if(l.type=="vibrance")T.IY(t,l.wd[0]/100,l.wd[1]/100,a);
if(l.type=="selc")T.Ie(t,l.gs,a);if(l.type=="blwh")T.Pg(t,l.UX,[l.EL,l.Ue,l.Be,l.Uy,l.mm,l.EO],a);if(l.type=="matrix")T.IM(t,l.sg,a)};
WT.JL=function(l,t){var a=$.OO(t,l)*6;return Math.max(0,Math.min(1,a<0?1+a:1-a))};WT.ready={brit:1,levl:1,curv:1,expA:1,vibA:1,hue2:1,blnc:1,blwh:1,phfl:1,mixr:1,nvrt:1,thrs:1,grdm:1,selc:1};
WT.JJ=["expA","mixr"];WT.rw={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr"};
WT.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15]};
WT.keys={levl:[J.$K,J.IL],curv:[J.$K,J.fG],hue2:[J.$K,J.kT],nvrt:[J.$K,J.oq],blnc:[J.$K,J.Jb]};WT.ov=function(l,t){if(l=="brit"){t.brit={ma:0,mc:0,WK:0,W_:0};
t.CgEd={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!1}}}if(l=="levl"){t[l]=[];
for(var a=0;a<62;a++)t[l].push([0,255,0,255,100])}if(l=="curv")t[l]=[[0,0,255,255],[0,0,255,255],[0,0,255,255],[0,0,255,255]];
if(l=="expA")t[l]=[0,0,1];if(l=="vibA")t[l]={classID:"null",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};
if(l=="hue2")t[l]={nf:!1,xL:[0,25,0],DN:[0,0,0],gm:[{Pn:[315,345,15,45],ai:[0,0,0]},{Pn:[15,45,75,105],ai:[0,0,0]},{Pn:[75,105,135,165],ai:[0,0,0]},{Pn:[135,165,195,225],ai:[0,0,0]},{Pn:[195,225,255,285],ai:[0,0,0]},{Pn:[255,285,315,345],ai:[0,0,0]}]};
if(l=="nvrt")t[l]=1;if(l=="grdm")t[l]={rev:!1,Iv:!1,C:JSON.parse(P.Oh[P.order.indexOf("GrFl")]).Grad.v,mode:0,dA:867527939,iQ:!1,ic:!0,iw:2048,iv:3,Wr:[0,0,0,0],Wm:[32768,32768,32768,32768]};
if(l=="selc"){t[l]={XT:!0,xf:[]};for(var a=0;a<10;a++)t[l].xf.push([0,0,0,0])}if(l=="blwh")t[l]={classID:"null",Rd:{t:"long",v:50},Yllw:{t:"long",v:50},Grn:{t:"long",v:50},Cyn:{t:"long",v:50},Bl:{t:"long",v:50},Mgnt:{t:"long",v:50},useTint:{t:"bool",v:!1},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:255},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}},bwPresetKind:{t:"long",v:3},blackAndWhitePresetFileName:{t:"TEXT",v:""}};
if(l=="blnc")t[l]={ai:[[0,0,0],[0,0,0],[0,0,0]],Be:!1};if(l=="thrs")t[l]=128;if(l=="phfl")t[l]={color:{Ks:7,cI:[1254,3530,63045,0]},fm:10,fC:!1};
if(l=="mixr")t[l]={Nd:!1,V:[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}};WT.JQ=function(l,t,a){if(l=="brit"){a.Brgh.v=t[0];
a.Cntr.v=t[1];a.useLegacy.v=t[2]}if(l=="levl"){var k=a.Adjs.v=[];for(var R=0;R<4;R++){var u=t[R],b={classID:"LvlA",Chnl:WT.JC(R)};
b.Inpt={t:"VlLs",v:[{t:"long",v:u[0]},{t:"long",v:u[1]}]};b.Otpt={t:"VlLs",v:[{t:"long",v:u[2]},{t:"long",v:u[3]}]};
b.Gmm={t:"doub",v:u[4]/100};k.push({t:"Objc",v:b})}}if(l=="curv"){var k=a.Adjs.v=[];for(var R=0;R<4;
R++){var u=t[R],b={classID:"CrvA",Chnl:WT.JC(R),Crv:{t:"VlLs",v:[]}};for(var v=0;v<u.length;v++)b.Crv.v.push(u[v]);
k.push({t:"Objc",v:b})}}if(l=="expA"){a.Exps.v=t[0];a.Ofst.v=t[1];a.gammaCorrection.v=t[2]}if(l=="vibA"){a.vibrance.v=t[0];
a.Strt.v=t[1]}if(l=="hue2"){a.Clrz.v=t.nf;var k=a.Adjs.v=[];for(var R=0;R<7;R++){var H=R==0?t.nf?t.xL:t.DN:t.gm[R-1].ai,N=WT.Jt(H);
k.push({t:"Objc",v:N});if(R!=0){var z=t.gm[R-1].Pn;N.LclR={t:"long",v:R},N.BgnR={t:"long",v:z[0]};N.BgnS={t:"long",v:z[1]};
N.EndS={t:"long",v:z[2]};N.EndR={t:"long",v:z[3]}}}}if(l=="blnc"){a.PrsL.v=t.Be;var A=["ShdL","MdtL","HghL"];
for(var R=0;R<3;R++){var k=a[A[R]].v;for(var v=0;v<3;v++)k[v].v=t.ai[R][v]}}if(l=="blwh")WT.write(l,t,a);
if(l=="phfl"){a.Dnst.v=t.fm;a.PrsL.v=t.fC;var Q=$.C.BL(t.xL),S=WT.JN([Q.D,Q.K,Q.l,0]);S={classID:"LbCl",Lmnc:{t:"doub",v:S[0]/100},A:{t:"doub",v:S[1]/100},B:{t:"doub",v:S[2]/100}};
a.Clr={t:"Objc",v:S}}if(l=="grdm"){a.Grad.v=t[0];a.Rvrs={t:"bool",v:t[1]}}if(l=="selc"){a.Mthd.v=t.XT?"Absl":"Rltv";
var o=["Cyn","Mgnt","Ylw","Blck"],p="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" "),k=a.ClrC.v=[];
for(var R=1;R<10;R++){var O=t.xf[R],N={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:p[R-1]}}};for(var v=0;v<4;
v++)N[o[v]]={t:"UntF",v:{type:"#Prc",val:O[v]}};k.push({t:"Objc",v:N})}}if(l=="thrs")a.Lvl.v=t;if(l=="mixr"){a.Mnch={t:"bool",v:t.Nd};
function E(L,R){var U={classID:"ChMx"},W={Rd:0,Grn:1,Bl:2,Cnst:4};for(var Y in W)U[Y]={t:"UntF",v:{type:"#Prc",val:L[R+W[Y]]}};
return{t:"Objc",v:U}}if(t.Nd)a.Gry=E(t.V,0);else{a.Rd=E(t.V,0);a.Grn=E(t.V,5);a.Bl=E(t.V,10)}}return a};
WT.Jt=function(l){return{classID:"Hst2",H:{t:"long",v:l[0]},Strt:{t:"long",v:l[1]},Lght:{t:"long",v:l[2]}}};
WT.JC=function(l){var t=["Cmps","Rd","Grn","Bl"];return{t:"obj ",v:[{t:"Enmr",v:{class:"Chnl",type:"Chnl",enum:t[l]}}]}};
WT.Jh=function(l,t){var a,k={Cmps:0,Rd:1,Grn:2,Bl:3};if(l=="brit")a=WT.fI("brit",t);if(l=="levl"){var R=t.Adjs.v;
a=[];for(var u=0;u<4;u++)a.push([0,255,0,255,100]);for(var u=0;u<R.length;u++){var b=R[u].v,v=k[b.Chnl.v[0].v.enum],H=a[v];
if(b.Inpt){H[0]=b.Inpt.v[0].v;H[1]=b.Inpt.v[1].v}if(b.Otpt){H[2]=b.Otpt.v[0].v;H[3]=b.Otpt.v[1].v}if(b.Gmm)H[4]=Math.round(b.Gmm.v*100)}}if(l=="curv"){var R=t.Adjs.v;
a=[];for(var u=0;u<4;u++)a.push([$.Fa.gX(0,0,!0),$.Fa.gX(255,255,!0)]);for(var u=0;u<R.length;u++){var b=R[u].v,v=k[b.Chnl.v[0].v.enum],N=b.Crv.v,z=[];
for(var A=0;A<N.length;A++)z.push($.Fa.gX(N[A].v.Hrzn.v,N[A].v.Vrtc.v));a[v]=z}}if(l=="expA")a=[t.Exps.v,t.Ofst.v,t.gammaCorrection.v];
if(l=="vibA")a=WT.fI(l,t);if(l=="hue2"){var R=t.Adjs.v;a={nf:t.Clrz.v,xL:[100,25,0],DN:[0,0,0],gm:[{Pn:[315,345,15,45],ai:[0,0,0]},{Pn:[15,45,75,105],ai:[0,0,0]},{Pn:[75,105,135,165],ai:[0,0,0]},{Pn:[135,165,195,225],ai:[0,0,0]},{Pn:[195,225,255,285],ai:[0,0,0]},{Pn:[255,285,315,345],ai:[0,0,0]}]};
for(var u=0;u<R.length;u++){var b=R[u].v,Q=[b.H.v,b.Strt.v,b.Lght.v];if(b.LclR==null)a.DN=a.xL=Q;else a.gm[b.LclR.v-1].ai=Q}}if(l=="blnc"){a={ai:[[0,0,0],[0,0,0],[0,0,0]],Be:t.PrsL.v};
var S=["ShdL","MdtL","HghL"];for(var u=0;u<3;u++){var R=t[S[u]].v;a.ai[u]=[R[0].v,R[1].v,R[2].v]}}if(l=="blwh")a=WT.fI(l,t);
if(l=="phfl"){var o=[255,0,0];if(t.Clr){var p=t.Clr.v;if(p.classID=="LbCl")o=WT.oN([p.Lmnc.v*100,p.A.v*100,p.B.v*100])}a={fm:t.Dnst.v,fC:t.PrsL.v,xL:$.C.br({D:o[0],K:o[1],l:o[2]})}}if(l=="grdm")a=[t.Grad.v,t.Rvrs?t.Rvrs.v:!1];
if(l=="selc"){var O=["Cyn","Mgnt","Ylw","Blck"],k="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
a={XT:t.Mthd.v!="Rltv",xf:[]};for(var u=0;u<10;u++)a.xf.push([0,0,0,0]);var R=t.ClrC.v;for(var u=0;u<R.length;
u++){var b=R[u].v,v=k.indexOf(b.Clrs.v.Clrs),E=a.xf[v+1];for(var A=0;A<4;A++)if(b[O[A]])E[A]=b[O[A]].v.val}}if(l=="thrs")a=t.Lvl.v;
if(l=="mixr"){function L(U,W,u){var Y={Rd:0,Grn:1,Bl:2,Cnst:4};for(var y in Y)if(U[y])W[u+Y[y]]=U[y].v.val}a={Nd:!1,V:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(t.Mnch&&t.Mnch.v)a.Nd=!0;if(a.Nd)L(t.Gry.v,a.V,0);else{L(t.Rd.v,a.V,0);L(t.Grn.v,a.V,5);L(t.Bl.v,a.V,10)}}return a};
WT.rh=function(l){var t=WT.get(l);if(t=="brit"){if(l.CgEd)return WT.fI(t,l.CgEd);else return[l.brit.ma,l.brit.mc,!0]}else if(t=="levl"){var a=[];
for(var k=0;k<4;k++)a.push(JSON.parse(JSON.stringify(l[t][k])));return a}else if(t=="curv"){var a=l[t];
if(a[0].length==256)return a;var R=[];for(var k=0;k<4;k++){var u=a[k],b=[];R.push(b);for(var v=0;v<u.length;
v+=2)b.push($.Fa.gX(u[v],u[v+1],!0))}return R}else if(t=="vibA")return WT.fI(t,l[t]);else if(t=="grdm"){var H=l[t];
return[H.C,H.rev]}else if(t=="blwh")return WT.fI(t,l[t]);else if(t=="phfl"){var H=l[t],N=[255,0,0];if(H.color){var u=H.color;
if(u.Ks==7)N=WT.oN(u.cI)}return{fm:H.fm,fC:H.fC,xL:$.C.br({D:N[0],K:N[1],l:N[2]})}}else return l[t]};
WT.oN=function(l){var t=l[0]/100,a=l[1]/100,k=l[2]/100,R=903.3,u=.008856,b=(t+16)/116,v=b*b*b,H=b-k/200,N=H*H*H,z=a/500+b,A=z*z*z,Q=N>u?N:(116*H-16)/R,S=v>u?v:(116*b-16)/R,o=A>u?A:(116*z-16)/R,p=o*96.72,O=S*100,E=Q*81.427,L=$.sg.Ap($.sg.aN,[p/100,O/100,E/100,0]);
for(var U=0;U<4;U++)L[U]=Math.max(0,Math.min(255,$.Gq(L[U])*255));return L};WT.JN=function(l){for(var t=0;
t<4;t++)l[t]=$.O$q(l[t]/255);var a=$.sg.Ap($.sg.sI($.sg.aN),l),k=100*a[0]/96.72,R=100*a[1]/100,u=100*a[2]/81.427;
if(k>.008856)k=Math.pow(k,1/3);else k=7.787*k+16/116;if(R>.008856)R=Math.pow(R,1/3);else R=7.787*R+16/116;
if(u>.008856)u=Math.pow(u,1/3);else u=7.787*u+16/116;var b=116*R-16,v=500*(k-R),H=200*(R-u);return[b*100,v*100,H*100,0]};
WT.fI=function(l,t){if(l=="blwh"){var a="Rd Yllw Grn Cyn Bl Mgnt".split(" "),k=[];for(var R=0;R<6;R++)k.push(t[a[R]].v);
k.push(t.useTint.v,t.tintColor.v);return k}if(l=="brit")return[t.Brgh.v,t.Cntr.v,t.useLegacy?t.useLegacy.v:!0];
if(l=="vibA")return[t.vibrance?t.vibrance.v:0,t.Strt?t.Strt.v:0]};WT.write=function(l,t,a){console.log(a);
if(l=="blwh"){var k="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var R=0;R<6;R++)a[k[R]].v=t[R];a.useTint.v=t[6];
a.tintColor.v=t[7]}};WT.hT=function(l,t){var a=WT.get(t);if(a=="brit"){if(!l[2]){t.CgEd={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:l[0]},Cntr:{t:"long",v:l[1]},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!1}};
t.brit={ma:0,mc:0,WK:0,W_:0}}else{delete t.CgEd;t.brit.ma=l[0];t.brit.mc=l[1]}}else if(a=="levl"){for(var k=0;
k<4;k++)t[a][k]=JSON.parse(JSON.stringify(l[k]))}else if(a=="curv"){if(l[0].length==256)t[a]=l;else{var R=[];
for(var k=0;k<4;k++){var u=l[k],b=[];R.push(b);for(var v=0;v<u.length;v++)b.push(u[v].v.Hrzn.v,u[v].v.Vrtc.v)}t[a]=R}}else if(a=="vibA"){t[a]={classID:"null",vibrance:{t:"long",v:l[0]},Strt:{t:"long",v:l[1]}}}else if(a=="grdm"){t[a].C=l[0];
t[a].rev=l[1]}else if(a=="blwh")WT.write(a,l,t[a]);else if(a=="phfl"){var H={color:{Ks:7,cI:[8445,-4871,1032,0]},fm:l.fm,fC:l.fC},N=$.C.BL(l.xL);
H.color.cI=WT.JN([N.D,N.K,N.l,0]);t[a]=H}else t[a]=l};var HU={};HU.rS=[{Xj:"LnCr"},{Xj:"LqFy"},{OZ:[24,2],hl:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,MtnB,RdlB,\0\0\x02\xB5".split(",")},{OZ:[24,4],hl:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl".split(",")},{OZ:[24,6],hl:["AdNs","DstS","Mdn "]},{OZ:[24,8],hl:["ClrH","Msc "]},{OZ:[24,10],hl:["Clds","DfrC"]},{OZ:[24,12],hl:["Shrp","ShrM","UnsM"]},{OZ:[24,14],hl:["FndE"]},{OZ:[24,16],hl:["HghP","Mxm ","Mnm ","Ofst","Rept"]}];
HU.names={LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],"Msc ":[24,9,5],Clds:[24,11,0],DfrC:[24,11,1],Shrp:[24,13,0],ShrM:[24,13,2],UnsM:[24,13,4],FndE:[24,15,3],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5]};
HU.TG=function(l){var t=null;if(l=="LqFy"){var a={wa:50,Ii:50,map:new Float32Array(50*50*2)},k=new Uint8Array(AQ.Sh(a)),R=[];
for(var u=0;u<k.length;u++)R.push(k[u]);t={__name:"Liquify\0",classID:"LqFy",LqMe:{t:"tdta",v:R}}}if(l=="LnCr")t={__name:"Lens Correction\0",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(l=="\0\0\x02\xB1")t={__name:"Box Blur\0",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};
if(l=="GsnB")t={__name:"Gaussian Blur\0",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};if(l=="MtnB")t={__name:"Motion Blur\0",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(l=="RdlB")t={__name:"Radial Blur\0",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(l=="\0\0\x02\xB5")t={__name:"Surface Blur\0",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(l=="Dspl")t={__name:"Displace\0",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(l=="Pnch")t={__name:"Pinch\0",classID:"Pnch",Amnt:{t:"long",v:-100}};if(l=="Plr ")t={__name:"Polar Coordinates\0",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(l=="Rple")t={__name:"Ripple\0",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(l=="Shr ")t={__name:"Shear\0",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(l=="Sphr")t={__name:"Spherize\0",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(l=="Twrl")t={__name:"Twirl\0",classID:"Twrl",Angl:{t:"long",v:90}};if(l=="AdNs")t={__name:"Add Noise\0",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(l=="DstS")t={__name:"Dust & Scratches\0",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};
if(l=="Mdn ")t={__name:"Median\0",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};if(l=="ClrH")t={__name:"Color Halftone\0",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(l=="Msc ")t={__name:"Mosaic\0",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(l=="UnsM")t={__name:"Unsharp Mask\0",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(l=="HghP")t={__name:"High Pass\0",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(l=="Mxm ")t={__name:"Maximum\0",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(l=="Mnm ")t={__name:"Minimum\0",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(l=="Ofst")t={__name:"Offset\0",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(l=="Rept")t={__name:"Repeat\0",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(l=="brit")t={__name:"Brightness/Contrast\0",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(l=="levl")t={__name:"Levels\0",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(l=="curv")t={__name:"Curves\0",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(l=="expA")t={__name:"Exposure\0",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:0}};
if(l=="vibA")t={__name:"Vibrance\0",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};
if(l=="hue2")t={__name:"Hue/Saturation\0",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(l=="blnc")t={__name:"Color Balance\0",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(l=="blwh")t={__name:"Black & White\0",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(l=="phfl")t={__name:"Photo Filter\0",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(l=="grdm")t={__name:"Gradient Map\0",classID:"GrMp",Rvrs:{t:"bool",v:!0},Grad:JSON.parse(P.Oh[6]).Grad};
if(l=="selc")t={__name:"Selective Color\0",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Absl"}},ClrC:{t:"VlLs",v:[]}};
if(l=="thrs")t={__name:"Threshold\0",classID:"Thrs",Lvl:{t:"long",v:128}};if(l=="mixr")t={__name:"Channel Mixer\0",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
return t};HU.ObN=function(l){var t=new x(0,0);if(l.enab.v==!1)return t;var a=l.filterFXList.v;for(var k=0;
k<a.length;k++){var R=a[k].v,b=0,v=0;if(R.enab.v==!1)continue;var u=K.st(R.filterID.v);if(["GsnB","\0\0\x02\xB1","UnsM","HghP"].indexOf(u)!=-1){var H=R.Fltr.v.Rds.v.val;
b=v=H*2.57}if(u=="MtnB")b=v=R.Fltr.v.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,RdlB,Plr ,LnCr".split(",").indexOf(u)!=-1){b=v=1e4}b=Math.ceil(b);
v=Math.ceil(v);if(b>t.x)t.x=b;if(v>t.y)t.y=v}return t};HU.fu=function(l,t,a,k,R,u,b){if(u==null)u={buffer:$.I(t.buffer.length),rect:t.rect.clone()};
$.Ll(t.buffer,u.buffer);if(l=="Avrg"){var v=0,H=0,N=0,z=0,A=1;for(var Q=0;Q<t.buffer.length;Q+=4){var S=t.buffer[Q+3];
N+=t.buffer[Q]*S;H+=t.buffer[Q+1]*S;v+=t.buffer[Q+2]*S;z+=S}var o=1/z;v=Math.round(A*(v*o)+(1-A)*255);
H=Math.round(A*(H*o)+(1-A)*255);N=Math.round(A*(N*o)+(1-A)*255);$.IK(u.buffer,v<<16|H<<8|N,4278190080)}if(["GsnB","\0\0\x02\xB1","UnsM","HghP"].indexOf(l)!=-1){var p=a.Rds.v.val,O=l=="\0\0\x02\xB1"?$.blur.np:$.blur.OHn;
HU.ij(p,O,u.buffer,u.rect);if(l=="UnsM"){var E=a.Amnt.v.val/100,L=a.Thsh.v;for(var Q=0;Q<t.buffer.length;
Q++){if((Q&3)==3){u.buffer[Q]=t.buffer[Q];continue}var U=t.buffer[Q],W=u.buffer[Q],Y=E*(U-W);if(Y>0)Y=Math.max(0,Y-L);
else Y=Math.min(0,Y+L);u.buffer[Q]=Math.max(0,Math.min(255,U+Y))}}if(l=="HghP")for(var Q=0;Q<t.buffer.length;
Q++){if((Q&3)==3){u.buffer[Q]=t.buffer[Q];continue}var U=t.buffer[Q],W=u.buffer[Q];u.buffer[Q]=Math.max(0,Math.min(255,128+U-W))}}if(l=="\0\0\x02\xB5"){var y=a.Rds.v.val,C=a.Thsh.v,X=t.rect.$,M=t.rect.e,g=new $.gL(X*M);
$.jk(t.buffer,g);var n=new $.gL(X*M);$.Fu.un(g.D,g.w,n.D,X,M,y,$.Fu.IB,[C]);$.Fu.un(g.K,g.w,n.K,X,M,y,$.Fu.IB,[C]);
$.Fu.un(g.l,g.w,n.l,X,M,y,$.Fu.IB,[C]);$.Ll(g.w,n.w);$.Dc(n,u.buffer)}if(l=="AdNs"){var V=new Uint8ClampedArray(u.buffer.buffer),i=255*a.Nose.v.val/100,f;
if(a.Dstr.v.Dstr=="Gsn")f=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else f=function(){return Math.random()*2-1};for(var Q=0;Q<V.length;Q+=4){var y=V[Q],r=V[Q+1],e=V[Q+2],D,B,h;
if(a.Mnch.v){D=B=h=f()}else{D=f();B=f();h=f()}y+=i*D;r+=i*B;e+=i*h;V[Q]=y;V[Q+1]=r;V[Q+2]=e}}if(l=="Mdn "||l=="DstS"||l=="Mxm "||l=="Mnm "){var y=0;
if(l=="Mdn "||l=="Mxm "||l=="Mnm ")y=a.Rds.v.val;if(l=="DstS")y=a.Rds.v;var O=$.Fu.OzA;if(l=="Mxm ")O=$.Fu.OII;
if(l=="Mnm ")O=$.Fu.OPg;var X=t.rect.$,M=t.rect.e,g=new $.gL(X*M);$.jk(t.buffer,g);var n=new $.gL(X*M);
$.Fu.un(g.D,g.w,n.D,X,M,y,O);$.Fu.un(g.K,g.w,n.K,X,M,y,O);$.Fu.un(g.l,g.w,n.l,X,M,y,O);if(l=="Mdn "){$.set(g.D,255);
$.Fu.un(g.w,g.D,n.w,X,M,y,O)}else if(l=="Mxm "||l=="Mnm "){var I=$.I(g.w.length);$.set(I,255);$.sI(g.w);
$.Fu.un(g.w,I,n.w,X,M,y,O);$.sI(g.w);$.sI(n.w)}else $.Ll(g.w,n.w);$.Dc(n,u.buffer);if(l=="DstS"){var C=a.Thsh.v;
for(var Q=0;Q<X*M*4;Q++){var j=Math.abs(t.buffer[Q]-u.buffer[Q]);if(j<=C)u.buffer[Q]=t.buffer[Q]}}}if(l=="ClrH"){var c=t.rect.clone();
c.x=c.y=0;var y=a.Rds.v;y=Math.round(y*Math.sqrt(2));var X=c.$,M=c.e,g=new $.gL(X*M);$.jk(t.buffer,g);
$.sI(g.D);$.sI(g.K);$.sI(g.l);var m=w.X("canvas","");m.width=X;m.height=M;var F=m.getContext("2d"),G=$.I(X*M*4);
for(var q=0;q<3;q++){var W_=q==0?g.D:q==1?g.K:g.l,WU=Math.PI*a["Ang"+(q+1)].v/180,Wd=new WM(1/y,0,0,1/y,0,0);
Wd.rotate(WU);$.xm(W_,G,3);var WZ=s.b.tS([G,c],Wd,!0),WL=WZ.rect;F.clearRect(0,0,X,M);var Wj=Math.sin(WU),Or=Math.cos(WU);
for(var Q=0;Q<WL.e;Q++)for(var Wu=0;Wu<WL.$;Wu++){var WE=(Wu+WL.x+.5)*y,Wf=(Q+WL.y+.5)*y,WS=WE,Wx=Wf;
WE=Or*WS-Wj*Wx;Wf=Wj*WS+Or*Wx;var WQ=WZ.buffer[(Q*WL.$+Wu<<2)+3]*(1/255),p=y*Math.sqrt(WQ*(1/Math.PI));
F.beginPath();F.arc(WE,Wf,p,0,2*Math.PI);F.fill()}var WJ=F.getImageData(0,0,X,M);$.Du(WJ.data,W_,3)}$.sI(g.D);
$.sI(g.K);$.sI(g.l);$.Dc(g,u.buffer)}if(l=="Msc "){var Ww=a.ClSz.v.val,X=t.rect.$,M=t.rect.e,Wv=Math.ceil(X/Ww),Oi=Math.ceil(M/Ww),Wc=$.I(Wv*Oi*4);
$.scale.$j(t.buffer,X,M,Wc,Wv,Oi,1/Ww);$.scale.$j(Wc,Wv,Oi,u.buffer,X,M,Ww)}if(l=="Clds"||l=="DfrC"){if(l=="Clds")$.IK(u.buffer,4278190080);
var Wh=$.I(256*4);for(var Q=0;Q<256;Q++){var Om=Q<<2,WN=Q/255,WR=1-WN;Wh[Om]=Math.round(WN*k.D+WR*R.D);
Wh[Om+1]=Math.round(WN*k.K+WR*R.K);Wh[Om+2]=Math.round(WN*k.l+WR*R.l)}var X=u.rect.$,M=u.rect.e,WQ=X*M,Wp=$.I(WQ);
noise.seed(Math.random());for(var Wf=0;Wf<M;Wf++)for(var WE=0;WE<X;WE++){var OP=0,Hz=1,HP=1;for(var Q=0;
Q<8;Q++){var OW=HP*(1/170);OP+=noise.perlin2(WE*OW,Wf*OW)*Hz;Hz*=.5;HP=HP<<1}Wp[Wf*X+WE]=Math.round(Math.max(0,255*Math.min(1,.5+.7*OP*.5)))}var WX=u.buffer;
for(var Q=0;Q<WQ;Q++){var Om=Q<<2,Az=Wp[Q]<<2,y=Wh[Az],r=Wh[Az+1],e=Wh[Az+2];if(l=="Clds"){WX[Om]=y;
WX[Om+1]=r;WX[Om+2]=e}else{WX[Om]=Math.abs(WX[4*Q]-y);WX[Om+1]=Math.abs(WX[4*Q+1]-r);WX[Om+2]=Math.abs(WX[4*Q+2]-e)}}}if(l=="Blr "||l=="BlrM"||l=="Shrp"||l=="ShrM"){var X=t.rect.$,M=t.rect.e,Hg;
if(l=="Blr ")Hg=[1,2,1,2,16,2,1,2,1];else if(l=="BlrM")Hg=[1,2,1,2,4,2,1,2,1];else{var Hm=l=="Shrp"?14:11;
Hg=[-1,-1,-1,-1,Hm,-1,-1,-1,-1]}Hg=$.Fu.UR(Hg);var HB=t.buffer.slice(0);$.nG(HB);$.Fu.Cj(HB,u.buffer,X,M,Hg,3,l=="Shrp"||l=="ShrM"?0:255);
$.ns(u.buffer)}if(l=="MtnB"){var Ow=Date.now(),Wd=new WM;Wd.rotate(-a.Angl.v*Math.PI/180);var WZ=s.b.tS([t.buffer,t.rect],Wd,!1,null,!0);
HU.ij(a.Dstn.v.val/2,$.blur.nw,WZ.buffer,WZ.rect);Wd.sI();WZ=s.b.tS([WZ.buffer,WZ.rect],Wd,!1,u.buffer.buffer,!0,u.rect);
console.log(Date.now()-Ow)}if(l=="RdlB"){var X=t.rect.$,M=t.rect.e,E=a.Amnt.v,HH=a.BlrM.v.BlrM=="Zm",q=a.Cntr.v,Hk=q.Hrzn.v,Hl=q.Vrtc.v,O_=Math.max(Hk,1-Hk)*X,Hj=Math.max(Hl,1-Hl)*M,p=Math.sqrt(O_*O_+Hj*Hj),Hf=2*Math.PI*p*1.2,HF=Math.round(Hf),$$=Math.round(p),c=new d(0,0,HF,$$),Og=$.I(HF*$$*4),Hy=HH?4:1,HS=HH?.6:8*((X+M)/2)/1400,AV=.1,OW=1,HT=1;
$.U.EX(t.buffer,X,M,Og,HF,$$,Hk,Hl,Hy,AV,OW,HT);var Oe=HH?$.I(HF*$$*4):null;if(HH){$.U.CC(Og,Oe,HF,$$);
var Hs=Oe;Oe=Og;Og=Hs;c.$=$$;c.e=HF}HU.ij(HS*E,$.blur.nw,Og,c);if(HH){$.U.CC(Og,Oe,$$,HF);var Hs=Oe;
Oe=Og;Og=Hs;c.$=HF;c.e=$$}$.U.Ee(Og,HF,$$,u.buffer,X,M,Hk,Hl,Hy,AV,OW,HT)}if(l=="Plr "){var X=t.rect.$,M=t.rect.e;
if(a.Cnvr.v.Cnvr=="RctP")$.U.Ee(t.buffer,X,M,u.buffer,X,M,.5,.5,1,0,2,X/M);else $.U.EX(t.buffer,X,M,u.buffer,X,M,.5,.5,1,0,2,X/M)}if(l=="FndE"){var X=t.rect.$,M=t.rect.e;
HU.ObR(t.buffer,u.buffer,X,M)}if(l=="Ofst"){var X=t.rect.$,M=t.rect.e,Ht=new Uint32Array(t.buffer.buffer),HK=new Uint32Array(u.buffer.buffer),WS=a.Hrzn.v,Wx=a.Vrtc.v,Ox=a.Fl.v.FlMd;
$.IK(HK,0);if(Ox=="Bckg"||Ox=="Rpt"){var c=t.rect.clone();c.offset(WS,Wx);$.BM(Ht,c,HK,u.rect)}if(Ox=="Rpt"){var $O,HI,HE,Al,ON;
WS=Math.max(-X,Math.min(X,WS));Wx=Math.max(-M,Math.min(M,Wx));$O=WS>0?WS:0;HE=WS>0?X:X+WS;HI=Wx>0?0:Wx+M;
Al=Wx>0?Wx:M;ON=Wx>0?0:X*(M-1);for(var Wf=HI;Wf<Al;Wf++)for(var WE=$O;WE<HE;WE++)HK[Wf*X+WE]=Ht[ON+WE-WS];
$O=WS>0?0:X+WS;HE=WS>0?WS:X;HI=Wx>0?Wx:0;Al=Wx>0?M:M+Wx;ON=WS>0?0:X-1;for(var Wf=HI;Wf<Al;Wf++)for(var WE=$O;
WE<HE;WE++)HK[Wf*X+WE]=Ht[ON+X*(Wf-Wx)];if(WS>=0&&Wx>=0){$O=0;HE=WS;HI=0;Al=Wx;ON=0}if(WS>=0&&Wx<0){$O=0;
HE=WS;HI=M+Wx;Al=M;ON=X*(M-1)}if(WS<0&&Wx>=0){$O=X+WS;HE=X;HI=0;Al=Wx;ON=X-1}if(WS<0&&Wx<0){$O=X+WS;
HE=X;HI=M+Wx;Al=M;ON=X*M-1}for(var Wf=HI;Wf<Al;Wf++)for(var WE=$O;WE<HE;WE++)HK[Wf*X+WE]=Ht[ON]}if(Ox=="Wrp"){WS=(WS+100*X)%X;
Wx=(Wx+100*M)%M;var c=new d(WS-X,Wx-M,X,M);$.BM(Ht,c,HK,u.rect);c.offset(X,0);$.BM(Ht,c,HK,u.rect);c.offset(0,M);
$.BM(Ht,c,HK,u.rect);c.offset(-X,0);$.BM(Ht,c,HK,u.rect)}}if(l=="Rept"){var AD=a.Rsft.v.val/100,AU=a.SpcX.v.val/100;
AU=Math.max(AU,-.99);var Hu=a.SpcY.v.val/100;Hu=Math.max(Hu,-.99);var OW=a.Scl.v.val/100,Wd=new WM;Wd.rotate(a.Angl.v*Math.PI/180);
Wd.scale(OW,OW);var On={buffer:t.buffer,rect:t.rect};$.to(On);if(On.rect.wp()){On.buffer=t.buffer;On.rect=t.rect}var WX=On.buffer,c=On.rect,AH=$.Ge(WX,c),$R=new Uint32Array(WX.buffer)[0];
if(!AH.wp()&&!AH.cG(c)){var Hp=$.I(AH.s()*4);$.BM(WX,c,Hp,AH);WX=Hp;c=AH}c.x=c.y=0;$R=AU==0&&Hu==0||a.SpcC.v?$R:0;
function $i(WE){return WE<0?Math.ceil(WE):Math.floor(WE)}var Ha=Wd.sV(new x(c.$,0));Ha.x=$i(Ha.x);Ha.y=$i(Ha.y);
var $Q=Wd.sV(new x(0,c.e));$Q.x=$i($Q.x);$Q.y=$i($Q.y);var WZ=s.b.tS([WX,c],Wd,!1),WL=WZ.rect,HQ=WZ.buffer,Af=Math.round(WL.x),Ho=Math.round(WL.y),Aq=Math.max(u.rect.$,u.rect.e)/Math.min(c.$*OW*(1+AU),c.e*OW*(1+Hu));
Aq=Math.ceil(Aq*1.7);$.IK(u.buffer,$R);for(var Wf=-Aq;Wf<Aq;Wf++){for(var WE=-Aq;WE<Aq;WE++){var Hh=(WE+Wf*AD)*(1+AU),WW=Wf*(1+Hu);
WL.x=Af+Math.round(Hh*Ha.x+WW*$Q.x);WL.y=Ho+Math.round(Hh*Ha.y+WW*$Q.y);if(WL.Nf(u.rect))$.j.bz("norm",HQ,WL,u.buffer,u.rect,WL,1)}}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,LnCr".split(",").indexOf(l)!=-1){var X=t.rect.$,M=t.rect.e,HW,Oq=0;
if(l=="LqFy")HW=AQ.sj(new Uint8Array(a.LqMe.v).buffer);else{var $h=l=="Dspl"?1:3;HW={wa:Math.floor(X/$h),Ii:Math.floor(M/$h)};
HW.map=new Float32Array(HW.wa*HW.Ii*2);if(l=="LnCr"){var Hk=.5*(HW.wa-1),Hl=.5*(HW.Ii-1),HC=Math.max(Math.abs(0-Hk),Math.abs(1-Hk)),Wg=Math.max(Math.abs(0-Hl),Math.abs(1-Hl)),OZ=Math.sqrt(HC*HC+Wg*Wg),Ag=0,Ax=0,Aj=-1,AM=2,OW=a.LnSi.v/100,HH=1/OW,ll=a.LnIa.v/100,lG=ll==0?1e-6:ll*4.6,la=HH/OZ;
for(var Wf=0;Wf<HW.Ii;Wf++){for(var WE=0;WE<HW.wa;WE++){var O_=(WE-Hk)*la,Hj=(Wf-Hl)*la,y=Math.sqrt(O_*O_+Hj*Hj)*lG,WP=Math.atan(y),lg=ll>0?WP/y:y/WP,HT=Hk+OZ*lg*O_,AJ=Hl+OZ*lg*Hj,Q=Wf*HW.wa+WE<<1;
HW.map[Q]=HT-WE;HW.map[Q+1]=AJ-Wf}}}else if(l=="Dspl"&&b.length!=0){Oq=a.UndA.v.UndA=="WrpA"?2:1;var $D=a.DspF.v.pth,OY;
for(var Q=0;Q<b.length;Q++)if(b[Q]._G==$D)OY=b[Q];if(OY==null)OY=b[0];OY.FY();var Am=OY.bb[1],lf=$.I(Am.s());
$.OW(OY.bb[0],lf);var $a=Am.$,lM=2*a.HrzS.v/$h,lX=2*a.VrtS.v/$h;for(var Wf=0;Wf<HW.Ii;Wf++){for(var WE=0;
WE<HW.wa;WE++){var HC=Math.floor(Am.$*WE/HW.wa),Wg=Math.floor(Am.e*Wf/HW.Ii),O_=Hj=-.5+lf[Wg*$a+HC]/255,Q=Wf*HW.wa+WE<<1;
HW.map[Q]=O_*lM;HW.map[Q+1]=Hj*lX}}}else if(l=="Pnch"||l=="Twrl"||l=="Sphr"){var E=1,lW=Math.PI,lp=0,q=3,Ww=1.53,lg=1;
if(l=="Pnch"||l=="Sphr")E=a.Amnt.v/100;if(l=="Twrl")lW=a.Angl.v*Math.PI/180;if(l=="Sphr")lp=["Nrml","HrzO","VrtO"].indexOf(a.SphM.v.SphM);
function O(WE){WE=Math.pow(WE,1-WE*.3-WE*WE*(WE*WE)*.5);return-.225*Math.sin(WE*Math.PI)}function lB(M,gn,y,$O,HI,HE,Al,lg){var O_=HE-$O,Hj=Al-HI,lL=$O-M,gU=HI-gn,WN=O_*O_+Hj*Hj,e=2*(O_*lL+Hj*gU),q=lL*lL+gU*gU-y*y,gE=Math.sqrt(e*e-4*WN*q),gK=lg/(2*WN),g_=(-e+gE)*gK,gr=(-e-gE)*gK;
return lg*Math.min(g_,gr)}var Wv=HW.wa,Oi=HW.Ii,At=HW.wa/2,AR=HW.Ii/2,lt=1/At,y=Math.sqrt(q*q+1)/q,lC=q+Math.sqrt(1/(q*q));
if(E<0){q=1.72;y=1;lC=q;Ww=-1;lg=-1}for(var Wf=0;Wf<Oi;Wf++){var Hj=(Wf-AR)/AR;for(var WE=0;WE<Wv;WE++){var O_=(WE-At)*lt;
if(lp==1)Hj=0;else if(lp==2)O_=0;var OQ=Math.sqrt(O_*O_+Hj*Hj);if(OQ<1&&OQ!=0){var Q=Wf*HW.wa+WE<<1;
if(l=="Pnch"){var lv=-E*O(OQ)/OQ;HW.map[Q]=O_*lv*At;HW.map[Q+1]=Hj*lv*AR}else if(l=="Sphr"){var Hs=lB(0,lC,y,0,0,OQ,q,lg),lN=Ww*E*(Hs-1);
HW.map[Q]=O_*lN*At;HW.map[Q+1]=Hj*lN*AR}else if(l=="Twrl"){var WU=Math.atan2(Hj,O_)-lW*(1-OQ)*(1-OQ),lR=Math.cos(WU),gV=Math.sin(WU);
HW.map[Q]=(OQ*lR-O_)*At;HW.map[Q+1]=(OQ*gV-Hj)*AR}}}}}else if(l=="Shr "){var gO=JSON.parse(JSON.stringify(a.ShrP.v));
$.Fa.N(gO,new WM(0,255/127,255/127,0,-2,0));var gA=$.Fa.iB(gO,HW.Ii,!0);Oq=a.UndA.v.UndA=="WrpA"?2:1;
for(var Wf=0;Wf<HW.Ii;Wf++){var O_=-gA[Wf]*HW.wa;for(var WE=0;WE<HW.wa;WE++){var Q=Wf*HW.wa+WE<<1;HW.map[Q]=O_}}}else if(l=="Rple"){Oq=1;
var E=a.Amnt.v/100,g$=4,gW=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],le=1,gl=1,lL=0,gI=["Sml","Mdm","Lrg"].indexOf(a.RplS.v.RplS);
if(gI==0){le=1;gl=.2;lL=3}if(gI==2){le=1;gl=2;lL=-1;gW=gW.reverse()}var gi=function(WE,Wf){var q=Math.cos,OP=0;
for(var Q=0;Q<g$;Q++)for(var Wu=0;Wu<g$;Wu++)OP+=gW[Q*g$+Wu]*q(WE*(Q+lL)-Wf*(Wu+lL));return OP},OT=Math.floor(50/$h),lo=new Float32Array(OT*OT*2),gb=gl*E*.5/$h;
for(var Wf=0;Wf<OT;Wf++)for(var WE=0;WE<OT;WE++){var Hk=le*WE*2*Math.PI/OT,Hl=le*Wf*2*Math.PI/OT,gz=gi(Hk,Hl),O_=(gi(Hk+.01,Hl)-gz)*100,Hj=(gi(Hk,Hl+.01)-gz)*100,Q=(Wf*OT+WE)*2;
lo[Q]=O_*gb;lo[Q+1]=Hj*gb}for(var Wf=0;Wf<HW.Ii;Wf++)for(var WE=0;WE<HW.wa;WE++){var gV=Wf%OT,lR=WE%OT,Q=Wf*HW.wa+WE<<1,gS=gV*OT+lR<<1;
HW.map[Q]=lo[gS];HW.map[Q+1]=lo[gS+1]}}}$.ED.Kl(t.buffer,u.buffer,X,M,null,HW.map,HW.wa,HW.Ii,Oq)}return u};
HU.ObR=function(l,t,a,k){var R=$.I(l.length);$.Fu.Cj(l,t,a,k,[-1,0,1,-2,0,2,-1,0,1],3,0);$.Fu.Cj(l,R,a,k,[1,2,1,0,0,0,-1,-2,-1],3,0);
for(var u=0;u<R.length;u+=4){var b=t[u],v=t[u+1],H=t[u+2],N=t[u+3],z=R[u],A=R[u+1],Q=R[u+2],S=R[u+3];
t[u]=255-Math.max(0,Math.min(255,Math.sqrt(b*b+z*z)));t[u+1]=255-Math.max(0,Math.min(255,Math.sqrt(v*v+A*A)));
t[u+2]=255-Math.max(0,Math.min(255,Math.sqrt(H*H+Q*Q)))}};HU.ij=function(l,t,a,k){$.nG(a);t(a,k,l);$.ns(a)};
HU.Q$=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
HU.iq=function(l,t){var a={D:t.rq>>16,K:t.rq>>8&255,l:t.rq&255},k={D:t.WR>>16,K:t.WR>>8&255,l:t.WR&255},R=HU.names[l];
if(R==null)R=WT.names[l];var u=l;for(var b in WT.rw)if(WT.rw[b]==l)u=b;var v={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:Wq.get(R)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:$.C.br(a)},BckC:{t:"Objc",v:$.C.br(k)},filterID:{t:"long",v:K.OSi(u)}}};
if(Wn[l]||WG[l])v.v.Fltr={t:"Objc",v:HU.TG(l)};return v};function HO(){}HO.RL=[2,5,5,7,4,4];HO.Rr="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
HO.Ar="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
HO.hZ="Normal,Dissolve,Darken,Multiply,Color Burn,Linear Burn,Darker Color,Lighten,Screen,Color Dodge,Linear Dodge,Lighter Color,Overlay,Soft Light,Hard Light,Vivid Light,Linear Light,Pin Light,Hard Mix,Difference,Exclusion,Subtract,Divide,Hue,Saturation,Color,Luminosity".split(",");
HO.QW=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
HO.sU=function(l){if(l=="passThrough")return"pass";return HO.Rr[HO.Ar.indexOf(l)]};HO.OzH=function(l){if(l=="pass")return"passThrough";
return HO.Ar[HO.Rr.indexOf(l)]};HO.getName=function(l){return HO.hZ[HO.Rr.indexOf(l)]};function _(){this.rect=null;
this.wk="norm";this.opacity=255;this.Nq=!1;this.Ck=0;this.Xt=0;this.jB=[0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535,0,65535];
this.name=null;this.add={};this.buffer=null;this.xH=null;this.WF=null;this.Z=null;this.cy=null;this.EB=0;
this.ks=w.X("canvas","").getContext("2d");this.Ec=w.X("canvas","").getContext("2d");this.KT=w.X("canvas","").getContext("2d");
this._K=w.X("canvas","").getContext("2d");this.cA=0;this.td=!1;this.Sb=null;this.f=new _.oR}_.oR=function(){this.al=!0;
this.Co=!0;this.IE=$.I(0);this.rD=$.I(0);this.SM=null;this._t={};this.xS=null;this.I_=null;this.fx=null;
this.kh=null;this.Th=null;this.Jr=null;this.BQ=null;this.ts=null;this.o_=null;this.fD=null;this.ak=null;
this.Id=null;this.Tv=!1};_.oR.prototype.Ql=function(){this.al=!1;this.Co=!1;this.SM=null;this.Tv=T.jS};
_.oR.prototype.Ozi=function(){WD.XN(this._t);this.IE=$.I(0);this.rD=$.I(0);if(this.kh)this.kh.delete();
if(this.Th)this.Th.delete();this.kh=null;this.Th=null;var l=[this.Jr,this.BQ,this.ts,this.o_,this.fD,this.ak];
for(var t=0;t<6;t++)if(l[t]!=null&&l[t]instanceof T.gL)l[t].delete();this.Jr=null;this.BQ=null;this.ts=null;
this.o_=null;this.fD=null;this.ak=null};_.prototype.i=function(l){if(l==null)l=this.rect.clone();if(this.f.SM==null)this.f.SM=l;
else this.f.SM=this.f.SM.wm(l)};_.prototype.PA=function(){return this.add.lsct==Oz.ON||this.add.lsct==Oz.G_};
_.prototype.OY=function(){var l=this.add;return l.SoCo!=null||l.GdFl!=null||l.PtFl!=null};_.prototype.QI=function(){var l=this.add.lmfx;
if(l==null)return;var t=["GrFl","patternFill"];for(var a=0;a<t.length;a++){var k=P.Sr[P.order.indexOf(t[a])],R=l[k].v;
if(R.length==0)continue;for(var u=0;u<R.length;u++){var b=R[u].v;if(b.enab.v&&(b.Algn==null||!b.Algn.v))this.f.Co=!0}}};
_.prototype.Qk=function(){var l=this.Z;if(this.OY())l=this.c$();if(!T.jS)return l.fk();if(this.f.Th==null||this.f.al||T.jS!=this.f.Tv){if(this.f.Th)this.f.Th.delete();
this.f.Th=new T.bR(l.Sa().$,l.Sa().e);this.f.Th.set(l.fk())}return this.f.Th};_.prototype.Qb=function(l){var t=this.rect,a=this.buffer;
if(!T.jS){var k=this.yk(l,a,t);if(k){a=k.nr;t=k.rect}return a}if(this.f.SM!=null||T.jS!=this.f.Tv){var k=this.yk(l,a,t);
if(k){a=k.nr;t=k.rect}var R=t;if(T.jS!=this.f.Tv||this.f.kh==null||this.f.kh.$!=R.$||this.f.kh.e!=R.e){if(this.f.kh)this.f.kh.delete();
this.f.kh=new T.gL(R.$,R.e);this.f.kh.set(a)}else{var u=this.f.SM.clone();u.offset(-t.x,-t.y);this.f.kh.set(a,u)}}return this.f.kh};
_.prototype.TK=function(){var l=this.Z;if(this.OY())l=this.c$();return l!=null&&l.isEnabled&&(l.BL()==0||l.BL()!=0&&!l.rect.wp())};
_.prototype.yk=function(l,t,a){if(this.Bx()){var k=this.SS(l);if(k.Z&&k.Z.isEnabled&&(!k.Z.rect.wp()||k.Z.color==0)){var R=this.add.SoLd.filterFX.v;
k.Z.dB=R.filterMaskDensity?R.filterMaskDensity.v:255;k.Z.cg=R.filterMaskFeather?R.filterMaskFeather.v:0;
var u=k.buffer,b=k.Z.OK(a);$.sI(b);t=$.clone(t);$.j.wq(u,k.rect,t,a,b,a,0,a,1);return{nr:t,rect:a}}}};
_.prototype.Ozd=function(){var l={ae:!1,ao:!1,OHj:0,OHw:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)l.ao=!0;
if(this.c$()&&this.c$().isEnabled)l.ae=!0;if(l.ae&&l.ao){l.OHj=this.c$().rect.x-this.add.vmsk.c$().rect.x;
l.OHw=this.c$().rect.y-this.add.vmsk.c$().rect.y}return l};_.prototype.cR=function(l){if(this.add.lsct==Oz.ip)return;
var t=this,a=this.c$()!=null&&this.c$().wU,k=this.add.vmsk!=null&&this.add.vmsk.wU,R=this.Ozd(),u=JSON.stringify(R)!=this.f.xS||R.ae&&a||R.ao&&k;
if(u){if(R.ao){var b=this.add.vmsk.c$();if(R.ae){this.Z=this.c$().bL(b);this.f.I_=new x(this.Z.rect.x-this.c$().rect.x,this.Z.rect.y-this.c$().rect.y)}else this.Z=b}if(this.Z)this.f.al=!0;
if(this.Z)this.f.fx=new x(this.rect.x-this.Z.rect.x,this.rect.y-this.Z.rect.y);if(R.ae)this.c$().wU=!1;
if(R.ao)this.add.vmsk.wU=!1;this.i()}else{if(R.ae&&R.ao){this.Z.rect.x=this.c$().rect.x+this.f.I_.x;
this.Z.rect.y=this.c$().rect.y+this.f.I_.y}}if(t.OY()){this.iT(l)}if(t.OA()){var v;if(this.Z)v=new x(this.rect.x-this.Z.rect.x,this.rect.y-this.Z.rect.y);
if(this.Z&&this.Z.isEnabled&&(this.f.fx==null||!v.cG(this.f.fx))){this.f.fx=v;this.i();this.f.al=!0}}if(WT.get(t.add)!=null)this.f.al=!0;
this.f.xS=JSON.stringify(R)};_.prototype.iT=function(l){var t=this,a=t.add.vstk,k,R=t.add.vmsk?this.add.vmsk.c$():null,b=!0;
if(R&&R.isEnabled&&R.BL()==0)k=R.Sa().clone();else k=new d(0,0,l.$,l.e);var u=t.c$();if(u&&u.isEnabled&&u.BL()==0)k=k.gk(t.Z.Sa());
if(a&&!a.fillEnabled.v)b=!1;var v=R&&a;if(a&&(!a.strokeEnabled.v||a.strokeStyleLineWidth.v.val==0))v=!1;
var H=$.I(k.s()*4);if(b){if(t.add.SoCo)WD.Lk(H,t.add.SoCo.Clr.v);if(t.add.GdFl)WD.mj(t.add.GdFl,H,k,l,null,R&&R.color==0?R.rect:null);
if(t.add.PtFl)WD.Wq(t.add.PtFl,H,k,l,t.add.fxrp)}if(R){var N=R.dB;if(v)R.dB=255;var z=$.I(k.s());if(R.BL()!=0)$.set(z,Math.round(R.BL()));
if(R&&R.isEnabled){var A=R.Sa(),Q=R.fk();if(A.cG(k))$.Ll(Q,z);else $.co(Q,A,z,k)}if(t.add.SoCo&&b){$.xm(z,H,3)}else $.$t(z,k,H,k);
if(v)R.dB=N}t.buffer=H;t.rect=k;if(v){var S=P.BF.mt.indexOf(a.strokeStyleLineAlignment.v.strokeStyleLineAlignment),o=a.strokeStyleContent.v,p=P.BF.bt.indexOf(o.classID),O=this.add.vmsk.c$(a);
if(t.rect.cG(new d(0,0,l.$,l.e)))t.rect=t.rect;else if(S!=0){var E=t.rect.wm(O.Sa()),L=$.I(E.s()*4);
$.BM(t.buffer,t.rect,L,E);t.buffer=L;t.rect=E}var N=O.dB;O.dB=255;var U=O.OK(t.rect);O.dB=N;if(O.color==255)$.sI(U);
var W=$.I(t.rect.s()*4);if(p==0)WD.Lk(W,o.Clr.v);if(p==1)WD.mj(o,W,t.rect,l,null,R.color==0?R.rect:null);
if(p==2)WD.Wq(o,W,t.rect,l,t.add.fxrp);var Y=a.strokeStyleOpacity.v.val/100;if(Y!=1)$.tP(U,Y);$.xm(U,W,3);
if(O.color==255)S=2-S;if(S==0){$.j.bz("norm",W,t.rect,t.buffer,t.rect,t.rect,1);$.$t(z,t.rect,t.buffer,t.rect)}if(S==1){$.j.bz("norm",W,t.rect,t.buffer,t.rect,t.rect,1)}if(S==2){$.sI(z);
$.j.wq(W,t.rect,t.buffer,t.rect,z,k,255,t.rect,1,!1);$.sI(z)}if(O.dB!=255){var y=$.clone(W);$.IK(y,4278190080,16777215);
$.j.bz("norm",y,t.rect,t.buffer,t.rect,t.rect,1-O.dB/255)}N=R.dB;R.dB=255;this.rD=R.OK(t.rect);R.dB=N}this.i()};
_.prototype.Gk=function(l,t){var a=this,k=a.add.SoLd.Idnt.v,R=a.add.SoLd,u=l.bF(k,R.Crop?R.Crop.v:null);
if(u==null)return;var b=u.bb;R.Sz.v.Wdth.v=b[1].$;R.Sz.v.Hght.v=b[1].e;var v=R.warp.v,H=s.b._W(R.nonAffineTransform),N=$.U.DY(H,b[1]);
if(v&&!$.Ha.Hq(v)){var z=$.M._f($.Ha.GY(v)),A=z.x,Q=z.y,S=1/z.$,o=1/z.e;N=$.U.DY(H);N=$.U.bL(N,[S,0,-A*S,0,o,-Q*o,0,0])}var p=s.b.qY(b,t,N,v);
if(p==null){a.buffer=$.I();a.rect=new d}else if(a.Bx()){var O=a.SS(l);O.buffer=p.buffer;O.rect=p.rect.clone();
this.rT(l,t)}else{a.buffer=p.buffer;a.rect=p.rect}a.cR(l);a.i();l.i()};_.prototype.rT=function(l,t){if(t==null)t=!1;
var a=this.SS(l),k=this.add.SoLd.filterFX.v,R=HU.ObN(k),u=new d(0,0,l.$,l.e),b=a.rect.wm(u),v=a.rect.clone();
v.RK(R.x,R.y);var H={buffer:null,rect:b.gk(v)};H.buffer=$.I(H.rect.s()*4);$.BM(a.buffer,a.rect,H.buffer,H.rect);
if(k.enab.v&&t==!1){var N=k.filterFXList.v;for(var z=0;z<N.length;z++){var A=N[z].v;if(A.enab.v==!1)continue;
var Q=$.C.BL(A.FrgC.v),S=$.C.BL(A.BckC.v),o=K.st(A.filterID.v),p=A.Fltr?A.Fltr.v:null;if(WT.rw[o]!=null){var O=WT.rw[o],E=WT.Jh(O,p),L=WT.ry(O,E);
WT.fu(L,H.buffer,H.buffer,H.rect)}else H=HU.fu(o,H,p,Q,S,null,l.add.lnk2?l.add.lnk2:[])}}this.rect=H.rect;
this.buffer=H.buffer;this.$e();this.i();l.i()};_.prototype.yU=function(l,t,a){this.Sb=this.Q_(l,t,a)};
_.prototype.Qn=function(l,t){var a=this.Q_(l,t,!0);if(a==null)return null;var k={uE:a.cA,FJ:a.M_,rect:a.Sd};
if(k.uE==1||k.uE==3){var R=k.rect,u=$.I(R.$*R.e*4);$.xm(k.FJ,u,0);$.xm(k.FJ,u,1);$.xm(k.FJ,u,2);$.nj(l.O.channel,l.O.rect,u,R);
k.FJ=u}return k};_.prototype.Q_=function(l,t,a){var k,R,u,b,v,H,N;if(this.cA<=0){var z=$.I(this.rect.$*this.rect.e);
$.Du(this.buffer,z,3);k=$.SL.vD(t,{channel:z,rect:this.rect},"intersection");if(k==null)return null;
var A=$.wv(k.channel,k.rect);b=k.rect.clone();v=this.rect.clone();R=$.I(b.$*b.e*4);$.BM(this.buffer,v,R,b);
$.xm(k.channel,R,3);u=$.clone(this.buffer);if(!a){var Q=$.clone(t.channel);$.sI(Q);$.$t(Q,t.rect,u,v)}H=$.clone(this.buffer);
N=this.rect.clone()}if(this.cA==1||this.cA==3){var S=this.cA==1?this.c$():this.SS(l).Z;b=t.rect.clone();
v=S.rect.clone();R=S.QD(b);var u=$.clone(S.channel);if(!a)$.j.lN(S.color==255?$.nL(b.$*b.e):$.kY(b.$*b.e),b,u,v,t.channel,b,1);
H=$.clone(S.channel);N=S.rect.clone()}return{cA:this.cA,M_:R,Sd:b,_Y:u,kd:v,ZK:H,ZF:N}};_.prototype.y_=function(l,t){var a=this.Sb;
if(a.cA==0){this.rect=a.ZF;this.buffer=a.ZK;this.i()}if(a.cA==1||a.cA==3){var k=a.cA==1?this.c$():this.SS(l).Z;
k.channel=a.ZK;k.rect=a.ZF;if(this.cA==1){k.wU=!0;this.cR(l)}if(this.cA==3)this.i()}this.Sb=t};_.prototype.iG=function(l,t){var a=this.Sb;
if(a==null)return!1;if(a.cA!=this.cA)return!1;if(!t.rect.cG(a.Sd))return!1;var k=a.kd.wm(a.Sd);if(a.cA<=0){if(!k.cG(this.rect))return!1;
var R=$.I(a.M_.length>>2);$.Du(a.M_,R,3);if(!$.cG(t.channel,R))return!1;var u=$.I(k.$*k.e*4);$.BM(a._Y,a.kd,u,k);
$.j.bz("norm",a.M_,a.Sd,u,k,k,1);return $.cG(u,this.buffer)}if(a.cA==1||a.cA==3){var b=a.cA==1?this.c$():this.SS(l).Z;
if(!k.cG(b.rect))return!1;var v=$.I(k.s());$.set(v,b.color);$.co(a._Y,a.kd,v,k);$.j.lN(a.M_,a.Sd,v,k,t.channel,k,1);
return $.cG(v,b.channel)}};_.prototype.fi=function(l,t,a,k){var R=this.Sb;R.Sd.offset(t,a);var u=R.kd.wm(R.Sd);
if(R.cA<=0){var b=$.I(u.s()*4);$.BM(R._Y,R.kd,b,u);$.j.bz("norm",R.M_,R.Sd,b,u,u,1);this.buffer=b;this.rect=u;
this.i()}else{var v=this.cA==1?this.c$():this.SS(l).Z,H=$.I(u.s());$.set(H,v.color);$.co(R._Y,R.kd,H,u);
$.j.lN(R.M_,R.Sd,H,u,k.channel,u,1);v.channel=H;v.rect=u.clone();if(this.cA==1){v.wU=!0;this.cR(l)}if(this.cA==3)this.i()}};
_.prototype.Qr=function(){var l=[-1,0,1,2];if(this.Z)l.push(-2);if(this.cy)l.push(-3);return l};_.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
_.prototype.wy=function(l){this.add.luni=this.name=l};_.prototype.yx=function(l){var t=this.add.lnsr,a=this.add.TySh;
if(t=="rend"&&a)this.wy(Wz.NS(a.dH).replace(/(?:\r\n|\r|\n)/g," ").slice(0,255))};_.prototype.jY=function(){return(this.Ck&1<<1)==0};
_.prototype.OA=function(){return(this.Ck&1<<4)==0};_.prototype.kO=function(){return(this.Ck&1<<5)!=0};
_.prototype.Mu=function(l){var t=this.add.lspf;return t==null?!1:(t>>l&1)!=0};_.prototype.Ro=function(l){if(l&&!this.jY())this.Ck-=2;
if(!l&&this.jY())this.Ck+=2};_.prototype.io=function(){var l=this.add.lmfx;if(l==null)return!1;for(var t in l){if(t=="masterFXSwitch")continue;
if(t=="Scl")continue;if(t=="classID")continue;if(l[t].v.length>0)return!0}return!1};_.prototype.Bx=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
_.prototype.Ad=function(){var l=this.add.lmfx;if(l==null)return!1;if(!l.masterFXSwitch.v)return!1;for(var t in l){if(t=="masterFXSwitch")continue;
if(t=="Scl")continue;if(t=="classID")continue;var a=l[t].v;for(var k=0;k<a.length;k++)if(a[k].v.enab.v)return!0}return!1};
_.prototype.Tp=function(l,t,a){var k=new d,R=this.iy(l,a);if(R.indexOf(0)!=-1)k=k.wm(this.rect);if(R.indexOf(1)!=-1)k=k.wm(this.c$().Sa());
if(R.indexOf(2)!=-1){var u=this.add.vmsk;k=k.wm($.r.uf(u.k,u._.length!=0&&t?u._:null))}if(R.indexOf(3)!=-1)k=k.wm(this.SS(l).Z.Sa());
if(R.length==0&&this.OY())k=new d(0,0,l.$,l.e);return k};_.prototype.rM=function(){var l=this.add.artb.artboardRect.v,t=l.Btom.v,a=l.Left.v,k=l.Rght.v,top=l.Top.v;
return new d(a,top,k-a,t-top)};_.prototype.fP=function(l){var t={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
t.Btom.v=l.y+l.e;t.Left.v=l.x;t.Rght.v=l.x+l.$;t.Top.v=l.y;if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null}};
this.add.artb.artboardRect.v=t};_.prototype.iy=function(l,t){var a=[],k=this;if(k.cA<=0||t){if(k.OA())if(!this.rect.wp())a.push(0);
if(k.c$()&&!k.c$().rect.wp())if(k.c$().Bg||t)a.push(1);if(k.add.vmsk)if(k.add.vmsk.Bg||t)a.push(2);if(k.Bx()&&k.SS(l).Z&&!k.SS(l).Z.rect.wp())a.push(3)}else if(k.cA==1){a.push(1);
if(k.c$().Bg&&!k.c$().rect.wp()){if(k.OA())if(!this.rect.wp())a.push(0);if(k.add.vmsk)if(k.add.vmsk.Bg)a.push(2)}}else if(k.cA==3&&!k.SS(l).Z.rect.wp())a.push(3);
if(k.add.artb&&a.indexOf(0)==-1)a.push(0);a.sort();return a};_.prototype.c$=function(){var l=this;return l.cy?l.cy:l.add.vmsk&&l.add.vmsk.isEnabled?null:l.Z};
_.prototype.SS=function(l){var t=this.add.SoLd.placed.v,a=l.add.FEid;if(a==null)return null;for(var k=0;
k<a.length;k++)if(a[k].id==t)return a[k];return null};_.prototype.extend=function(l){$.OOO(this,l)};
_.prototype.Qf=function(l,t){var a=l.clone();if(this.Ad()){var k=this.add.lmfx,R=t.root.H$(t.Q.indexOf(this)),u=k.gradientFillMulti.v,b=!1;
for(var v=0;v<u.length;v++)if(u[v].v.enab.v&&u[v].v.Algn.v)b=!0;if(b)a=a.wm(R.Sa(t,!1));var H=WD.OnA(this,t);
a.offset(H.x,H.y);a.$+=H.$;a.e+=H.e}return a};_.prototype.$e=function(){if(this.OA())$.to(this);var l=this.c$();
if(l)l.$e()};_.prototype.clone=function(){var l=new _;l.rect=this.rect.clone();l.buffer=$.clone(this.buffer);
l.wk=this.wk;l.opacity=this.opacity;l.Nq=this.Nq;l.Ck=this.Ck;l.name=this.name;if(this.Z)l.Z=this.Z.clone();
if(this.cy)l.cy=this.cy.clone();for(var t in this.add)l.add[t]=lk.clone(t,this.add[t]);return l};_.prototype.Qd=function(l){var t=this;
if(t.add.TySh)delete t.add.TySh;if(t.add.SoLd){var a=this.yk(l,this.buffer,this.rect);if(a){this.buffer=a.nr;
this.rect=a.rect;this.i()}delete t.add.SoLd}if(t.add.SoCo||t.add.GdFl||t.add.PtFl){if(t.add.vogk)delete t.add.vogk;
if(t.add.SoCo)delete t.add.SoCo;if(t.add.GdFl)delete t.add.GdFl;if(t.add.PtFl)delete t.add.PtFl;if(t.add.vmsk){console.log(t.cy,t.Z);
delete t.add.vmsk;if(t.cy==null&&t.Z)delete t.Z;else if(t.cy!=null&&t.Z!=null){t.Z=t.cy;delete t.cy}}}if(!t.PA()&&WT.get(t.add)==null&&!this.OA())this.Ck-=16};
_.prototype.Qx=function(l){var t=255,a=0;if(l==2){var k=this.add.SoLd.filterFX.v;if(k.filterMaskDensity)t=k.filterMaskDensity.v;
if(k.filterMaskFeather)a=k.filterMaskFeather.v}else{var R=l==0?this.c$():this.add.vmsk;t=R.dB;a=R.cg}return{Gv:l,hM:t,vZ:a}};
_.prototype.QF=function(l){if(l.Gv==2){var t=this.add.SoLd.filterFX.v;if(l.hM==255)delete t.filterMaskDensity;
else t.filterMaskDensity={t:"long",v:l.hM};if(l.vZ==0)delete t.filterMaskFeather;else t.filterMaskFeather={t:"doub",v:l.vZ};
this.i()}else{var a=l.Gv==0?this.c$():this.add.vmsk;a.dB=l.hM;a.cg=l.vZ;a.wU=!0}};_.prototype.GH=function(){var l=this,t=l.add.vmsk;
if(t==null)return;var a=$.r.HP(t.k);l.add.vogk=[];for(var k=0;k<a;k++)l.add.vogk.push($.$F.kY())};var Oz={yq:0,ON:1,G_:2,ip:3};
_.fl=function(){this.color=255;this.Bg=!0;this.isEnabled=!0;this.Qe=!1;this.dB=255;this.cg=0;this.rect=new d;
this.channel=$.I(0);this.OHE=null;this.OHK=null;this.wU=!0};_.fl.prototype.bL=function(l){if(!this.isEnabled)return l;
var t=new _.fl;t.color=Math.round(this.BL()*l.BL()/255);if(this.BL()==0&&l.BL()==0)t.rect=this.Sa().gk(l.Sa());
else if(l.BL()==0)t.rect=l.Sa().clone();else if(this.BL()==0)t.rect=this.Sa().clone();else t.rect=this.Sa().wm(l.Sa());
t.channel=this.OK(t.rect);t.dB=255;t.cg=0;var a=l.OK(t.rect);$.OVl(a,t.rect,t.channel,t.rect);return t};
_.fl.prototype.Sa=function(){if(this.cg==0)return this.rect;var l=Math.ceil(this.cg*2.2),t=this.rect.clone();
t.RK(l,l);return t};_.fl.prototype.fk=function(){if(this.cg==0&&this.dB==255)return this.channel;if(this.cg==0){var l=$.clone(this.channel);
$.sI(l);$.tP(l,this.dB/255);$.sI(l);return l}var t=this.Sa(),a=this.QD(t),l=$.I(t.s());$.blur.gW(a,l,t,this.cg);
if(this.dB!=255){$.sI(l);$.tP(l,this.dB/255);$.sI(l)}return l};_.fl.prototype.BL=function(){return Math.round(255-(255-this.color)*(this.dB/255))};
_.fl.prototype.extend=function(l){$.extend(this,l,this.color)};_.fl.prototype.$e=function(){if(this.color==255)$.sI(this.channel);
$.$e(this);if(this.color==255)$.sI(this.channel)};_.fl.prototype.clone=function(){var l=new _.fl;l.color=this.color;
l.Bg=this.Bg;l.isEnabled=this.isEnabled;l.Qe=this.Qe;l.dB=this.dB;l.cg=this.cg;l.rect=this.rect.clone();
l.channel=$.clone(this.channel);return l};_.fl.prototype.QD=function(l,t){if(t==null)t=$.I(l.s());$.set(t,this.color);
$.co(this.channel,this.rect,t,l);return t};_.fl.prototype.OK=function(l,t){var a=this.Sa(),k=this.fk();
if(t==null)t=$.I(l.s());$.set(t,this.BL());$.co(k,a,t,l);return t};_.rv=function(){this.Bg=!0;this.isEnabled=!0;
this.dB=255;this.cg=0;this.k=[{type:6},{type:8,all:0}];this.cy=null;this.wU=!0;this._=[];this.dV=[]};
_.rv.prototype.offset=function(l,t){this.cy=this.c$();$.r.CH(this.k,new WM(1,0,0,1,l,t));this.cy.rect.offset(l,t)};
_.rv.prototype.c$=function(l){if(!this.wU&&this.cy&&l==null){this.cy.isEnabled=this.isEnabled;return this.cy}var t=$.r.uf(this.k);
if(l){var a=Math.ceil(l.strokeStyleLineWidth.v.val);t.RK(a,a)}t=$.M.jW(t);var k=new _.fl;k.color=$.r.WW(this.k)?0:255;
k.Bg=this.Bg;k.isEnabled=this.isEnabled;k.Qe=!0;k.rect=t;k.dB=this.dB;k.cg=this.cg;k.channel=$.I(k.rect.s());
if(!t.wp())$.r.OSP(this.k,k.channel,k.rect,l);if(l==null){this.cy=k;this.wU=!1}return k};_.rv.prototype.clone=function(){var l=new _.rv;
l.Bg=this.Bg;l.isEnabled=this.isEnabled;l.dB=this.dB;l.cg=this.cg;l.k=_.rv.f_(this.k);l._=this._.slice(0);
l.dV=this.dV.slice(0);return l};_.rv.prototype.concat=function(l){var t=l.k.slice(2);if(t.length==0)return;
t[0].mZ=3;this.k=this.k.concat(t)};_.rv.f_=function(l){var t=[];for(var a=0;a<l.length;a++){var k=l[a];
if(k.type>5||k.type==0||k.type==3)t.push(JSON.parse(JSON.stringify(k)));else t.push({type:k.type,re:k.re.clone(),S:k.S.clone(),Fx:k.Fx.clone()})}return t};
_.rv.Ozx=function(l,t,a){if(l.length!=t.length)return!1;for(var k=2;k<l.length;k++){var R=l[k],u=t[k];
if(R.type!=u.type)return!1;if(R.type==0||R.type==3){if(R.length!=u.length||!a&&R.mZ!=u.mZ)return!1}else if(!R.re.cG(u.re)||!R.S.cG(u.S)||!R.Fx.cG(u.Fx))return!1}return!0};
_.rv.prototype.Oza=function(){var l=this.k;for(var t=3;t<l.length;t++)if(l[t].type==0||l[t].type==3)l[t].mZ=-1};
_.kQ=function(){this.type=null;this.xA=2;this._G=null;this.OD="";this.cH="";this.jJ="";this.open=0;this.raw=null;
this.bb=null};_.kQ.prototype.clone=function(){var l=new _.kQ;l.type=this.type;l.xA=this.xA;l._G=this._G;
l.OD=this.OD;l.cH=this.cH;l.jJ=this.jJ;l.open=this.open;l.raw=new Uint8Array(this.raw.buffer.slice(0));
return l};_.kQ.prototype.FY=function(l){var t=this;if(t.bb)return;var a=Wr.Xv(t.raw.buffer);if(a!="svg"&&a!="pdf")l=0;
if(a==null){alert("Unsupported format: "+K.NU(t.raw,0,4));return null}var k=Wr.Dz(a);if(k.oX){var R=new Hb(name+(a=="psd"?"":"-"+a)+".psd");
k.cq(t.raw.buffer,R);for(var u=0;u<R.Q.length;u++)if(R.Q[u].OY())R.Q[u].cR(R);R.AU();R.i();R.$d();t.bb=[R.FY(),new d(0,0,R.$,R.e)]}else if(k){var b=k.cq(t.raw.buffer)[0];
t.bb=[new Uint8Array(b.data),b.Pk]}if(t.bb){if(l==1){var v=t.bb[0],H=t.bb[1],N=$.I(H.s());$.Du(v,N,3);
var z=$.wv(N,H),A=$.I(z.s()*4);$.BM(v,H,A,z);t.bb=[A,z]}$.nz(t.bb)}};_.OT="0";_.Gu="2";_.kB="2.5";_.ih="3";
_.bV="4";_.Qj="5";_.yM="5.5";_.yh="6";_.yv="7";_.fL="8";_.PS="9";_.GB="10";_.fw="11";_.bO="12";_.bA="13";
_.Pf="13.5";_.yN="13.7";_.b$="14";_.PD="14.5";_.Oa="15";_.aB="16";_.PT="17";_.Ps="18";_.QT="19";_.PJ="19.5";
_.bi="20";_.dn="21";_.bU="21.5";_.Py="22";_.Pw="22.5";_.ul="23";_.OPt="24";_.kV="25";_.QG="26";_.QY="27";
_.bu="28";_.bY="29";_.bs="30";_.Ou="31";_.bv="32";_.kW="33";_.dx="34";_.kP="35";_.dF="36";_.bN="36.5";
_.kU="37";_.de="37.5";_.OPC="37.6";_.zl="38";_.zy="38.5";_.gj="39";_.SO="40";_.Qs="41";_.Ss="50";_.Sc="51";
_.kx="52";_.kZ="53";_.Sw="54";_.pV="54.5";_.QQ="54.6";_.pz="54.7";_.nn="55";_.vS="56";_.dp="57";_.kX="58";
function OH(){this.depth=0;this.index=-1;this.u=null;this.OHR=null;this.ZJ=-1;this.children=null;this.parent=null;
this.IZ=null}OH.prototype.OzL=function(){var l=0;if(this.u.PA()){for(var t=0;t<this.children.length;
t++)l+=this.children[t].OzL()}else if(this.u.buffer)l+=this.u.buffer.length;return l};OH.prototype.H$=function(l){var t=this.IZ[l];
return this.IZ[l]};OH.prototype.QX=function(l,t){var a=this.u;if(!a.jY()||a.Mu(2)||a.Mu(31))return null;
if(a.TK()){var k=a.Z.rect.Nf(l);if(!k&&a.Z.color==0)return}if(a.PA()){for(var R=0;R<this.children.length;
R++){var u=this.children[R];u.QX(l,t)}}else if(a.rect.Nf(l))t.push(this.index)};OH.prototype.km=function(l,t){var a=this.u;
if(!a.jY()||a.Mu(2)||a.Mu(31))return null;if(a.TK()){if(a.Z.rect.ML(l)){if(!$.km(l,a.Z.channel,a.Z.rect))return null}else if(a.Z.color==0)return null}if(a.PA()){for(var k=this.children.length-1;
k>=0;k--){var R=this.children[k],u=R.km(l,t);if(u&&t==null)return u}return null}else if(a.add.TySh&&a.rect.ML(l)||$.OOZ(l,a.buffer,a.rect)){if(t==null)return this;
else t.push(this.index)}return null};OH.prototype.Qp=function(l){var t=this.u;if(!t.jY())return null;
var a=t.add.vmsk;if(a&&a.isEnabled){var k=$.r.km(a.k,l).AZ;if(k!=-1)return{O$_:this,gu:k}}if(t.PA()){for(var R=this.children.length-1;
R>=0;R--){var u=this.children[R],b=u.Qp(l);if(b)return b}return null}return null};OH.prototype.QN=function(l,t){l.push(this.index);
if(this.u.PA()){l.push(this.ZJ);if(t)if(this.u.cA==1&&this.u.c$().Bg==!1)return;for(var a=0;a<this.children.length;
a++)this.children[a].QN(l)}};OH.prototype.cT=function(l,t,a){var k=this.u,R,u;if(k.PA()&&k.add.artb!=null)t=k.rM();
if(t.$>t.e){R=a;u=Math.floor(a*(t.e/t.$))}else{R=Math.floor(a*(t.$/t.e));u=a}var b=u;if(k.OY()&&k.add.vmsk){var v=k.rect.clone(),H,N;
if(v.wp())v=new d(0,0,20,20);if(v.$>v.e){H=a;N=Math.floor(a*(v.e/v.$))}else{H=Math.floor(a*(v.$/v.e));
N=a}if(H*N==0)H=N=16;$.Ht.vQ(k.ks,H,N,v,k.buffer,k.rect,!1);$.Ht.OOJ(k.ks,H,N);b=N}else if(k.add.SoCo){b=Math.max(16,Math.min(R,u));
$.Ht.O$a(k.ks,b,b,k.add.SoCo)}else if(k.add.GdFl){$.Ht.Olp(k.ks,b,b,k.add.GdFl)}else if(k.add.PtFl){$.Ht.OgX(k.ks,b,b,k.add.PtFl,l)}else if(k.add.TySh){$.Ht.OHV(k.ks,b,b,k.add.TySh)}else if(WT.get(k.add)!=null){$.Ht.OlM(k.ks,b,b,k.add)}else if(k.add.SoLd){$.Ht.vQ(k.ks,R,u,t,k.buffer,k.rect,!1);
$.Ht.OOF(k.ks,R,u,k.add.SoLd)}else if(k.PA()){b=16}else{if(k.OA())$.Ht.vQ(k.ks,R,u,t,k.buffer,k.rect,!1);
else{$.Ht.OHI(k.ks,b,b)}}var z=k.c$();if(z)$.Ht.YP(k.Ec,R,u,t,z);if(k.Bx()&&k.SS(l)&&k.SS(l).Z){var A=k.SS(l).Z;
$.Ht.YP(k._K,R,u,t,A)}if(k.add.vmsk){$.Ht.YP(k.KT,R,u,t,k.add.vmsk.c$(),!0)}if(k.add.vmsk||z)b=Math.max(b,u);
k.EB=Math.max(b,16);if(k.PA()&&k.add.lsct==Oz.ON)for(var Q=0;Q<this.children.length;Q++)this.children[Q].cT(l,t,a)};
OH.prototype.QR=function(l,t,a,k){this.depth=a;var R=l[t];if(k==null)k=[];this.IZ=k;if(R.add.lsct==Oz.ip){this.OHR=R;
this.ZJ=t-1;this.children=[];var u=t+1;while(!0){var b=l[u];if(b==null)console.log(u,l.length);if(b.add.lsct==Oz.ON||b.add.lsct==Oz.G_){if(R.add.lyid==b.add.lyid)R.add.lyid+=16777215;
this.u=b;this.index=u-1;k[this.index]=this;k[t-1]=this;break}var v=new OH;v.parent=this;u=v.QR(l,u,a+1,k);
this.children.push(v)}return u+1}else{this.u=R;this.index=t-1;k[this.index]=this;return t+1}};OH.prototype.pS=function(l,t,a){var k=this.H$(a),R=l;
while(k.parent!=null){R=k.u.Qf(R,t);k=k.parent}return R};OH.prototype.Sa=function(l,t){var a=this.u,k=new d;
if(!a.jY())return k;var R=a.c$();if(a.PA())for(var u=0;u<this.children.length;u++){var b=this.children[u].Sa(l,!0);
k=k.wm(b)}else if(WT.get(a.add)!=null)k=a.TK()&&a.Z.color==0?a.Z.Sa().clone():new d(0,0,l.$,l.e);else if(a.OY()&&a.add.vmsk&&a.add.vmsk.isEnabled&&a.add.vstk){var v=a.add.vmsk,H=a.add.vstk,N=Math.ceil(v.cg*2.2),z=H.strokeEnabled.v?Math.ceil(H.strokeStyleLineWidth.v.val):0,A=P.BF.mt.indexOf(H.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(A==0)z=0;else if(A==1)z/=2;k=$.M.jW($.r.uf(v.k));k.RK(Math.ceil(N+z),Math.ceil(N+z))}else if(a.OY()&&R&&R.isEnabled&&R.BL()!=0)k=new d(0,0,l.$,l.e);
else k=a.Tp(l,!1,!0);return t?a.Qf(k,l):k};OH.prototype.XO=function(l,t,a,k,R){var u=this.u,b=WD.RM(u);
if(!u.jY())return;if(u.opacity==255){this.X$(l,t,a,k,R);return}var v=$.clone(l);this.X$(v,t,a,k,R);$.j.wq(v,t,l,t,null,null,0,a,u.opacity/255,u.wk=="diss")};
OH.prototype.X$=function(l,t,a,k,R){var u=this.u,b=WD.RM(u),v=WT.get(u.add)!=null,A,o;if(u.PA()&&u.wk=="pass"&&!u.TK()&&!(R.length>0||b.fill!=1||u.Ad())){this.ky(l,t,a,k);
return}var H=u.PA()&&u.wk=="pass"&&(R.length>0||b.fill!=1||u.Ad()),N=u.rect,z=u.buffer;if(u.PA()){N=this.Sa(k,!1);
var Q=$.I(N.s()*4);A=$.I(N.s());this.ky(Q,N,a,k);$.Du(Q,A,3)}else if(v){N=t.clone();A=$.I(N.s());$.set(A,255)}else{N=u.rect;
A=$.I(N.s());$.Du(z,A,3)}if(u.TK()){var S=u.Z.OK(N);$.tb(S,A)}if(u.Ad())o=WD.XR(u.add.lmfx,u.add.fxrp,A,N,k);
if(u.Ad())WD.eO(u.add.lmfx,o,N,l,t,a);if(u.PA()){z=$.I(N.s()*4);if(u.wk=="pass")$.BM(l,t,z,N);if(H){var Q=$.I(N.s()*4);
this.ky(Q,N,a,k);var p=$.I(N.s());$.Du(Q,p,3);$.$t(p,N,z,N)}this.ky(z,N,a,k)}if(v){z=$.clone(l);$.IK(z,4278190080,16777215);
var O=WT.get(u.add),E=WT.ry(O,WT.rh(u.add));WT.fu(E,z,z,N)}var L=$.clone(z);$.IK(L,4278190080,16777215);
for(var U=0;U<R.length;U++)R[U].XO(L,N,a,k,[]);var W=$.I(N.s()*4);$.BM(l,t,W,N);if(v)b.ZE=!0;$.j.bz(u.wk=="pass"?"norm":u.wk,L,N,W,N,a,1,b);
if(u.Ad()){var Y=u.f._t.type.FrFX,y=null;if(Y.length!=0){y=Y[0];for(var U=0;U<Y.length;U++)if(Y[U].YQ.$>y.YQ.$)y=Y[U];
var C=$.I(y.YQ.$*y.YQ.e*4);$.BM(l,t,C,y.YQ)}WD.eA(u.add.lmfx,o,N,l,t,a,W,C,y?y.YQ:null)}$.j.wq(W,N,l,t,A,N,0,a,1,u.wk=="diss")};
OH.prototype.ky=function(l,t,a,k){var R=this.children;for(var u=0;u<R.length;u++){var b=[];for(var v=u+1;
v<R.length;v++)if(R[v].u.Nq)b.push(R[v]);else break;R[u].XO(l,t,a,k,b);u+=b.length}};OH.kT={delete:function(l){if(l&&l.$)l.delete()},I:function(l,t){return T.jS?new T.gL(l,t):$.I(l*t*4)},GC:function(l,t,a){if(T.jS){if(l==null||l.$!=t||l.e!=a){OH.kT.delete(l);
return new T.gL(t,a)}}else{if(l==null||!(l instanceof Uint8Array)||l.length!=t*a*4){OH.kT.delete(l);
return $.I(t*a*4)}}return l},co:function(l,t,a,k,R){(T.jS?T.GJ:$.BM)(l,t,a,k,R)},wq:function(l,t,a,k,R,u,b,v,H,N){(T.jS?T.j.Nt:$.j.wq)(l,t,a,k,R,u,b,v,H,N)},bz:function(l,t,a,k,R,u,b,v){if(T.jS)T.j.fv(l,t,a,k,R,u,b,v);
else $.j.bz(l,t,a,k,R,u,b,v)},IK:function(l,t,a){if(T.jS){T.CT(l);T.lB(t,a)}else $.IK(l,t,a)},OzJ:function(l,t,a,k,R){if(T.jS){T.j.Nt(null,null,k,R,l,t,a,R,1,!1)}else{if(a==255)$.$t(l,t,k,R);
else{var u=$.I(t.s());$.Gs(k,R,u,t);$.tb(l,u);$.IK(k,0,16777215);$.nj(u,t,k,R)}}},GX:function(l,t,a,k){if(T.jS)T.j.Nt(null,null,a,k,l,t,0,k,1,!1);
else $.GX(l,t,a,k)}};OH.prototype.pn=function(l,t,a,k,R,u){var b=typeof u=="number";if(!this.u.PA()&&(b&&this.index>u||!b&&u.indexOf(this.index)==-1)){return}var v=this.u,H=WD.RM(v),N=OH.kT,z=v.OY()?v.c$():v.Z;
if(!v.jY())return;if(v.TK()&&z.rect.wp()){return}if(v.add.vstk==null&&this.Sa(k,!1).wp()){return}var A=this.Sa(k,!0).gk(a);
if(!t.cG(a)&&!a.Nf(A))return;if(v.PA()&&v.add.artb)a=a.gk(v.rM());var Q=OH.XW(v,R);if(!Q){this.XH(l,t,a,k,R,u);
return}v.f.Jr=N.GC(v.f.Jr,A.$,A.e);N.co(l,t,v.f.Jr,A,a);this.XH(v.f.Jr,A,a,k,R,u);N.wq(v.f.Jr,A,l,t,null,null,0,a,v.opacity/255,v.wk=="diss")};
OH.XW=function(l,t){return l.opacity!=255&&(t.length!=0||l.PA()||l.Ad())};OH.prototype.XH=function(l,t,a,k,R,u){var b=this.u,v=WD.RM(b),H=WT.get(b.add)!=null,N=OH.kT,z=OH.XW(b,R),A=z?1:b.opacity/255,Q=b.OY()?b.c$():b.Z,S=b.PA()&&b.wk=="pass"&&!(R.length>0||v.fill!=1||b.Ad()),o=!b.PA()&&!H&&!b.Ad()&&R.length==0,p=H&&!b.Ad()&&R.length==0,W=null,Y=null,y=null,g;
if(S||o||p){var O=l,E=t;if(b.TK()){E=this.Sa(k,!1);O=b.f.o_=N.GC(b.f.o_,E.$,E.e);N.co(l,t,b.f.o_,E)}if(S)this.pU(O,E,a,k,u);
if(o)N.bz(b.wk,b.Qb(k),b.rect,O,E,a,A,v);if(p){var L=b.TK()&&Q.BL()==0?Q.Sa().clone():E.clone();b.f.ts=this.Xl(O,E,b.f.ts,L,b.add);
v.ZE=!0;N.bz(b.wk,b.f.ts,L,O,E,a,A,v)}if(b.TK())N.wq(O,E,l,t,b.Qk(),Q.Sa(),Q.BL(),a,1,b.wk=="diss");
b.f.Ql();return}var U=b.PA()&&b.wk=="pass"&&(R.length>0||v.fill!=1||b.Ad()),L=b.rect;if(b.PA()){L=this.Sa(k,!1);
y=b.f.ts=N.GC(b.f.ts,L.$,L.e);N.IK(y,0);this.pU(y,L,L,k,u);Y=N.GC(b.f.BQ,L.$,L.e);N.co(y,L,Y,L)}else if(H){L=b.TK()&&Q.BL()==0?Q.Sa().clone():t.clone();
Y=N.GC(b.f.BQ,L.$,L.e);N.IK(Y,4294967295)}else{L=b.rect;W=b.Qb(k);Y=N.GC(b.f.BQ,L.$,L.e);N.co(W,L,Y,L)}b.f.BQ=Y;
if(b.TK())N.OzJ(b.Qk(),Q.Sa(),Q.BL(),Y,L);if(b.Ad())if(b.f.SM||b.f.Co||b.f.Tv!=T.jS||b.f.al||b.PA()){var C=Y;
if(T.jS){C=$.I(L.$*L.e*4);Y.get(C)}var X=$.I(L.$*L.e);$.Du(C,X,3);if(b.f.Co||b.f.Tv!=T.jS||!$.cG(X,b.f.IE)){var M=null;
if(b.OY()&&b.add.vmsk&&b.add.vmsk.isEnabled&&b.add.vmsk.c$().color==0)M=b.add.vmsk.c$().rect;WD.On$(b.f._t,X,L,b.add.lmfx,b.add.fxrp,k,M);
b.f.IE=$.clone(X)}}if(b.Ad())WD.eO(b.add.lmfx,b.f._t,L,l,t,a);if(b.PA()){W=N.GC(b.f.o_,L.$,L.e);N.IK(W,0);
if(b.wk=="pass")N.co(l,t,W,L);if(U)N.GX(y,L,W,L);this.pU(W,L,a,k,u);b.f.o_=W}if(H){W=b.f.o_=this.Xl(l,t,b.f.o_,L,b.add)}if(b.PA()||H)g=W;
else{g=N.GC(b.f.o_,L.$,L.e);N.co(W,L,g,L,a);b.f.o_=g}N.IK(g,4278190080,16777215);for(var n=0;n<R.length;
n++)R[n].pn(g,L,a,k,[],u);var V=b.f.fD=N.GC(b.f.fD,L.$,L.e);N.co(l,t,V,L,a);if(H)v.ZE=!0;N.bz(b.wk=="pass"?"norm":b.wk,g,L,V,L,a,1,v);
if(b.Ad()){var i=b.f._t.type.FrFX,f=null;if(i.length!=0){f=i[0];for(var n=0;n<i.length;n++)if(i[n].YQ.$>f.YQ.$)f=i[n];
b.f.ak=N.GC(b.f.ak,f.YQ.$,f.YQ.e);N.co(l,t,b.f.ak,f.YQ,a);b.f.Id=N.GC(b.f.Id,f.YQ.$,f.YQ.e)}WD.eA(b.add.lmfx,b.f._t,L,l,t,a,V,b.f.ak,b.f.Id,f?f.YQ:null)}if(!T.jS){var r=$.I(L.s());
$.Du(Y,r,3);Y=r}N.wq(V,L,l,t,Y,L,0,a,1,b.wk=="diss");b.f.Ql()};OH.prototype.Xl=function(l,t,a,k,R){var u=OH.kT;
a=u.GC(a,k.$,k.e);u.co(l,t,a,k);var b=WT.get(R),v=WT.ry(b,WT.rh(R));if(v!=null){if(T.jS){var H=k.clone();
H.x=H.y=0;WT.Ja(v,a,H)}else WT.fu(v,a,a,k)}return a};OH.prototype.pU=function(l,t,a,k,R){var u=this.children;
for(var b=0;b<u.length;b++){var v=[];for(var H=b+1;H<u.length;H++)if(u[H].u.Nq)v.push(u[H]);else break;
u[b].pn(l,t,a,k,v,R);b+=v.length}};function Hb(l){this.name=l;this.WY=-1;this.wT=null;this.tX=null;this.kv=null;
this.kN=null;this.$=0;this.e=0;this.Q=[];this.QK={};this.add={};this.buffer=null;this.IW=4;this.DS=72;
this._=[];this.gh=[[],[]];this.jd={classID:"CompList",list:{t:"VlLs",v:[]}};this.root=null;this.Fi=null;
this.y$=!1;this.ZQ=!1;this.Ik=!1;this.fF=!1;this.lD=!1;this.da=!1;this.rm=!1;this._R=!1;this.TS=!1;this.SM=null;
this.Ij=null;this.Sb={};this.O=null;this.F={kp:[],OlV:[],HU:null,C_:null,rQ:null,DB:null};this.history=[new Wt([1,0],null)];
this.XD=0;this.DP=0;this.Y=new AX(this)}Hb.prototype.Xg=function(){var l=this.name;return l.slice(0,l.length-4).endsWith("-sketch")};
Hb.prototype.kC=function(l){this.add.artd={classID:"null",Cnt:{t:"long",v:l},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
Hb.prototype.nB=function(l){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(l)==-1)this.add.FEid.push(l)};
Hb.prototype.Xi=function(l){var t=this.add.FEid.indexOf(l);this.add.FEid.splice(t,1);if(this.add.FEid.length==0)delete this.add.FEid};
Hb.prototype.i=function(l){if(l==null)l=new d(0,0,this.$,this.e);if(this.SM==null)this.SM=l;else this.SM=this.SM.wm(l)};
Hb.prototype.OSj=function(l){return this.SM!=null};Hb.prototype.bW=function(l){var t=this.Q[l],a=this.root.H$(l);
if(a==null)return!1;if(t.PA()||a.parent.children.indexOf(a)==0)return!1;return!0};Hb.OSq=function(l){if(l.add.lnk2)for(var t=0;
t<l.add.lnk2.length;t++){var a=l.add.lnk2[t]._G;l.add.lnk2[t]._G=Hb.m_()+a.slice(8);for(var k=0;k<l.Q.length;
k++){var R=l.Q[k].add.SoLd;if(R&&R.Idnt.v==a)R.Idnt.v=l.add.lnk2[t]._G}}};Hb.prototype.XP=function(l){l.sort(function(z,A){return z-A});
var top=l[l.length-1],t=this.Q.slice(0),a=this._.slice(0),k=[],R=[];for(var u=0;u<this.Q.length;u++){if(l.indexOf(u)!=-1)R.push(this.Q[u]);
else k.push(this.Q[u])}this.aH(R);this._=[];var b=this.root.Sa(this,!0);if(b.wp())b=new d(0,0,100,100);
var v=new d(-b.x,-b.y,this.$,this.e),H=new Uint8Array(Wr.PSD.Sn(this,0,0,[!0,!1]));this.aH(t);this._=a;
var N=new Hb(this.Q[top].getName());Wr.PSD.cq(H.buffer,N);delete N.add.artd;N.aH(N.Q);Hb.OSq(N);s.L$.gH(N,b);
N.i();N.$d();N.FY();return[N,b,k,top]};Hb.prototype.Xk=function(l,t){var a=this.XP(l),k=a[0],R=a[1],u=a[2],top=a[3],b=new Uint8Array(Wr.PSD.Sn(k));
if(t)u=this.Q.slice(0);var v=this.mV(b,k.name,R.x,R.y);if(top==this.Q.length-1)u.push(v);else u.splice(t?top+1:top-l.length+1,0,v);
this.aH(u);this._=[u.indexOf(v)]};Hb.m_=function(){var l="";for(var t=0;t<8;t++)l+=Math.floor(Math.random()*16).toString(16);
return l};Hb.prototype.YS=function(l){if(l==null)return;if(this.add.Patt==null)this.add.Patt=[];var t=this.add.Patt;
for(var a=0;a<t.length;a++)if(t[a].id==l.id)return;t.push(l)};Hb.prototype.mV=function(l,t,a,k,R){if(this.add.lnk2==null)this.add.lnk2=[];
var u=null,Q=!1;for(var b=0;b<this.add.lnk2.length;b++)if($.cG(l,this.add.lnk2[b].raw)){u=this.add.lnk2[b]._G;
break}if(u==null){var v=Wr.Xv(l.buffer);u=Hb.m_()+"-d71c-11e5-b1ae-a548a96e5f9f";var H=new _.kQ;H._G=u;
H.jJ=v=="psd"?"8BIM":"    ";H.OD=t+"."+(v=="psd"?v:v+"\0");H.cH=v=="psd"?"8BPB":"    ";H.open=0;H.raw=l;
H.type="liFD";H.xA=2;this.add.lnk2.push(H)}var N=this.bF(u),z=Hb.m_()+"-d71c-11e5-b1ae-a548a96e5f9f",A=this.Ow();
A.wy(t);if(N!=null){var S=A.rect=N.bb[1].clone();A.rect.offset(a,k);var o=Math.max(S.$/this.$,S.e/this.e),Q=R&&o>1.0001;
if(Q){S.$=Math.round(S.$/o);S.e=Math.round(S.e/o);S.x=Math.round((this.$-S.$)/2);S.y=Math.round((this.e-S.e)/2)}A.buffer=$.I(A.rect.s()*4);
if(!Q)$.Ll(N.bb[0],A.buffer)}A.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:u},placed:{t:"TEXT",v:z},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:$.Ha.I(A.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:A.rect.$},Hght:{t:"doub",v:A.rect.e}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var p=$.M.Gf(A.rect).p;A.add.SoLd.Trnf=s.b.tW(p);A.add.SoLd.nonAffineTransform=s.b.tW(p);if(Q)A.Gk(this,!1);
return A};Hb.prototype.FY=function(l){if(l!=null){this.i();this.$d(l);var t=this.buffer;if(T.jS)this.Fi.get(t);
else t=t.slice(0);this.i();this.$d();return t}if(T.jS&&this.Ij){this.Fi.get(this.buffer);this.Ij=null}return this.buffer};
Hb.prototype.X_=function(){for(var l=0;l<this.Q.length;l++)this.Q[l].QI();this.i()};Hb.prototype.Xr=function(){for(var l=0;
l<this.Q.length;l++)if(this.Q[l].add.lmfx)this.Q[l].f.Co=!0};Hb.prototype.px=function(){var l=this.QK.r1044;
if(l==null){l=this.QK.r1044=new Uint8Array(4);var t=0;for(var a=0;a<this.Q.length;a++)t=Math.max(t,this.Q[a].add.lyid);
K.ji(l,0,t)}var k=K.o(l,0);K.ji(l,0,k+1);return k+1};Hb.prototype.JR=function(l,t){if(l==null)l=!0;var a=this;
if(a._.length!=1){if(l)alert(a._.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.pF(l,t)};Hb.prototype.pF=function(l,t){if(l==null)l=!0;if(t==null)t=!1;var a=this;
for(var k=0;k<a._.length;k++){var R=a.Q[a._[k]],u=t||R.cA<=0;if(R.add.lsct!=null&&R.add.lsct!=Oz.yq&&R.cA!=1){if(l)alert(Wq.get([15,7,2]));
return!1}if(u&&!R.OA()){if(l)alert(Wq.get([15,7,2]));return!1}if(u&&R.add.TySh){if(l)alert(Wq.get([15,7,3]));
return!1}if(u&&R.add.SoLd){if(l)alert(Wq.get([15,7,4]));return!1}if(R.Mu(1)||R.Mu(31)){if(l)alert(Wq.get([6,57,0]));
return!1}}return!0};Hb.prototype.Xf=function(l){var t=this.root.H$(l);if(t.parent)return t.u.jY()&&this.Xf(t.parent.index);
else return t.u.jY()};Hb.prototype.XF=function(l){var t=this.root.H$(l);if(t==null)return null;var a=t.u;
if(a.add.artb)return a.rM();if(t.parent)return this.XF(t.parent.index);return null};Hb.prototype.Xq=function(){var l=this.Q[this._[0]];
if(l.cA<=0&&!l.rect.Nf(this.O.rect)){alert("Selected area is empty.");return!1}if(this._.length==1&&this.O){var t=$.I(this.O.channel.length);
$.Gs(l.buffer,l.rect,t,this.O.rect);$.tb(this.O.channel,t);if($.GQ(t,0)){alert("Selected area is empty.");
return!1}}return!0};Hb.prototype.Yj=function(){if(this.QK["r"+1037]==null)this.nc(30);return K.Gh(this.QK["r"+1037],0)};
Hb.prototype.nc=function(l){if(this.QK["r"+1037]==null)this.QK["r"+1037]=new Uint8Array(4);if(K.Gh(this.QK["r"+1037],0)==l)return;
K.nZ(this.QK["r"+1037],0,l);this.Xr()};Hb.prototype.Ui=function(){if(this.QK["r"+1049]==null)this.bf(30);
return K.Gh(this.QK["r"+1049],0)};Hb.prototype.bf=function(l){if(this.QK["r"+1049]==null)this.QK["r"+1049]=new Uint8Array(4);
if(K.Gh(this.QK["r"+1049],0)==l)return;K.nZ(this.QK["r"+1049],0,l);this.Xr()};Hb.prototype.AV=function(l){if(this.add.lnk2==null)return null;
for(var t=0;t<this.add.lnk2.length;t++)if(this.add.lnk2[t]._G==l)return this.add.lnk2[t];return null};
Hb.prototype.OSX=function(l){var t=this.AV(l);if(t==null)return!1;var a=Wr.Xv(t.raw.buffer);if(a==null)return!1;
if(Wr.Dz(a)!=null||a=="psd")return!0;return!1};Hb.prototype.bF=function(l,t){var a=this.AV(l);if(a==null)return null;
a.FY(t);if(a.bb)return a};Hb.prototype.$d=function(l){if(l==null)l=1e9;var t=this.$,a=this.e,k=new d(0,0,t,a),R=k.gk(this.SM);
if(R.wp())return;if(T.jS&&this.Fi==null)this.Fi=new T.gL(t,a,!0);if(this.buffer==null||this.buffer.length!=t*a*4||T.jS&&(this.Fi.$!=t||this.Fi.e!=a)){this.buffer=$.I(t*a*4);
if(this.Fi)this.Fi.delete();if(T.jS)this.Fi=new T.gL(t,a,!0)}if(!R.cG(k)){if(!T.jS){var u=$.kY(R.s()*4);
$.BM(u,R,this.buffer,k)}if(T.jS){T.CT(this.Fi,R);T.lB(0)}}else{if(T.jS){this.Fi.set(null)}else{$.set(this.buffer,0)}}var b=Date.now(),v=T.jS?this.Fi:this.buffer;
this.root.pn(v,k,R,this,[],l);this.Ij=this.SM.clone()};Hb.prototype.Ow=function(){var l=new _;l.rect=new d(0,0,0,0);
l.buffer=$.I(1);l.add.luni=new x(0,0);l.add.lyid=this.px();l.add.lsct=Oz.yq;l.add.lclr=0;l.add.fxrp=new x(0,0);
return l};Hb.prototype.LA=function(){var l=this.Ow();l.wy("</Layer group>");l.add.lsct=Oz.ip;l.Ck=24;
return l};Hb.prototype.bZ=function(){return this.XD!=this.DP};Hb.prototype.KO=function(l){while(this.history.length>this.XD+1)this.history.pop();
if(this.DP>this.XD)this.DP=-1;if(l.P.id!=s.WQ){this.Ik=!0;if(this.jd.lastAppliedComp){delete this.jd.lastAppliedComp;
this.rm=!0}}this.history.push(l);this.XD++;this.da=!0;var t=0;for(var a=this.history.length-1;a>=0;a--){var k=this.history[a];
if(k.Ib)continue;t++;if(t==30){this.XD-=a;this.history=this.history.slice(a);break}}};Hb.prototype.AA=function(){if(this.XD!=this.history.length-1)return null;
return this.history[this.history.length-1]};Hb.prototype.$i=function(l,t){if(l==null)l=!1;var a=t!=null?[t]:this._.slice(0),k=[];
for(var R=0;R<a.length;R++){var u=this.Q[a[R]].Xt;if(u!=0&&k.indexOf(u)==-1)k.push(u)}for(var R=0;R<this.Q.length;
R++){var u=this.Q[R].Xt;if(u!=0&&k.indexOf(u)!=-1&&a.indexOf(R)==-1)a.push(R)}var b=[];for(var R=0;R<a.length;
R++){var v=this.Un(a[R],l);for(var H=0;H<v.length;H++)if(b.indexOf(v[H])==-1)b.push(v[H])}return b};
Hb.prototype.bT=function(l){var t=this,a=t.$i(!1,l);a.sort(function(H,N){return H-N});var k=[];for(var R=0;
R<a.length;R++){var u=t.Q[a[R]].clone();u.add.lyid=t.px();if(u.Bx()){var b=u.SS(t),v={id:Hb.m_()+b.id.slice(8),buffer:$.clone(b.buffer),rect:b.rect.clone(),Z:b.Z?b.Z.clone():null};
t.nB(v);u.add.SoLd.placed.v=v.id}u.cR(t);k.push(u)}return k};Hb.prototype.Un=function(l,t){var a=[],k=this.root.H$(l);
if(k)k.QN(a,t);return a};Hb.prototype.bG=function(){this.root.cT(this,new d(0,0,this.$,this.e),32)};
Hb.prototype.aH=function(l){for(var t=0;t<this.Q.length;t++){var a=this.Q[t];if(l.indexOf(a)==-1){a.f.Ozi();
a.i()}}this.Q=l.slice(0);this.AU()};Hb.prototype.AU=function(){this.root=new OH;var l=this.Ow();l.wk="pass";
l.add.lsct=Oz.ON;var t=this.LA(),a=[t];for(var k=0;k<this.Q.length;k++)a.push(this.Q[k]);a.push(l);this.root.QR(a,0,0);
if(this._.length==0)this._=[this.Q.length-1]};Hb.prototype.pj=function(){if(this._.length!=1)return;
var l=this.root.H$(this._[0]);while(l.parent!=null){var t=l.parent.u;t.add.lsct=Oz.ON;l=l.parent}this.lD=this.OHa=!0};
function AX(l){this.NY=l;this.H=0;this.n=new x(0,0);this.cO=new d(0,0,1,1);this.IT=new d(0,0,l.$,l.e);
this.js=null;this.nV=0;this.ND=null;this.wg=new Uint32Array(0);this.Dy=null;this.mn=null;this.tp=$.I(0);
this.R_=null;this.DT=null}AX.prototype.KV=function(l,t){var a=Math.round((this.cO.$-this.NY.$*this.H)/2+this.n.x),k=Math.round((this.cO.e-this.NY.e*this.H)/2+this.n.y),R=(l-a)/this.H,u=(t-k)/this.H;
return new x(R,u)};AX.prototype.mA=function(l,t){var a=Math.round((this.cO.$-this.NY.$*this.H)/2+this.n.x),k=Math.round((this.cO.e-this.NY.e*this.H)/2+this.n.y),R=l*this.H+a,u=t*this.H+k;
return new x(R,u)};AX.prototype.m$=function(){var l=this.NY,t=this.H,a=this.cO.$,k=this.cO.e,R=Math.floor(l.$*t),u=Math.floor(l.e*t);
if(t<.99){var b=$.ti(null,new d(0,0,l.$,l.e),t).rect;R=b.$;u=b.e}return new d(Math.round((a-R)/2+this.n.x),Math.round((k-u)/2+this.n.y),R,u)};
AX.prototype.pT=function(){var l=this.NY,t=this,a=1/t.H,k=this.m$();return new d(Math.floor((t.cO.x-k.x)*a),Math.floor((t.cO.y-k.y)*a),Math.ceil(t.cO.$*a)+1,Math.ceil(t.cO.e*a)+1)};
function P(){}P.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");P.Sr="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
P.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];P.XX=["DrSh","IrSh","SoFi","GrFl","FrFX"];
P.uk=["Clr"];P.RP="Grad Rvrs Type Algn Angl Scl Ofst".split(" ");P.Ry=["Ptrn","Scl","Algn","phase"];
P.Iz={};P.Iz.UC="{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}";
P.Iz.C="{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}";
P.Iz.Xo="{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}";
P.Iz.ba="{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}";
P.Iz.UC="\"Clr\": "+P.Iz.UC;P.Iz.C="\"Grad\":"+P.Iz.C+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"}";
P.Iz.ba="\"Ptrn\":"+P.Iz.ba+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
P.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
P.Oh=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+P.Iz.UC+","+P.Iz.C+","+P.Iz.ba+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+P.Iz.UC+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+P.Iz.C+",\"Dthr\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+P.Iz.ba+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":75},\"t\":\"UntF\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":57},\"t\":\"UntF\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
P.C={};P.C.types="Lnr Rdl Angl Rflc Dmnd shapeburst".split(" ");P.C.names=[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]];
P.stroke={};P.stroke.types=["InsF","CtrF","OutF"];P.stroke.names=[[19,5,2],[19,5,1],[19,5,0]];P.stroke.pG=["SClr","GrFl","Ptrn"];
P.stroke.OSR=[[13,0],[12,37],[12,62]];P.mY={};P.mY.types=["SfBL","PrBL"];P.mY.names=[[19,1,0],[19,1,1]];
P.mY.Xp=["SrcC","SrcE"];P.mY.OnV=[[19,5,1],[12,69]];P.YA={};P.YA.types=["OtrB","InrB","Embs","PlEb","strokeEmboss"];
P.YA.style=[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]];P.YA.XB=["SfBL","PrBL","Slmt"];P.YA.OnO=[[19,3,0],[19,3,1],[19,3,2]];
P.YA.dir=[[19,4,0],[19,4,1]];P.BF={};P.BF.Rc=["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"];
P.BF.mt=["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"];P.BF.join=["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"];
P.BF.bt=["solidColorLayer","gradientLayer","patternLayer"];P.BF.default={classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignOutside"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+P.Iz.UC+"}")},strokeStyleResolution:{t:"doub",v:72}};
P.AL=[{classID:"null",Clr:{t:"Objc",v:{}}},{classID:"null",Dthr:{t:"bool",v:!0},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}},Grad:{t:"Objc",v:{}}},{classID:"null",Ptrn:{t:"Objc",v:{}},Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
P.AL[0].Clr.v=JSON.parse(P.Oh[5]).Clr.v;P.AL[1].Grad.v=JSON.parse(P.Oh[6]).Grad.v;P.AL[2].Ptrn.v=JSON.parse(P.Oh[7]).Ptrn.v;
var WD={};WD.OPN=function(l,t,a){if(l.wp())return;var k=$.r.OHQ(l.k);k.x=Math.floor(k.x*t);k.$=Math.ceil(k.$*t);
k.y=Math.floor(k.y*a);k.e=Math.ceil(k.e*a);l.rect=k;l.channel=$.I(k.s());$.kc.width=k.$;$.kc.height=k.e;
var R=$.cO;R.fillStyle="#ffffff";$.r.OHX(R,l.k,t,a,-k.x,-k.y);R.fill();var u=R.getImageData(0,0,k.$,k.e).data;
$.Du(u,l.channel,3)};WD.pa=function(l){var t,a;if(l){if(l.solidFillMulti.v.length>0)t=l.solidFillMulti.v[0].v;
if(l.gradientFillMulti.v.length>0)a=l.gradientFillMulti.v[0].v;if(t&&(t.enab.v==!1||t.Opct.v.val!=100||t.Md.v.BlnM!="Nrml"))t=null;
if(a&&(a.enab.v==!1||a.Opct.v.val!=100||a.Md.v.BlnM!="Nrml"))a=null}return[t,a]};WD.Xc=function(l,t){var a=["Sz","blur","Sftn","Dstn"];
for(var k=0;k<P.order.length;k++){var R=P.order[k],u=l[P.Sr[k]].v;for(var b=0;b<u.length;b++){var v=u[b].v;
for(var H=0;H<a.length;H++){var N=v[a[H]];if(N){var z=N.v.val,A=z;A=Math.max(z==0?0:1,A*t);if(R=="ChFX")A=Math.min(A,250);
if(R=="ebbl"){if(a[H]=="blur")A=Math.min(A,250);if(a[H]=="Sftn")A=Math.min(A,16)}N.v.val=Math.round(A)}}if(R=="ebbl"||R=="patternFill"||R=="FrFX")if(v.Ptrn&&v.Scl)v.Scl.v.val=Math.max(1,Math.min(1e3,v.Scl.v.val*t))}}};
WD.OnA=function(l,t){var a=new d(-.5,-.5,1,1),k=l.add.lmfx;for(var R=0;R<P.order.length;R++){var u=P.order[R],b=k[P.Sr[R]].v;
for(var v=0;v<b.length;v++){var H=b[v].v,Q;if(!H.enab.v)continue;var N=H.blur?H.blur.v.val+1:0,z=H.Ckmt?H.Ckmt.v.val/100:0,A=Math.round(N*z);
if(u=="DrSh"){Q=new d(-.5,-.5,1,1);Q.RK(N,N);WD.En(Q,H,t,0)}if(u=="OrGl"){Q=new d(-.5,-.5,1,1);Q.RK(N,N)}if(u=="FrFX"){var S=WD.bo(H)[1];
Q=new d(-.5,-.5,1,1);Q.RK(Math.ceil(S),Math.ceil(S))}if(u=="ebbl"){var N=H.blur.v.val;if(H.bvlS.v.BESl=="Embs"||H.bvlS.v.BESl=="PlEb")N/=2;
var o=["OtrB","InrB","Embs","PlEb","strokeEmboss"],p=["SfBL","PrBL","Slmt"],O=["In","Out"],E=H.bvlT.v.bvlT!="SfBL"?N:N*.43,L=Math.round(N);
Q=new d(-L-.5,-L-.5,2*L+1,2*L+1)}if(Q)a=a.wm(Q)}}if(a.x!=Math.ceil(a.x)){a.x=Math.ceil(a.x);a.$-=1}if(a.y!=Math.ceil(a.y)){a.y=Math.ceil(a.y);
a.e-=1}return a};WD.bo=function(l){var t=0,a=0,k=l.Styl.v.FStl,R=l.Sz.v.val;if(k=="OutF")a=R;if(k=="InsF")t=R;
if(k=="CtrF")t=a=R/2;return[t,a]};WD.XN=function(l){if(l.all==null)return;for(var t=0;t<l.all.length;
t++){var a=l.all[t];if(a.fs)a.fs.delete();if(a.DQ)a.DQ.delete();if(a.Dw)a.Dw.delete()}};WD.On$=function(l,t,a,k,R,u,b){WD.XN(l);
var v=WD.XR(k,R,t,a,u,b);l.type=v.type,l.all=v.all;if(T.jS)for(var H=0;H<l.all.length;H++){var N=l.all[H];
N.fs=new T.gL(N.YB.$,N.YB.e);N.fs.set(N.nr);delete N.nr;if(N.Dh){N.DQ=new T.bR(N.YB.$,N.YB.e);N.DQ.set(N.Dh);
delete N.Dh}if(N.jO){N.Dw=new T.bR(N.YB.$,N.YB.e);N.Dw.set(N.jO);delete N.jO}}};WD.XR=function(l,t,a,k,R,u){if(u==null)u=k;
var b=0,v=0;for(var H=0;H<P.order.length;H++){var N=P.order[H],z=P.Sr[H],A=l[z].v;for(var Q=0;Q<A.length;
Q++){var S=A[Q].v;if(N=="DrSh"&&S.enab.v&&S.Ckmt.v.val>0&&S.blur.v.val>0)b=Math.max(b,Math.ceil(S.Ckmt.v.val*S.blur.v.val/100));
if(N=="OrGl"&&S.enab.v&&S.Ckmt.v.val>0&&S.blur.v.val>0&&S.GlwT.v.BETE=="SfBL")b=Math.max(b,Math.ceil(S.Ckmt.v.val*S.blur.v.val/100));
if(N=="OrGl"&&S.enab.v&&S.blur.v.val>0&&S.GlwT.v.BETE=="PrBL")b=Math.max(b,S.blur.v.val);if(N=="FrFX"&&S.enab.v&&S.Sz.v.val>0){if(S.Styl.v.FStl=="OutF")b=Math.max(b,S.Sz.v.val);
if(S.Styl.v.FStl=="CtrF")b=Math.max(b,Math.ceil(S.Sz.v.val/2));v=Math.max(v,WD.bo(S)[1])}}}var o=new WD.x$(a,k,b),p={type:{},all:[]};
for(var O=0;O<P.order.length;O++){var N=P.order[O],z=P.Sr[O];p.type[N]=[];for(var E=l[z].v.length-1;
E>=0;E--){var L=l[z].v[E].v;if(!L.enab.v)continue;var U=L.blur?L.blur.v.val:0,W=L.Ckmt?L.Ckmt.v.val/100:0,Y=U*W;
if(N=="DrSh"){var y=o.my(Y,U-Y,!0),C=y.ll,X=y.MU;X.offset(-o.rect().x-1,-o.rect().y-1);WD.bp(C,L);WD.En(X,L,R,0);
var M=$.I(X.s()*4);WD.Lk(M,L.Clr.v);$.xm(C,M,3);var g={nr:M,YB:X,EQ:HO.sU(L.Md.v.BlnM),ct:L.Opct.v.val/100,ZX:L.layerConceals.v};
p.type[N].push(g);p.all.push(g)}if(N=="IrSh"){var y=o.my(Y,U-Y,!1);WD.En(y.MU,L,R,0);var X=o.rect().clone(),C=$.I(X.s());
$.set(C,255);$.co(y.ll,y.MU,C,X);WD.bp(C,L);var M=$.I(X.s()*4);WD.Lk(M,L.Clr.v);$.xm(C,M,3);X.offset(-o.rect().x-1,-o.rect().y-1);
var g={nr:M,YB:X,EQ:HO.sU(L.Md.v.BlnM),ct:L.Opct.v.val/100};p.type[N].push(g);p.all.push(g)}if(N=="GrFl"){var M=$.I(o.rect().s()*4);
WD.mj(L,M,o.rect(),R,null,u);var X=o.rect().clone();X.offset(-o.rect().x-1,-o.rect().y-1);var g={nr:M,YB:X,EQ:HO.sU(L.Md.v.BlnM),ct:L.Opct.v.val/100};
p.type[N].push(g);p.all.push(g)}if(N=="SoFi"){var M=$.I(o.ll().length*4);WD.Lk(M,L.Clr.v);var X=o.rect().clone();
X.offset(-o.rect().x-1,-o.rect().y-1);var g={nr:M,YB:X,EQ:HO.sU(L.Md.v.BlnM),ct:L.Opct.v.val/100};p.type[N].push(g);
p.all.push(g)}if(N=="ebbl"){var n=!1,j=1;if(n)console.log(L);var V=Date.now(),i=L.bvlS.v.BESl;if(i=="strokeEmboss"){var f=l.frameFXMulti.v;
if(f.length==0)continue;f=f[0].v;if(!f.enab.v)continue;var r=f.Styl.v.FStl;if(r=="OutF")i="OtrB";if(r=="CtrF")i="Embs";
if(r=="InsF")i="InrB"}var U=L.blur.v.val;if(U==0)U=.7;if(i=="Embs"||i=="PlEb")U/=2;var e=["OtrB","InrB","Embs","PlEb","strokeEmboss"],D=["SfBL","PrBL","Slmt"],B=["In","Out"],h=L.bvlT.v.bvlT!="SfBL"?U:U*.45,I=Math.round(U);
U*=j;h*=j;I*=j;var c=o.rect().clone();c.x*=j;c.y*=j;c.$*=j;c.e*=j;var m=c.clone();m.RK(I,I);var F=m.$,G=m.e,q=F*G,W_=o.rect().$,WU=o.rect().e,Wd=$.I(W_*WU*j*j);
$.scale.Y$(o.ll(),W_,WU,Wd,W_*j,WU*j,j);var WZ=$.I(q);$.co(Wd,c,WZ,m);var WL=new Float64Array(q),Wj=new Float64Array(q);
$.style.kH(WZ,WL,F,G);$.sI(WZ);$.style.kH(WZ,Wj,F,G);if(n)console.log("distTransform computed",Date.now()-V);
var Or=Wj;Wj=new Float64Array(q);for(var H=0;H<q;H++)Or[H]=Or[H]-WL[H];for(var H=0;H<q;H++){var Wu=Or[H];
if(Wu<-h)Or[H]=-h;else if(Wu>h)Or[H]=h}if(n)console.log("summing + cropping",Date.now()-V);if(L.bvlT.v.bvlT=="SfBL"){$.blur.a$(Or,WL,m,Math.max(2,Math.pow(U*.21,1.22)));
var WE=Or;Or=WL;WL=WE}if(n)console.log("blurring",Date.now()-V);var Wf=new Float64Array(q);$.Ll(Or,Wf);
if(L.useShape.v){var WS=Math.min(100,L.Inpr.v.val+1)/100;if(i!="OtrB"&&i!="InrB")WS=1;var Wx=$.Fa.iB(L.MpgS.v.Crv.v,2e3),WQ=Math.round(2e3/WS);
Wx=$.Fa.Okf(Wx,WQ,i=="InrB");var WJ=.5/h;for(var H=0;H<q;H++){var Ww=Or[H],Wv=.99999*(Ww+h)*WJ;Or[H]=-h+2*h*Wx[~~(Wv*(WQ-1))]}if(n)console.log("applying shape",Date.now()-V)}if(L.useTexture.v){var Oi=$.I(F*G*4);
WD.Wq(L,Oi,m,R,t);var Wc=$.I(F*G);$.OW(Oi,Wc);var Wh=$.I(F*G);$.blur.OHU(Wc,Wh,m,1);Wc=Wh;var Om=U*L.textureDepth.v.val*(1/100)*(1/255);
if(L.InvT.v)Om=-Om;for(var H=0;H<q;H++)Or[H]+=-Om*Wc[H];if(n)console.log("applying texture",Date.now()-V)}var WN=(L.bvlT.v.bvlT=="SfBL"?1:.5)*(L.bvlD.v.BESs=="In"?1:-1)*L.srgR.v.val/100;
for(var H=0;H<q;H++)Or[H]*=WN;if(n)console.log("scaling",Date.now()-V);var WR=L.uglg&&L.uglg.v?R.Yj():L.lagl.v.val;
WR=WR*(Math.PI/180);var Wp=L.uglg&&L.uglg.v?R.Ui():L.Lald.v.val;Wp=Wp*(Math.PI/180);var OP=Math.cos(WR)*Math.cos(Wp),Hz=-Math.sin(WR)*Math.cos(Wp),HP=Math.sin(Wp),OW=new Float64Array(q),WX=new Float64Array(q),Az=i=="PlEb";
for(var H=0;H<G;H++)for(var Q=0;Q<F;Q++){var Hg=H*F+Q,Hm=-(H==0?Or[Hg+F]-Or[Hg]:H==G-1?Or[Hg]-Or[Hg-F]:.5*(Or[Hg+F]-Or[Hg-F])),HB=-(Q==0?Or[Hg+1]-Or[Hg]:Q==F-1?Or[Hg]-Or[Hg-1]:.5*(Or[Hg+1]-Or[Hg-1])),Ow=1,HH=1/Math.sqrt(HB*HB+Hm*Hm+1);
HB*=HH;Hm*=HH;Ow*=HH;var Hk=HB*OP+Hm*Hz+Ow*HP,Hl=Hk;if(Az)Hl=-HB*OP-Hm*Hz+Ow*HP;if(Hk>0)OW[Hg]=Hk;if(Hl>0)WX[Hg]=Hl}if(n)console.log("raycasting",Date.now()-V);
if(L.Sftn.v.val!=0){$.blur.a$(OW,WL,m,L.Sftn.v.val*.43);var WE=WL,WL=OW,OW=WE;if(Az){$.blur.a$(WX,WL,m,L.Sftn.v.val*.43);
var WE=WL,WL=WX,WX=WE}else $.Ll(OW,WX)}if(n)console.log("softening",Date.now()-V);var Wx=$.Fa.iB(L.TrnS.v.Crv.v,1024);
for(var H=0;H<q;H++){OW[H]=Wx[~~(OW[H]*1024)];WX[H]=Wx[~~(WX[H]*1024)]}if(n)console.log("contour remap",Date.now()-V);
F=Math.round(F/j);G=Math.round(G/j);var O_=$.I(F*G*4);WD.Lk(O_,L.hglC.v);var Hj=$.I(F*G*4);WD.Lk(Hj,L.sdwC.v);
var Hf=$.I(F*G*4);WD.Lk(Hf,L.hglC.v);var HF=$.I(F*G*4);WD.Lk(HF,L.sdwC.v);var $$=1/HP,Og=1/(1-HP),WJ=1/h,Hy=new Float64Array(1e3);
for(var H=0;H<1e3;H++)Hy[H]=Math.pow(H*.001,.2);for(var H=0;H<G;H++)for(var Q=0;Q<F;Q++){var Hg=H*F+Q,HS=4*Hg+3,AV=0,HT=0;
if(j==1){AV=OW[Hg];HT=WX[Hg]}else{var Oe=j*j*H*F+j*Q;AV=.25*(OW[Oe]+OW[Oe+1]+OW[Oe+j*F]+OW[Oe+j*F+1]);
HT=.25*(WX[Oe]+WX[Oe+1]+WX[Oe+j*F]+WX[Oe+j*F+1])}var Hs=Math.max(0,Math.min(.9999,(Wf[Hg]+h*.993)*WJ));
Hs=Hy[Math.floor(Hs*1e3)];var Ht=Hs*(1-Math.min(1,AV*$$)),HK=Hs*(1-Math.min(1,(1-AV)*Og)),Ox=Hs*(1-Math.min(1,HT*$$)),$O=Hs*(1-Math.min(1,(1-HT)*Og));
Hj[HS]=Math.round(255*Ht);O_[HS]=Math.round(255*HK);HF[HS]=Math.round(255*Ox);Hf[HS]=Math.round(255*$O)}if(n)console.log("baking textures",Date.now()-V);
m=o.rect().clone();m.RK(I/j,I/j);m.offset(-o.rect().x-1,-o.rect().y-1);var HI={OlA:L.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(i)!=-1){HI.jf={nr:O_,YB:m,EQ:HO.sU(L.hglM.v.BlnM),ct:L.hglO.v.val/100};
HI.je={nr:Hj,YB:m,EQ:HO.sU(L.sdwM.v.BlnM),ct:L.sdwO.v.val/100};p.all.push(HI.jf,HI.je)}if(["OtrB","Embs","PlEb"].indexOf(i)!=-1){HI.jo={nr:Hf,YB:m,EQ:HO.sU(L.hglM.v.BlnM),ct:L.hglO.v.val/100};
HI.jy={nr:HF,YB:m,EQ:HO.sU(L.sdwM.v.BlnM),ct:L.sdwO.v.val/100};p.all.push(HI.jo,HI.jy)}if(n)console.log(Date.now()-V);
p.type[N].push(HI)}if(N=="patternFill"){var HE=o.rect(),M=$.I(HE.s()*4);WD.Wq(L,M,HE,R,t);var X=HE.clone();
X.offset(-HE.x-1,-HE.y-1);var g={nr:M,YB:X,EQ:HO.sU(L.Md.v.BlnM),ct:L.Opct.v.val/100};p.type[N].push(g);
p.all.push(g)}if(N=="ChFX"){var M=$.I(o.ll().length*4);WD.Lk(M,L.Clr.v);var U=L.blur.v.val,Al=o.rect().clone();
Al.RK(U,U);var ON=$.I(Al.s()),AD=$.I(Al.s());$.co(o.ll(),o.rect(),AD,Al);$.blur.gW(AD,ON,Al,U*.43);var AU=$.Fa.PV(L.MpgS.v.Crv.v,256,!0);
$.Dn(ON,AU);var Hu=$.I(o.ll().length),On=$.I(o.ll().length),AH=o.rect().clone();WD.En(AH,L,R,0);$.co(ON,Al,Hu,AH);
AH=o.rect().clone();WD.En(AH,L,R,Math.PI);$.co(ON,Al,On,AH);var $R=Hu.length;for(var H=0;H<$R;H++)M[4*H+3]=Math.abs(Hu[H]-On[H]);
if(L.Invr.v)for(var H=0;H<$R;H++)M[4*H+3]=255-M[4*H+3];var X=o.rect().clone();X.offset(-o.rect().x-1,-o.rect().y-1);
var g={nr:M,YB:X,EQ:HO.sU(L.Md.v.BlnM),ct:L.Opct.v.val/100};p.type[N].push(g);p.all.push(g)}if(N=="OrGl"){var y;
if(L.GlwT.v.BETE=="SfBL")y=o.my(Y,U-Y,!0);else y=o.eI(U,W,!0);var C=y.ll,X=y.MU;WD.el(C,L);WD.bp(C,L);
var M=$.I(X.s()*4);if(L.Grad==null){WD.Lk(M,L.Clr.v);$.xm(C,M,3)}else{var Hp={mP:C,CG:255,TJ:0,wi:X};
WD.mj(L,M,X,R,Hp);for(var H=0;H<M.length;H+=4){var $i=C[H>>2];if($i<32)M[H+3]=Math.max(0,$i-1)<<3}}X.offset(-o.rect().x-1,-o.rect().y-1);
var g={nr:M,YB:X,EQ:HO.sU(L.Md.v.BlnM),ct:L.Opct.v.val/100};p.type[N].push(g);p.all.push(g)}if(N=="IrGl"){var y;
if(L.GlwT.v.BETE=="SfBL")y=o.my(Y,U-Y,!1);else y=o.eI(U,W,!1);var C=y.ll,X=y.MU;WD.el(C,L);WD.bp(C,L);
if(L.glwS.v.IGSr=="SrcC")$.sI(C);var M=$.I(X.s()*4);if(L.Grad==null){WD.Lk(M,L.Clr.v);$.xm(C,M,3)}else{var Hp={mP:C,CG:255,TJ:0,wi:X};
WD.mj(L,M,X,R,Hp)}X.offset(-o.rect().x-1,-o.rect().y-1);var g={nr:M,YB:X,EQ:HO.sU(L.Md.v.BlnM),ct:L.Opct.v.val/100};
p.type[N].push(g);p.all.push(g)}if(N=="FrFX"){var Ha=WD.bo(L),HQ=Ha[0],Af=Ha[1],X=o.rect().clone(),Ho=null,Aq=null;
X.RK(Math.ceil(v),Math.ceil(v));if(Af>0){var y=o.my(Af,0,!0);Aq=y.ll;if(Aq.length<X.s()){Aq=$.I(X.s());
$.co(y.ll,y.MU,Aq,X)}}if(HQ>0){var y=o.my(HQ,0,!1);Ho=$.I(X.s());$.set(Ho,255);$.co(y.ll,y.MU,Ho,X)}X.offset(-o.rect().x-1,-o.rect().y-1);
var M=$.I(X.s()*4),Hh=L.PntT.v.FrFl;if(Hh=="SClr")WD.Lk(M,L.Clr.v);if(Hh=="GrFl")WD.mj(L,M,X,R,o.OnZ(HQ,Af));
if(Hh=="Ptrn")WD.Wq(L,M,X,R,t);var g={nr:M,YB:X,EQ:HO.sU(L.Md.v.BlnM),ct:L.Opct.v.val/100,jO:Aq,Dh:Ho};
p.type[N].push(g);p.all.push(g)}}}return p};WD.xk=function(l){var t=1/Math.sqrt(l.x*l.x+l.y*l.y+l.vn*l.vn);
l.x*=t;l.y*=t;l.vn*=t};WD.OPR=function(l,t){return{x:l.y*t.vn-l.vn*t.y,y:l.vn*t.x-l.x*t.vn,vn:l.x*t.y-l.y*t.x}};
WD.Oku=function(l,t){return l.x*t.x+l.y*t.y+l.vn*t.vn};WD.RM=function(l){var t=WD.EI();return{fill:l.add.iOpa!=null?l.add.iOpa/255:t.fill,Ze:l.add.brst!=null?l.add.brst:t.Ze,Zy:l.add.knko!=null?l.add.knko:t.Zy,style:!1,ZE:!1}};
WD.EI=function(){return{fill:1,Ze:[1,1,1],Zy:0,style:!1,ZE:!1}};WD.$b=function(l,t){if(t==null)return null;
var a=l.Idnt.v,k=null;for(var R=0;R<t.length;R++)if(t[R].id==a)return t[R];return null};WD.eV=function(l,t,a){var k=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var R=0;R<k.length;R++){var u=l.v[k[R]].v;for(var b=0;b<u.length;b++)if(u[b].v.Ptrn)t.YS(WD.$b(u[b].v.Ptrn.v,a))}};
WD.Wq=function(l,t,a,k,R){var u=WD.$b(l.Ptrn.v,k.add.Patt);if(u!=null&&!a.wp()){var b=$.scale.Wq(u.nr,u.MU.$,u.MU.e),v=l.Scl.v.val/100,H=-a.x+l.phase.v.Hrzn.v-1,N=-a.y+l.phase.v.Vrtc.v-1;
if(l.Algn!=null&&!l.Algn.v){}else{H+=R.x;N+=R.y}$.scale.OKZ(b,t,a.$,a.e,v,v,H+1,N+1)}};WD.mj=function(l,t,a,k,R,u){if(u==null)u=a;
var b=l.Type?l.Type.v.GrdT:"shapeburst",v=l.Algn&&l.Algn.v?u:new d(0,0,k.$,k.e),H=l.Angl?$.C.ad(l,v):[new x(0,0),new x(100,0)],N=H[0].x,z=H[0].y,A=H[1].x-N,Q=H[1].y-z,S=Math.sqrt(A*A+Q*Q);
S=1/(2*S*S);var o=[A*S,Q*S,-Q*S,A*S];$.C.Or(l.Grad.v,t,a,o,N,z,l.Rvrs?l.Rvrs.v:!1,P.C.types.indexOf(b),0,0,R)};
WD.OnW=function(l,t){for(var a=0;a<l.all.length;a++){var k=l.all[a];k.YQ=k.YB.clone();k.YQ.offset(t.x,t.y)}};
WD.eO=function(l,t,a,k,R,u){var b=T.jS?WD.eH:WD.e$;WD.OnW(t,a);var v=t.type.DrSh;for(var H=0;H<v.length;
H++)if(!v[H].ZX)b(v[H],k,R,u)};WD.eA=function(l,t,a,k,R,u,b,v,H,N){var z=a,A=T.jS?WD.eH:WD.e$,Q=T.jS?T.j.Nt:$.j.wq,S;
S=t.type.DrSh;for(var o=0;o<S.length;o++)if(S[o].ZX)A(S[o],k,R,u);S=t.type.OrGl;for(var o=0;o<S.length;
o++)A(S[o],k,R,u);var p="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var O=0;O<p.length;O++){var S=t.type[p[O]];
for(var o=0;o<S.length;o++)A(S[o],b,z,u)}var E=t.type.ebbl[0],L=E!=null&&E.OlA;S=t.type.FrFX;for(var o=0;
o<S.length;o++){var U=S[o];OH.kT.co(v,N,H,N,u);A(U,H,N,u);if(L&&o==S.length-1){if(E.jy)A(E.jy,H,N,u);
if(E.jo)A(E.jo,H,N,u);if(E.je)A(E.je,H,N,u);if(E.jf)A(E.jf,H,N,u)}if(U.Dh||U.DQ)Q(H,N,b,z,T.jS?U.DQ:U.Dh,U.YQ,0,u,1);
if(U.jO||U.Dw)Q(H,N,k,R,T.jS?U.Dw:U.jO,U.YQ,0,u,1)}if(!L&&E!=null){if(E.jy)A(E.jy,k,R,u);if(E.jo)A(E.jo,k,R,u);
if(E.je)A(E.je,b,z,u);if(E.jf)A(E.jf,b,z,u)}};WD.e$=function(l,t,a,k){var R=WD.EI();R.fill=l.ct;R.style=!0;
$.j.bz(l.EQ,l.nr,l.YQ,t,a,k,1,R)};WD.eH=function(l,t,a,k){var R=WD.EI();R.fill=l.ct;R.style=!0;T.j.fv(l.EQ,l.fs,l.YQ,t,a,k,1,R)};
WD.el=function(l,t){var a=1-t.Inpr.v.val/100,k=1+Math.tan(a*(Math.PI/2)),R=l.length;for(var u=0;u<R;
u++)l[u]=Math.min(255,Math.round(l[u]*k))};WD.bp=function(l,t){var a=t.blur.v.val,k=Math.round(a*(t.Ckmt.v.val/100));
if(a>k){var R=$.Fa.PV(t.TrnS.v.Crv.v,256,!0);$.Dn(l,R)}if(t.Nose.v.val>0)$.style.OVr(l,t.Nose.v.val/100)};
WD.Lk=function(l,t,a){if(a==null)a=255;var k=$.C.BL(t),R=a<<24|k.l<<16|k.K<<8|k.D;$.IK(l,R)};WD.En=function(l,t,a,k){var R=t.uglg&&t.uglg.v?a.Yj():t.lagl.v.val;
R=R*Math.PI/180+k;var u=Math.cos(R)*t.Dstn.v.val,b=Math.sin(R)*t.Dstn.v.val;l.x-=Math.round(u);l.y+=Math.round(b)};
WD.pu=function(l){if(l==null)return null;var t=l.frameFXMulti.v;if(t.length==0)return null;t=t[0].v;
var a=JSON.parse(JSON.stringify(P.BF.default));WD.eg(t,a);return a};WD.eg=function(l,t){var a=P.stroke.pG.indexOf(l.PntT.v.FrFl),k=[P.uk,P.RP,P.Ry][a],R=t.strokeStyleContent.v={classID:P.BF.bt[a]};
for(var u=0;u<k.length;u++)R[k[u]]=l[k[u]];t.strokeEnabled=l.enab;t.strokeStyleLineWidth=l.Sz;t.strokeStyleLineAlignment.v.strokeStyleLineAlignment=P.BF.mt[P.stroke.types.indexOf(l.Styl.v.FStl)];
t.strokeStyleOpacity=l.Opct;t.strokeStyleBlendMode=l.Md};WD.pQ=function(l,t){var a=[];for(var k=0;k<l.length;
k++)a.push({t:"UntF",v:{type:"#Nne",val:Math.round(l[k]*t)}});return a};WD.x$=function(l,t,a){this.fM=t.clone();
this.fM.RK(1,1);this.Zp=t.clone();this.Zp.RK(a,a);this.ZB=$.I(this.fM.s());$.co(l,t,this.ZB,this.fM);
this.jv=null;this.qQ=null;this.qe=null};WD.x$.prototype.ll=function(){return this.ZB};WD.x$.prototype.rect=function(){return this.fM};
WD.x$.prototype.bB=function(){return this.Zp};WD.x$.prototype.tv=function(){if(this.jv)return this.jv;
this.jv=$.clone(this.ll());$.sI(this.jv);return this.jv};WD.x$.prototype.zO=function(){if(this.qQ)return this.qQ;
this.qQ=new Float64Array(this.rect().s());$.style.kH(this.tv(),this.qQ,this.rect().$,this.rect().e);
return this.qQ};WD.x$.prototype.pX=function(){if(this.qe)return this.qe;var l=this.bB(),t=$.I(l.s());
$.co(this.ll(),this.rect(),t,l);this.qe=new Float64Array(l.s());$.style.kH(t,this.qe,l.$,l.e);return this.qe};
WD.x$.prototype.OnZ=function(l,t){var a={CG:-t,TJ:l,wi:null,mP:null};if(t==0){a.wi=this.rect();a.mP=this.zO();
return a}var k=this.pX().slice(0),R=this.bB();a.wi=R;a.mP=k;for(var u=0;u<k.length;u++)k[u]=-k[u];if(l==0)return a;
var b=this.zO(),v=this.rect();for(var H=0;H<v.e;H++)for(var N=0;N<v.$;N++){var z=H*v.$+N,A=(H+v.y-R.y)*R.$+N+v.x-R.x;
k[A]+=b[z]}return a};WD.x$.prototype.my=function(l,t,a){var k=Math.ceil(l+t),R={MU:this.rect().clone(),ll:null};
R.MU.RK(k,k);R.ll=$.I(R.MU.s());if(l==0&&t==0)$.Ll(a?this.ll():this.tv(),R.ll);else{var u=$.I(R.MU.s());
$.co(this.ll(),this.rect(),u,R.MU);if(!a)$.sI(u);if(l!=0){if(a)$.style.YW(u,R.MU,this.pX(),this.bB(),l);
else $.style.YW(u,R.MU,this.zO(),this.rect(),l)}if(t!=0)$.blur.gW(u,R.ll,R.MU,Math.max(1,t*.43));else R.ll=u}return R};
WD.x$.prototype.eI=function(l,t,a){var k=l*(t-.5),R={MU:this.rect().clone(),ll:null};if(a)R.MU.RK(l,l);
R.ll=$.I(R.MU.s());var u=R.MU.$,b=R.MU.e,v=a?this.pX():this.zO(),H=a?this.bB():this.rect(),N=R.MU,z=N.gk(H),u=z.$,b=z.e,A=z.x-N.x,Q=z.y-N.y,S=z.x-H.x,o=z.y-H.y,p=1-t*2;
for(var O=0;O<b;O++)for(var E=0;E<u;E++){var L=v[(O+o)*H.$+E+S],U=L/l;R.ll[(O+Q)*N.$+E+A]=Math.max(0,Math.min(255,255-255*((U+p)/(1+p))))}return R};
WD.ei=function(l,t,a){var k=l.Lefx,R=l.blendOptions;if(k){var u=t.add.lmfx;if(a==null)a=u?u.Scl.v.val:100;
t.add.lmfx=JSON.parse(JSON.stringify(k.v));WD.Xc(t.add.lmfx,a/t.add.lmfx.Scl.v.val);if(u)t.add.lmfx.Scl.v.val=u.Scl.v.val}else delete t.add.lmfx;
if(R){R=R.v;if(R.Md)t.wk=HO.sU(R.Md.v.BlnM);else t.wk=t.PA()?"pass":"norm";if(R.fillOpacity)t.add.iOpa=Math.round(R.fillOpacity.v.val*255/100);
else t.add.iOpa=255}};WD.ek=function(l){var t={si:{classID:"null",Idnt:{t:"TEXT",v:Hb.m_()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},YY:{classID:"Styl",blendOptions:{t:"Objc",v:{classID:"blendOptions",fillOpacity:{t:"UntF",v:{type:"#Prc",val:l.add.iOpa!=null?l.add.iOpa*100/255:100}}}}}},a=l.add.lmfx;
if(a)t.YY.Lefx={t:"Objc",v:a};return t};function WH(){}WH.FV=function(l){return JSON.parse(JSON.stringify(l))};
WH.zA=function(l){var t=WH.FV(WH.OnT),a=t.Brsh.v;if(l!=null){delete a.Hrdn;a.classID="sampledBrush";
a.Nm={t:"TEXT",v:"layer.png"},a.sampledData={t:"TEXT",v:l}}return t};WH.OnT={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
WH.xk={};WH.xk.check=function(l){var t=WH.xk.pp;for(var a=0;a<t.length;a++)if(l[t[a]]==null)l[t[a]]=JSON.parse(WH.xk.zW[t[a]]);
var k=[];for(var a=0;a<t.length;a++)k.push(t[a]);var R=WH.xk.eb;for(var a=0;a<R.length;a++){var u=R[a][0],b=R[a][1],v=!0;
for(var H=0;H<u.length;H++)v=v&&l[u[H]].v==!0;if(v)for(var H=0;H<b.length;H++){if(l[b[H]]==null)console.log("Missing conditional parameter "+b[H]);
else k.push(b[H])}}for(var N in l)if(k.indexOf(N)==-1)console.log("Extra parameter "+N);l=l.Brsh.v;t=WH.xk._j.pp;
for(var a=0;a<t.length;a++)if(l[t[a]]==null)l[t[a]]=JSON.parse(WH.xk._j.zW[t[a]]);k=[];for(var a=0;a<t.length;
a++)if(l[t[a]])k.push(t[a]);else console.log("Missing default parameter "+t[a]);R=WH.xk._j.Onw[l.classID];
for(var a=0;a<R.length;a++)if(l[R[a]]==null&&R[a]!="dtipsGridSize"&&R[a]!="dtipsErodibleTipHeightMap"&&l.Olg!=1)console.log("Missing conditional parameter "+R[a]);
else k.push(R[a]);for(var N in l)if(k.indexOf(N)==-1)console.log("Extra parameter "+N)};WH.xk.py=function(l){var t=WH.xk.eb;
for(var a=0;a<t.length;a++){var k=t[a][0],R=t[a][1],u=!0;for(var b=0;b<k.length;b++)u=u&&l[k[b]]&&l[k[b]].v==!0;
if(u){for(var b=0;b<R.length;b++)if(l[R[b]]==null){l[R[b]]=JSON.parse(WH.xk.zW[R[b]])}}else for(var b=0;
b<R.length;b++)if(l[R[b]]!=null){delete l[R[b]]}}};WH.xk._j={};WH.xk._j.pp="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
WH.xk._j.zW={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};WH.xk._j.Onw={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
WH.xk.eb=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
WH.xk.pp="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
WH.xk.zW={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function Ob(l){this.qN=l;this.dir=0}Ob.prototype.ez=function(l,t){if(this.dir==0&&!this.qN.cG(l))this.dir=Math.abs(this.qN.x-l.x)<Math.abs(this.qN.y-l.y)?1:2;
var a=l;if(t.L(J.hV)){if(this.dir==1)a=new x(this.qN.x,l.y);if(this.dir==2)a=new x(l.x,this.qN.y)}return a};
function Wy(l,t,a,k,R,u,b,v){this.BN=t;this.FD=a;this.WR=u;this.Ce=k;this.Fb=null;this.Rl=null;this.fQ=0;
this.Zc=0;this.Zw=0;this.fX=0;this.dA=0;this.Olz=b;this.Pk=new d;this.Is=new d;this.rect=new d;if(v!=null){this.nr=v}else{var H=Wy.en;
if(H.length!=b.s()*4)H=$.I(b.s()*4);else H.fill(0);this.nr=Wy.en=H}this.rect=b.clone();this.TW=[];this.fo=[];
this.cB=null;this.rq=0;this.l=null;this.TI="";this.tC=null;this.eU(l,R)}Wy.en=$.I(16);Wy.prototype.eU=function(l,t){this.rq=t;
this.l=l;this.TI=JSON.stringify(l)+JSON.stringify(this.Ce.Hn);this.tC=Wy.OUM(l,this.BN,this.FD)};Wy.prototype.moveTo=function(l,t,a){a=this.eE(a);
this.fQ=a;var k=new x(l,t),R=this.l.Brsh.v.Dmtr.v.val;this.Fb=k.clone();this.Rl=k.clone();this.cB=k.clone();
this.TW=[l,t];this.fo=[a];if(this.Ce.Hb!=Wy.qE)this.pc(this.eF(k,this.ex()*a,new x(0,0)));this.fX=k.clone()};
Wy.prototype.lineTo=function(l,t,a){a=this.eE(a);var k=this.TW,R=k.length,u=k[R-2],b=k[R-1];if(l==u&&t==b)return;
var v=this.l.Brsh.v.Dmtr.v.val,H=Math.ceil(v)+1,N=new d(Math.round(u),Math.round(b),0,0);N.RK(H,H);var z=new d(Math.round(l),Math.round(t),0,0);
z.RK(H,H);this.eq(N.wm(z));this.TW.push(l,t);this.fo.push(a);R+=2;if(R>=6)this.pc(this.eK(R))};Wy.prototype.eE=function(l){if(l==null)l=1;
l=Math.max(.05,Math.min(5,l));if(isNaN(l)){alert("Pressure is not a number");throw"e"}return l};Wy.prototype.pc=function(l){this.Pk=l;
this.Is=this.Is.wm(l)};Wy.prototype.finish=function(){var l=this.TW,t=l.length,a;if(t==4)a=this.ed(l[t-2],l[t-1],this.fo[(t>>1)-1],!0);
if(t>4)a=this.eK(t+2);if(a)this.pc(a)};Wy.prototype.eK=function(l){var t=this.TW,a=this.fo,k=t[l-6],R=t[l-5],u=t[l-4],b=t[l-3],v=a[(l>>1)-3],H=a[(l>>1)-2],N=new x(0,0),z=new x(0,0);
if(8<=l)N=Wy.ef(t[l-8],t[l-7],k,R,u,b);if(l<=t.length)z=Wy.ef(t[l-2],t[l-1],u,b,k,R);var A=k+N.x,Q=R+N.y,S=u+z.x,o=b+z.y,p=new d;
for(var O=0;O<10;O++){var E=(O+1)*.1,L=1-E,U=L*L*L*k+3*E*L*L*A+3*E*E*L*S+E*E*E*u,W=L*L*L*R+3*E*L*L*Q+3*E*E*L*o+E*E*E*b,Y=this.ed(U,W,v+E*(H-v));
p=p.wm(Y)}return p};Wy.ef=function(l,t,a,k,R,u){var b=l-a,v=t-k,H=R-a,N=u-k,z=Math.sqrt(b*b+v*v),A=Math.sqrt(H*H+N*N),Q=Math.acos((b*H+v*N)/(z*A))/Math.PI,S=.35,o=.1;
Q=o+Q*(S-o);var p=R-l,O=u-t,E=Math.sqrt(p*p+O*O),L=Q*A/E;return new x(p*L,O*L)};Wy.prototype.ed=function(l,t,a,k){var R=new d,u=this.Ce.OOp;
if(u==null)u=0;if(u==0||k){R=this.em(l,t,a);return R}var b=this.cB,v=l-b.x,H=t-b.y,N=Math.sqrt(v*v+H*H);
v/=N;H/=N;if(N>u){var z=b.x+v*(N-u),A=b.y+H*(N-u);R=this.em(z,A,a);this.cB.$x(z,A)}return R};Wy.prototype.em=function(l,t,a){var k=new d,R=new x(l,t),u=this.l.Brsh.v.Dmtr.v.val,b=this.Ce.Hb,v=R.ux(this.Rl);
v.normalize(1);var H=x.tq(this.Rl,R),N=-this.Zc,z=this.Rl.clone();while(!0){var A=this.ex()*(this.fQ+(a-this.fQ)*(Math.max(0,N)/H)),Q=this.OUi()*(A+this.Zw)/2;
if(b==Wy.qE)Q=1;if(N+Q<H){N+=Q;var S=new x(this.Rl.x+v.x*N,this.Rl.y+v.y*N),O=1;if(b==Wy.qE){var o=z.clone();
o.x+=v.x>0?1:-1;var p=z.clone();p.y+=v.y>0?1:-1;if(x.tq(o,S)<x.tq(p,S))S=o;else S=p;N=x.tq(S,this.Rl)}if(this.l.useScatter.v==!0){O=this.l.Cnt.v;
var E=this.l.countDynamics.v.jitter.v.val/100,L=E*(-1+2*this.Ao());O+=Math.round(O*L)}for(var U=0;U<O;
U++){var W=this.eF(S,A,v);k=k.wm(W)}z=S}else break}this.Zc=H-N;this.Rl=R;this.fQ=a;return k};Wy.prototype.OUi=function(){var l=this.l.Brsh.v,t=l.Spcn.v.val,a=Math.max(5,l.Rndn.v.val);
return a/100*(t/100)};Wy.prototype.ex=function(){var l=this.l,t=l.Brsh.v.Dmtr.v.val;if(l.useTipDynamics.v){var a=t*(l.minimumDiameter.v.val/100);
t=a+(t-a)*(1-this.Ao()*(l.szVr.v.jitter.v.val/100))}return t};Wy.prototype.eF=function(l,t,a){var k=this.l,R=this.l.Brsh.v,u=R.Dmtr.v.val,b=this.Ce,v=b.Ai,H=b.Hb,N=b.Ol_,z=new WM;
z.translate(-this.tC.CL.$/2,-this.tC.CL.e/2);z.scale(1/this.tC.Zt,1/this.tC.Zt);z.scale(t/u,t/u);z.scale(1,Math.max(5,R.Rndn.v.val)/100);
if(k.useTipDynamics.v){var A=k.minimumRoundness.v.val/100;z.scale(1,A+(1-A)*Math.round(100-this.Ao()*k.roundnessDynamics.v.jitter.v.val)/100);
z.rotate((-.5+this.Ao())*4*Math.PI*(k.angleDynamics.v.jitter.v.val/100))}z.rotate(R.Angl.v.val*(Math.PI/180));
if(k.useScatter.v){var Q=(-1+2*this.Ao())*k.scatterDynamics.v.jitter.v.val/100;z.translate(-Q*t*a.y,Q*t*a.x)}z.translate(l.x,l.y);
var S=this.OUa(z,l);this.eq(S.rect);var o=S.rect.clone();if(H==null){var p=this.BL(k);$.IK(S._A,Math.round(p.l*255)<<16|Math.round(p.K*255)<<8|Math.round(p.D*255)<<0,4278190080);
$.j.Ogn(S._A,S.rect,this.nr,this.rect,S.rect,v)}if(H==Wy.qE){var O=new x(S.rect.x+S.rect.$/2,S.rect.y+S.rect.e/2),E=Math.round(O.x-this.fX.x),L=Math.round(O.y-this.fX.y),U=S.rect.clone();
U.offset(-E,-L);var W=U.gk(this.rect);W.offset(E,L);$.BM(this.nr,this.rect,S._A,U);$.j.no(S._A,S.rect,this.nr,this.rect,S.Iy,S.rect,v)}if(H==Wy.le||H==Wy.lc||H==Wy.zG){var Y=S.rect.gk(this.rect),y=$.I(Y.s());
$.co(S.Iy,S.rect,y,Y);var C=S._A;$.BM(this.nr,this.rect,C,Y);if(H==Wy.lc){var X=$.clone(C),M=$.Fu.UR([-1,-1,-1,-1,25,-1,-1,-1,-1]);
$.Fu.Cj(C,X,Y.$,Y.e,M,3,0);$.Ll(X,C)}else if(H==Wy.zG){var g=HU.TG("UnsM");g.Amnt.v.val=15;g.Thsh.v=0;
g.Rds.v.val=5;var X=$.I(C.length);HU.fu("UnsM",{buffer:C,rect:Y},g,0,0,{buffer:X,rect:Y});$.Ll(X,C)}else{HU.ij(1,$.blur.np,C,Y)}$.j.no(C,Y,this.nr,this.rect,y,Y,v)}this.Zw=t;
this.fX=O;return o};Wy.prototype.BL=function(l){var t=Wy.eZ(this.rq);if(l.useColorDynamics.v){var a=1-this.Ao()*l.clVr.v.jitter.v.val/100,k=Wy.eZ(this.WR);
t.D=a*t.D+(1-a)*k.D;t.K=a*t.K+(1-a)*k.K;t.l=a*t.l+(1-a)*k.l;var R=(-.5+this.Ao())*l.H.v.val/100,u=(-1+2*this.Ao())*l.Strt.v.val/100,b=(-1+2*this.Ao())*l.Brgh.v.val/100,v=$.HC(t.D,t.K,t.l);
v.Ii=(v.Ii+R+1)%1;v.RI=v.RI+u;if(v.RI<0)v.RI=-v.RI;if(v.RI>1)v.RI=1-(v.RI-1);v.cI=v.cI+b;if(v.cI<0)v.cI=-v.cI;
if(v.cI>1)v.cI=1-(v.cI-1);t=$.gU(v.Ii,v.RI,v.cI)}return t};Wy.prototype.xk=function(l){return Math.max(0,Math.min(1,l))};
Wy.prototype.Ao=function(){this.dA++;return Wy.hash(this.dA)};Wy.eZ=function(l){return{D:(l>>16&255)/255,K:(l>>8&255)/255,l:(l>>0&255)/255}};
Wy.hash=function(l){l=l^61^l>>16;l=l+(l<<3);l=l^l>>4;l=l*668265261;l=l^l>>15;return(l&16777215)/16777215};
Wy.Hy=[];Wy.prototype.OUa=function(l,t){var a=null,b;for(var k=0;k<Wy.Hy.length;k++)if(Wy.Hy[k].TI==this.TI){a=Wy.Hy[k];
Wy.Hy.splice(k,1)}if(a==null)a={_$:[],TI:this.TI,Ip:0};var R=a._$,u=this.Ce.Hn;if(u){l=l.clone();l.Pu=Math.floor(l.Pu);
l.wf=Math.floor(l.wf)}var v=Wy.eD(l.Pu,l.wf);for(var k=0;k<R.length;k++){var H=R[k];if(!(H.fj.w==l.w&&H.fj.l==l.l&&H.fj.Mn==l.Mn&&H.fj.N_==l.N_))continue;
if(Wy.OUu(H.BG,v)<.2||H.rect.s()>1e4){b=H;break}}if(b){b.rect.x=Math.round(b.ng.x-b.fj.Pu+l.Pu);b.rect.y=Math.round(b.ng.y-b.fj.wf+l.wf)}else{var N=Math.round(this.l.Brsh.v.Dmtr.v.val),z;
if(u&&N<=3){z={buffer:$.I(N*N*4),rect:new d(Math.round(t.x-N/2),Math.round(t.y-N/2),N,N)};$.IK(z.buffer,4278190080)}else z=s.b.tS([this.tC._A,this.tC.CL],l);
if(u){for(var k=0;k<z.buffer.length;k++)z.buffer[k]=z.buffer[k]>127?255:0}if(z==null)z={buffer:$.I(0),rect:new d};
var A=l.Pu-Math.floor(l.Pu),Q=l.wf-Math.floor(l.wf);b={_A:z.buffer,Iy:$.I(z.rect.s()),rect:z.rect,ng:z.rect.clone(),fj:l,BG:Wy.eD(l.Pu,l.wf)};
$.Du(b._A,b.Iy,3);R.push(b);if(R.length>200)R=R.slice(100)}a._$=R;a.Ip=Date.now();Wy.Hy.push(a);Wy.Hy.sort(function(S,o){return o.Ip-S.Ip});
while(Wy.Hy.length>3)Wy.Hy.pop();return b};Wy.eD=function(l,t){return new x(l-Math.floor(l),t-Math.floor(t))};
Wy.OUu=function(l,t){var a=t.x,k=t.y,R=Math.abs(a-l.x),u=Math.abs(k-l.y);if(Math.abs(a-1-l.x)<R)a--;
else if(Math.abs(a+1-l.x)<R)a++;if(Math.abs(k-1-l.y)<u)k--;else if(Math.abs(k+1-l.y)<u)k++;R=l.x-a;u=l.y-k;
return Math.sqrt(R*R+u*u)};Wy.prototype.eq=function(l){};Wy.OUM=function(l,t,a){var k,R,u,b=l.Brsh.v.Dmtr.v.val;
if(l.Brsh.v.classID=="computedBrush"){var v=l.Brsh.v.Hrdn.v.val/100,H=1.55;u=1.2;var N=Math.round(u*b*H),z=Math.pow(v,.55);
R=new d(0,0,N,N);k=$.I(N*N);var A=N/2,Q=1/A,t=Wy.OUc(v);for(var S=0;S<N;S++){var o=H*(S-A+.25)*Q,p=H*(S-A+.75)*Q;
for(var O=0;O<N;O++){var E=H*(O-A+.25)*Q,L=H*(O-A+.75)*Q,U=Math.floor(Math.sqrt(E*E+o*o)*(1e3/1.55)),W=Math.floor(Math.sqrt(L*L+o*o)*(1e3/1.55)),Y=Math.floor(Math.sqrt(E*E+p*p)*(1e3/1.55)),y=Math.floor(Math.sqrt(L*L+p*p)*(1e3/1.55));
k[S*N+O]=Math.round(255*.25*(t[U]+t[W]+t[Y]+t[y]))}}}if(l.Brsh.v.classID=="sampledBrush"){var C;for(var S=0;
S<t.length;S++)if(t[S].id==l.Brsh.v.sampledData.v)C=t[S];k=C.channel;R=new d(0,0,C.MU.$,C.MU.e);u=Math.min(R.$,R.e)/b}var X=$.I(R.s()*4);
$.xm(k,X,3);while(Math.min(R.$,R.e)>b*2){var M=new d(R.x,R.y,Math.floor(R.$/2),Math.floor(R.e/2)),g=s.b.tS([X,R],new WM(M.$/R.$,0,0,M.e/R.e,0,0));
u*=M.$/R.$;R=g.rect;X=g.buffer}return{Zt:u,CL:R,_A:X}};Wy.pC=[];Wy.OUc=function(l){if(Wy.pC[l])return Wy.pC[l];
var t=Math.pow(l,.55),a=new Float64Array(2e3);for(var k=0;k<2e3;k++)a[k]=Wy.OUt(k*(1/1e3)*1.55,t);Wy.pC[l]=a;
return a};Wy.OUt=function(l,t){var a=l<t?1:Wy.OUC((l-t)/Math.pow(1.001-t,.86));return a};Wy.OUC=function(l){var t=l*.85;
return Math.exp(-(t*t)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};Wy.prototype.Sa=function(){return this.rect.clone()};
Wy.prototype.pv=function(){return this.Pk.gk(this.rect)};Wy.prototype.eT=function(){return this.Is.gk(this.rect)};
Wy.prototype.xK=function(){return this.nr};Wy.cT=function(l,t,a,k,R,u){var b=w.X("canvas",""),v=b.getContext("2d");
b.width=u!=null?u:k;b.height=R;v.fillStyle="#ffffff";v.fillStyle="#000000";v.font=Math.floor(10*w.m())+"px Arial";
var H=""+l.Brsh.v.Dmtr.v.val,N=v.measureText(H);v.fillText(H,(k-N.width)/2,R-2);var z=k,A=R-10*w.m(),Q=Math.min(z,A),S=l.Brsh.v.Dmtr.v.val,o=l.Brsh.v.classID;
if(o=="computedBrush"){v.translate(z/2,A/2);v.rotate(-l.Brsh.v.Angl.v.val*Math.PI/180);v.scale(1,.1+.9*l.Brsh.v.Rndn.v.val/100);
var p=Math.min(.95*Q/2,H/2)+.5,O=.9*l.Brsh.v.Hrdn.v.val/100,E=v.createRadialGradient(0,0,0,0,0,p);E.addColorStop(O,"rgba(0,0,0,1)");
E.addColorStop((.5+O)/1.5,"rgba(0,0,0,.5)");E.addColorStop(1,"rgba(0,0,0,0)");v.fillStyle=E;v.fillRect(-p,-p,2*p,2*p)}else if(o=="sampledBrush"){var L;
for(var U=0;U<t.length;U++)if(t[U].id==l.Brsh.v.sampledData.v)L=t[U];var W=w.X("canvas",""),Y=W.getContext("2d");
W.width=L.MU.$;W.height=L.MU.e;var y=Y.getImageData(0,0,W.width,W.height),C=new $.gL(W.width*W.height);
C.w=L.channel;$.Dc(C,y.data);Y.putImageData(y,0,0);Q=Math.min(Q,l.Brsh.v.Dmtr.v.val);var X=Math.max(W.width,W.height),M=.85*W.width*Q/X,g=.85*W.height*Q/X;
v.drawImage(W,(z-M)/2,(A-g)/2,M,g)}else{}return b.toDataURL()};Wy.pN=function(l,t,a){if(a==0)a=1;var k=new d(0,0,128,128),R=l.Brsh.v.Dmtr.v.val;
l.Brsh.v.Dmtr.v.val=Math.min(180,R*a);var u=l.Brsh.v.Dmtr.v.val,b=new Wy(l,t,null,{Ai:1},0,0,k);l.Brsh.v.Dmtr.v.val=R;
b.moveTo(k.$/2,k.e/2);var v=new $.gL(k.s()),H=$.I(k.s()*4);$.BM(b.xK(),b.Sa(),H,k);$.jk(H,v);if(u>=3){var N=$.I(k.s());
$.O.OAy(v.w,N,k);var z=$.I(k.s());$.blur.gW($.clone(N),z,k,1);$.lB(v,255);$.Ll(z,v.w);for(var A=0;A<N.length;
A++)if(N[A]==255){v.w[A]=255;v.D[A]=v.K[A]=v.l[A]=0}}else{var Q=64*128+64,S=v.w,o=10;for(var A=0;A<4;
A++){S[Q-o*128+A*128-1]=S[Q-o*128+A*128]=255;S[Q+o*128-A*128-1-128]=S[Q+o*128-A*128-128]=255;S[Q-128-o+A]=S[Q-128-o+A+128]=255;
S[Q-128+o-A-1]=S[Q-128+o-A-1+128]=255}}var p=$.I(k.s()*4);$.Dc(v,p);p[3]=Math.max(p[3],1);var O=Wr.RA(p,k.$,k.e);
return O};Wy.qE="0";Wy.le="1";Wy.lc="2";Wy.zG="3";var Hw={};Hw.zM=function(l,t){var a=l.B_(),H;if(a.x==Infinity||a.wp())return{nr:$.I(0),rect:new d,Nu:new d};
var k=l.B_(),R=Hw.eG(l,t),u=$.M.ju(R.p);if(u.wp())return{nr:$.I(0),rect:new d,Nu:new d};var b=w.X("canvas","");
b.width=u.$;b.height=u.e;var v=b.getContext("2d");v.translate(-u.x,-u.y);Hw.OUv(R,v);if(l.Zl.length!=0){var N=v.getImageData(0,0,u.$,u.e);
H=new Uint8Array(N.data.buffer)}else H=$.I(u.s()*4);return{nr:H,rect:u,Nu:k}};Hw.eG=function(l,t){var a={A:[],p:[]};
Hw.OEW(l,a);if(!$.Ha.Hq(t.dj)){var k=$.M._f(a.p);a=$.M.$H(a);a=$.M.$z(a,Math.min(k.$,k.e)/8);var R=Wz.Sa(t,l),u=$.Ha.GY(t.dj,R);
$.wS.apply(u,a.p,R)}var b=t.N;$.M.N(a.p,b,a.p);return a};Hw.OUv=function(l,t){Typr.U.pathToContext({crds:l.p,cmds:l.A},t)};
Hw.EE=function(l,t){var a=l.dH.ResourceDict.FontSet,k=[],R=l.dH.EngineDict.StyleRun.RunArray,b=!0;for(var u=0;
u<R.length;u++)k.push(Wz.ew(l.dH,u).Font);for(var u=0;u<k.length;u++){var v=k[u];if(t.hs(a[v].Name)==null)b=!1}return b};
Hw.OEW=function(l,t){var a=new WM;for(var k=0;k<l.SP.length;k++)Hw.OEI(l.Zl,l.SP[k],t,a)};Hw.OEI=function(l,t,a,k){k.translate(t.BG.x,t.BG.y);
for(var R=0;R<t.Eh.length;R++){var u={},b=t.Eh[R];if(!b.fp)break;k.translate(b.BG.x,b.BG.y);for(var v=b.start;
v<b.end;v++)Hw.OE_(l,t.SQ[v],u,a,k);k.translate(-b.BG.x,-b.BG.y)}k.translate(-t.BG.x,-t.BG.y)};Hw.OEK="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
Hw.OE_=function(l,t,a,k,R){R.translate(t.BG.x,t.BG.y);for(var u=t.start;u<t.end;u++){var b=l[u],v=R.clone();
v.translate(b.BG.x,b.BG.y);var H=b.tO.FontSize/b.RC.head.unitsPerEm,N=Wz.BL(b.tO),z=(Math.round(N.D)<<16)+(Math.round(N.K)<<8)+Math.round(N.l);
k.A.push("#"+$.mW(z));if(b.path.A.length!=0){var A=new WM(H,0,0,-H,0,0);if(b.BX==1&&Hw.OEK.indexOf(b.dJ)!=-1)A.concat(new WM(-1,0,0,1,b.rect.$,0));
if(b.tO.FauxItalic)A.concat(new WM(1,0,-Math.tan(.18),1,0,0));A.scale(b.scale.x,b.scale.y);A.concat(v);
$.M.concat(k,b.path,A)}if(b.dJ!="\n"){if(b.tO.Underline){if(a.Iw==null)a.Iw=b.RC.post.underlineThickness*H;
if(a.ZC==null)a.ZC=b.RC.post.underlinePosition*H;var Q=0,S=-a.ZC+a.Iw/2,o=1.05*b.rect.$/b.scale.x,p=a.Iw;
$.M.concat(k,{A:["M","L","L","L","Z"],p:[Q,S,Q+o,S,Q+o,S+p,Q,S+p]},v)}if(b.tO.Strikethrough){var O=b.RC["OS/2"].yStrikeoutSize*H,E=b.RC["OS/2"].yStrikeoutPosition*H,Q=0,S=-E-O/2,o=1.05*b.rect.$/b.scale.x,p=O;
$.M.concat(k,{A:["M","L","L","L","Z"],p:[Q,S,Q+o,S,Q+o,S+p,Q,S+p]},v)}}k.A.push("X")}R.translate(-t.BG.x,-t.BG.y)};
function HR(l,t){var a,k=Wz.WT(l);if(k)a=new d(k[0],k[1],k[2],k[3]);this.nT=0;this.nC=!1;this.SP=[];
this.rect=new d;this.Zl=[];var R=Wz.NS(l),u={};for(var b=0;b<R.length;b++){var v={dJ:R.charAt(b),tO:Wz.OKk(l,b),AP:0,path:null,RC:null,rect:new d,CL:new d,BG:new x(0,0),scale:new x(0,0),kR:0,lineHeight:0,wo:0,tj:0,BX:0,AZ:b},H=l.ResourceDict.FontSet[v.tO.Font].Name,N=v.RC=t.hs(H),L=0;
if(u[H]==null){u[H]=Typr.U.stringToGlyphs(N,R)}var z=u[H],A=Typr.U.codeToGlyph(N,v.dJ.charCodeAt(0));
if(v.dJ=="\n")v.AP=-1;else if(z[b]==A&&v.tO.FontCaps!=0)v.AP=Typr.U.codeToGlyph(N,v.dJ.toUpperCase().charCodeAt(0));
else v.AP=z[b];if(v.AP==-1)v.path={A:[],p:[]};else{var Q=Typr.U.glyphToPath(N,v.AP);v.path={A:Q.cmds,p:Q.crds}}v.scale.x=v.tO.HorizontalScale==null?1:v.tO.HorizontalScale;
v.scale.y=v.tO.VerticalScale==null?1:v.tO.VerticalScale;var S=N["OS/2"],o=N.hhea;if(v.tO.FontCaps==1&&z[b]==A&&v.dJ!=v.dJ.toUpperCase()){var p=S.sxHeight?S.sxHeight/S.sTypoAscender:.76;
v.scale.x*=p;v.scale.y*=p}var O=1/N.head.unitsPerEm*v.tO.FontSize;if(v.tO.FontBaseline==1){var p=l.ResourceDict.SuperscriptSize;
v.scale.x*=p;v.scale.y*=p;v.BG.y-=l.ResourceDict.SuperscriptPosition*v.tO.FontSize}if(v.tO.FontBaseline==2){var p=l.ResourceDict.SubscriptSize;
v.scale.x*=p;v.scale.y*=p;v.BG.y+=l.ResourceDict.SubscriptPosition*v.tO.FontSize}if(v.tO.BaselineShift)v.BG.y-=v.tO.BaselineShift;
v.rect.x=0;v.rect.$=v.scale.x*(v.AP==-1?0:N.hmtx.aWidth[v.AP])*O;v.rect.y=-o.ascender*O;v.rect.e=-v.rect.y;
if(N.glyf==null){v.CL=v.rect.clone();v.CL.e*=v.scale.y;v.CL.y-=v.CL.e-v.rect.e;v.CL.e*=1.3}else if(N.glyf[v.AP]!=null){var E=N.glyf[v.AP];
v.CL.x=E.xMin*O;v.CL.$=(E.xMax-E.xMin)*O*v.scale.x;v.CL.y=-E.yMax*O*v.scale.y;v.CL.e=(E.yMax-E.yMin)*O*v.scale.y}v.CL.y=-O*(S?S.usWinAscent:N.head.yMax)*.9357;
v.CL.e=-v.CL.y-O*N.head.yMin;if(L==0&&S&&S.sxHeight&&H.toLowerCase().indexOf("capitals")!=-1)L=S.sxHeight;
if(L==0&&S&&S.sCapHeight)L=S.sCapHeight;if(L==0&&S&&S.sTypoAscender)L=S.sTypoAscender;if(L==0)L=o.ascender;
v.kR=L*O;v.lineHeight=(o.ascender-o.descender)*O;v.wo=o.ascender*O;v.tj=(-o.descender+o.lineGap)*O;if(v.tO.AutoLeading==!1)v.lineHeight=v.tO.Leading;
this.Zl.push(v)}for(var b=0;b<l.EngineDict.ParagraphRun.RunLengthArray.length;b++){var U=new HR.Bp(l,t,this.Zl,b,a);
this.SP.push(U)}var W=a==null?0:this.SP[0].Eh[0].kR;for(var b=0;b<this.SP.length;b++){var Y=this.SP[b].Eh;
if(b>0)W+=Y[0].lineHeight;this.SP[b].BG.y=W;this.nT+=Y.length;if(a)for(var y=0;y<Y.length;y++){Y[y].fp=Y[y].BG.y+W<a.y+a.e;
if(!Y[y].fp)this.nC=!0}var C=this.SP[b].rect.clone();C.qI(this.SP[b].BG);this.rect=this.rect.wm(C);for(var y=1;
y<Y.length;y++)W+=Y[y].lineHeight;W+=Wz.BB(l,b).SpaceAfter;if(b<this.SP.length-1)W+=Wz.BB(l,b+1).SpaceBefore}}HR.prototype.Bb=function(l){for(var t=0;
t<this.Zl.length;t++)if(this.Zl[t].AZ==l)return this.Zl[t];return null};HR.prototype.OEr=function(l){for(var t=0;
t<this.SP.length;t++){var a=this.SP[t];for(var k=0;k<a.Eh.length;k++){var R=a.Eh[k],u=a.SQ[R.start].start,b=a.SQ[R.end-1].end;
if(u<l&&l<b)return[u,b-1]}}return[0,1]};HR.prototype.ea=function(l,t){var a=-1;for(var k=0;k<this.SP.length;
k++){var R=this.SP[k];for(var u=0;u<R.Eh.length;u++){a++;var b=R.Eh[u],v=R.Eh[u+1];if(v==null&&k<this.SP.length-1)v=this.SP[k+1].Eh[0];
if(t!=null){if(a!=t)continue}else{if(v!=null&&R.BG.y+b.BG.y<l.y)continue}for(var H=b.start;H<b.end;H++){var N=R.SQ[H];
if(H<b.end-1&&R.BG.x+b.BG.x+R.SQ[H+1].BG.x<l.x)continue;for(var z=N.start;z<N.end;z++){var A=this.Zl[z],Q=R.BG.x+b.BG.x+N.BG.x+A.BG.x,S=R.BG.y+b.BG.y+N.BG.y+A.BG.y;
if(z<N.end-1&&Q-A.BG.x+this.Zl[z+1].BG.x<l.x)continue;else break}return this.Zl[z].AZ}}}};HR.prototype.zL=function(l){var t=0,R=0;
for(var a=0;a<this.Zl.length;a++)if(this.Zl[a].AZ==l)t=a;var k={rect:null,_y:0};for(var u=0;u<this.SP.length;
u++){var b=this.SP[u];for(var v=0;v<b.Eh.length;v++){var H=b.Eh[v];k._y=R;R++;for(var N=H.start;N<H.end;
N++){var z=b.SQ[N],A,Q,S,o;for(Q=z.start;Q<z.end;Q++){A=this.Zl[Q];S=b.BG.x+H.BG.x+z.BG.x+A.BG.x;o=b.BG.y+H.BG.y+z.BG.y+A.BG.y;
if(Q==t){k.rect=new d(S,o-A.lineHeight,A.rect.$,A.lineHeight);return k}}}}}};HR.prototype.B_=function(){var l=Infinity,t=Infinity,a=-Infinity,k=-Infinity;
for(var R=0;R<this.SP.length;R++){var u=this.SP[R];for(var b=0;b<u.Eh.length;b++){var v=u.Eh[b];if(!v.fp)break;
for(var H=v.start;H<v.end;H++){var N=u.SQ[H];for(var z=N.start;z<N.end;z++){var A=this.Zl[z],Q=u.BG.x+v.BG.x+N.BG.x+A.BG.x,S=u.BG.y+v.BG.y+N.BG.y+A.BG.y;
l=Math.min(l,Q+A.CL.x);t=Math.min(t,S+A.CL.y);a=Math.max(a,Q+A.CL.x+A.CL.$);k=Math.max(k,S+A.CL.y+A.CL.e)}}}}return new d(l,t,a-l,k-t)};
HR.eu=function(l,t,a,k,R,u){var b=[k],v=0;for(var H=k;H<R;H++){if(a[H]==null)console.log(H,k,R,a);var N=a[H].dJ,z=N.charCodeAt(0);
if(z==32){b.push(v,H,1,H+1);v=0}else if(z==3851){b.push(v+1,H+1);v=0}else if(19968<=z&&z<=40959||12288<=z&&z<=12543){b.push(v,H);
v=1}else if(u!=null&&(u.indexOf(H-k)!=-1||H!=k&&a[H].BX!=a[H-1].BX)){b.push(v,H);v=1}else v++}b.push(v);
var A=[];for(var H=0;H<b.length;H+=2){var Q=b[H],S=b[H+1];if(S==0)continue;A.push(new HR.OEt(l,t,a,Q,S))}return A};
HR.eY=function(l,t,a,k){var R=[[],[]],u=0,b=0;while(u<l.length){var v=0,H=u,N=t?t.$-a.StartIndent-a.EndIndent-(u==0?a.FirstLineIndent:0):Infinity;
while(!0){if(u==l.length)break;var z=l[u],A=v==0;if(k)A=A||k.indexOf(b)==-1;else A=A||(z.GM||z.Tm)||v+z.rect.$<N;
if(A){z.BG.x=v;v+=z.rect.$;u++;b+=z.end-z.start}else break}R[0].push(u-H);R[1].push(N)}return R};HR.Bp=function(l,t,a,k,R){this.SQ=[];
this.Eh=[];this.rect=new d;this.CL=new d;this.BG=new x(0,0);var u=Wz.BB(l,k),b=l.EngineDict.ParagraphRun.RunLengthArray,v=b[k],H=0,p=0,Y=0,y=0,r=0;
for(var N=0;N<k;N++)H+=b[N];var z=u._Direction?u._Direction:0,A=UnicodeBidirectional.resolve,Q=UnicodeBidirectional.reorderPermutation,S=Wz.NS(l).slice(H,H+v),o=[];
for(var N=0;N<S.length;N++){var O=S.charCodeAt(N);o.push(O);if(O>p)p=O}var E=[];for(var N=0;N<S.length;
N++)E.push(0);if(p>1424)E=A(o,z);for(var N=0;N<o.length;N++)a[H+N].BX=E[N]&1;var L=HR.eu(l,t,a,H,H+v),U=HR.eY(L,R,u)[0],W=[];
for(var C=0;C<U.length;C++){var X=y;for(var N=0;N<U[C];N++){var M=L[Y+N];y+=M.end-M.start}W.push(y);
var g=E.slice(X,y),n=Q(g),V=a.slice(H+X,H+y);if(n.length==V.length)for(var N=0;N<V.length;N++)a[H+X+N]=V[n[N]];
Y+=U[C]}this.SQ=HR.eu(l,t,a,H,H+v,W);var i=HR.eY(this.SQ,R,u,W),U=i[0],f=i[1];for(var C=0;C<U.length;
C++){var e={start:r,end:0,rect:new d,CL:new d,BG:new x(0,0),kR:0,lineHeight:0,wo:0,tj:0,fp:!0};this.Eh.push(e);
r+=U[C];e.end=r;var D=e.end==this.SQ.length,B=f[C],h=Wz.zc(u);if(R&&h>2&&(h==6||!D))this.OEQ(e,this.SQ,a,B,z);
for(var N=e.start;N<e.end;N++){var I=this.SQ[N].rect.clone();I.qI(this.SQ[N].BG);e.rect=e.rect.wm(I);
var j=this.SQ[N].CL.clone();j.qI(this.SQ[N].BG);e.CL=e.CL.wm(j);e.kR=Math.max(e.kR,this.SQ[N].kR);e.lineHeight=Math.max(e.lineHeight,this.SQ[N].lineHeight);
e.wo=Math.max(e.wo,this.SQ[N].wo);e.tj=Math.max(e.tj,this.SQ[N].tj)}if(R){var c=this.lineWidth(e,this.SQ,z);
e.BG.x=0;if(h==1||D&&h==4)e.BG.x=c[1]+(B-c[0]);if(h==2||D&&h==5)e.BG.x=c[1]+(B-c[0])/2;if(this.Eh.length==1)e.BG.x+=u.FirstLineIndent;
e.BG.x+=u.StartIndent}else{if(h==0)e.BG.x=u.StartIndent+u.FirstLineIndent;if(h==1)e.BG.x=-e.rect.$-u.EndIndent;
if(h==2)e.BG.x=-e.rect.$/2}if(this.Eh.length==1)e.BG.y=0;else e.BG.y=this.Eh[this.Eh.length-2].BG.y+Math.max(this.Eh[this.Eh.length-2].tj+e.wo,e.lineHeight)}for(var N=0;
N<this.Eh.length;N++){var m=this.Eh[N].rect.clone();m.qI(this.Eh[N].BG);this.rect=this.rect.wm(m);var F=this.Eh[N].CL.clone();
F.qI(this.Eh[N].BG);this.CL=this.CL.wm(F)}};HR.Bp.prototype.lineWidth=function(l,t,a){var k=0,R=0;for(var u=l.start;
u<l.end;u++)k+=t[u].rect.$;if(a==0)for(var u=l.end-1;u>=l.start;u--)if(t[u].GM||t[u].Tm)k-=t[u].rect.$;
else break;if(a==1)for(var u=l.start;u<l.end;u++)if(t[u].GM||t[u].Tm){var b=t[u].rect.$;k-=b;R-=b}else break;
return[k,R]};HR.Bp.prototype.OEQ=function(l,t,a,k,R){var u=0,b=0,v=0,H=0;for(var N=l.start;N<l.end;N++)if(t[N].GM)v++;
else{u+=t[N].rect.$;b++}if(R==0)for(var N=l.end-1;N>=l.start;N--)if(t[N].GM||t[N].Tm){if(t[N].GM){v--}}else break;
if(R==1)for(var N=l.start;N<l.end;N++)if(t[N].GM||t[N].Tm){if(t[N].GM){v--;H++}}else break;if(b<=1||v==0)return;
var z=(k-u)/v,A=-H*z;for(var N=l.start;N<l.end;N++){if(t[N].GM)a[t[N].start].rect.$=t[N].rect.$=z;t[N].BG.x=A;
A+=t[N].rect.$}};HR.OEt=function(l,t,a,k,R){this.GM=R==1&&a[k].dJ==" ";this.Tm=R==1&&a[k].dJ=="\n";this.start=k;
this.end=k+R;this.rect=new d;this.CL=new d;this.BG=new x(0,0);this.kR=0;this.lineHeight=0;this.wo=0;
this.tj=0;var u=0,b=0;if(R==0){this.lineHeight=a[k].lineHeight;this.kR=a[k].kR;this.rect=new d(0,-a[k].lineHeight,0,a[k].lineHeight)}for(var v=0;
v<R;v++){var H=a[k+v],N=[1611,1612,1614,1615,1618,1623,1624,1761,1613,1616,1622,1617,1552-1556,1625,1750-1756,1759,1760,1762,1764,1767,1768,1771,1772,1763,1770,1773,1648,1619,1620,1621].indexOf(H.dJ.charCodeAt(0))!=-1&&H.RC.kern==null&&H.RC.GPOS==null,z=1/H.RC.head.unitsPerEm*H.tO.FontSize,o=0;
if(!H.tO.AutoKerning)u+=H.tO.Kerning*2*z*H.scale.x;H.BG.x=u;if(H.RC.hmtx.aWidth[H.AP])u+=(N?0:H.RC.hmtx.aWidth[H.AP])*H.scale.x*z;
if(H.tO.AutoKerning&&v<R-1){var A=a[k+v+1].AP,Q=0;if(A!=-1){Q=Typr.U.getPairAdjustment(H.RC,H.AP,A);
if(N)H.BG.x+=H.scale.x*z*H.RC.hmtx.aWidth[A]/2}if(Q==null)Q=0;u+=H.scale.x*Q*z}var S=H.rect.clone();
S.qI(H.BG);if(H.tO.Tracking)o=H.tO.Tracking*.001*H.tO.FontSize;u+=o;if(R==1&&H.dJ==" ")S.$+=2*o;this.rect=this.rect.wm(S);
var p=H.CL.clone();p.qI(H.BG);this.CL=this.CL.wm(p);this.kR=Math.max(this.kR,H.kR);this.lineHeight=Math.max(this.lineHeight,H.lineHeight);
this.wo=Math.max(this.wo,H.wo);this.tj=Math.max(this.tj,H.tj)}};function Wz(){}Wz.FV=function(l){return JSON.parse(JSON.stringify(l))};
Wz.Ef=function(l,t){for(var a in t)l[a]=t[a]};Wz.AK=function(l,t,a){var k=Wz.OKd();if(a)Wz.Hf(k,0,0,a);
var R={N:new WM(1,0,0,1,Math.round(l),Math.round(t)),dH:k};R.Bo=Wz.eh();R.dj=$.Ha.I();R.Nu=new d;return R};
Wz.es=function(l){var t=["CharacterDirection",0];for(var a=0;a<t.length;a+=2){if(l[t[a]]!=null&&l[t[a]]!=t[a+1]){throw"e";
console.log(t[a],l[t[a]])}}if(l instanceof Array)for(var a=0;a<l.length;a++)Wz.es(l[a]);else if(l instanceof Object)for(var k in l)Wz.es(l[k])};
Wz.zc=function(l,t){if(t==null)t=l.Justification;var a=l._Direction?l._Direction:0;if(a==1){if(t==0||t==3)t++;
else if(t==1||t==4)t--}return t};Wz.BL=function(l){var t={D:0,K:0,l:0};if(l.FillColor){var a=l.FillColor,k=a.Values;
if(a.Type==1)t={D:k[1]*255,K:k[2]*255,l:k[3]*255};else if(a.Type==2){var R={classID:"CMYC",Cyn:{t:"doub",v:k[1]*100},Mgnt:{t:"doub",v:k[2]*100},Ylw:{t:"doub",v:k[3]*100},Blck:{t:"doub",v:k[4]*100}};
t=$.C.BL(R)}else console.log("Unknown color type")}return t};Wz.Sa=function(l,t){var a;if(Wz.Hj(l.dH)==1){var k=Wz.WT(l.dH);
a=new d(0,0,k[2]-k[0],k[3]-k[1])}else a=t.B_();return a};Wz.bL=function(l){var t=l[0];for(var a=0;a<l.length;
a++)t=Wz.OKl(t,l[a]);return t};Wz.OKl=function(l,t){var a={};for(var k in l)if(JSON.stringify(l[k])==JSON.stringify(t[k]))a[k]=l[k];
return a};Wz.FO=function(l,t){var a=l.kj,k=-1;for(var R=0;R<a.length;R++)if(a[R].Name==t)k=R;if(k==-1){k=a.length;
a.push({FontType:1,Name:t,Script:0,Synthetic:0})}l.Zl.Font=k};Wz.NS=function(l){return l.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
Wz.ec=function(l,t){l.EngineDict.Editor.Text=t.replace(/\n/g,"\r")};Wz.Hj=function(l){return l.EngineDict.Rendered.Shapes.Children[0].ShapeType};
Wz.fb=function(l,t){var a=l.EngineDict.Rendered.Shapes.Children[0];a.ShapeType=t;var k=a.Cookie.Photoshop;
k.ShapeType=t;k.Base.ShapeType=t;if(t==0){delete k.BoxBounds;k.PointBase=[0,0]}if(t==1){delete k.PointBase;
k.BoxBounds=[0,0,1,1]}};Wz.WT=function(l){return l.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
Wz.$I=function(l,t){l.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=t};Wz.OKk=function(l,t){return Wz.ew(l,Wz.JB(l.EngineDict.StyleRun.RunLengthArray,t).HX)};
Wz.ew=function(l,t){var a=l.ResourceDict.StyleSheetSet[0].StyleSheetData,k={};for(var R in a)k[R]=a[R];
var u=l.EngineDict.StyleRun.RunArray[t].StyleSheet.StyleSheetData;Wz.Ef(k,u);return k};Wz.BB=function(l,t){var a=l.ResourceDict.ParagraphSheetSet[0].Properties,k=Wz.FV(a),R=l.EngineDict.ParagraphRun.RunArray[t].ParagraphSheet.Properties;
Wz.Ef(k,R);return k};Wz.dW=function(l,t,a){if(a=="")return;var k=Wz.NS(l);Wz.ec(l,k.substring(0,t)+a+k.substring(t,k.length));
var R=Wz.JB(l.EngineDict.StyleRun.RunLengthArray,t-1);l.EngineDict.StyleRun.RunLengthArray[R.HX]+=a.length;
var u=l.EngineDict.ParagraphRun,b=u.RunLengthArray,v=Wz.JB(b,t),H=a.split("\n");if(H.length==1){b[v.HX]+=a.length;
return}b.splice(v.HX+1,0,b[v.HX]-(t-v.aR));u.RunArray.splice(v.HX+1,0,Wz.FV(u.RunArray[v.HX]));b[v.HX]-=b[v.HX+1];
b[v.HX]+=H[0].length+1;for(var N=1;N<H.length-1;N++){u.RunArray.splice(v.HX+N,0,Wz.FV(u.RunArray[v.HX+N-1]));
u.RunLengthArray.splice(v.HX+N,0,H[N].length+1)}b[v.HX+H.length-1]+=H[H.length-1].length};Wz.Bv=function(l,t,a){var k=Wz.NS(l);
Wz.ec(l,k.substring(0,t)+k.substring(a,k.length));Wz.et(l.EngineDict.ParagraphRun,t,a,!0);Wz.et(l.EngineDict.StyleRun,t,a,!1)};
Wz.et=function(l,t,a,k){var R=l.RunLengthArray,u=Wz.JB(R,t),b=Wz.JB(R,a),v=[];for(var H=0;H<R.length;
H++)for(var N=0;N<R[H];N++)v.push(H);v.splice(t,a-t);var z=[];for(var H=0;H<R.length;H++)z.push(0);for(var H=0;
H<v.length;H++)z[v[H]]++;for(var H=0;H<R.length;H++){if(z[H]==0){z.splice(H,1);R.splice(H,1);l.RunArray.splice(H,1);
H--}else if(z[H]<R[H])R[H]=z[H]}if(k&&u.HX!=b.HX&&u.aR!=t){R[u.HX]+=R[u.HX+1];R.splice(u.HX+1,1);l.RunArray.splice(u.HX+1,1)}};
Wz.Hf=function(l,t,a,k){var R=l.EngineDict.Editor.Text.length;if(a==R-2)a++;if(k.Zl.Font!=null)l.ResourceDict.FontSet=k.kj.slice(0);
if(t<=a)Wz.eC(l.EngineDict.StyleRun,k.Zl,t,a,!0);Wz.eC(l.EngineDict.ParagraphRun,k.SP,t,a,!1)};Wz.eC=function(l,t,a,k,R){var u=l.RunLengthArray;
if(R){var b=Wz.JB(u,a);if(b.aR!=a){var v=u[b.HX];u.splice(b.HX,0,a-b.aR);u[b.HX+1]=v-u[b.HX];l.RunArray.splice(b.HX+1,0,Wz.FV(l.RunArray[b.HX]))}var H=Wz.JB(u,k);
if(H.aR+u[H.HX]-1!=k){var v=u[H.HX];u.splice(H.HX,0,k-H.aR+1);u[H.HX+1]=v-u[H.HX];l.RunArray.splice(H.HX+1,0,Wz.FV(l.RunArray[H.HX]))}}var b=Wz.JB(u,a),H=Wz.JB(u,k);
if(R)for(var N=b.HX;N<=H.HX;N++)Wz.Ef(l.RunArray[N].StyleSheet.StyleSheetData,t);else for(var N=b.HX;
N<=H.HX;N++)Wz.Ef(l.RunArray[N].ParagraphSheet.Properties,t)};Wz.SG=function(l,t,a){var k={kj:l.ResourceDict.FontSet.slice(0),Zl:[],SP:[]},R=l.EngineDict.StyleRun.RunLengthArray,u=Wz.JB(R,t).HX,b=Wz.JB(R,a).HX;
for(var v=u;v<=b;v++){var H=Wz.FV(l.ResourceDict.StyleSheetSet[0].StyleSheetData),N=l.EngineDict.StyleRun.RunArray[v].StyleSheet.StyleSheetData;
Wz.Ef(H,N);k.Zl.push(H)}var z=l.EngineDict.ParagraphRun.RunLengthArray,A=Wz.JB(z,t).HX,Q=Wz.JB(z,a).HX;
for(var v=A;v<=Q;v++){k.SP.push(Wz.FV(l.EngineDict.ParagraphRun.RunArray[v].ParagraphSheet.Properties))}k.Zl=Wz.bL(k.Zl);
k.SP=Wz.bL(k.SP);return k};Wz.BR=function(l,t){var a,k;a=["FontSize","Leading","BaselineShift"];k=l.Zl;
for(var R=0;R<a.length;R++)if(k[a[R]]!=null)k[a[R]]*=t;a=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
k=l.SP;for(var R=0;R<a.length;R++)if(k[a[R]]!=null)k[a[R]]*=t};Wz.OK_=function(){return Wz.SG(Wz.oV,0,0)};
Wz.eh=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
Wz.JB=function(l,t){var a=0,k=0;while(a+l[k]<=t){a+=l[k];k++}return{HX:k,aR:a}};Wz.OKd=function(){var l=Wz.FV(this.oV);
return l};Wz.ev={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
Wz.OKu={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
Wz.oV={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(Wz.ev))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(Wz.ev))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(Wz.OKu))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var OV={};OV.OKB=function(l,t,a){var k={};k._98={_0:"i7"};k._0=OV.OKv(l,t,a?a._0:null);k._1=OV.O_q(l,t,k._0,a?a._1:null);
return k};OV.OKv=function(l,t,a){var k={};k._1=OV.OKN(l,a?a._1:null);k._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
k._3=JSON.parse(JSON.stringify(OV.O_M));k._4=JSON.parse(JSON.stringify(OV.O_t));k._5=OV.OKR(l,k._1._0,a?a._5:null);
k._6=OV.O_V(l,a?a._6:null);k._8=OV.O_$(l,t,a?a._8:null);k._9=OV.OVk;return k};OV.OKN=function(l,t){var a=[],k=[];
for(var R=0;R<l.length;R++){var u=l[R].ResourceDict.FontSet;for(var b=0;b<u.length;b++){var v=u[b];if(k.indexOf(v.Name)!=-1)continue;
a.push(v);k.push(v.Name)}}var H={_0:[]};for(var R=0;R<a.length;R++){var N=a[R],z={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+N.Name,_1:"i"+N.Script,_2:"i"+N.FontType}}};
if(N.Script==0)delete z._0._0._1;H._0.push(z)}return H};OV.OKR=function(l,t,a){var k={_0:[],_1:[]},R={_0:JSON.parse(JSON.stringify(OV.og))};
OV.oO(R._0,l[0].ResourceDict.StyleSheetSet[0],t,l[0].ResourceDict.FontSet);k._0.push(R);k._1.push({_0:"i0"});
k._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});k._1.push({_0:"i1"});return k};OV.O_V=function(l,t){var a={_0:[],_1:[]},k={_0:JSON.parse(JSON.stringify(OV.cn))};
OV.cz(k._0,l[0].ResourceDict.ParagraphSheetSet[0]);a._0.push(k);a._1.push({_0:"i0"});k={_0:JSON.parse(JSON.stringify(OV.cn))};
OV.cz(k._0,l[0].ResourceDict.ParagraphSheetSet[0]);k._0._0="sBasic Paragraph";k._0._6="i0";a._0.push(k);
a._1.push({_0:"i1"});return a};OV.O_$=function(l,t,a){var k={_0:[]};for(var R=0;R<l.length;R++){var u={};
k._0.push({_0:u});var b=Wz.Hj(l[R]);if(b==1){var v=Wz.WT(l[R]),H=v[2],N=v[3];u._1={_0:OV.ol("f",[0,0,0,0,H,0,H,0,H,0,H,0,H,N,H,N,H,N,H,N,0,N,0,N,0,N,0,N,0,0,0,0])}}u._2={};
u._2._0="i"+b;u._2._6=b==0?["f-1","f-1"]:["f-2","f-2"];u._2._11={_4:"i-"+(b==0?1:2),_7:!1}}return k};
OV.O_q=function(l,t,a,k){var R={};R._0=JSON.parse(JSON.stringify(OV.OVS));R._1=OV.O_s(l,t,a,k?k._1:null);
R._2=JSON.parse(JSON.stringify(OV.og._6));R._3=JSON.parse(JSON.stringify(OV.cn._5));return R};OV.O_s=function(l,t,a,k){var R=[],u=a._1._0;
for(var b=0;b<l.length;b++){var v=l[b],H={_0:{}};R.push(H);var N=k?k[b]:null;H._0._0="s"+v.EngineDict.Editor.Text;
H._0._0=H._0._0;var z={_0:[]};H._0._5=z;var A=v.EngineDict.ParagraphRun;for(var Q=0;Q<A.RunArray.length;
Q++){var S={_0:{}};z._0.push(S);S._0._0={_0:"s",_5:{},_6:"i1"};OV.cz(S._0._0,v.EngineDict.ParagraphRun.RunArray[Q].ParagraphSheet);
S._1="i"+A.RunLengthArray[Q]}var o={_0:[]};H._0._6=o;var p=N?N._0._6:null;A=v.EngineDict.StyleRun;for(var Q=0;
Q<A.RunArray.length;Q++){var O={_0:{}};o._0.push(O);var E=p?p._0:null;O._0._0={_0:"s",_5:"i1",_6:{}};
OV.oO(O._0._0,v.EngineDict.StyleRun.RunArray[Q].StyleSheet,u,v.ResourceDict.FontSet,E?O._0._0:null);
O._1="i"+A.RunLengthArray[Q]}H._0._10={_0:"i4",_2:!0};H._1=OV.view.OVX(v,null,b,null)}return R};OV.oO=function(l,t,a,k,R){l._0="s"+(t.Name?t.Name:"");
var u=l._6,b=R?R._6:null,v=t.StyleSheetData;if(v.Font==null)return;var H=k[v.Font].Name,N=-1;for(var z=0;
z<a.length;z++)if("s"+H==a[z]._0._0._0){N=z;break}u._0="i"+N;if(v.FontSize!=null)u._1="f"+v.FontSize;
if(v.FauxBold!=null)u._2=v.FauxBold;if(v.FauxItalic!=null)u._3=v.FauxItalic;if(v.AutoLeading!=null)u._4=v.AutoLeading;
if(v.Leading!=null)u._5="f"+v.Leading;if(v.HorizontalScale!=null)u._6="f"+v.HorizontalScale;if(v.VerticalScale!=null)u._7="f"+v.VerticalScale;
if(v.Tracking!=null)u._8="i"+v.Tracking;if(v.BaselineShift!=null)u._9="f"+v.BaselineShift;if(v.AutoKerning!=null)u._11="i"+(v.AutoKerning?1:0);
if(v.FontCaps!=null)u._12="i"+v.FontCaps;if(v.FontBaseline!=null)u._13="i"+v.FontBaseline;if(v.Strikethrough!=null)u._15="i"+(v.Strikethrough?1:0);
if(v.Underline!=null)u._16="i"+(v.Underline?2:0);if(v.Ligatures!=null)u._18=v.Ligatures;if(v.DLigatures!=null)u._19=v.DLigatures;
if(v.Language!=null)u._38="i"+v.Language;if(v.FillColor!=null)u._53={_99:"/SimplePaint",_0:{_0:"i1",_1:OV.ol("f",v.FillColor.Values)}}};
OV.cz=function(l,t){l._0="s"+(t.Name?t.Name:"");var a=l._5,k=t.Properties;if(k.Justification!=null)a._0="i"+k.Justification;
if(k.FirstLineIndent!=null)a._1="f"+k.FirstLineIndent;if(k.StartIndent!=null)a._2="f"+k.StartIndent;
if(k.EndtIndent!=null)a._3="f"+k.EndtIndent;if(k.SpaceBefore!=null)a._4="f"+k.SpaceBefore;if(k.SpaceAfter!=null)a._5="f"+k.SpaceAfter;
if(k.AutoHyphenate!=null)a._9=k.AutoHyphenate;if(k._Direction!=null)a._33="i"+k._Direction};OV.ol=function(l,t){var a=[];
for(var k=0;k<t.length;k++)a.push(l+t[k]);return a};OV.O_M={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
OV.O_t={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
OV.og={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
OV.cn={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
OV.OVk={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
OV.OVS={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var HL={};HL.OVf=function(l){return HL.cx(l,HL.bg)};HL.OkJ=function(l){return HL.cL(l,HL.bg)};HL.cx=function(l,t){var a;
if(typeof l=="string")return l;if(l instanceof Array){a=[];for(var k=0;k<l.length;k++)a[k]=HL.cx(l[k],t)}else{a={};
var R={};for(var u in t){var b=t[u],v="_"+b[0];if(l[v]!=null){a[u]=b[1]?HL.cx(l[v],b[1]):l[v];R[v]=!0}}for(var u in l){if(R[u]==null){console.log(R);
console.log(u,l,t);throw"e"}}}return a};HL.cL=function(l,t){var a;if(l instanceof Array){a=[];for(var k=0;
k<l.length;k++)a[k]=HL.cL(l[k],t)}else{a={};var R={};for(var u in t){var b=t[u],v="_"+b[0];if(l[u]!=null){a[v]=b[1]?HL.cL(l[u],b[1]):l[u];
R[u]=!0}}for(var u in l){if(R[u]==null){console.log(R);console.log(u,l);throw"e"}}}return a};HL.FW={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
HL.Ar={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,HL.FW],_StrokeColor:[54,HL.FW],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,HL.FW],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
HL.ok={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,HL.Ar],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
HL.ob={_Name:[0],_Features:[5,HL.ok],_Parent:[6]};HL.oz={_Name:[0],_Parent:[5],_Features:[6,HL.Ar]};
HL.bg={_98:[98,{_0:[0]}],_DocumentResources:[0,{_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,HL.oz]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,HL.ob]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_0:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,HL.ob]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,HL.oz]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,HL.Ar],_OriginalNormalParagraphFeatures:[3,HL.ok]}]};
OV.view={};OV.view.OVX=function(l,t,a,k){var R={},u=Wz.Hj(l);R._0=[{_0:"i"+a}];return R};function CSS(){}CSS.OOl=function(l){var t=l.add,a=t.vmsk,k=t.vstk,R=t.lmfx,u=t.TySh,b=[];
if(l.OY()&&a){var v=$.r.uf(a.k);if(!v.wp()){b.push("width: "+Math.round(v.$)+"px");b.push("height: "+Math.round(v.e)+"px")}var H=$.r.OkU(a.k);
if(H>0)b.push("border-radius: "+Math.round(H)+"px")}else if(u){var N=u.dH;if(Wz.Hj(N)==1){var v=Wz.WT(N);
b.push("width: "+Math.round(v[2])+"px");b.push("height: "+Math.round(v[3])+"px")}CSS.oK(b,Wz.SG(N,0,0),u.N,!1)}if(R&&R.dropShadowMulti.v.length!=0){var z=R.dropShadowMulti.v[0].v;
if(z.enab.v){var A=z.Dstn.v.val,Q=z.lagl.v.val*Math.PI/180,S=A*Math.cos(Q),o=A*Math.sin(Q);b.push("box-shadow: "+(S==0?"0 ":CSS.gJ(-S)+"px ")+(o==0?"0 ":CSS.gJ(o)+"px ")+z.blur.v.val+"px "+CSS.$C(z.Clr.v,z.Opct.v.val/100)+"")}}var p=WD.pa(R),O=p[0],E=p[1];
if(t.SoCo&&E==null||O){var L=CSS.$C((O?O:t.SoCo).Clr.v,l.add.iOpa!=null?l.add.iOpa/255:1);b.push("background-color: "+L)}else if(t.GdFl||E){var U=CSS.At(E?E:t.GdFl);
b.push("background-image: "+U)}if(k==null||!k.strokeEnabled.v)k=WD.pu(R);if(k&&k.strokeEnabled.v){var W=k.strokeStyleContent.v,Y=W.classID,y=P.BF.Rc.indexOf(k.strokeStyleLineCapType.v.strokeStyleLineCapType),C=P.BF.join.indexOf(k.strokeStyleLineJoinType.v.strokeStyleLineJoinType),X=k.strokeStyleOpacity.v.val/100,M=k.strokeStyleLineWidth.v.val,g="";
if(Y=="solidColorLayer")g=CSS.$C(W.Clr.v,X);b.push("border: "+M+"px solid "+g)}return b};CSS.OOq={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.gJ=function(l){return""+parseFloat(l.toFixed(3))};CSS._q=function(l){if(l==null)return{D:0,K:0,l:0};
if(l.slice(0,4)=="rgb("){var t=l.slice(4,l.length-1).split(",").map(parseFloat);return{D:t[0],K:t[1],l:t[2]}}if(l.charAt(0)!="#"){var a=CSS.OOq;
if(a[l])l=a[l];else console.log("unknown color "+l)}l=l.slice(1);if(l.length==3)l=l[0]+l[0]+l[1]+l[1]+l[2]+l[2];
l=parseInt(l,16);return{D:l>>16&255,K:l>>8&255,l:l&255}};CSS.$C=function(l,t){return CSS.on($.C.BL(l),t)};
CSS.on=function(l,t){if(t==null)t=1;var a=Math.round(l.D),k=Math.round(l.K),R=Math.round(l.l),u=a<<16|k<<8|R;
return t==1?"#"+$.mW(u):"rgba("+a+","+k+","+R+","+t+")"};CSS.At=function(l){var t=l.Grad.v;if(t.Clrs==null)return"";
var a=t.Clrs.v.slice(0),k=t.Trns.v.slice(0),R=l.Ofst.v,u=l.Type.v.GrdT=="Rdl"?1:0,b=(u==1?"radial":"linear")+"-gradient",v=u==0?Math.round(-l.Angl.v.val+90)+"deg":"circle at center",H=l.Rvrs.v;
if(H){a.reverse();k.reverse()}for(var N=0;N<a.length;N++){var z=a[N].v,A=N<k.length?k[N].v.Opct.v.val/100:1,Q=z.Lctn.v/4096;
if(H)Q=1-Q;v+=", "+CSS.$C(z.Clr.v,A)+" "+Math.round(Q*100)+"%"}return b+"("+v+")"};CSS.oK=function(l,t,a,k,R){var u=t.Zl,b=k?1:s.b.bd(a),v=Math.round(u.FontSize*b);
l.push("font-size: "+v+"px");var H=u.Tracking;if(H!=null&&H!=0)l.push("letter-spacing: "+Math.round(H*v/1e3)+"px");
if(!u.AutoLeading)l.push("line-height: "+Math.round(u.Leading*b)+"px");if(u.Strikethrough)l.push("text-decoration: line-through");
var N=Wz.BL(u);N=[N.D,N.K,N.l].map(Math.round);l.push((k?"fill":"color")+": #"+$.mW(N[0]<<16|N[1]<<8|N[2]));
var z=t.kj[u.Font].Name;if(z){var A=R;if(A){var Q=HA.wF.hs(z);if(Q==null||z!=HA.hY(Q))A=!1}if(A)l.push("font-family: \""+z+"\"");
else{l.push("font-family: \""+CSS.OOu(z)+"\"");var S=z.toLowerCase();if(S.indexOf("light")!=-1)l.push("font-weight: 300");
else if(S.indexOf("black")!=-1||S.indexOf("extrabold")!=-1)l.push("font-weight: 800");else if(S.indexOf("bold")!=-1)l.push("font-weight: bold");
if(S.indexOf("italic")!=-1||S.indexOf("oblique")!=-1)l.push("font-style: italic;")}}var o=t.SP.Justification;
if(o!=null&&o!=0)if(k)l.push("text-anchor: "+["start","end","middle"][o%3]);else l.push("text-align: "+["left","right","center"][o%3])};
CSS.OOu=function(l){l=l.split("-")[0];while(l.endsWith("MT")||l.endsWith("PS"))l=l.slice(0,l.length-2);
var t=!0;for(var a=0;a<l.length;a++){var k=l.charAt(a);if(!t&&k.toLowerCase()!=k){l=l.slice(0,a)+" "+l.slice(a);
a++;t=!0}else t=!1}return l};function We(){}We.wO=function(l,t){var a=acorn.parse(l),k=JSON.parse(JSON.stringify(We._m.OAw));
k.__return=!1;k.__break=!1;k.__throw=!1;We.eval(a,t,k)};We.eval=function(l,t,a){var k=l.type;if(!1){}else if(k=="Program"||k=="BlockStatement"){var R=l.body;
for(var u=0;u<R.length;u++){var b=R[u].type;if(b=="FunctionDeclaration")a[R[u].id.name]=R[u]}for(var u=0;
u<R.length;u++){var b=R[u].type,v=We.eval(R[u],t,a);if(a.__return||a.__break||a.__throw)return v}}else if(k=="ReturnStatement"){a.__return=!0;
return l.argument?We.kA(l.argument,t,a):null}else if(k=="BreakStatement"){a.__break=!0}else if(k=="VariableDeclaration"){var H=l.declarations;
for(var u=0;u<H.length;u++)We.eval(H[u],t,a)}else if(k=="VariableDeclarator"){a[l.id.name]=l.init?We.kA(l.init,t,a):null}else if(k=="FunctionDeclaration"){a[l.id.name]=l}else if(k=="MemberExpression"){var N=We.kA(l.object,t,a),z=l.computed?We.kA(l.property,t,a):We.eval(l.property,t,a),v;
if(N.ST!=null)v=We._m.PB(N,z,t,a);else v=N[z];return v}else if(k=="ArrayExpression"){var A=[],Q=l.elements;
for(var u=0;u<Q.length;u++)A.push(We.kA(Q[u],t,a));return A}else if(k=="ObjectExpression"){var A={},Q=l.properties;
for(var u=0;u<Q.length;u++){var S=Q[u],o=Q[u].key.name?Q[u].key.name:Q[u].key.value;A[o]=We.kA(Q[u].value,t,a)}return A}else if(k=="ExpressionStatement"){return We.eval(l.expression,t,a)}else if(k=="NewExpression"){var p=l.arguments,O=l.callee,E=O.type,A=null;
if(E=="Identifier")A=We._m.OOs(O.name,p,t,a);else throw"e";if(A==null)throw"e";return A}else if(k=="CallExpression"){var p=l.arguments,O=l.callee,E=O.type,L={};
for(var U in a)L[U]=a[U];var W=[];for(var u=0;u<p.length;u++)W.push(We.kA(p[u],t,a));if(E=="Identifier"){var Y=a[O.name];
if(Y){if(Y.params){var y=Y.params;for(var u=0;u<y.length;u++)L[y[u].name]=W[u];return We.eval(Y.body,t,L)}else{return Y.apply(null,W)}}else if(window[O.name]==null)console.log("Unknown function "+O.name);
else{var C=window[O.name].apply(window,W);return C}}else if(E=="MemberExpression"){var N=We.kA(O.object,t,a),z=O.computed?We.kA(O.property,t,a):We.eval(O.property,t,a);
if(N.ST!=null)return We._m.QH(N,z,W,t,a);else return N[z].apply(N,W)}else console.log(l)}else if(k=="AssignmentExpression"){var X=l.operator,M=l.left,g=M.type,n=We.kA(M,t,a),V=We.kA(l.right,t,a),v=null;
if(!1){}else if(X=="=")v=V;else if(X=="+=")v=n+V;else if(X=="-=")v=n-V;else if(X=="*=")v=n*V;else if(X=="/=")v=n/V;
else if(X=="%=")v=n%V;else if(X=="&=")v=n&V;else if(X=="|=")v=n|V;else if(X=="&&=")v=n&&V;else if(X=="||=")v=n||V;
else console.log(l);if(g=="Identifier"){var i=M.name;if(!a.hasOwnProperty(i))throw"e";a[i]=v}else if(g=="MemberExpression"){var f=We.eval(M.property,t,a),r=We.kA(M.object,t,a);
if(r.ST!=null)We._m.OAe(r,f,v,t,a);else r[f]=v}else console.log(l)}else if(k=="Identifier")return l.name;
else if(k=="Literal")return l.value;else if(k=="UpdateExpression"){var X=l.operator,e=l.argument.name,A=We.kA(l.argument,t,a);
if(!1){}else if(X=="++"){a[e]++;return l.prefix?a[e]:a[e]-1}else if(X=="--"){a[e]--;return l.prefix?a[e]:a[e]+1}else console.log(l)}else if(k=="UnaryExpression"){var X=l.operator,D=We.kA(l.argument,t,a);
if(D.ST=="UnitValue"){if(X=="-")return-D.V;else return We.om(D.V,X)}else return We.om(D,X)}else if(k=="BinaryExpression"||k=="LogicalExpression"){var X=l.operator,M=We.kA(l.left,t,a),D=We.kA(l.right,t,a);
if(M==null||D==null)return We.Ex(M,D,X);else if(M.ST=="UnitValue"&&D.ST=="UnitValue")return We.Ex(M.V,D.V,X);
else if(M.ST=="UnitValue")return We.Ex(M.V,D,X);else if(D.ST=="UnitValue"){if(X=="-")return-(M-D.V);
else return We.Ex(M,D.V,X)}else return We.Ex(M,D,X)}else if(k=="IfStatement"||k=="ConditionalExpression"){var B=We.kA(l.test,t,a);
if(B)return We.eval(l.consequent,t,a);else if(l.alternate)return We.eval(l.alternate,t,a)}else if(k=="ForInStatement"){We.eval(l.left,t,a);
var h=l.left.declarations[0].id.name,I=We.kA(l.right,t,a);for(var U in I){a[h]=U;var j=We.eval(l.body,t,a);
if(a.__break)break;if(a.__return)return j}a.__break=!1}else if(k=="ForStatement"){We.eval(l.init,t,a);
while(We.eval(l.test,t,a)){var j=We.eval(l.body,t,a);if(a.__break)break;if(a.__return)return j;We.eval(l.update,t,a)}a.__break=!1}else if(k=="DoWhileStatement"){do{var j=We.eval(l.body,t,a);
if(a.__break)break;if(a.__return)return j}while(We.eval(l.test,t,a));a.__break=!1}else if(k=="TryStatement"){We.eval(l.block,t,a);
if(a.__throw){var c=l.handler;a[c.param.name]=a.__throw;a.__throw=!1;We.eval(c.body,t,a);delete a[c.param.name]}}else console.log(l)};
We.Ex=function(l,t,a){if(a=="+")return l+t;else if(a=="-")return l-t;else if(a=="*")return l*t;else if(a=="/")return l/t;
else if(a=="%")return l%t;else if(a=="^")return l^t;else if(a=="&")return l&t;else if(a=="&&")return l&&t;
else if(a=="|")return l|t;else if(a=="||")return l||t;else if(a=="<")return l<t;else if(a==">")return l>t;
else if(a=="==")return l==t;else if(a=="<=")return l<=t;else if(a==">=")return l>=t;else if(a=="!=")return l!=t;
else if(a=="!==")return l!==t;else if(a=="<<")return l<<t;else if(a==">>")return l>>t;else console.log(a)};
We.om=function(l,t){if(t=="-")return-l;else if(t=="!")return!l;else if(t=="~")return~l;else console.log(obj)};
We.kA=function(l,t,a){var k=l.type;if(k=="Identifier")return We.OOY(l.name,t,a);else return We.eval(l,t,a)};
We.OOY=function(l,t,a){if(l=="undefined")return undefined;else if(a.hasOwnProperty(l))return a[l];else if(l=="app")return{ST:"Application"};
else if(We._m.OOw.indexOf(l)!=-1)return We._m.PB({ST:"Application"},l,t,a);else if(window[l])return window[l];
else{a[l]=null;return null}};We._m={};We._m.OOs=function(l,t,a,k){if(l=="SolidColor")return{ST:"SolidColor",V:[1,0,0,0]}};
We._m.OOw=["activeDocument","documents","fonts","preferences","displayDialogs"];We._m.PB=function(l,t,a,k){if(!1){}else if(t=="typename"){if(l.ST=="Layer")return l.V.PA()?"LayerSet":"ArtLayer";
else return l.ST}else if(["Document","Layer"].indexOf(l.ST)!=-1&&["layers","artLayers","layerSets"].indexOf(t)!=-1){var R=a.bk(),u=R.root,b={ST:"Layers",$q:t,V:[]};
if(l.ST=="Layer")u=R.root.H$(R.Q.indexOf(l.V));for(var v=0;v<u.children.length;v++){var H=u.children[v].u,N=H.PA();
if(N&&t=="artLayers"||!N&&t=="layerSets")continue;b.V.push({ST:"Layer",V:H})}b.V.reverse();return b}else if(l.ST=="Documents"||l.ST=="Layers"||l.ST=="HistoryStates"){if(!1){}else if(t=="length")return l.V.length;
else if(Number.isInteger(t))return l.V[t];else console.log(l.ST+": unknown property ",t)}else if(l.ST=="Application"){if(!1){}else if(t=="activeDocument")return{ST:"Document",V:a.bk()};
else if(t=="documents"){var b={ST:"Documents",V:[]};for(var v=0;v<a.lt.length;v++)b.V.push({ST:"Document",V:a.lt[v]});
return b}else if(t=="fonts")return{ST:"TextFonts"};else if(t=="preferences")return{ST:"Preferences"};
else if(t=="displayDialogs")return{ST:"DialogModes"};else console.log(l,t)}else if(l.ST=="Document"){var R=l.V;
if(!1){}else if(t=="activeLayer"){var H=R.Q[R._[0]];return{ST:"Layer",V:H}}else if(t=="width")return R.$;
else if(t=="height")return R.e;else if(t=="name")return R.name;else if(t=="saved")return!R.bZ();else if(t=="selection")return{ST:"Selection"};
else if(t=="activeHistoryState")return{ST:"HistoryState",AZ:R.XD};else if(t=="source")return R.tX;else if(t=="historyStates"){var z=[];
for(var v=0;v<R.history.length;v++)z.push({ST:"HistoryState",AZ:v});return{ST:"HistoryStates",V:z}}else console.log(l,t)}else if(l.ST=="Layer"){var A={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},H=l.V;
if(!1){}else if(t=="visible")return H.jY();else if(t=="grouped")return H.Nq;else if(A[t]!=null)return H.Mu(A[t]);
else if(t=="opacity")return H.opacity*100/255;else if(t=="name")return H.getName();else if(t=="textItem")return{ST:"TextItem",V:H};
else if(t=="bounds"){var R=a.bk(),Q=s.b.Sa(R,[R.Q.indexOf(H)]);return We._m.ox(Q)}else if(t=="parent"){var S=a.lt;
for(var v=0;v<S.length;v++)if(S[v].Q.indexOf(H)!=-1)return{ST:"Document",V:S[v]}}else if(t=="kind"){var o=We._m.Eo;
for(var v=0;v<o.length;v++)if(H.add[o[v]]!=null)return v;return 0}else console.log(l,t)}else if(l.ST=="Selection"){if(!1){}else if(t=="bounds")return We._m.ox(a.bk().O.rect);
else console.log(l,t)}else if(l.ST=="TextItem"){var p=l.V.add.TySh,O=p.dH,E=Wz.NS(O),L=Wz.SG(O,0,Math.max(0,E.length-2));
if(t=="contents")return E.slice(0,E.length-1);else if(t=="font")return L.Zl.Font!=null?L.kj[L.Zl.Font].Name:null;
else if(t=="size")return{ST:"UnitValue",V:L.Zl.FontSize};else if(t=="tracking")return{ST:"UnitValue",V:L.Zl.Tracking};
else if(t=="kind")return 1-Wz.Hj(O);else if(t=="color")return{ST:"SolidColor",V:L.Zl.FillColor.Values.slice(0)};
else if(t=="width"||t=="height"){var U=Wz.WT(O),W=U[2]-U[0],Y=U[3]-U[1];return t=="width"?W:Y}else if(t=="horizontalScale"||t=="verticalScale"){var y=p.N.clone(),C=Math.atan2(-y.l,y.w),X=new WM;
X.rotate(-C);y.concat(X);var M=t=="horizontalScale"?y.w:y.N_;return M*100}else console.log(l,t)}else if(l.ST=="Preferences"){if(t=="rulerUnits")return 5;
else console.log(l,t)}else if(l.ST=="SolidColor"){if(t=="rgb")return{ST:"RGBColor",V:l.V};else console.log(l,t)}else if(l.ST=="RGBColor"){if(!1){}else if(t=="red")return Math.round(255*l.V[1]);
else if(t=="green")return Math.round(255*l.V[2]);else if(t=="blue")return Math.round(255*l.V[3]);else console.log(l,t)}else if(l.ST=="UnitValue"){if(t=="value")return l.V;
else throw"e"}else console.log(l,t)};We._m.ox=function(l){return We._m.OOt([l.x,l.y,l.x+l.$,l.y+l.e])};
We._m.OOt=function(l){var t=[];for(var a=0;a<l.length;a++)t.push({ST:"UnitValue",V:l[a]});return t};
We._m.OAd=function(l){var t=[];for(var a=0;a<l.length;a++)t.push(l[a].ST?l[a].V:l[a]);return t};We._m.OAe=function(l,t,a,k,R){var u=new Z(w.E.q,!0),b=new Z(w.E.J,!0),v=k.bk();
if(!1){}else if(l.ST=="Application"){if(!1){}else if(t=="activeDocument"){b.data={T:w.h.lT,NY:a.V};k.t(b)}else if(t=="displayDialogs"){}else console.log(l,t,a)}else if(l.ST=="Document"){if(!1){}else if(t=="name"){u.P=s.sO;
u.data={T:_.zy,V:a,OWy:!0}}else if(t=="source")v.tX=a;else if(t=="activeLayer"){v._=[v.Q.indexOf(a.V)]}else if(t=="activeHistoryState"){u.P=s.nb;
u.data={T:"h_itemchange",index:a.AZ}}else console.log(l,t)}else if(l.ST=="Layer"){u.P=s.sO;var H={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},N=l.V,z=v.Q.indexOf(N);
if(!1){}else if(t=="visible"){if(N.jY()!=a)u.data={T:_.ul,u:z}}else if(t=="opacity"){u.data={T:_.dn,u:z,sQ:Math.round(255*a/100)}}else if(t=="name"){u.data={T:_.zl,u:z,name:a}}else if(H[t]!=null){u.data={T:_.bU,u:z,sQ:[[a],[H[t]]]}}else if(t=="kind"){u.data={T:_.Pw,u:z,fS:We._m.Eo[a]}}else if(t=="grouped"){u.data={T:_.Ou,u:z,sQ:a}}else console.log(l,t,a)}else if(l.ST=="TextItem"){u.P=s.E_;
var N=l.V,A=N.add.TySh,Q=JSON.parse(JSON.stringify(A.dH)),S=A.N.clone(),o=Wz.NS(Q),p=Wz.SG(Q,0,o.length-2),O=!1;
if(!1){}else if(t=="contents"){Wz.Bv(Q,0,o.length-1);Wz.dW(Q,0,a)}else if(t=="size"){p.Zl.FontSize=a.V!=null?a.V:a;
O=!0}else if(t=="tracking"){p.Zl.Tracking=a.V!=null?a.V:a;O=!0}else if(t=="kind"){if(Wz.Hj(Q)==1&&a==1){var E=new HR(Q,k.sl.jF).SP[0],L=E.Eh[0].end,U=E.SQ[L-1].end;
Wz.Bv(Q,0,o.length-1);Wz.dW(Q,0,o.slice(0,U-1))}Wz.fb(Q,1-a)}else if(t=="font"){Wz.FO(p,a);O=!0}else if(t=="color"){p.Zl.FillColor.Values=a.V.slice(0);
O=!0}else if(t=="width"||t=="height"){var W=Wz.WT(Q).slice(0);if(t=="width")W[2]=Math.round(W[0]+a);
else W[3]=Math.round(W[1]+a);Wz.$I(Q,W)}else if(t=="horizontalScale"||t=="verticalScale"){var Y=1,y=1;
if(t=="horizontalScale")Y=a/100;else y=a/100;var C=new WM;C.scale(Y,y);C.concat(S);S=C}else console.log(l,t,a);
if(O)Wz.Hf(Q,0,o.length-1,p);u.data={T:"newED",zs:v.Q.indexOf(N),nD:Q,N:S}}else if(l.ST=="Preferences"){if(!1){}else if(t=="rulerUnits"){if(a!=5)console.log("only pixel units supported")}else console.log(l,t,a)}else if(l.ST=="RGBColor"){if(!1){}else if(t=="red")l.V[1]=a/255;
else if(t=="green")l.V[2]=a/255;else if(t=="blue")l.V[3]=a/255;else console.log(l,t)}else console.log(l,t,a);
if(u.data!=null)k.t(u)};We._m.QH=function(l,t,a,k,R){var u=l.ST,b=null,v=new Z(w.E.q,!0),H=new Z(w.E.J,!0),N=k.bk(),z=k.lt;
if(!1){}else if(u=="Application"){if(!1){}else if(t=="open"){H.data={T:w.h.HJ,wd:{url:a[0]}};if(a[2]&&z.length!=0)H.data.wd.Tc=z.indexOf(N)}else if(t=="echoToOE"){if(window.parent!=window)window.parent.postMessage(a[0],"*")}}else if(u=="Document"){var N=l.V;
if(!1){}else if(t=="save"){H.data={T:w.h.xF}}else if(t=="saveToOE"){H.data={T:w.h.xF,qb:a}}else if(t=="resizeImage"||t=="resizeCanvas"){var A=a[0],Q=a[1];
if(typeof A!="number"){A=N.$*parseFloat(A.slice(0,A.length-1))/100;Q=N.e*parseFloat(Q.slice(0,Q.length-1))/100}v.data={T:t=="resizeImage"?"imgsize":"canvsize",qL:Math.round(A),qB:Math.round(Q),ye:a[2]};
v.P=s.MQ}else if(t=="paste"){var S=a[0];if(S==null)S=!1;H.data={T:w.h.EN}}else if(t=="close"){H.data={T:w.h.yI,aO:N}}else console.log(l,t,a)}else if(u=="Layer"){var o=l.V,p=N.Q.indexOf(o);
if(!1){}else if(t=="copy"){We._m.zt(N,k,0);H.data={T:w.h.xZ,$_:a[0],jw:p};k.t(H);delete H.data;We._m.zt(N,k,1)}else if(t=="clear"){We._m.zt(N,k,0);
v.data={T:"clear",jw:p};v.P=s._a;k.t(v);delete v.data;We._m.zt(N,k,1)}else if(t=="duplicate"){if(a.length==0){v.data={T:_.OT,u:p};
v.P=s.sO;b={ST:"Layer",V:N.Q[N._[0]]}}else if(a[0].ST=="Document"){v.data={T:_.bs,Q:N.bT(p),Tr:N,fn:a[0].V};
v.P=s.sO}}else if(t=="convertToSO"){v.data={T:_.ih,u:p};v.P=s.sO;b={ST:"Layer",V:N.Q[N._[0]]}}else if(t=="merge"||t=="remove"){v.data={T:t=="merge"?_.fL:_.Gu,u:p};
v.P=s.sO;if(t!="remove")b={ST:"Layer",V:N.Q[N._[0]]}}else if(t=="move"){v.data={T:_.dF,source:p,target:N.Q.indexOf(a[0].V),gB:a[1]!=3?.6:.3};
v.P=s.sO}else if(t=="rotate"){v.data={T:"rot",ER:[2,5],V:-a[0]*Math.PI/180,ye:a[1],u:p};v.P=s.Yc}else if(t=="resize"){v.data={T:"scl",ER:[2,4],V:new x(a[0]/100,a[1]/100),ye:a[2],u:p};
v.P=s.Yc}else if(t=="translate"){var O=We._m.OAd(a);v.data={T:"trsl",u:p,OAJ:O[0],OAo:O[1]};v.P=s.lM}else console.log(l,t,a)}else if(u=="Documents"){if(t=="getByName"){for(var E=0;
E<z.length;E++)if(z[E].name==a[0])return{ST:"Document",V:z[E]};return null}else throw"e"}else if(u=="Layers"){if(t=="getByName"){for(var E=0;
E<l.V.length;E++)if(l.V[E].V.getName()==a[0]){b=l.V[E];break}if(b==null)R.__throw={message:"No layer with a name "+a[0]}}else if(t=="add"){v.data={T:l.$q=="layerSets"?_.kW:_.bv};
v.P=s.sO;k.t(v);v.data=null;b={ST:"Layer",V:N.Q[N._[0]]}}else console.log(l,t,a)}else if(l.ST=="Selection"){v.P=s.qw;
if(t=="select"){var L=a[0],U={A:["M"],p:[L[0][0],L[0][1]]};for(var E=1;E<L.length;E++){U.A.push("L");
U.p.push(L[E][0],L[E][1])}v.data={T:"polygon",ER:"Select area",TB:U}}else if(t=="copy"){H.data={T:w.h.xZ}}else if(t=="deselect"){v.data={T:"deselect"}}else console.log(l,t,a)}else console.log(l,t,a);
if(v.data)k.t(v);if(H.data)k.t(H);return b};We._m.zt=function(l,t,a){var k=new Z(w.E.q,!0);k.P=s.qw;
if(a==0){We._m.oZ=l.O;k.data={T:"all"}}else{var R=We._m.oZ;if(R)k.data={T:"setsel",ER:"Restore Selection",O:{rect:R.rect.clone(),channel:R.channel.slice(0)}};
else k.data={T:"deselect"}}t.t(k)};We._m.oZ=null;We._m.OAw={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{CM:0,INCHES:1,MM:2,PERCENT:3,PICAS:4,PIXELS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2}};
We._m.Eo="---- SoLd TySh SoCo GdFl PtFl".split(" ");var w={};w.oj=0;w.x_=function(){w.oj++;return w.oj};
w.OAt="uint8";w.X=function(l,t){var a=document.createElement(l);if(t!=null)a.setAttribute("class",t);
return a};w.BT=function(l){while(l.firstChild)l.removeChild(l.firstChild)};w.jI=function(l,t){var a=l.getAttribute("class").split(" ");
if(a.indexOf(t)==-1)a.push(t);l.setAttribute("class",a.join(" "))};w.ls=function(l,t){var a=l.getAttribute("class");
if(a==null)return;a=a.split(" ");if(a.indexOf(t)!=-1)a.splice(a.indexOf(t),1);l.setAttribute("class",a.join(" "))};
w.Ev=function(l){while(!0){if(l==document)return!0;if(l==null)return!1;l=l.parentNode}};w.sv=document;
w.mO=function(l){var t=0;for(var a=0;a<l;a++)t+=Math.random();return t/l<Math.PI/4};w.RW=function(l,t){var a="";
if(!w.mO(29))t-=4;for(var k=0;k<l.length;k++)a+=String.fromCharCode(l.charCodeAt(k)-t-k);return a};w.mD=function(l,t){var a="";
if(!w.mO(29))t+=4;for(var k=0;k<l.length;k++)a+=String.fromCharCode(l.charCodeAt(k)+t+k);return a};w.wA=function(l,t){var a="";
if(!w.mO(29))t+=3;for(var k=0;k<l.length;k++)a+=String.fromCharCode((256<<16)+l.charCodeAt(k)+t*k&255);
return a};w.YM=function(l){var t=Math.random();w.OAt="uint"+(3+t);return new l};w.oG=0;w.oa=function(l,t){var a=0;
if(Date.now()-w.oG>1e3){a=t==0?100:t*10}else{if(l%10!=0)l*=10;a=(l+t)%100}w.oG=Date.now();return a};
w.Ox=function(l,t){if(window.PointerEvent){l.addEventListener("pointerdown",t,!1);return}l.addEventListener("mousedown",t,!1);
l.addEventListener("touchstart",t,!1)};w.iZ=function(l,t){if(window.PointerEvent){l.addEventListener("pointermove",t,!1);
return}l.addEventListener("mousemove",t,!1);l.addEventListener("touchmove",t,!1)};w.Pe=function(l,t){if(window.PointerEvent){l.addEventListener("pointerup",t,!1);
return}l.addEventListener("mouseup",t,!1);l.addEventListener("touchend",t,!1)};w.ObV=function(l,t){if(window.PointerEvent){l.removeEventListener("pointerdown",t,!1);
return}l.removeEventListener("mousedown",t,!1);l.removeEventListener("touchstart",t,!1)};w.QU=function(l,t){if(window.PointerEvent){l.removeEventListener("pointermove",t,!1);
return}l.removeEventListener("mousemove",t,!1);l.removeEventListener("touchmove",t,!1)};w.MH=function(l,t){if(window.PointerEvent){l.removeEventListener("pointerup",t,!1);
return}l.removeEventListener("mouseup",t,!1);l.removeEventListener("touchend",t,!1)};w.mM=function(l){l.addEventListener("touchstart",w.sZ,!1);
l.addEventListener("touchmove",w.sZ,!1);l.addEventListener("touchend",w.sZ,!1)};w.IF=function(l,t,a,k){var R=w.m();
l.width=Math.floor(t*R);l.height=Math.floor(a*R);l.style.width=l.width/R+"px";l.style.height=l.height/R+"px";
if(k)k.setTransform(R,0,0,R,0,0)};w.lA=function(l,t,a){l.setAttribute("style","width:"+t/w.m()+"px; height:"+a/w.m()+"px")};
w.LV=function(l,t){if(t==null)t=l.currentTarget;var a=t.getBoundingClientRect();if(l.touches)l=l.touches.item(0);
return{x:l.clientX-a.left,y:l.clientY-a.top}};w.m=function(l){return window.devicePixelRatio||1};w.sZ=function(l){l.preventDefault()};
w.zh=function(l){var t=64/w.m(),a=64*w.m();return"url("+l+") "+64+" "+64+", auto; cursor: -webkit-image-set( url("+l+") "+w.m()+"x  ) "+t+" "+t+", auto;"};
w.WL=function(l,t,a){a=a?a:"";if(PIMG["__"+l]==null)a+=" gsicon";return"<img src=\""+PIMG[l]+"\" alt=\""+(t?t:"")+"\" class=\""+a+"\" />"};
w.oY=function(l,t,a,k){var R=l.dataTransfer.getData("text/uri-list");if(R!=null&&R.startsWith("http")){var u=new Z(w.E.J,!0);
u.data={T:w.h.HJ,wd:{url:R,ft:!0,Tc:a,TF:k}};t.t(u)}if(l.dataTransfer.files.length==0)return;var u=new Z(w.E.J,!0);
u.data={T:w.h.ow,data:l.dataTransfer.files,Tc:a,TF:k};t.t(u)};var Z=function(l,t){if(!t)t=!1;this.type=l;
this.target=null;this.currentTarget=null;this.bubbles=t;this.P=null;this.dk=!1};w.E={q:"0",J:"1",z:"2",sD:"3",os:"4",xx:"5"};
w.h={wW:"10",_e:"11",zN:"12",wH:"13",gV:"14",oQ:"14.1",HJ:"15",sX:"16",wn:"17",oe:"18",xF:"19",oo:"20",wE:"21",xZ:"22",EN:"23",K$:"24",AG:"25",Sj:"26",lT:"27",w_:"28",op:"28.5",oc:"29",ow:"30",iA:"31",ot:"32",rx:"33",kq:"34",kn:"35",Kn:"37",yO:"38",yA:"39",yl:"40",MV:"41",yg:"42",Sp:"43",yI:"44",yP:"45",yz:"46"};
var HN={};HN.yS=function(l){var t=HN.DE[l],a=document.documentElement.style,R=20;a.setProperty("--bg-color","#"+$.mW(t["--bg-color"]));
a.setProperty("--bg-panel","#"+$.mW(t["--bg-panel"]));a.setProperty("--bg-canvas","#"+$.mW(t["--bg-canvas"]));
a.setProperty("--bg-input","#"+$.mW(t["--bg-input"]));a.setProperty("--bg-bbtn","#"+$.mW(t["--bg-bbtn"]));
a.setProperty("--bg-bbtnOver","#"+$.mW(t["--bg-bbtnOver"]));a.setProperty("--brdr","#"+$.mW(t["--brdr"]));
a.setProperty("--text-color","#"+$.mW(t["--text-color"]));a.setProperty("--brdrLgt","rgba(255,255,255,"+t["--brdrLgt"]+")");
a.setProperty("--brdrDrk","rgba(  0,  0,  0,"+t["--brdrDrk"]+")");a.setProperty("--alphaDark",""+t["--alphaDark"]);
a.setProperty("--gs-invert",""+t["--gs-invert"]);var k=t["--sh-clr"];a.setProperty("--sh-clr","rgba("+(k>>16)+","+(k>>8&255)+","+(k&255)+", 0.45)");
a.setProperty("--sh-dy",""+t["--sh-dy"]+"px");if(1<w.m()&&w.m()<1.5)R/=w.m();a.setProperty("--img20",R+"px");
var u="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape".split(" ");
for(var l=0;l<u.length;l++){var b=u[l],v=b.split("/").pop(),H=PIMG["__"+b]==null?t["--gs-invert"]:"0";
a.setProperty("--icon_"+v,"url("+PIMG[b]+")");a.setProperty("--icon_"+v+"_invrt",H)}};HN.DE=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function WF(){OF.call(this);this.parent=null;this.W=null;this.wa=0;this.Ii=0}WF.prototype=new OF;WF.prototype.O$A=function(l){var t=this;
while(t!=null){if(t==l)return!0;t=t.parent}return!1};WF.prototype.wj=function(){var l=this.W;return l.offsetWidth+l.clientLeft};
WF.prototype.Ku=function(){var l=this.W;return l.offsetHeight+l.clientTop};WF.prototype.update=function(l){};
WF.prototype.t=function(l){OF.prototype.t.call(this,l);if(l.bubbles&&this.parent!=null)this.parent.t(l)};
WF.prototype.ObE=function(l){l.stopPropagation();l.preventDefault()};WF.prototype.G=function(){};WF.prototype.fW=function(l){w.ls(this.W,"disabled")};
WF.prototype.Jf=function(l){w.jI(this.W,"disabled")};WF.prototype.jP=function(l){if(l)this.fW();else this.Jf()};
function HY(l){WF.call(this);this.dO=null;this.Ol$=this.GW.bind(this);this.OlP=this.wL.bind(this);this.Olk=this.O$b.bind(this);
this.Olf=this.yf.bind(this);this.TB=[];this.sz=[];this.IN=[];this.qj=[];this.W=w.X("div","contextpanel");
this.W.addEventListener("contextmenu",w.sZ,!1);this.Cw=null;this.IR=0;this.OlG=l;this.hg=[];for(var t=0;
t<l.length;t++){var a=w.X("div","enab");this.sz.push(a);this.W.appendChild(a);if(l[t].Ht){var k=w.X("img","thumb");
k.setAttribute("src",PIMG[l[t].Ht]);a.appendChild(k)}else{var R=w.X("span","check");this.qj.push(R);
a.appendChild(R)}var u=w.X("span","label");u.innerHTML=typeof l[t].name=="string"?l[t].name:Wq.get(l[t].name);
a.appendChild(u);this.IN.push(u);if(l[t].title)a.title=l[t].title;if(l[t].Cc)this.W.appendChild(w.X("hr"));
if(l[t].Cu||l[t].sub){var b=w.X("span","right");a.appendChild(b);if(l[t].Cu)b.innerHTML=l[t].Cu;if(l[t].sub)b.innerHTML="\u25B6"}a.addEventListener("click",this.Ol$,!1);
a.addEventListener("mouseover",this.OlP,!0);a.addEventListener("mouseout",this.Olk,!0);if(l[t].sub){var v=new HY(l[t].sub);
v.parent=this;this.hg.push(v);v.a("select",this.O$u,this)}else this.hg.push(null)}}HY.prototype=new WF;
HY.prototype.yE=function(l){w.BT(this.W);for(var t=0;t<l.length;t++)if(l[t]!=0&&l[t]!=null){this.W.appendChild(this.sz[t]);
if(l[t]!=1&&this.hg[t])this.hg[t].yE(l[t])}};HY.prototype.G=function(){var l=this.OlG;for(var t=0;t<l.length;
t++)this.IN[t].innerHTML=(typeof l[t].name=="string"?l[t].name:Wq.get(l[t].name))+(l[t]._T?"...":"");
for(var t=0;t<this.hg.length;t++)if(this.hg[t])this.hg[t].G()};HY.prototype.update=function(l,t,a){for(var k=0;
k<t.length;k++){if(t[k].v){var R=t[k].v(l,a,k);if(R.v!=null)this.sz[k].setAttribute("class",R.v?"enab":"disab");
if(R.mB!=null)this.IN[k].textContent=R.mB;if(R.rV!=null)this.qj[k].textContent=R.rV?"\u2713":""}}for(var k=0;
k<this.hg.length;k++)if(this.hg[k])this.hg[k].update(l,t[k].sub,a)};HY.prototype.Mf=function(){return this.TB};
HY.prototype.GW=function(l){if(l.button!=0)return;var t=this.sz.indexOf(l.currentTarget);if(this.hg[t]){this.IR=t;
this.yf()}else{this.dO=null;this.TB=[t];this.t(new Z("select",!1));var a=new Z(w.E.J,!0);a.data={T:w.h.wH};
this.t(a)}};HY.prototype.wL=function(l){var t=this.sz.indexOf(l.currentTarget);if(this.Cw){clearTimeout(this.Cw);
this.Cw=null}if(this.hg[t]==null)return;this.IR=t;this.Cw=setTimeout(this.Olf,300)};HY.prototype.O$b=function(l){var t=this.sz.indexOf(l.currentTarget);
if(this.Cw){clearTimeout(this.Cw);this.Cw=null}};HY.prototype.yf=function(){if(this.Cw){clearTimeout(this.Cw);
this.Cw=null}var l=this.IR;if(this.dO)this.dO.yd();this.dO=this.hg[l];var t=this.sz[l].getBoundingClientRect(),a=new Z(w.E.J,!0);
a.data={T:w.h._e,jn:this.hg[l],x:t.left+t.width+2,y:t.top};this.t(a)};HY.prototype.yd=function(){for(var l=0;
l<this.hg.length;l++)if(this.hg[l])this.hg[l].yd();var t=new Z(w.E.J,!0);t.data={T:w.h.zN,jn:this};this.t(t)};
HY.prototype.O$u=function(l){var t=this.hg.indexOf(l.target);this.TB=[t].concat(l.target.Mf());this.t(new Z("select",!1))};
function lS(l,t,a,k,R,u,b){WF.call(this);this.W=w.X("span","fitem");var v=w.x_();this.ru=l;this.CG=t;
this.TJ=a;this.iV=null;if(k instanceof Array){this.iV=k;k=k[0]}this.iW=k;this.Tt=R;this.Oly=u;this.dl=b;
this.ui=0;this.lh=w.X("label","flabel");this.lh.innerHTML=l;this.lh.setAttribute("for",v);this.lh.setAttribute("style","cursor:col-resize;");
this.FR=w.X("input","");this.FR.setAttribute("type","range");if(b){this.FR.min=0;this.FR.max=400}else{this.FR.min=t;
this.FR.max=a;if(R!=0)this.FR.step=(a-t)/200}this.Ne=w.X("input","");this.Ne.setAttribute("type","text");
this.Ne.setAttribute("id",v);this._i=w.X("span","");this._i.innerHTML=k;this.Ne.addEventListener("change",this.kt.bind(this),!1);
this.Ne.addEventListener("keydown",this.wJ.bind(this),!1);this.Ne.addEventListener("wheel",this.KL.bind(this),!1);
this.FR.addEventListener("input",this.kt.bind(this),!1);this.FR.addEventListener("click",this.OWI.bind(this),!1);
this.OgA=this.OWT.bind(this);this.Gd=this.OWN.bind(this);this.GG=this.OHH.bind(this);this.dg=0;this.dP=0;
w.Ox(this.lh,this.OgA)}lS.prototype=new WF;lS.prototype.ym=function(l){this.Tt=l};lS.prototype.Pa=function(l){this.lh.textContent=l};
lS.prototype.G=function(){var l=typeof this.ru=="string"?this.ru:Wq.get(this.ru);this.lh.textContent=l+":"};
lS.prototype.g=function(l){var t=this.CG==this.TJ;if(!t)l=Math.max(this.CG,l);if(this.Tt==0)l=Math.round(l);
var a=this.iW;this.Ne.value=(this.Tt!=0?l.toFixed(this.Tt):l)+(this.Oly&&a?(a.toLowerCase()==a.toUpperCase()?"":" ")+a:"");
var k=400*Math.pow((l-this.CG)/(this.TJ-this.CG),1/2.7);this.FR.value=this.dl?k:l};lS.prototype.d=function(){return parseFloat(this.Ne.value)};
lS.prototype.xT=function(){return this.iW};lS.prototype.kt=function(l){var t=0;if(l.currentTarget==this.Ne){var a=l.target.value,k=0;
while(k<a.length&&(a.charAt(k)=="."||48<=a.charCodeAt(k)&&a.charCodeAt(k)<=57))k++;t=parseFloat(a);var R=a.slice(k).trim();
if(this.iV&&this.iV.indexOf(R)!=-1)this.iW=R}else{if(Date.now()-this.ui<10)return;t=l.target.value;if(this.dl)t=this.CG+Math.pow(t/400,2.7)*(this.TJ-this.CG)}this.g(t);
this.Yu()};lS.prototype.Yu=function(){this.t(new Z(w.E.z))};lS.prototype.wJ=function(l){var t=0;if(J.uS(l.code,J.oi))t=1;
if(J.uS(l.code,J.oU))t=-1;if(t!=0)this.yF(t,l.shiftKey)};lS.prototype.KL=function(l){this.yF(l.deltaY>0?-1:1,l.shiftKey)};
lS.prototype.yF=function(l,t){var a=this.d(),k=this.Tt,R=l*(k==null||k==0||a>5?1:.1);if(t)R*=10;var u=a+R;
if(!this.dl&&this.TJ!=this.CG)u=Math.min(this.TJ,u);this.g(u);this.Yu()};lS.prototype.OWI=function(l){var t=Date.now()-this.ui;
this.ui=Date.now();if(t>300)return;var a=(this.TJ+this.CG)/2;if(this.CG<0&&this.TJ>0)a=0;else if(this.CG<1&&this.TJ>1&&this.TJ<10)a=1;
this.g(a);this.Yu()};lS.prototype.OWT=function(l){w.iZ(document,this.Gd);w.Pe(document,this.GG);this.dg=w.LV(l,document.body).x;
this.dP=this.d()};lS.prototype.OWN=function(l){var t=this.CG==this.TJ,a=w.LV(l,document.body).x,k=(a-this.dg)*(t?1:1/120*(this.TJ-this.CG)),R=this.dP+k;
if(t)R=Math.round(R);if(!t){if(!0){R=Math.max(this.CG,R);if(R==this.CG){this.dg=a;this.dP=this.CG}}if(!this.dl){R=Math.min(this.TJ,R);
if(R==this.TJ){this.dg=a;this.dP=this.TJ}}}this.g(R);this.Yu()};lS.prototype.OHH=function(l){w.QU(document,this.Gd);
w.MH(document,this.GG)};function Ao(l,t){WF.call(this);this.BD=[];this.Sx=-1;this.Og_=l;if(t){this.Cb=[{name:[5,4]}];
this.cl=new HY(this.Cb);this.cl.parent=this;this.cl.a("select",this.wR,this)}this.W=w.X("div","imageset scrollable");
this.W.addEventListener("contextmenu",w.sZ,!1)}Ao.prototype=new WF;Ao.prototype.G=function(){if(this.cl)this.cl.G()};
Ao.prototype.wR=function(l){this.t(new Z("del"))};Ao.prototype.jr=function(l,t,a,k){this.BD=[];this.W.innerHTML="";
for(var R=0;R<l.length;R++){var u=w.X("img","image");if(a)w.lA(u,a,k);if(this.Og_)w.jI(u,"gsicon");var b=l[R];
u.setAttribute("src",b);if(t)u.setAttribute("title",t[R]);u.addEventListener("mousedown",this.xs.bind(this),!1);
this.W.appendChild(u);this.BD.push(u)}};Ao.prototype.xs=function(l){this.Sx=this.BD.indexOf(l.target);
if(l.button==0)this.t(new Z(w.E.z));if(l.button==2&&this.cl){var t=this.cl;t.update(null,this.Cb);var a=w.LV(l,document.body),k=new Z(w.E.J,!0);
k.data={T:w.h._e,jn:t,x:a.x,y:a.y+2};this.t(k)}};Ao.prototype.d=function(){return this.Sx};Ao.prototype.KJ=function(l){for(var t=0;
t<this.BD.length;t++){var a=this.BD[t];if(t==l)w.jI(a,"active");else w.ls(a,"active")}};function lO(l,t,a,k,R,u,b){WF.call(this);
this.W=w.X("span","fitem "+a);this.NN=new WF;this.NN.W=w.X("div","floatcont");this.NN.W.setAttribute("style","width: "+(k+1.5)+"em;");
this.NN.parent=this;this.iH=w.X("div");this.NN.W.appendChild(this.iH);this.dS=w.X("div");this.NN.W.appendChild(this.dS);
if(l){this.ru=l;this.lh=w.X("label","flabel");this.W.appendChild(this.lh)}this.T=w.X("button",b?"nopadding":"");
this.T.setAttribute("style","position:relative;");this.T.addEventListener("click",(t?this.wt:this.mQ).bind(this),!1);
this.W.appendChild(this.T);this.RH=w.X("img",b?"gsicon":"");this.T.appendChild(this.RH);if(t){var v=w.X("button");
v.textContent="\u25BC";v.addEventListener("click",this.mQ.bind(this),!1);this.W.appendChild(v)}else{var H=w.X("span");
H.textContent="\u25BC";H.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.T.appendChild(H)}var N=w.X("span");
this.dS.appendChild(N);N.setAttribute("style","display:inline-block;  vertical-align:top; width:"+k+"em;");
this.Rg=new Ao(b,!0);N.appendChild(this.Rg.W);this.Rg.parent=this.NN;this.Rg.a(w.E.z,this.OHe,this);
this.Rg.a("del",this.OlO,this);this.Rg.W.style.height=R+"em";this.ig=w.X("button");this.ig.textContent="\u25BC";
this.ig.addEventListener("click",this.Oli.bind(this),!1);this.dS.appendChild(this.ig);var z=u!=Wm.KI&&u!=Wm.Tk?u:null,A=u==null?"":Wm.NL[u][0].toUpperCase();
this.Cb=z?[{name:[12,87]}]:[];this.Cb=this.Cb.concat([{name:"",v:function(Q){return{mB:Wq.get([1,0])+" ."+A}}},{name:"",v:function(Q){return{mB:Wq.get([1,8])+" ."+A}}}]);
this.cl=new HY(this.Cb);this.cl.parent=this.NN;this.cl.a("select",this.wR,this);this.Ga=u;this.uR=z;
this.pJ=null;this.Gp=!0;this.Bs=null}lO.prototype=new WF;lO.prototype.OHe=function(l){this.Mq(l);this.Rg.KJ(this.Rg.d())};
lO.prototype.OlO=function(l){var t=new Z(w.E.J,!0);t.data={T:w.h.kn,wT:"del",wd:this.Ga,jz:[this.Rg.d()]};
this.t(t)};lO.prototype.wt=function(){};lO.prototype.G=function(){this.cl.G();this.Rg.G();var l=this.ru;
if(l==null)return;var t=typeof l=="string"?l:Wq.get(l);this.lh.textContent=t+":"};lO.prototype.Pa=function(l){this.lh.textContent=l};
lO.prototype.Sy=function(l){this.pJ=l;this.Gp=!0};lO.prototype.wR=function(l){var t=l.target.Mf()[0];
if(this.uR==null)t++;var a=new Z(w.E.J,!0);if(t==0)a.data={T:w.h.kn,wT:"add",wd:this.uR,hS:this.yZ()};
if(t==1)a.data={T:w.h.sX};if(t==2)a.data={T:w.h.yz,Ogr:this.Ga};this.t(a)};lO.prototype.yZ=function(){return[this.d()]};
lO.prototype.Oli=function(l){var t=this.cl,a=this.Cb;t.update(null,a);var k=l.currentTarget.getBoundingClientRect(),R=new Z(w.E.J,!0);
R.data={T:w.h._e,jn:t,x:k.left,y:k.top+k.height};this.t(R)};lO.prototype.mQ=function(l){this.xU();var t=this.T.getBoundingClientRect(),a=new Z(w.E.J,!0);
a.data={T:w.h._e,jn:this.NN,x:t.left,y:t.top+t.height,Yt:!0};this.t(a)};function AZ(l){WF.call(this);
this.aQ=0;this.alt=0;var t="ai"+w.x_();this.W=w.X("span","fitem angleinput");if(l){this.lh=w.X("label","flabel");
this.ru=l;this.W.appendChild(this.lh);this.lh.setAttribute("for",t)}this.mu=20;this.Ot=w.X("canvas","gsicon");
this.Aa=this.Ot.getContext("2d");w.IF(this.Ot,this.mu*2+1,this.mu*2+1,this.Aa);this.W.appendChild(this.Ot);
w.Ox(this.Ot,this.mv.bind(this));this._X=this.MD.bind(this);this.rl=this.mN.bind(this);this.Ne=w.X("input","");
this.Ne.setAttribute("type","text");this.W.appendChild(this.Ne);this.Ne.setAttribute("id",t);this.Ne.addEventListener("change",this.kt.bind(this),!1);
this._i=w.X("span","");this._i.innerHTML="\xB0";this.W.appendChild(this._i);this.g(this.aQ,this.alt)}AZ.prototype=new WF;
AZ.prototype.G=function(){var l=typeof this.ru=="string"?this.ru:Wq.get(this.ru);this.lh.textContent=l+":"};
AZ.prototype.Pa=function(l){this.lh.textContent=l};AZ.prototype.d=function(){return{aQ:this.aQ,alt:this.alt}};
AZ.prototype.g=function(l,t){if(l!=null)this.aQ=l;if(t!=null)this.alt=t;this.Ne.value=this.aQ;l=Math.PI*this.aQ/180;
t=.9*this.mu*(90-this.alt)/90;var a=this.mu+.5,k=this.Aa;k.clearRect(0,0,100,100);k.strokeStyle="#000000";
k.beginPath();k.arc(a,a,.9*this.mu,0,2*Math.PI);k.moveTo(a,a);k.lineTo(a+Math.cos(l)*this.mu*.9,a-Math.sin(l)*this.mu*.9);
k.stroke();k.strokeStyle="#ff0000";k.beginPath();k.moveTo(a+Math.cos(l)*t-3,a-Math.sin(l)*t);k.lineTo(a+Math.cos(l)*t+3,a-Math.sin(l)*t);
k.moveTo(a+Math.cos(l)*t,a-Math.sin(l)*t-3);k.lineTo(a+Math.cos(l)*t,a-Math.sin(l)*t+3);k.stroke()};
AZ.prototype.kt=function(l){var t=parseInt(this.Ne.value);t=t%360;this.g(t);this.t(new Z(w.E.z,!1))};
AZ.prototype.mv=function(l){w.iZ(window,this._X);w.Pe(window,this.rl);this.MD(l)};AZ.prototype.MD=function(l){var t=w.LV(l,this.Ot),a=t.x-this.mu,k=t.y-this.mu,R=180*Math.atan2(-k,a)/Math.PI,u=90-90*Math.min(1,Math.sqrt(a*a+k*k)/(.9*this.mu));
this.g(Math.round(R),Math.round(u));this.t(new Z(w.E.z,!1))};AZ.prototype.mN=function(l){this.t(new Z(w.E.z,!1));
w.QU(window,this._X);w.MH(window,this.rl)};function AE(l){WF.call(this);this.bP=0;this.W=w.X("span","fitem angleinput");
if(l){this.lh=w.X("label","flabel");this.ru=l;this.W.appendChild(this.lh)}this.Ot=w.X("canvas","gsicon");
this.Aa=this.Ot.getContext("2d");w.IF(this.Ot,41,41);this.W.appendChild(this.Ot);w.Ox(this.Ot,this.mv.bind(this));
this._X=this.MD.bind(this);this.rl=this.mN.bind(this);this.g(0)}AE.prototype=new WF;AE.prototype.G=function(){var l=typeof this.ru=="string"?this.ru:Wq.get(this.ru);
this.lh.textContent=l+":"};AE.prototype.Pa=function(l){this.lh.textContent=l};AE.prototype.d=function(){return this.bP};
AE.prototype.g=function(l){this.bP=l;var t=this.Ot.width,a=Math.floor(l/3),k=l-3*a,R=(k+.5)*t/3,u=(a+.5)*t/3,b=this.Aa,v=[.5,Math.round(t/3)+.5,Math.round(2*t/3)+.5,t-.5];
b.clearRect(0,0,t,t);b.setLineDash([]);b.strokeStyle=b.fillStyle="#000000";b.beginPath();for(var H=0;
H<4;H++){var N=v[H];b.moveTo(N,0);b.lineTo(N,t);b.moveTo(0,N);b.lineTo(t,N)}b.stroke();b.setLineDash([1,2]);
var z=t*.53,A=Math.max(0,Math.min(t-z,R-z/2)),Q=Math.max(0,Math.min(t-z,u-z/2));b.strokeRect(Math.round(A)+.5,Math.round(Q)+.5,Math.round(z),Math.round(z));
b.beginPath();b.arc(R,u,t/8,0,Math.PI*2);b.fill()};AE.prototype.mv=function(l){w.iZ(window,this._X);
w.Pe(window,this.rl);this.MD(l)};AE.prototype.MD=function(l){var t=w.LV(l,this.Ot),a=Math.max(0,Math.min(2,Math.floor(t.x/(41/3)))),k=Math.max(0,Math.min(2,Math.floor(t.y/(41/3))));
this.g(k*3+a)};AE.prototype.mN=function(l){this.t(new Z(w.E.z,!1));w.QU(window,this._X);w.MH(window,this.rl)};
function Oj(l){lO.call(this,l,!1,"brushbutton nopadding",16.6,10,Wm.cC,!0);this.TN=new WB([12,14],1,1e3," px",0,!0);
this.TN.a(w.E.z,this.yj,this);this.iH.appendChild(this.TN.W);this.Cz=new WB([12,17],0,100,"%");this.Cz.a(w.E.z,this.yj,this);
this.iH.appendChild(this.Cz.W)}Oj.prototype=new lO;Oj.prototype.mQ=function(l){this.xU();var t=this.W.getBoundingClientRect(),a=new Z(w.E.J,!0);
a.data={T:w.h._e,jn:this.NN,x:t.left,y:t.top+t.height};this.t(a)};Oj.prototype.g=function(l,t,a){this.Bs=JSON.parse(JSON.stringify(l));
var k=Math.floor(20*w.m()),R=Math.floor(36*w.m()),u=Math.floor(24*w.m()),b=Wy.cT(l,t,a,k,u,R);this.RH.setAttribute("src",b);
w.lA(this.RH,R,u);var v=l.Brsh.v;this.TN.g(v.Dmtr.v.val);if(v.Hrdn!=null){this.Cz.fW();this.Cz.g(v.Hrdn.v.val)}else this.Cz.Jf();
this.Rg.KJ(-1)};Oj.prototype.yZ=function(){return{list:[{t:"Objc",v:this.d()}],BN:[],FD:[]}};Oj.prototype.d=function(){return this.Bs};
Oj.prototype.xU=function(){if(!this.Gp)return;var l=[],t=[],a=this.pJ,k=Math.floor(33*w.m()),R=Math.floor(40*w.m());
for(var u=0;u<a.list.length;u++){var b=a.list[u].v,v=Wy.cT(b,a.BN,a.FD,k,R);l.push(v);t.push(b.Nm.v.split("=").pop())}this.Rg.jr(l,t,k,R);
this.Gp=!1};Oj.prototype.Mq=function(l){var t=this.pJ;this.g(t.list[this.Rg.d()].v,t.BN,t.FD);this.t(new Z(w.E.z))};
Oj.prototype.G=function(){lO.prototype.G.call(this);this.TN.G();this.Cz.G()};Oj.prototype.yj=function(l){var t=this.pJ,a=this.Bs;
a.Brsh.v.Dmtr.v.val=this.TN.d();if(a.Brsh.v.Hrdn!=null)a.Brsh.v.Hrdn.v.val=this.Cz.d();this.g(a,t.BN,t.FD);
this.t(new Z(w.E.z))};function Wa(l,t,a,k){WF.call(this);this.W=w.X("button","fitem"+(t?" spread":"")+(k?" bbtn":""));
this.ru=l;this.MO=a;this.G();this.W.addEventListener("click",this.xs.bind(this),!1);if(a!=null)this.W.setAttribute("title",a)}Wa.prototype=new WF;
Wa.prototype.G=function(){var l=this.W,t=this.ru,a=this.MO,k=typeof t=="string"?t:Wq.get(t);l.innerHTML=k;
if(k.startsWith("<img"))l.setAttribute("style","padding:2px");if(a){var R=typeof a=="string"?a:Wq.get(a);
l.setAttribute("title",R)}};Wa.prototype.Obr=function(l){this.W.setAttribute("title",l)};Wa.prototype.xs=function(l){this.t(new Z("click",!1))};
Wa.prototype.AN=function(){w.jI(this.W,"active")};Wa.prototype.QE=function(){w.ls(this.W,"active")};
Wa.prototype.Pa=function(l,t){if(l)this.ru=l;if(t)this.MO=t;this.G()};Wa.prototype.g=function(l){if(l)this.AN();
else this.QE()};Wa.prototype.HK=function(){return this.W.getAttribute("class").indexOf("active")!=-1};
Wa.prototype.d=function(){return this.HK()};function OD(l){WF.call(this);this.iI=!1;this.FW={D:0,K:0,l:0};
this.YT=l;this.W=w.X("span","fitem colorsample");this.W.addEventListener("click",this.xs.bind(this),!1)}OD.prototype=new WF;
OD.prototype.G=function(){};OD.prototype.yG=function(l){if(this.iI==l)return;this.iI=l;this.tk()};OD.prototype.xs=function(l){var t=this.FW,a=new Z(w.E.J,!0);
a.data={T:w.h.AG,XG:"colorpicker",uT:t.D<<16|t.K<<8|t.l,ii:this.nI.bind(this),iP:this.YT};this.t(a)};
OD.prototype.nI=function(l){this.zm(l);this.t(new Z(w.E.z))};OD.prototype.Olb=function(){this.xs(null)};
OD.prototype.tI=function(){var l=this.FW;return l.D<<16|l.K<<8|l.l};OD.prototype.d=function(){return $.C.br(this.FW)};
OD.prototype.zm=function(l){this.FW={D:l>>16&255,K:l>>8&255,l:l&255};this.tk()};OD.prototype.g=function(l){this.FW=$.C.BL(l);
this.tk()};OD.prototype.tk=function(){var l=this.FW,t=l.D,a=l.K,k=l.l;if(this.iI)t=a=k=Math.round($.RN(t,a,k));
var R=t<<16|a<<8|k;this.W.setAttribute("style","background-color:#"+$.mW(R))};function Ov(l){WF.call(this);
this.W=w.X("span","fitem cswatch");this.My=0;this.YF=[];this.hI=[];var t=this.OlU.bind(this);for(var a=0;
a<l;a++){this.YF.push(0);var k=w.X("span","colorsample");k.addEventListener("click",t,!1);this.hI.push(k);
this.W.appendChild(k)}var R=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],u=Math.min(l,R.length);
for(var a=0;a<u;a++)this.YF[a]=R[a];this.Js()}Ov.prototype=new WF;Ov.prototype.OlU=function(l){this.My=this.hI.indexOf(l.currentTarget);
this.t(new Z(w.E.z))};Ov.prototype.d=function(){return this.YF[this.My]};Ov.prototype.g=function(l){var t=this.YF,a=t.indexOf(l);
if(a!=-1)t.splice(a,1);else t.pop();t.unshift(l);this.Js()};Ov.prototype.Js=function(){for(var l=0;l<this.YF.length;
l++){this.hI[l].setAttribute("style","background-color:#"+$.mW(this.YF[l]))}};function AK(l){lO.call(this,l,!0,"contourbutton",17,10.5,Wm.iU)}AK.prototype=new lO;
AK.prototype.Mq=function(l){this.g(this.pJ[l.target.d()]);this.t(new Z(w.E.z))};AK.prototype.wt=function(l){var t=new Z(w.E.J,!0);
t.data={T:w.h.AG,XG:"contoureditor",cO:this.Bs,response:this.OlZ.bind(this)};this.t(t)};AK.prototype.OlZ=function(l){this.g(l);
this.t(new Z(w.E.z))};AK.prototype.xU=function(){if(!this.Gp)return;var l=Math.floor(38*w.m()),t=Math.floor(38*w.m()),a=[],k=[],R=this.pJ;
for(var u=0;u<R.length;u++){k.push(R[u].Nm?R[u].Nm.v:"");a.push($.Fa.cT(R[u].Crv.v,l,t))}this.Rg.jr(a,k,l,t);
this.Gp=!1};AK.prototype.g=function(l){this.Bs=JSON.parse(JSON.stringify(l));var t=this.Bs.Crv.v;for(var a=0;
a<t.length;a++)if(t[a].v.Cnty==null)t[a].v.Cnty={t:"bool",v:!0};this.S$()};AK.prototype.S$=function(){var l=Math.floor(30*w.m()),t=Math.floor(30*w.m()),a=$.Fa.cT(this.Bs.Crv.v,l,t);
this.RH.setAttribute("src",a);w.lA(this.RH,l,t)};AK.prototype.d=function(){return JSON.parse(JSON.stringify(this.Bs))};
function OS(l){WF.call(this);this.s$=null;this.GT=null;this.Te=null;this.dE=null;this.eL=[];this.yW=[];
this.W=w.X("span","fitem fillbutton");this.NN=new WF;this.NN.W=w.X("div","floatcont form");this.NN.W.setAttribute("style","width: 21em;");
this.NN.parent=this;this.hr=l;this.lh=this.lh=w.X("label","flabel");this.W.appendChild(this.lh);this.Ot=w.X("canvas");
this.Aa=this.Ot.getContext("2d");this.yH=null;this.W.appendChild(this.Ot);this.Ot.addEventListener("click",this.mQ.bind(this),!1);
this.bD=new lI([12,66],["","Color","Grad","Patt"]);this.NN.W.appendChild(this.bD.W);this.bD.a(w.E.z,this.jA,this);
this.NN.W.appendChild(w.X("hr"));this.Oga=w.X("span");this.DU=new OD(!0);this.DU.parent=this.NN;this.DU.a(w.E.z,this.jA,this);
this.dK=new Ov(10);this.dK.a(w.E.z,this.jA,this);this.Cs=w.X("div","marged hiline");this.Cs.appendChild(this.DU.W);
this.Cs.appendChild(w.X("br"));this.Cs.appendChild(this.dK.W);this.GO=new Hv("GrFl",!0);this.GO.parent=this.NN;
this.GO.a(w.E.z,this.jA,this);this.Gi=w.X("div","marged hiline");var t="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");
for(var a=0;a<t.length;a++){var k=this.GO.IU[t[a]].W;this.Gi.appendChild(k)}this.GS=new Hv("patternFill",!0);
this.GS.parent=this.NN;this.GS.a(w.E.z,this.jA,this);this.Gm=w.X("div","marged hiline");var t=["Ptrn","Scl","Algn","phase"];
for(var a=0;a<t.length;a++){var k=this.GS.IU[t[a]].W;this.Gm.appendChild(k)}}OS.prototype=new WF;OS.prototype.gO=function(l,t){if(t==Wm.qo){this.eL=[];
this.yW=[];if(this.s$)this.g(this.Te,this.d(),this.s$)}this.GT=l;this.GO.gO(l,t);this.GS.gO(l,t)};OS.prototype.G=function(){this.lh.textContent=Wq.get(this.hr)+": ";
this.bD.G();this.DU.G();this.GO.G();this.GS.G()};OS.prototype.jA=function(l){var t=l.currentTarget;if(t==this.bD){var a=this.bD.d(),k={cH:a,Xj:this.s$[a]};
if(a>0&&k.Xj==null)k.Xj=JSON.parse(JSON.stringify(P.AL[a-1]));if(this.s$)this.g(this.Te,k,this.s$)}if(t==this.dK)this.DU.zm(t.d());
this.t(new Z(w.E.z,!1))};OS.prototype.mQ=function(l){var t=this.Ot.getBoundingClientRect(),a=new Z(w.E.J,!0);
a.data={T:w.h._e,jn:this.NN,x:t.left,y:t.top+t.height+4};this.t(a);this.dK.g(this.DU.tI())};OS.prototype.g=function(l,t,a){this.s$=a;
this.Te=l;var k=[[13,1,0],[13,0],[12,37],[12,62]],R=this.eL,u=this.yW,b=!1,A;for(var v=0;v<4;v++){var H={cH:v,Xj:a[v]},N=OS.ya(H);
if(u[v]==N)continue;b=!0;var z=OS.yL(null,H,this.GT,this.Te,22,22,!1);R[v]="<img width=\"22\" height=\"22\" src=\""+z+"\" />";
u[v]=N}if(b)this.bD.SZ(R,k);this.bD.g(t.cH);var N=OS.ya(t);if(N!=this.yH)OS.yL(this.Aa,t,this.GT,this.Te,30,23,!0);
this.yH=N;var Q=t.cH;if(Q==0){A=this.Oga}if(Q==1){this.DU.g(t.Xj.Clr.v);A=this.Cs}if(Q==2){this.GO.update(l,t.Xj);
A=this.Gi}if(Q==3){this.GS.update(l,t.Xj);A=this.Gm}if(A!=this.dE){if(this.dE!=null){this.NN.W.removeChild(this.dE)}this.NN.W.appendChild(A);
this.dE=A}};OS.prototype.d=function(){var l={cH:this.bD.d()};if(l.cH==1){l.Xj=JSON.parse(JSON.stringify(P.AL[0]));
l.Xj.Clr.v=this.DU.d()}if(l.cH==2){l.Xj=this.GO.d()}if(l.cH==3){l.Xj=this.GS.d()}return l};OS.ya=function(l){var t=l.cH,a=l.Xj,k="empty";
if(t==1){k=$.C.BL(a.Clr.v);k=k.D+","+k.K+","+k.l}if(t==2)k=JSON.stringify(a.Grad.v);if(t==3)k=a.Ptrn.v.Idnt.v;
return k};OS.yL=function(l,t,a,k,R,u,b){if(l==null)l=OS.Aa;var v=Math.floor(R*w.m()),H=Math.floor(u*w.m()),N=l.canvas,z;
N.width=v;N.height=H;w.lA(N,v,H);var A=t.cH;if(A==0){l.fillStyle="#ffffff";l.fillRect(0,0,v,H);l.strokeStyle="#ff0000";
l.lineWidth=2;l.moveTo(0,0);l.lineTo(v,H);l.moveTo(0,H);l.lineTo(v,0);l.stroke()}if(A==1){var Q=t.Xj.Clr.v;
Q=$.C.BL(Q);l.fillStyle="#"+$.mW(Q.D<<16|Q.K<<8|Q.l);l.fillRect(0,0,v,H)}if(A==2){s.xr.cT(t.Xj.Grad.v,v,H,0,a.rq,a.WR,N)}if(A==3){var S=t.Xj.Ptrn.v,o;
if(k!=null)o=WD.$b(S,k.add.Patt);if(o==null)o=WD.$b(S,a.pM);lT.cT(o,v,H,N)}if(b){l.beginPath();l.strokeStyle="#000000";
l.fillStyle="#ffffff";l.lineWidth=2;var p=v*.7,O=Math.floor(H*.7),E=7*w.m();l.moveTo(p,O);l.lineTo(p+E,O);
l.lineTo(p+E/2,O+E/2);l.closePath();l.stroke();l.fill()}if(l==OS.Aa)return N.toDataURL()};OS.Aa=w.X("canvas").getContext("2d");
function lT(l){lO.call(this,l,!1,"patternbutton",18,10,Wm.qo)}lT.prototype=new lO;lT.prototype.Mq=function(l){var t=this.pJ[this.Rg.d()];
this.Bs={classID:"Ptrn",Nm:{t:"TEXT",v:t.name},Idnt:{t:"TEXT",v:t.id}};this.t(new Z(w.E.z));this.S$()};
lT.prototype.xU=function(){if(!this.Gp)return;var l=this.pJ,t=Math.floor(34*w.m()),a=Math.floor(34*w.m()),k=[],R=[];
for(var u=0;u<l.length;u++){k.push(lT.cT(l[u],t,a));R.push(l[u].name)}this.Rg.jr(k,R,t,a);this.Gp=!1};
lT.prototype.g=function(l,t){if(this.Bs&&l.Idnt.v==this.Bs.Idnt.v)return;this.Bs=JSON.parse(JSON.stringify(l));
this.S$(t)};lT.prototype.d=function(){return JSON.parse(JSON.stringify(this.Bs))};lT.prototype.S$=function(l){var t=Math.floor(50*w.m()),a=Math.floor(50*w.m()),k;
if(l!=null)k=WD.$b(this.Bs,l.add.Patt);if(k==null)k=WD.$b(this.Bs,this.pJ);var R=lT.cT(k,t,a);this.RH.setAttribute("src",R);
w.lA(this.RH,t,a)};lT.Ej=w.X("canvas","");lT.cT=function(l,t,a,k){if(k==null)k=lT.Ej;var R=k.getContext("2d");
k.width=t;k.height=a;if(l){var u=l.MU.$,b=l.MU.e,v=l.nr,H=Math.min(t/u,a/b),N=H;if(N*u<2)N=2/u;var z=H;
if(z*b<2)z=2/b;var A=s.b.tS([v,l.MU],new WM(N,0,0,z,0,0),!1),Q=A.rect.$,S=A.rect.e,o=R.createImageData(Q,S);
$.Ll(A.buffer,o.data);R.putImageData(o,Math.floor((t-Q)/2),Math.floor((a-S)/2))}return k.toDataURL()};
function Wl(l){lO.call(this,l,!1,"patternbutton",24.2,17,Wm.KI)}Wl.prototype=new lO;Wl.prototype.Mq=function(l){this.Bs=JSON.parse(JSON.stringify(this.pJ[0][this.Rg.d()]));
this.t(new Z(w.E.z))};Wl.prototype.xU=function(){var l=this.pJ;if(l==null||!this.Gp)return;var t=Math.floor(50*w.m()),a=Math.floor(50*w.m()),k=[],R=[];
for(var u=0;u<l[0].length;u++){k.push(Wl.cT(this.pJ[0][u].YY,t,a,this.pJ[1]));R.push(l[0][u].si.Nm.v.split("=").pop())}this.Rg.jr(k,R,t,a);
this.Gp=!1};Wl.prototype.g=function(l,t,a,k){this.Bs=JSON.parse(JSON.stringify(l));this.S$(t,a,k);this.Rg.KJ(-1)};
Wl.prototype.d=function(){return JSON.parse(JSON.stringify(this.Bs))};Wl.prototype.S$=function(l,t,a){var k=Math.floor(68*w.m()),R=Math.floor(68*w.m()),u=Wl.cT(this.Bs.YY,k,R,l?l:this.pJ[1],t,a);
this.RH.setAttribute("src",u);w.lA(this.RH,k,R)};Wl.cT=function(l,t,a,k,R,u){var b=new Hb;b.$=t;b.e=a;
b.buffer=$.I(t*a*4);b.add.Patt=k;b.nc(R==null?90:R);b.bf(u==null?30:u);var v=new d(0,0,Math.round(t*.5),Math.round(a*.5));
v.x=Math.round((t-v.$)/2);v.y=Math.round((a-v.e)/2);var H=b.Ow();H.rect=v;H.buffer=$.I(v.s()*4);$.IK(H.buffer,4284045657);
WD.ei(l,H,.5*100);b.Q.push(H);b.AU();b.i();var N=T.jS;T.jS=!1;b.$d();var z=b.FY();T.jS=N;var A=Wr.RA(z,b.$,b.e);
return A};function Oo(l,t){WF.call(this);this.W=w.X("span","fitem curveeditor");this.mode=0;this.dd=l;
this.Ogu=t;this.Li=null;this.Ab=null;this.Rl=new x;this.rg=this.MD.bind(this);this.fg=this.mN.bind(this);
this.Ot=w.X("canvas","");this.Aa=this.Ot.getContext("2d");w.mM(this.Ot);w.IF(this.Ot,256,256,this.Aa);
this.W.appendChild(this.Ot);w.Ox(this.Ot,this.mv.bind(this))}Oo.prototype=new WF;Oo.prototype.g=function(l,t){var a=JSON.stringify(l);
if(a==JSON.stringify(this.Li))return;this.mode=l.length==256?1:0;this.Li=JSON.parse(a);if(t!=null)this.Ab=this.Li[t];
this.cP()};Oo.prototype.d=function(){return JSON.parse(JSON.stringify(this.Li))};Oo.prototype.yX=function(){return this.Li.indexOf(this.Ab)};
Oo.prototype.mv=function(l){var t=w.LV(l,this.Ot),a=t.x,k=256-t.y;if(this.dd){var R=a;a=256-k;k=R}this.Rl.$x(a,k);
if(this.mode==0){var u=null;for(var b=0;b<this.Li.length;b++){var v=this.Li[b].v,H=Math.sqrt((v.Hrzn.v-a)*(v.Hrzn.v-a)+(v.Vrtc.v-k)*(v.Vrtc.v-k));
if(H<5)u=this.Li[b]}if(u==null){u=$.Fa.gX(a,k,!0);this.Li.push(u)}this.Ab=u}w.iZ(document.body,this.rg);
w.Pe(document.body,this.fg);this.MD(l)};Oo.prototype.MD=function(l){var t=w.LV(l,this.Ot),a=t.x,k=256-t.y;
if(this.dd){var R=a;a=256-k;k=R}if(this.mode==0){var u=this.Li,b=this.Ogu,v=u.indexOf(this.Ab),H=v==0||v==u.length-1,N=0,z=255,A=!0;
if(H){N=1;z=254}if(!b||!H)this.Ab.v.Hrzn.v=Math.max(N,Math.min(z,Math.round(a)));this.Ab.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(k)));
for(var Q=0;Q<u.length;Q++){if(u[Q]==this.Ab)continue;if(Math.abs(u[Q].v.Hrzn.v-this.Ab.v.Hrzn.v)<2)A=!1}if(a<0||a>255||k<0||k>255)A=!1;
if(A&&u.indexOf(this.Ab)==-1)u.push(this.Ab);if(!A&&u.indexOf(this.Ab)!=-1&&u.length>2&&(!b||!H))u.splice(u.indexOf(this.Ab),1);
if(u[0].v.Hrzn.v==u[1].v.Hrzn.v)if(u[0].v.Hrzn.v==0)u[1].v.Hrzn.v=1;else u[0].v.Hrzn.v--;u.sort(function(L,U){return L.v.Hrzn.v-U.v.Hrzn.v})}else{a=Math.max(0,Math.min(255,a));
k=Math.max(0,Math.min(255,k));var S=this.Rl.x,o=a,p=this.Rl.y,O=k;if(a<this.Rl.x){o=S;S=a;O=p;p=k}this.Li[a]=k;
if(S!=o)for(var E=S;E<=o;E++)this.Li[E]=Math.round(p+(E-S)*(O-p)/(o-S))}this.Rl.$x(a,k);this.cP();this.t(new Z(w.E.z))};
Oo.prototype.mN=function(l){w.QU(document.body,this.rg);w.MH(document.body,this.fg);this.t(new Z(w.E.z))};
Oo.prototype.cP=function(){var l=this.Aa;l.fillStyle="#ffffff";l.fillRect(0,0,256,256);l.strokeStyle="#aaaaaa";
l.lineWidth=1;l.beginPath();for(var t=1;t<4;t++){l.moveTo(0,64*t-.5);l.lineTo(255,64*t-.5);l.moveTo(64*t-.5,0);
l.lineTo(64*t-.5,255)}l.stroke();if(this.dd){l.save();l.transform(0,1,-1,0,256,0)}if(this.mode==0){var a=this.Li,k=$.Fa.PV(a,256);
l.strokeStyle="#000000";l.beginPath();l.moveTo(0,255.5-k[0]);for(var t=0;t<256;t++)l.lineTo(t,255.5-k[t]);
l.stroke();l.lineWidth=2;for(var t=0;t<a.length;t++){var R=a[t].v;l.fillStyle=this.Ab==a[t]?"#333":"#fff";
l.beginPath();l.moveTo(R.Hrzn.v,255.5-R.Vrtc.v);l.arc(R.Hrzn.v,255.5-R.Vrtc.v,3,0,2*Math.PI);l.stroke();
l.fill()}}else{var k=this.Li;l.strokeStyle="#000000";l.beginPath();l.moveTo(0,255.5-k[0]);for(var t=0;
t<256;t++)l.lineTo(t,255.5-k[t]);l.stroke()}if(this.dd)l.restore()};function ld(l){WF.call(this);this.W=w.X("span","");
this.Gc=new H$([12,4],["RGB","Red","Green","Blue",[12,82]]);this.Gc.a(w.E.z,this._x,this);this.W.appendChild(this.Gc.W);
this.W.appendChild(w.X("br"));this.Ej=w.X("canvas");var t=this.Ej;this.W.appendChild(t);t.width=Math.round(l*w.m());
t.height=Math.round(100*w.m());w.lA(t,t.width,t.height);this.Jc=t.getContext("2d");this.Hy=null;this.yR=0;
this.El=0}ld.prototype=new WF;ld.prototype.G=function(){this.Gc.G()};ld.prototype.OlB=function(l){this.Gc.g(l);
this._x()};ld.prototype.g=function(l,t,a){this.Hy=l;this.yR=t*a;this._x()};ld.prototype.zm=function(l){if(l==this.El)return;
this.El=l;this._x()};ld.prototype._x=function(){if(this.Hy==null)return;var l=6e3/this.yR,t=this.Ej,a=this.Jc,k=this.Hy,R=this.Gc.d(),u="#"+$.mW(this.El);
t.width=t.width;a.setTransform(t.width/256,0,0,-t.height/100,0,t.height);a.globalCompositeOperation="lighter";
if(R==0)this.Kc(k[0],l/3,u);else if(R<4)this.Kc(k[R],l,u);else{this.Kc(k[1],l,"#ff0000");this.Kc(k[2],l,"#00ff00");
this.Kc(k[3],l,"#0000ff")}a.setTransform(1,0,0,1,0,0)};ld.prototype.Kc=function(l,t,a){var k=this.Jc;
k.beginPath();k.moveTo(0,0);for(var R=0;R<256;R++)k.lineTo(R,l[R]*t);k.lineTo(256,0);k.closePath();k.fillStyle=a;
k.fill()};function lI(l,t){WF.call(this);if(!t)return;this.Sx=0;this.W=w.X("span","fitem bbmenu");if(l){this.ru=l;
this.lh=w.X("label","flabel");this.lh.textContent=l+":";this.W.appendChild(this.lh)}this.ub=[];this.Gt=null;
this.SZ(t);this.g(0)}lI.prototype=new WF;lI.prototype.Pa=function(l){this.ru=l;this.G()};lI.prototype.G=function(){if(this.ru!=null){var l=typeof this.ru=="string"?this.ru:Wq.get(this.ru);
this.lh.textContent=l+": "}for(var t=0;t<this.ub.length;t++)this.ub[t].G()};lI.prototype.d=function(){return this.Sx};
lI.prototype.SZ=function(l,t){while(this.ub.length>0)this.W.removeChild(this.ub.pop().W);this.Gt=l;for(var a=0;
a<l.length;a++){var k=new Wa(l[a],!1,t?t[a]:null);k.a("click",this.kt,this);this.W.appendChild(k.W);
this.ub.push(k)}this.G()};lI.prototype.g=function(l){this.Sx=l;for(var t=0;t<this.ub.length;t++)this.ub[t].QE();
this.ub[l].AN()};lI.prototype.kt=function(l){var t=this.ub.indexOf(l.target);this.g(t);this.t(new Z(w.E.z,!1))};
function H$(l,t,a,k){WF.call(this);if(!t)return;if(a==null)a=!1;this.Sx=0;this.OgQ=a;this.ru=l;this.dm=null;
this.cU=k;var R="dd"+w.x_();this.W=w.X("span","fitem ddmenu");if(l&&!a){this.lh=w.X("label","flabel");
this.W.appendChild(this.lh);this.lh.setAttribute("for",R)}this.sk=w.X("select","bbtn");this.sk.setAttribute("id",R);
this.W.appendChild(this.sk);this.sk.addEventListener("change",this.kt.bind(this),!1);this.ub=[];this.Gt=null;
this.SZ(t,k);this.G()}H$.prototype=new WF;H$.prototype.Pa=function(l){this.ru=l;this.G()};H$.prototype.G=function(){if(this.ru!=null){var l=typeof this.ru=="string"?this.ru:Wq.get(this.ru);
if(this.OgQ)this.sk.setAttribute("title",l);else this.lh.textContent=l+":"}if(this.Gt)this.SZ(this.Gt,this.cU);
this.g(this.Sx)};H$.prototype.d=function(){return this.Sx};H$.prototype.SZ=function(l,t){w.BT(this.sk);
var a=[],R=0;if(t){a.push(t[0]);for(var k=1;k<t.length;k++)a.push(a[k-1]+t[k])}this.Gt=l;this.dm=[];
this.cU=t;for(var k=0;k<l.length;k++){var u=w.X("option");if(typeof l[k]=="string")u.textContent=l[k];
else u.textContent=Wq.get(l[k]);u.setAttribute("value",k);this.sk.appendChild(u);this.ub.push(u);this.dm.push(k+R);
if(a.indexOf(k+1)!=-1&&k!=l.length-1){var b=w.X("option");b.setAttribute("disabled","");b.textContent="";
this.sk.appendChild(b);R++}}};H$.prototype.g=function(l){this.Sx=l;this.sk.selectedIndex=this.dm[l]};
H$.prototype.kt=function(l){this.Sx=this.dm.indexOf(this.sk.selectedIndex);this.t(new Z(w.E.z,!1))};
function Wi(){WF.call(this);this.Xh=null;this.CX=new lP;this.CX.a(w.E.z,this.Ogz,this);this.CX.parent=this;
this.hP=new Hq([12,14],1,500,"px",0,!0);this.hP.a(w.E.z,this.Ogf,this);this.hP.parent=this;this.h_=new HM([16,0]," px",3);
this.h_.a(w.E.z,this.eS,this);this.he=new Hq([16,1],-500,5e3,"%",0,!0);this.he.a(w.E.z,this.eS,this);
this.he.parent=this;this.GR=new Hq("V-scal",0,300,"%");this.GR.a(w.E.z,this.eS,this);this.GR.parent=this;
this.aI=new Hq("H-scal",0,300,"%");this.aI.a(w.E.z,this.eS,this);this.aI.parent=this;this.sS=new Hq([16,2],-10,10,"px");
this.sS.a(w.E.z,this.eS,this);this.sS.parent=this;this.hy=new OD(!0);this.hy.a(w.E.z,this.Ogd,this);
this.hy.parent=this;this.dZ=new Wa("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");
this.dT=new Wa("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");this.du=new Wa("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");
this.dM=new Wa("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");this.dy=new Wa("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");
this.dc=new Wa("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");this.dt=new Wa("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");
var l=[this.dZ,this.dT,this.du,this.dM,this.dy,this.dc,this.dt];for(var t=0;t<l.length;t++)l[t].a("click",this.OlC,this);
this.ik=new Wa("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");this.ib=new Wa("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");
this.i_=new Wa("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");this.cE=new Wa("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");
this.cJ=new Wa("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");this.tT=new Wa("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");
this.CO=new Wa("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");this.sq=[this.ik,this.ib,this.i_,this.cE,this.cJ,this.tT,this.CO];
for(var t=0;t<this.sq.length;t++)this.sq[t].a("click",this.eS,this);var a=["lind","rind","flind","bind","aind"],k=[];
for(var t=0;t<5;t++)k.push("<img src=\""+PIMG["par/"+a[t]]+"\" class=\"autoscale gsicon\" /> ");this.aP=new Hq(k[0],-20,20,"px");
this.aP.a(w.E.z,this.eS,this);this.aP.parent=this;this.aK=new Hq(k[1],-20,20,"px");this.aK.a(w.E.z,this.eS,this);
this.aK.parent=this;this.au=new Hq(k[2],-20,20,"px");this.au.a(w.E.z,this.eS,this);this.au.parent=this;
this.aL=new Hq(k[3],-20,20,"px");this.aL.a(w.E.z,this.eS,this);this.aL.parent=this;this.aX=new Hq(k[4],-20,20,"px");
this.aX.a(w.E.z,this.eS,this);this.aX.parent=this;this.sc=new lI([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.sc.a(w.E.z,this.eS,this);this.sc.parent=this}Wi.prototype=new WF;Wi.prototype.G=function(){this.CX.G();
this.hP.G();this.h_.G();this.he.G();this.sS.G();this.sc.G()};Wi.prototype.tz=function(l){this.To=JSON.parse(JSON.stringify(l.To));
var t=this.To,a=t.Zl,k=t.SP;this.dZ.g(a.FauxItalic);this.dT.g(a.FontCaps==2);this.du.g(a.FontCaps==1);
this.dy.g(a.FontBaseline==1);this.dM.g(a.FontBaseline==2);this.dc.g(a.Underline);this.dt.g(a.Strikethrough);
this.CX.g(a.Font==null?null:t.kj[a.Font].Name,l.jF,l.dv);var R=a.FontSize==null?20:a.FontSize;this.hP.g(R);
this.he.g(a.Tracking);if(a.AutoLeading)this.h_.g("Auto");else this.h_.g(a.Leading);this.GR.g(a.VerticalScale*100);
this.aI.g(a.HorizontalScale*100);this.sS.g(a.BaselineShift);if(a.FillColor){var u=Wz.BL(a);this.hy.zm(Math.round(u.D)<<16|Math.round(u.K)<<8|Math.round(u.l))}else this.hy.zm(0);
var b=k._Direction?k._Direction:0,v=Wz.zc(k);for(var H=0;H<this.sq.length;H++)this.sq[H].g(v==H);this.sc.g(b);
this.aP.g(k.StartIndent);this.aK.g(k.EndIndent);this.au.g(k.FirstLineIndent);this.aL.g(k.SpaceBefore);
this.aX.g(k.SpaceAfter)};Wi.prototype.TX=function(){var l=new Z(w.E.J,!0);l.data={T:w.h.kn,wd:Wm.TT,To:this.To};
this.t(l)};Wi.prototype.OlC=function(l){var t=this.To.Zl,a=l.target,k=!a.HK();if(a==this.dZ)t.FauxItalic=k;
if(a==this.dT)t.FontCaps=k?2:0;if(a==this.du)t.FontCaps=k?1:0;if(a==this.dy)t.FontBaseline=k?1:0;if(a==this.dM)t.FontBaseline=k?2:0;
if(a==this.dc)t.Underline=k;if(a==this.dt)t.Strikethrough=k;this.TX()};Wi.prototype.eS=function(l){var t=this.To.Zl,a=this.To.SP,k=l.target;
if(k==this.he)t.Tracking=this.he.d();if(k==this.h_){var R=this.h_.d().toLowerCase();t.AutoLeading=R=="auto";
t.Leading=R=="auto"?40:parseInt(R)}if(k==this.GR)t.VerticalScale=k.d()/100;if(k==this.aI)t.HorizontalScale=k.d()/100;
if(k==this.sS)t.BaselineShift=k.d();if(this.sq.indexOf(k)!=-1){a.Justification=Wz.zc(a,this.sq.indexOf(k))}if(k==this.aP)a.StartIndent=k.d();
if(k==this.aK)a.EndIndent=k.d();if(k==this.au)a.FirstLineIndent=k.d();if(k==this.aL)a.SpaceBefore=k.d();
if(k==this.aX)a.SpaceAfter=k.d();if(k==this.sc)a._Direction=k.d();this.TX()};Wi.prototype.Ogz=function(l){var t=this.To,a=this.CX.d(),k=-1;
for(var R=0;R<t.kj.length;R++)if(t.kj[R].Name==a)k=R;if(k==-1){k=t.kj.length;var u=JSON.parse(JSON.stringify(t.kj[0]));
u.Name=a;t.kj.splice(k,0,u)}t.Zl.Font=k;this.TX()};Wi.prototype.Ogf=function(l){var t=parseFloat(this.hP.d());
if(isNaN(t))return;this.To.Zl.FontSize=t;this.TX()};Wi.prototype.Ogd=function(l){var t=this.hy.tI(),a={Type:1,Values:[1,(t>>16&255)/255,(t>>8&255)/255,(t>>0&255)/255]};
for(var k=0;k<4;k++)a.Values[k]=Math.round(a.Values[k]*1e3)/1e3;this.To.Zl.FillColor=a;this.TX()};function lP(){WF.call(this);
this.W=w.X("span","fontinput");this._c=null;this.ir=null;this.NE=null;this.Mt="";this.BD={};this.CV={};
this.if=!1;this.NK=w.X("button","fitem");this.NK.setAttribute("style","width:9em;");this.NK.textContent="Family Name \u25BC";
this.W.appendChild(this.NK);this.NK.addEventListener("mousedown",this.yo.bind(this),!1);this.LN=new WF;
this.LN.W=w.X("div","floatcont");this.$a=new Od(6.8);this.LN.W.appendChild(this.$a.OIJ());this.$a.parent=this;
this.$a.a(w.E.z,this.KN,this);var l=w.X("div","form");this.LN.W.appendChild(l);this.JO=new Wa(w.WL("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.JO.a("click",this.OI$,this);l.appendChild(this.JO.W);this.sd=new HM([12,86],null,9);this.sd.a("input",this.te,this);
l.appendChild(this.sd.W);var t=new Wa("Load Font",!1,"Load OTF / TTF file from your computer",!0);t.a("click",this.Ogj,this);
t.W.style.marginLeft="1.5em";l.appendChild(t.W);this.ml=w.X("span","fitem imageset scrollable marged");
this.ml.style.height="30em";this.LN.W.appendChild(this.ml);this.JH=w.X("button","fitem");this.JH.setAttribute("style","width:6em;");
this.JH.textContent="SubFamily Name \u25BC";this.W.appendChild(this.JH);this.JH.addEventListener("mousedown",this.yo.bind(this),!1);
this.mI=new WF;this.mI.W=w.X("div","floatcont");this.im=w.X("span","fitem imageset scrollable marged");
this.mI.W.appendChild(this.im)}lP.prototype=new WF;lP.prototype.Ogj=function(){var l=new Z(w.E.J,!0);
l.data={T:w.h.sX,Ogw:".otf,.ttf,.ttc"};this.t(l)};lP.prototype.G=function(){this.$a.G();this.JO.Pa(w.WL("tools/cshape",null,"autoscale"))};
lP.prototype.OI$=function(l){this.JO.g(!this.JO.HK());this.KN()};lP.prototype.te=function(l){this.Mt=this.sd.d().toLowerCase();
this.KN()};lP.prototype.yo=function(l){l.preventDefault();l.stopPropagation();var t=l.currentTarget,a=t.getBoundingClientRect(),k=t==this.NK;
if(!k&&this._c.Ak()[this.NE]==null)return;var R=new Z(w.E.J,!0);R.data={T:w.h._e,jn:k?this.LN:this.mI,x:a.left,y:a.top+a.height};
this.t(R);if(k){this.KN();this.sd.nk()}};lP.prototype.OIk=function(l){var t=l.currentTarget.firstChild.nextSibling.textContent;
if(l.target.tagName.toLowerCase()=="button"){var a=this.ir.slice(0),k=a.indexOf(t);if(k==-1){a=a.slice(Math.max(0,a.length-9));
a.push(t)}else a.splice(k,1);var R=new Z(w.E.J,!0);R.data={T:w.h.kn,wd:Wm.IA,sQ:a};this.t(R);this.if=!0;
this.KN()}else this.yp(t,null)};lP.prototype.OIK=function(l){this.yp(null,l.currentTarget.firstChild.textContent)};
lP.prototype.yp=function(l,t){var a=l==null?this.mI:this.LN,k=this._c;if(l==null)l=k.Ak()[this.NE][0];
else{var R=k.SV(l),u=k.Ak()[this.NE];t=HA.zv(R,u?u[1]:"regular")}var b=k.TE(l,t)[2];this.g(b,k);this.t(new Z(w.E.z,!1));
var v=new Z(w.E.J,!0);v.data={T:w.h.zN,jn:a};this.t(v)};lP.prototype.d=function(){return this.NE};lP.prototype.g=function(l,t,a){var k=this._c;
if(l!=null)this.NE=l;else l=this.NE;this._c=t;this.ir=a;if(l!=null){var R=t.Ak()[l],u,b;if(R==null){u="- "+l;
b="-------"}else{u=R[0];b=R[1];var v=t.SV(u);v.sort(HA.O$Y);var H=v.indexOf(b),N=this.OIK.bind(this);
this.im.textContent="";for(var z=0;z<v.length;z++){var R=t.TE(u,v[z]);if(!this.$a.tB(R))continue;var A=this.yB(R,R[1],N,!1);
this.im.appendChild(A)}}this.NK.textContent=u.substring(0,15)+" \u25BC";this.NK.setAttribute("title",u);
this.JH.textContent=b.substring(0,10)+" \u25BC";this.JH.setAttribute("title",b)}};lP.prototype.KN=function(){var l=this._c.Ak()[this.NE],t=this.ir,a=null,k=this._c.OkL(),R=this.OIk.bind(this);
for(var u in k){var b=HA.zv(k[u],"regular"),v=this._c.TE(u,b),H=t.indexOf(u)!=-1,N=!0;if(this.Mt.length>0&&v[0].toLowerCase().indexOf(this.Mt)==-1)N=!1;
else if(!this.$a.tB(v))N=!1;else if(this.JO.HK()&&!H)N=!1;var z=this.BD[u];if(z==null){var z=this.yB(v,u,R,!0);
this.BD[u]=z;this.ml.appendChild(z)}var A=N?"":"display:none; ",Q="opacity: "+(H?"1":"0.2");if(l&&l[0]==u){A+="background-color:rgba(0,0,0,0.13);";
a=z}if(this.CV[u]!=A+Q){z.setAttribute("style",A);z.firstChild.setAttribute("style",Q);this.CV[u]=A+Q}}if(a&&!this.if)this.ml.scrollTop=a.offsetTop-210;
this.if=!1};lP.prototype.yB=function(l,t,a,k){var R=w.X("div","fontitem"),H="";R.addEventListener("click",a,!1);
if(k)R.appendChild(w.X("button","star"));var u=w.X("span","label");u.setAttribute("title",t);u.textContent=t;
R.appendChild(u);var b=w.m(),v=1/b,N=HA.Tb*v,z=HA.hq*v;if(1<b&&b<1.5)H="width:"+N+"px; height:"+z+"px;";
var A=w.X("span","thumb gsicon");if(l.$k){if(1<b&&b<1.5)H+="background-size: "+N+"px "+z+"px;";H+="background: url("+l.$k+")"}else{var Q=Math.ceil(FNTS.list.length/HA.cols),S=Math.floor(l.AZ/Q),o=l.AZ%Q,p=S*HA.Tb,O=o*HA.hq;
if(1<b&&b<1.5){H+="background-size: "+HA.cols*N+"px "+Q*z+"px;";p*=v;O*=v}H+="background-position:-"+p+"px -"+O+"px;"}A.setAttribute("style",H);
R.appendChild(A);return R};function Od(l){WF.call(this);this.W=w.X("button","fitem bbtn");this.W.addEventListener("click",this.OIQ.bind(this),!1);
this.NN=new WF;this.NN.W=w.X("div","floatcont");this.NN.parent=this;this.ix=w.X("div","flexrow");this.NN.W.appendChild(this.ix);
this.ah=[];this.Ny=[];var t=this.ix,a=w.X("div",""),k=w.X("div","");t.appendChild(a);t.appendChild(k);
this.rS=[];for(var R=0;R<FNTS.cats.length;R++)this.rS.push({name:FNTS.cats[R],index:R,go:0});for(var R=0;
R<FNTS.list.length;R++)this.rS[FNTS.list[R][4]].go++;this.rS.sort(function(v,H){return H.go-v.go});this.iF=new HV([7,0]);
this.iF.a(w.E.z,this.OIX,this);a.appendChild(this.iF.W);this.iD=w.X("div","vlist marged scrollable");
this.iD.setAttribute("style","width:10em; height:"+l+"em; ");a.appendChild(this.iD);this.iu=[];for(var R=0;
R<this.rS.length;R++){var u=this.rS[R],b=new HV(u.name);this.iu.push(b);b.a(w.E.z,this.OIo,this);b.g(!0);
this.iD.appendChild(b.W);this.ah.push(1)}this.iM=new HV([7,0]);this.iM.a(w.E.z,this.OIe,this);k.appendChild(this.iM.W);
this.iL=w.X("div","vlist marged scrollable");this.iL.setAttribute("style","width:10em; height:"+l+"em; ");
k.appendChild(this.iL);this.mi=[];for(var R=0;R<FNTS.subsetNames.length;R++){var b=new HV(FNTS.subsetNames[R]);
this.mi.push(b);b.a(w.E.z,this.OIy,this);b.g(!1);this.iL.appendChild(b.W);this.Ny.push(0)}}Od.prototype=new WF;
Od.prototype.OID=function(l){var t=this.mi;for(var a=0;a<t.length;a++){var k=(l>>>a&1)==1;this.Ny[a]=k;
t[a].g(k)}};Od.prototype.OIJ=function(){return this.ix};Od.prototype.G=function(){this.W.textContent=Wq.get([25,1,0])+" \u25BC";
this.iF.G();this.iM.G()};Od.prototype.OIQ=function(l){var t=this.W.getBoundingClientRect(),a=new Z(w.E.J,!0);
a.data={T:w.h._e,jn:this.NN,x:t.left,y:t.top+t.height,Yt:!1};this.t(a)};Od.prototype.tB=function(l){if(this.ah[l[4]]==0)return!1;
else for(var t=0;t<this.Ny.length;t++)if(this.Ny[t]==1&&(l[3]>>>t&1)==0)return!1;return!0};Od.prototype.OIX=function(l){var t=l.target.d(),a=this.iu,k=this.ah;
for(var R=0;R<a.length;R++){a[R].g(t);k[R]=t?1:0}this.t(new Z(w.E.z,!1))};Od.prototype.OIe=function(l){var t=l.target.d(),a=this.mi,k=this.Ny;
for(var R=0;R<a.length;R++){a[R].g(t);k[R]=t?1:0}this.t(new Z(w.E.z,!1))};Od.prototype.OIo=function(l){var t=this.iu.indexOf(l.target),a=this.rS[t].index;
this.ah[a]=1-this.ah[a];this.t(new Z(w.E.z,!1))};Od.prototype.OIy=function(l){var t=this.mi.indexOf(l.target);
this.Ny[t]=1-this.Ny[t];this.t(new Z(w.E.z,!1))};function Oy(l,t,a){lO.call(this,t,!0,"gradientbutton",18,10,Wm.rO);
this.rq=-1;this.WR=-1;this.Ci=null;this.OgR=l;this.YT=a}Oy.prototype=new lO;Oy.prototype.Mq=function(l){var t=this.pJ;
this.g(t[this.Rg.d()]);this.t(new Z(w.E.z))};Oy.prototype.wt=function(l){var t=new Z(w.E.J,!0);t.data={T:w.h.AG,XG:"gradienteditor",C:this.Bs,ii:this.OIp.bind(this),iP:this.YT};
this.t(t)};Oy.prototype.OIp=function(l){this.g(l);this.t(new Z(w.E.z))};Oy.prototype.xU=function(){if(!this.Gp)return;
var l=Math.floor(36*w.m()),t=Math.floor(36*w.m()),a=[],k=[],R=this.pJ;for(var u=0;u<R.length;u++){var b=R[u];
k.push(b.Nm?b.Nm.v.split("=").pop():"");var v=s.xr.cT(b,l,t,Math.PI/4,this.rq,this.WR);a.push(v)}this.Rg.jr(a,k,l,t);
this.Gp=!1};Oy.prototype.CI=function(l,t){this.yc(this.Bs,l,t)};Oy.prototype.g=function(l){this.yc(l,this.rq,this.WR)};
Oy.prototype.yc=function(l,t,a){this.rq=t;this.WR=a;if(l==null)return;var k=JSON.stringify(l),R=k+t+","+a;
if(R==this.Ci)return;this.Ci=R;this.Bs=JSON.parse(k);var u=Math.floor(80*w.m()),b=Math.floor(16*w.m()),v=s.xr.cT(this.Bs,u,b,0,this.rq,this.WR);
this.RH.setAttribute("src",v);w.lA(this.RH,u,b)};Oy.prototype.d=function(){var l;if(this.OgR)l=s.xr.OlH(this.Bs,this.rq,this.WR);
else l=JSON.parse(JSON.stringify(this.Bs));return l};function Op(l){lO.call(this,l,!1,"swatchbutton",16,8.75,Wm.iE)}Op.prototype=new lO;
Op.prototype.Mq=function(l){this.g(this.pJ[l.target.d()]);this.t(new Z(w.E.z))};Op.prototype.xU=function(){if(!this.Gp)return;
var l=Math.floor(10*w.m()),t=Math.floor(10*w.m()),a=[],k=[],R=this.pJ;for(var u=0;u<R.length;u++){k.push(R[u].OZ?R[u].OZ.split("=").pop():"");
a.push(Op.cT(R[u],l,t))}this.Rg.jr(a,k,l,t);this.Gp=!1};Op.prototype.Sy=function(l){this.pJ=l;this.Gp=!0;
this.xU()};Op.prototype.g=function(l){this.Bs=JSON.parse(JSON.stringify(l));this.S$()};Op.prototype.S$=function(){var l=Math.floor(24*w.m()),t=Math.floor(20*w.m()),a=Op.cT(this.Bs,l,t);
this.RH.setAttribute("src",a);w.lA(this.RH,l,t)};Op.prototype.d=function(){return JSON.parse(JSON.stringify(this.Bs))};
Op.cT=function(l,t,a){var k=l.l<<16|l.K<<8|l.D,R=$.I(t*a*4);$.IK(R,4278190080|k);var u=Wr.RA(R,t,a);
return u};function HV(l,t,a){WF.call(this);this.W=w.X("span","fitem cbox");if(t==null)t=!0;if(a==null)a="flabel";
var k="cb"+w.x_();this.Ne=w.X("input","");this.Ne.setAttribute("type","checkbox");this.Ne.setAttribute("id",k);
this.W.appendChild(this.Ne);this.ru=l;this.lh=w.X("label",a);if(t)this.lh.setAttribute("for",k);this.W.appendChild(this.lh);
this.G();this.Ne.addEventListener("change",this.kt.bind(this),!1)}HV.prototype=new WF;HV.prototype.yw=function(){return this.ru};
HV.prototype.Pa=function(l){this.lh.textContent=l};HV.prototype.G=function(){var l=typeof this.ru=="string"?this.ru:Wq.get(this.ru);
this.lh.textContent=l};HV.prototype.AN=function(){this.Ne.checked=!0};HV.prototype.QE=function(){this.Ne.checked=!1};
HV.prototype.HK=function(){return this.Ne.checked};HV.prototype.g=function(l){this.Ne.checked=l};HV.prototype.d=HV.prototype.HK;
HV.prototype.kt=function(l){this.t(new Z(w.E.z,!1))};function AI(l,t){WF.call(this);this.W=w.X("span","fitem mbox");
if(l){this.ru=l;this.lh=w.X("label","flabel");this.W.appendChild(this.lh)}var a=this.kt.bind(this);this.wl=t;
this.wb=[];this.Ch=[];for(var k=0;k<t.length;k++){var R="mb"+w.x_(),u=w.X("input","");this.wb.push(u);
u.setAttribute("type","checkbox");u.setAttribute("id",R);u.addEventListener("change",a,!1);this.W.appendChild(u);
var b=w.X("label","flabel");this.Ch.push(b);b.setAttribute("for",R);this.W.appendChild(b)}this.G()}AI.prototype=new WF;
AI.prototype.g=function(l){for(var t=0;t<this.wl.length;t++)this.wb[t].checked=l[t]};AI.prototype.d=function(){var l=[];
for(var t=0;t<this.wl.length;t++)l[t]=this.wb[t].checked;return l};AI.prototype.G=function(){var l=typeof this.ru=="string"?this.ru:Wq.get(this.ru);
this.lh.innerHTML=l+":";for(var t=0;t<this.wl.length;t++){var a=this.wl[t],l=typeof a=="string"?a:Wq.get(a);
this.Ch[t].textContent=l}};AI.prototype.kt=function(l){this.t(new Z(w.E.z,!1))};function $W(l,t,a,k,R,u){lS.call(this,l,t,a,k,R,!1,u);
this.W.appendChild(this.lh);var b=w.X("span","rangecont");this.W.appendChild(b);b.appendChild(this.FR);
this.W.appendChild(this.Ne);this.Ne.setAttribute("style","width:3.3em");this.W.appendChild(this._i)}$W.prototype=new lS;
function lK(l,t,a,k){if(l==null)l=!1;if(t==null)t=!1;if(a==null)a=!1;WF.call(this);this.hF=new x;this.xW=new x;
this.OIW=72;this.uV=72;this.W=w.X("span","");this.rB=new Hq([12,41],0,0,null,0,!1,!0);this.W.appendChild(this.rB.W);
this.rB.a(w.E.z,this.jA,this);var R=["px","%"];if(l)R=R.concat(["mm","in"]);this.JI=new H$(null,R);this.W.appendChild(this.JI.W);
this.W.appendChild(w.X("br"));this.JI.a(w.E.z,this.jA,this);this.cp=new Hq([12,42],0,0,null,0,!1,!0);
this.W.appendChild(this.cp.W);this.cp.a(w.E.z,this.jA,this);var u=new Wa("\u21F5",!1,null,!0);u.a("click",this.OiU,this);
this.W.appendChild(u.W);this.u$=new HM("DPI","Px / Inch",5);if(l&&k==null)this.W.appendChild(this.u$.W);
this.u$.a(w.E.z,this.jA,this);this.ur=new HV("Relative");this.ur.a(w.E.z,this.jA,this);if(a){this.W.appendChild(w.X("br"));
this.W.appendChild(this.ur.W)}this.Jd=new HV([12,51]);this.Jd.a(w.E.z,this.jA,this);this.hN=new OE("Ratio: ");
this.W.appendChild(w.X("br"));if(t){this.W.appendChild(this.Jd.W);this.W.appendChild(this.hN.W);this.Jd.AN()}}lK.prototype=new WF;
lK.prototype.OiH=function(l){this.Jd.g(l)};lK.prototype.G=function(){this.rB.G();this.cp.G();this.Jd.G()};
lK.prototype.OiU=function(l){var t=this.xW.x;this.xW.x=this.xW.y;this.xW.y=t;this.KR();this.t(new Z(w.E.z,!1))};
lK.prototype.jA=function(l){if(l.target==this.JI||l.target==this.ur){this.KR();return}var t=this.hF,a=this.uV,k=parseFloat(this.rB.d());
if(isNaN(k))k=1;var R=parseFloat(this.cp.d());if(isNaN(R))R=1;var u=this.JI.d();if(u==1){k=this.hF.x*(k/100);
R=this.hF.y*(R/100)}var b=[1,1,25.4/a,1/a][u];k/=b;R/=b;if(this.ur.d()){k+=this.hF.x;R+=this.hF.y}if(l.target==this.u$){var v=parseInt(this.u$.d());
if(u>1){var H=v/a;k*=H;R*=H}a=v}if(this.Jd.HK()){if(l&&l.target==this.rB)R=k*(t.y/t.x);else k=R*(t.x/t.y)}k=Math.max(Math.abs(k),1);
R=Math.max(Math.abs(R),1);this.xW=new x(Math.round(k),Math.round(R));this.uV=a;this.KR();this.t(new Z(w.E.z,!1))};
lK.prototype.OiK=function(l){this.JI.g(l);this.KR()};lK.prototype.g=function(l,t){this.hF=l.clone();
this.xW=l.clone();this.OIW=t;this.uV=t;this.KR()};lK.prototype.KR=function(){var l=this.xW.x,t=this.xW.y,a=this.uV,k=(l/t).toFixed(3);
while(k.charAt(k.length-1)=="0")k=k.substring(0,k.length-1);if(k.charAt(k.length-1)==".")k=k.substring(0,k.length-1);
this.hN.g("  "+k+" : 1");if(this.ur.d()){l-=this.hF.x;t-=this.hF.y}var R=this.JI.d();if(R==1){l=100*l/this.hF.x;
t=100*t/this.hF.y}l=Math.round(l);t=Math.round(t);var u=[1,1,25.4/a,1/a][R];l*=u;t*=u;var b=R>2?2:0;
this.rB.ym(b);this.cp.ym(b);this.rB.g(l);this.cp.g(t);this.u$.g(a)};lK.prototype.d=function(){return this.xW.clone()};
lK.prototype.CU=function(){return this.uV};function OL(){WF.call(this);this.iJ=0;this.ud=[0,0,1,1,100,100];
this.W=w.X("span","fitem");this.aD=new H$(null,[[12,89,0],[12,89,1],[12,89,2]]);this.W.appendChild(this.aD.W);
this.aD.a(w.E.z,this.jA,this);this.rB=new HM("W",null,3);this.rB.g(0);this.W.appendChild(this.rB.W);
this.rB.a(w.E.z,this.jA,this);this.cp=new HM("H",null,3);this.cp.g(0);this.W.appendChild(this.cp.W);
this.cp.a(w.E.z,this.jA,this);this.g({hL:0,x:0,y:0})}OL.prototype=new WF;OL.prototype.G=function(){this.rB.Pa(Wq.get([12,41]).charAt(0));
this.cp.Pa(Wq.get([12,42]).charAt(0));this.aD.G()};OL.prototype.jA=function(l){if(l.target==this.aD){var t=this.d(),a=this.ud;
a[this.iJ*2]=t.x;a[this.iJ*2+1]=t.y;this.iJ=t.hL;this.g({hL:t.hL,x:a[t.hL*2],y:a[t.hL*2+1]})}this.t(new Z(w.E.z,!1))};
OL.prototype.g=function(l){this.aD.g(l.hL);this.rB.g(l.x);this.cp.g(l.y);if(l.hL==0){this.rB.Jf();this.cp.Jf()}else{this.rB.fW();
this.cp.fW()}};OL.prototype.d=function(){return{hL:this.aD.d(),x:parseInt(this.rB.d()),y:parseInt(this.cp.d())}};
function OE(l,t){WF.call(this);this.ru=l;this.W=w.X("span","labelitem fitem"+(t?" spread":""));this.G()}OE.prototype=new WF;
OE.prototype.g=function(l){this.W.textContent=l};OE.prototype.d=function(){return this.W.textContent};
OE.prototype.fW=function(){this.W.removeAttribute("disabled")};OE.prototype.Jf=function(){this.W.setAttribute("disabled","")};
OE.prototype.Pa=function(l){this.W.textContent=l};OE.prototype.G=function(){var l=typeof this.ru=="string"?this.ru:Wq.get(this.ru);
this.W.textContent=l};OE.prototype.yw=function(){return this.ru};function li(l){WF.call(this);this.W=w.X("span","");
this.vO=l;this.Nc=new $W("Off X",-100,100,l?"%":"px",0,!1);this.RU=new $W("Off Y",-100,100,l?"%":"px",0,!1);
this.Nc.a(w.E.z,this.jA,this);this.RU.a(w.E.z,this.jA,this);this.W.appendChild(this.Nc.W);this.W.appendChild(this.RU.W)}li.prototype=new WF;
li.prototype.G=function(){this.Nc.G();this.RU.G()};li.prototype.jA=function(l){this.t(new Z(w.E.z,!1))};
li.prototype.Oiq=function(l){this.Nc.g(l.x);this.RU.g(l.y)};li.prototype.OPH=function(){return new x(this.Nc.d(),this.RU.d())};
li.prototype.g=function(l){var t=l.Hrzn.v,a=l.Vrtc.v;if(this.vO){t=t.val;a=a.val}this.Nc.g(t);this.RU.g(a)};
li.prototype.d=function(){var l=this.Nc.d(),t=this.RU.d();if(this.vO)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:l}},Vrtc:{t:"UntF",v:{type:"#Prc",val:t}}};
else return{classID:"Pnt",Hrzn:{v:l,t:"doub"},Vrtc:{v:t,t:"doub"}}};function Hq(l,t,a,k,R,u,b){lS.call(this,l,t,a,k,R,!0,u);
w.jI(this.W,"rangedropinput");this.W.appendChild(this.lh);this.Ne.setAttribute("style","width:3.3em");
this.W.appendChild(this.Ne);this.vA=w.X("span","rangecont");this.vA.appendChild(this.FR);this.iC=w.X("button");
this.iC.innerHTML="\u25BC";w.Ox(this.iC,this.OPI.bind(this));if(b!=!0)this.W.appendChild(this.iC);this.jc=new WF;
this.jc.W=this.vA}Hq.prototype=new lS;Hq.prototype.OPI=function(l){if(w.Ev(this.jc.W))return;l.stopPropagation();
var t=this.W.getBoundingClientRect();this.FR.setAttribute("style","width:"+t.width+"px;");var a=new Z(w.E.J,!0);
a.data={T:w.h._e,jn:this.jc,x:t.left,y:t.top+t.height};this.t(a)};function Ou(){WF.call(this);this.W=w.X("span","fitem strokebutton");
this.v$=[{strokeStyleLineDashSet:{t:"VlLs",v:[]}},{strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineDashSet:{t:"VlLs",v:[{t:"UntF",v:{type:"#Nne",val:4}},{t:"UntF",v:{type:"#Nne",val:2}}]}},{strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleRoundCap"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleLineDashSet:{t:"VlLs",v:[{t:"UntF",v:{type:"#Nne",val:0}},{t:"UntF",v:{type:"#Nne",val:2}}]}}];
this.iN=null;this.uD=w.X("button");this.W.appendChild(this.uD);this.uD.addEventListener("click",this.mQ.bind(this),!1);
var l=w.X("canvas","gsicon");w.IF(l,40,16);this.Aa=l.getContext("2d");this.uD.appendChild(l);var t=w.X("span");
t.textContent=" \u25BC";this.uD.appendChild(t);this.NN=new WF;this.NN.W=w.X("div","floatcont form");
this.NN.W.setAttribute("style","width: 12em;");this.NN.parent=this;this.BD=[new H$([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new H$("Caps",["Butt","Round","Square"]),new H$("Corners",["Miter","Round","Bevel"]),new HM("Gaps")];
for(var a=0;a<this.v$.length;a++)this.BD.push(new Wa(["Full","Dash","Dots"][a]));for(var a=0;a<this.BD.length;
a++){var k=this.BD[a];this.NN.W.appendChild(k.W);var R=a<4?w.E.z:"click";k.a(R,this.jA,this);if(a==3){this.NN.W.appendChild(w.X("br"))}}}Ou.prototype=new WF;
Ou.prototype.mQ=function(l){var t=this.uD.getBoundingClientRect(),a=new Z(w.E.J,!0);a.data={T:w.h._e,jn:this.NN,x:t.left,y:t.top+t.height+4};
this.t(a)};Ou.prototype.jA=function(l){var t=this.iN,Hc=this.BD,a=Hc.indexOf(l.target),k=P.BF.mt[Hc[0].d()],R=P.BF.Rc[Hc[1].d()],u=P.BF.join[Hc[2].d()];
t.strokeStyleLineAlignment.v.strokeStyleLineAlignment=k;t.strokeStyleLineCapType.v.strokeStyleLineCapType=R;
t.strokeStyleLineJoinType.v.strokeStyleLineJoinType=u;var b=t.strokeStyleLineDashSet.v=[],v=Hc[3].d().split(" ");
while((v.length&1)!=0)v.pop();for(var H=0;H<v.length;H++)b.push({t:"UntF",v:{type:"#Nne",val:parseInt(v[H])}});
if(l.type=="click"){var N=JSON.parse(JSON.stringify(this.v$[a-4]));for(var z in N)t[z]=N[z]}this.t(new Z(w.E.z,!1))};
Ou.prototype.G=function(){for(var l=0;l<this.BD.length;l++)this.BD[l].G()};Ou.prototype.g=function(l){this.iN=JSON.parse(JSON.stringify(l));
var t=l.strokeStyleLineAlignment.v.strokeStyleLineAlignment,a=l.strokeStyleLineCapType.v.strokeStyleLineCapType,k=l.strokeStyleLineJoinType.v.strokeStyleLineJoinType,R=[],u=l.strokeStyleLineDashSet.v;
for(var b=0;b<u.length;b++)R.push(u[b].v.val);var Hc=this.BD;Hc[0].g(P.BF.mt.indexOf(t));Hc[1].g(P.BF.Rc.indexOf(a));
Hc[2].g(P.BF.join.indexOf(k));Hc[3].g(R.join(" "));var v=this.Aa,H=v.canvas.width,N=v.canvas.height,z=Math.min(5,l.strokeStyleLineWidth.v.val);
for(var A=0;A<R.length;A++)R[A]*=z;v.clearRect(0,0,H,N);v.setLineDash(R);v.lineCap=["butt","round","square"][P.BF.Rc.indexOf(a)];
v.lineJoin=["miter","round","bevel"][P.BF.join.indexOf(k)];v.lineWidth=z;v.beginPath();v.moveTo(0,N/2);
v.lineTo(H*2,N/2);v.stroke()};Ou.prototype.d=function(){return JSON.parse(JSON.stringify(this.iN))};
function OC(l){lO.call(this,l,!1,"contourbutton",34,16,Wm.Tk);this.sd=new HM([12,86],null,16);this.sd.a("input",this.te,this);
this.NN.W.appendChild(this.sd.W);this.iR=null;this.Mt="";this.fU=null}OC.prototype=new lO;OC.prototype.G=function(){lO.prototype.G.call(this);
this.sd.G()};OC.prototype.Mq=function(l){this.g(this.iR[l.target.d()]);this.t(new Z(w.E.z))};OC.prototype.te=function(l){this.Mt=this.sd.d().toLowerCase();
this.pO()};OC.prototype.xU=function(){if(!this.Gp)return;var l=this.pJ,t=Math.floor(38*w.m()),a=Math.floor(38*w.m());
this.fU=[];for(var k=0;k<l.length;k++)this.fU.push(OC.pA(l[k],t,a));this.pO();this.Gp=!1};OC.prototype.pO=function(){var l=Math.floor(38*w.m()),t=Math.floor(38*w.m());
this.iR=[];var a=[],k=[],R=this.pJ;for(var u=0;u<R.length;u++){if(R[u].Ir.toLowerCase().indexOf(this.Mt)==-1)continue;
this.iR.push(R[u]);a.push(this.fU[u]);k.push(R[u].Ir)}this.Rg.jr(a,k,l,t)};OC.prototype.g=function(l){this.Bs=OC.clone(l);
this.S$()};OC.prototype.S$=function(){var l=Math.floor(23*w.m()),t=Math.floor(23*w.m()),a=OC.pA(this.Bs,l,t);
this.RH.setAttribute("src",a);w.lA(this.RH,l,t)};OC.prototype.d=function(){return OC.clone(this.Bs)};
OC.clone=function(l){return{Ir:l.Ir,si:l.si,k:_.rv.f_(l.k),_Y:l._Y.clone()}};OC.Ej=null;OC.Cf=null;OC.pA=function(l,t,a){var k=_.rv.f_(l.k),R=l._Y,u=Math.min(t/R.$,a/R.e)*.9,b=new WM;
b.translate(-.5,-.5);b.scale(.95,.95);b.translate(.5,.5);b.scale(u*R.$,u*R.e);$.r.CH(k,b);var v=new _.rv;
v.k=k;var H=v.c$();H.rect.x=Math.floor((t-H.rect.$)/2);H.rect.y=Math.floor((a-H.rect.e)/2);var N=$.I(H.rect.s()*4);
$.IK(N,4278190080);$.sI(H.channel);$.xm(H.channel,N,0);$.xm(H.channel,N,1);$.xm(H.channel,N,2);var z=OC;
if(z.Ej==null)z.Ej=w.X("canvas");var A=z.Ej,Q=A.getContext("2d");if(A.width!=t||A.height!=a||z.Cf==null){A.width=t;
A.height=a;z.Cf=Q.createImageData(t,a)}var S=z.Cf;$.IK(S.data,4294967295);$.BM(N,H.rect,S.data,new d(0,0,t,a));
Q.putImageData(S,0,0);return A.toDataURL()};function Ot(){WF.call(this);this.Bf=null;this.W=w.X("span","fitem");
this.mS=new OS([14,9]);this.PO=new Hq([12,14],0,150,"pt",1,!0);this.bj=new Ou;this.mU=[this.mS,this.PO,this.bj];
for(var l=0;l<this.mU.length;l++){var t=this.mU[l];this.W.appendChild(t.W);t.parent=this;t.a(w.E.z,this.jA,this)}}Ot.prototype=new WF;
Ot.prototype.G=function(){for(var l=0;l<this.mU.length;l++)this.mU[l].G()};Ot.prototype.gO=function(l,t){this.mS.gO(l,t)};
Ot.prototype.jA=function(l){var t=this.Bf,a=this.mS.d(),k=a.cH;t.strokeEnabled.v=k!=0;if(k!=0){t.strokeStyleContent.v=a.Xj;
a.Xj.classID=P.BF.bt[k-1]}t.strokeStyleLineWidth.v.val=this.PO.d();if(l.target==this.bj)t=this.bj.d();
this.Bf=t;this.t(new Z(w.E.z,!1))};Ot.prototype.g=function(l,t,a){this.Bf=JSON.parse(JSON.stringify(t));
var k=t.strokeEnabled.v,R=t.strokeStyleContent.v,u=k?{cH:1+P.BF.bt.indexOf(R.classID),Xj:R}:{cH:0};this.mS.g(l,u,a);
this.PO.g(t.strokeStyleLineWidth.v.val);this.bj.g(t)};Ot.prototype.d=function(){return JSON.parse(JSON.stringify(this.Bf))};
function Ad(l,t){WF.call(this);this.W=w.X("span","fitem");this.up=["front","union","difference","intersection","xor"];
this.OPP=[[18,0],[18,1],[18,2],[18,3],[18,4]];this.sz=[];this.PW=0;for(var a=0;a<this.up.length;a++){var k=new Wa("<img src=\""+PIMG["set/"+this.up[a]]+"\" class=\"autoscale gsicon\" />",!1);
k.a("click",this.OPU,this);this.W.appendChild(k.W);this.sz.push(k)}this.sz[0].AN()}Ad.prototype=new WF;
Ad.prototype.d=function(){return this.up[this.PW]};Ad.prototype.g=function(l){this.PW=this.up.indexOf(l);
for(var t=0;t<this.sz.length;t++)this.sz[t].QE();this.sz[this.PW].AN()};Ad.prototype.OPU=function(l){this.g(this.up[this.sz.indexOf(l.currentTarget)]);
this.t(new Z(w.E.z,!1))};Ad.prototype.G=function(){};function HM(l,t,a){WF.call(this);var k=w.x_();this.W=w.X("span","fitem tinput");
if(l){this.ru=l;this.lh=w.X("label","flabel");this.W.appendChild(this.lh);this.lh.setAttribute("for",k);
this.G()}this.Ne=w.X("input","");this.Ne.setAttribute("type","text");this.Ne.setAttribute("id",k);if(a)this.Ne.setAttribute("style","width:"+a+"em");
this.W.appendChild(this.Ne);if(t){this._i=w.X("span","");this._i.textContent=t;this.W.appendChild(this._i)}this.Ne.addEventListener("change",this.kt.bind(this),!1);
this.Ne.addEventListener("input",this.OPF.bind(this),!1)}HM.prototype=new WF;HM.prototype.G=function(){if(this.ru==null)return;
var l=typeof this.ru=="string"?this.ru:Wq.get(this.ru);this.lh.textContent=l+":"};HM.prototype.Pa=function(l){this.lh.textContent=l};
HM.prototype.g=function(l){this.Ne.value=l==null?"":l};HM.prototype.d=function(){return this.Ne.value};
HM.prototype.nk=function(){this.Ne.select();this.Ne.focus()};HM.prototype.kt=function(l){this.t(new Z(w.E.z,!1))};
HM.prototype.OPF=function(l){this.t(new Z("input",!1))};function WB(l,t,a,k,R,u){lS.call(this,l,t,a,k,R,!0,u);
w.jI(this.W,"trangeinput");this.W.appendChild(this.lh);this.W.appendChild(this.Ne);var b=w.X("span","rangecont");
this.W.appendChild(b);b.appendChild(this.FR);this.FR.setAttribute("style","width:97%;")}WB.prototype=new lS;
function AC(){WF.call(this);this.lL={xX:20,xo:!0};this.W=w.X("span","");this.Je=new Hq([12,24],0,255);
this.Je.g(10);this.W.appendChild(this.Je.W);this.Je.a(w.E.z,this.jA,this);this.uC=new HV([12,25]);this.uC.AN();
this.W.appendChild(this.uC.W);this.uC.a(w.E.z,this.jA,this)}AC.prototype=new WF;AC.prototype.jA=function(){var l=parseInt(this.Je.d());
l=Math.max(0,Math.min(255,l));this.Je.g(l);this.lL.xX=l;this.lL.xo=this.uC.HK();this.t(new Z(w.E.z,!1))};
AC.prototype.d=function(){return JSON.parse(JSON.stringify(this.lL))};AC.prototype.G=function(){this.Je.G();
this.uC.G()};function OR(l,t){WF.call(this);if(t==null)t=!1;this.fU=[];this.YV=0;this.YO=[];this.hZ=[];
for(var a in $.Ha.type){if(a=="warpCustom"&&!t)continue;this.YO.push(a);this.hZ.push($.Ha.type[a])}this.W=w.X("span","fitem warpbutton");
this.NN=new WF;this.NN.W=w.X("div","floatcont");this.NN.W.setAttribute("style","width: 10em;");if(l){this.lh=w.X("label","flabel");
this.lh.innerHTML=l;this.W.appendChild(this.lh)}this.T=w.X("button");this.W.appendChild(this.T);this.T.addEventListener("click",this.mQ.bind(this),!1);
this.mE=new Ao(!0);this.NN.W.appendChild(this.mE.W);this.mE.a(w.E.z,this.OPZ,this);this.G()}OR.prototype=new WF;
OR.prototype.Pa=function(l){this.lh.textContent=l};OR.prototype.G=function(){this.fU=[];var l=Math.floor(114*w.m()),t=Math.floor(23*w.m()),a=w.X("canvas","");
a.width=l;a.height=t;var k=a.getContext("2d");k.lineWidth=1;k.strokeStyle="#000000";k.font=Math.floor(13*w.m())+"px sans-serif";
var R=Math.floor(16*w.m()),u=new d(0,0,R,R);for(var b=0;b<this.YO.length;b++){var v=this.YO[b];k.clearRect(0,0,a.width,a.height);
var H=$.Ha.Ha(u,v,!0,.3,0,0),N=$.M.Gf(u);N.A.push("M","L","M","L");N.p.push(0,R/2,R,R/2);N.p.push(R/2,0,R/2,R);
N=$.M.$H(N);N=$.M.$z(N,R/5);$.wS.apply(H,N.p,u);$.M.N(N.p,new WM(1,0,0,1,Math.floor(8*w.m())+.5,Math.floor(3*w.m())+.5),N.p);
k.beginPath();Typr.U.pathToContext({cmds:N.A,crds:N.p},k);k.stroke();k.fillText(Wq.get($.Ha.type[v]),Math.floor(40*w.m()),Math.floor(16*w.m()));
this.fU.push(a.toDataURL())}this.mE.jr(this.fU,null,l,t);this.S$()};OR.prototype.mQ=function(l){var t=this.T.getBoundingClientRect(),a=new Z(w.E.J,!0);
a.data={T:w.h._e,jn:this.NN,x:t.left,y:t.top+t.height+4};this.t(a)};OR.prototype.OPZ=function(l){var t=new Z(w.E.J,!0);
t.data={T:w.h.zN,jn:this.NN};this.t(t);this.YV=l.target.d();this.S$();this.t(new Z(w.E.z))};OR.prototype.S$=function(){this.mE.KJ(this.YV);
this.T.innerHTML="<img src=\""+this.fU[this.YV]+"\" class=\"gsicon\" />";var l=Math.floor(114*w.m()),t=Math.floor(23*w.m());
w.lA(this.T.firstChild,l,t)};OR.prototype.d=function(){return this.YO[this.YV]};OR.prototype.g=function(l){this.YV=this.YO.indexOf(l);
this.S$()};function Ae(l,t,a){WF.call(this);if(l==null)l=!1;if(t==null)t=!1;if(a==null)a=!1;this.OIH=t;
this.Ha=null;this.sF=new OR("Style:",a);this.sF.parent=this;this.sF.a(w.E.z,this.TX,this);this.d_=new H$("Orientation:",["Horizontal","Vertical"]);
this.d_.a(w.E.z,this.TX,this);var k=l?Hq:WB;this.dr=new k("Bend:",-100,100,"%");this.df=new k("Horizontal Distortion:",-100,100,"%");
this.dD=new k("Vertical Distortion:",-100,100,"%");this.dr.parent=this.df.parent=this.dD.parent=this;
this.dr.a(w.E.z,this.TX,this);this.df.a(w.E.z,this.TX,this);this.dD.a(w.E.z,this.TX,this)}Ae.prototype=new WF;
Ae.prototype.G=function(){var l=this.OIH?1:100;this.sF.Pa(Wq.get([12,22])+":");this.sF.G();this.d_.Pa(Wq.get([22,0])+":");
this.d_.SZ([Wq.get([22,4,0]),Wq.get([22,4,1])]);this.dr.Pa(Wq.get([22,1])+":");this.df.Pa(Wq.get([22,2]).substring(0,l)+":");
this.dD.Pa(Wq.get([22,3]).substring(0,l)+":")};Ae.prototype.TX=function(){var l=this.Ha,t=this.sF.d(),a=l.warpStyle.v.warpStyle;
if(t=="warpCustom")$.Ha._B($.Ha.GY(l),l);else delete l.customEnvelopeWarp;l.warpStyle.v.warpStyle=this.sF.d();
l.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.d_.d()];l.warpValue.v=this.dr.d();l.warpPerspective.v=this.df.d();
l.warpPerspectiveOther.v=this.dD.d();if(t=="warpNone"||t=="warpCustom"){l.warpValue.v=0;l.warpPerspective.v=0;
l.warpPerspectiveOther.v=0}else if(a=="warpNone"||a=="warpCustom")l.warpValue.v=50;this.t(new Z(w.E.z,!1));
this.g(l)};Ae.prototype.d=function(l){return JSON.parse(JSON.stringify(this.Ha))};Ae.prototype.g=function(l){this.Ha=JSON.parse(JSON.stringify(l));
this.sF.g(l.warpStyle.v.warpStyle);this.d_.g(l.warpRotate.v.Ornt=="Hrzn"?0:1);this.dr.g(l.warpValue.v);
this.df.g(l.warpPerspective.v);this.dD.g(l.warpPerspectiveOther.v);var t=l.warpStyle.v.warpStyle,a=t=="warpNone"||t=="warpCustom",k=[this.d_,this.dr,this.df,this.dD];
for(var R=0;R<k.length;R++)if(a)k[R].Jf();else k[R].fW()};function Ok(l){WF.call(this);this.W=w.X("div");
this.PH=l;this.Yz=!1;this.mK=new x(0,0);this.pt="grab; cursor:-moz-grab; cursor:-webkit-grab;";this.W.setAttribute("style","cursor:"+this.pt);
this.kc=w.X("canvas","canv");this.W.appendChild(this.kc);this.Aa=this.kc.getContext("2d");this.mq=null;
this.wC=null;this.Pl=null;this.dq=0;this.OIg=this.pg.bind(this);this.vW=null;this.bg=null;this.Y=new AX({$:1,e:1});
this.QL=null;this.jp=null;this.OIx=this.Yw.bind(this);this.vH=this.sJ.bind(this);this.vl=this.GW.bind(this);
this.OIj=this.KL.bind(this);this.Ye=0;this.ms=null;this.p$(this.kc);this.Cm(this)}Ok.prototype=new WF;
Ok.prototype.Bd=function(l){var t=this.pt;this.Yz=l.L(J.Px);if(this.Yz)t="grab; cursor:-moz-grab; cursor:-webkit-grab;";
this.W.setAttribute("style","cursor:"+t);if(l.L(J.$K)){var a=0;if(l.L(J.Iu))a=1;if(l.L(J.or))a=-1;if(a!=0){this.pW(new x(this.kc.width/2,this.kc.height/2),a==1)}}};
Ok.prototype.nu=function(l){this.pt=l;this.W.setAttribute("style","cursor:"+l)};Ok.prototype.p$=function(l){w.Ox(l,this.OIx);
w.mM(l);l.addEventListener("wheel",this.OIj,!1)};Ok.prototype.Cm=function(l){l.a("viewchange",this.OPJ,this)};
Ok.prototype.OPJ=function(l){var t=this.Y.H,a=l.currentTarget.nY();this.Y.H=a.H;this.Y.n=a.n.clone();
if(t!=a.H)this.Cx();this.cP()};Ok.prototype.nY=function(){return{H:this.Y.H,n:this.Y.n}};Ok.prototype.g=function(l,t){var a=l[0].Pk;
if(this.wC!=null&&this.wC[0].Pk.cG(a)){}else{this.Y.NY={$:a.$,e:a.e};this.Y.n=new x(0,0);this.Y.H=1}this.wC=l;
this.Cx();this.nQ();this.dq=0;this.pg();this.bg=t};Ok.prototype.KL=function(l){l.preventDefault();if(l.deltaY==0||Date.now()-this.Ye<100)return;
var t=w.LV(l);t.x=w.m()*t.x;t.y=w.m()*t.y;this.Ye=Date.now();this.pW(t,l.deltaY<0)};Ok.prototype.pW=function(l,t){s.NZ.Ms(this.Y,l,t);
this.Cx();this.t(new Z("viewchange"));this.t(new Z("zoom"))};Ok.prototype.Cx=function(){this.Pl=[];var l=this.Y.H;
for(var t=0;t<this.wC.length;t++){var a=this.wC[t],k=new Uint8Array(a.data),R;if(l>=1)R={nr:k,rect:a.Pk};
else R=$.ti(k,a.Pk,l);this.Pl.push(R)}};Ok.prototype.nQ=function(){clearTimeout(this.vW)};Ok.prototype.cP=function(){if(this.wC==null)return;
var l=this.wC[this.dq],t=this.Pl[this.dq],a=this.Y,k,R;if(a.H<=1){var u=t.rect.clone();u.x=a.n.x+Math.floor((a.cO.$-t.rect.$)/2);
u.y=a.n.y+Math.floor((a.cO.e-t.rect.e)/2);k=t.nr;R=u}else{var b=a.pT(),v=a.m$(),H=new d(0,0,b.$*a.H,b.e*a.H);
H.x=b.x*a.H+v.x;H.y=b.y*a.H+v.y;if(a.wg==null||a.wg.length!=b.s()*4){a.wg=$.I(b.s()*4)}if(a.ND==null||a.ND.length!=H.s()*4){a.ND=$.I(H.s()*4)}$.IK(a.wg,0);
$.BM(t.nr,t.rect,a.wg,b);$.scale.$j(a.wg,b.$,b.e,a.ND,H.$,H.e,a.H);k=a.ND;R=H}var v=a.m$();$.O$(this.mq.data,a.cO.$,a.cO.e,8,-v.x,-v.y);
$.j.bz("norm",k,R,this.mq.data,a.cO,a.cO,1);this.Aa.setTransform(1,0,0,1,0,0);this.Aa.putImageData(this.mq,0,0);
var N=this.bg;if(N){this.Aa.fillStyle="#00ff00";this.Aa.lineWidth=1;var z=this.wC[0].Pk,A=a.H*z.$/N.wa;
this.Aa.beginPath();this.Aa.strokeStyle="#ff6600";for(var Q=0;Q<N.Ii;Q++)for(var S=0;S<N.wa;S++){var o=Q*N.wa+S<<1,p=(S+N.map[o])*A+v.x,O=(Q+N.map[o+1])*A+v.y;
if(S!=N.wa-1){this.Aa.moveTo(p,O);var E=(S+1+N.map[o+2])*A+v.x,L=(Q+N.map[o+3])*A+v.y;this.Aa.lineTo(E,L)}if(Q!=N.Ii-1){this.Aa.moveTo(p,O);
var E=(S+N.map[o+N.wa*2])*A+v.x,L=(Q+1+N.map[o+N.wa*2+1])*A+v.y;this.Aa.lineTo(E,L)}}this.Aa.stroke()}if(a.H<1)v=R;
var S=v.x,Q=v.y,U=v.$,W=v.e;this.Aa.clearRect(S,Q,-1e3,W);this.Aa.clearRect(S+U,Q,1e3,W);this.Aa.clearRect(S-1e3,Q,U+2e3,-1e3);
this.Aa.clearRect(S-1e3,Q+W,U+2e3,1e3);this.Aa.setTransform(1,0,0,1,0,a.cO.e);this.Aa.scale(w.m(),w.m());
this.Aa.fillStyle="rgba(0,0,0,1)";this.Aa.fillRect(0,0,50,-18);this.Aa.font=11+"px monospace";this.Aa.fillStyle="rgba(255,255,255,1)";
var Y=a.H*100;if(Y<100)Y=Y.toFixed(2);Y=Y+"%";var y=this.Aa.measureText(Y).width;this.Aa.fillText(Y,(50-y)/2,-6)};
Ok.prototype.pg=function(){var l=this.wC,t=l.length,a=this.wC[this.dq];this.cP();if(t!=1&&l[(this.dq+1)%t].Pk.cG(a.Pk)){var k=a.lX?parseInt(a.lX.split(",").pop()):30;
if(k==0)k=16;this.vW=setTimeout(this.OIg,k)}this.dq=(this.dq+1)%t};Ok.prototype.ci=function(l,t){var a=Math.floor(l*w.m()),k=Math.floor(t*w.m());
this.Y.cO=new d(0,0,a,k);this.kc.width=a;this.kc.height=k;this.kc.setAttribute("style","width:"+a/w.m()+"px; height:"+k/w.m()+"px; display:block;");
this.mq=this.Aa.createImageData(a,k);this.cP()};Ok.prototype.Yw=function(l){this.ms=l.target;w.iZ(window,this.vH);
w.Pe(window,this.vl);this.QL=w.LV(l,this.kc);this.QL.x*=w.m();this.QL.y*=w.m();this.mK=this.QL;this.jp=this.Y.n.clone();
if(this.PH&&this.ms==this.kc&&!this.Yz)this.t(new Z("mousedown"))};Ok.prototype.sJ=function(l){var t=this.Y,a=this.wC[this.dq].Pk.clone();
a.$*=t.H;a.e*=t.H;var k=w.LV(l,this.kc);k.x*=w.m();k.y*=w.m();this.mK=k;if(this.PH&&this.ms==this.kc&&!this.Yz)this.t(new Z("mousemove"));
else if(!t.cO.rI(a)){var R=k.x-this.QL.x,u=k.y-this.QL.y;t.n.x=this.jp.x+Math.round(R);t.n.y=this.jp.y+Math.round(u);
this.t(new Z("viewchange"))}};Ok.prototype.GW=function(l){w.QU(window,this.vH);w.MH(window,this.vl);
if(l.detail>1){this.Y.H=1;this.Y.n.$x(0,0);this.cP()}if(this.PH&&this.ms==this.kc&&!this.Yz)this.t(new Z("mouseup"))};
Ok.prototype._b=function(){return this.Y.KV(this.mK.x,this.mK.y)};function OX(){WF.call(this);this.mX=null;
this.dL=null;this.RE=null;this.me=null;this.vg="";this.mo=[];this.Pz=0;this.sb=[];this.vi=0;var l=this.W=w.X("div",""),t=this.OIt=w.X("div","form");
t.setAttribute("style","line-height:0; margin-bottom:0.5em;");l.appendChild(t);var a=this.OIC=w.X("span");
t.appendChild(a);a.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var k=this.PU=new HV([12,88,0]);
k.g(!1);t.appendChild(k.W);k.a(w.E.z,this.Js,this);var R=this.PE=new HM([25,1,1]);t.appendChild(R.W);
R.a(w.E.z,this.Js,this);this.$a=new Od(14);this.$a.OID(3);t.appendChild(this.$a.W);this.$a.parent=this;
this.$a.a(w.E.z,this.OPo,this);var u=this.OIh=new Wa([25,1,2],null,!1,!0);t.appendChild(u.W);u.a("click",this.CF,this);
this.OIv=this.OPp.bind(this);this.RZ=w.X("div","svggallery scrollable");l.appendChild(this.RZ);this.RZ.addEventListener("scroll",this.OPQ.bind(this))}OX.prototype=new WF;
OX.prototype.G=function(){this.OIC.textContent=Wq.get([25,0]);this.$a.G();this.PU.G();this.PE.G();this.OIh.G()};
OX.prototype.ci=function(l,t){t-=26;this.mX=new x(l,t);this.OIt.setAttribute("style","width:"+l+"px");
this.RZ.setAttribute("style","width:"+l+"px; height:"+t+"px");if(w.Ev(this.W))this.Js()};OX.prototype.g=function(l){this.dL=l;
this.Js()};OX.prototype.OPQ=function(l){var t=this.RZ;if(t.scrollTop+t.clientHeight+10>=t.scrollHeight){this.Js(!0)}};
OX.prototype.OPo=function(l){this.RE=null;this.Js()};OX.prototype.OPp=function(l){if(Date.now()-this.vi<2e3)return;
this.vi=Date.now();this.Pz=this.sb.indexOf(l.currentTarget);var t=this.CZ(this.dL.x,this.dL.y);if(t[1]){var a=t[1].largeImageURL,k=new XMLHttpRequest;
k.responseType="arraybuffer";k.open("GET",a,!0);k.onload=this.Okg.bind(this);k.send();return}this.pP(t)};
OX.prototype.Okg=function(l){var t=l.target.response,a=Wr.Xv(t),k=Wr.Dz(a),R=k.cq(t),u=this.CZ(this.dL.x,this.dL.y,[t,R[0].Pk.$,R[0].Pk.e]);
this.pP(u)};OX.prototype.pP=function(l){var t=l[0],a=Wr.Xv(t),k=Wr.Dz(a),R=new Hb("template.psd");k.cq(t,R);
var u=new Z(w.E.J,!0);u.data={T:w.h.lT,NY:R};this.t(u);this.parent.close()};OX.prototype.CF=function(l){var t=l.target;
this.mo=[];this.Js()};OX.prototype.Okn=function(l){var t=JSON.parse(l.target.response);this.me=t.hits;
this.Js()};OX.prototype.Js=function(l){if(this.dL==null||this.mX==null)return;if(this.mX.x<=0)return;
var t=this.dL.x,a=this.dL.y;if(Math.min(t,a)<50)return;if(l!=!0){this.sb=[];w.BT(this.RZ);this.RZ.scrollTop=0}if(this.sb.length>300)return;
var k=Math.min(1,300/Math.max(t,a)),R=this.mX.clone();R.x-=20;var u=Math.max(1,Math.floor(R.x/(t*k))),b=Math.max(1,Math.ceil(R.y/(a*k)));
k=R.x/u/t;var v=u*b;if(this.RE==null){this.RE=[];for(var H=0;H<FNTS.list.length;H++){var N=FNTS.list[H],z=N[3];
if(!this.$a.tB(N))continue;if(N[5].slice(0,2)=="gf")continue;this.RE.push(N)}if(this.RE.length==0)this.RE.push(FNTS.list[7])}var A=this.PU.d(),Q=this.PE.d().trim();
this.PE.jP(A);if(A&&(this.me==null||Q!=this.vg)){var S=new XMLHttpRequest,o="https://pixabay.com/api/?image_type=photo"+(Q==""?"":"&q="+encodeURIComponent(Q))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
S.open("GET",o,!0);S.onload=this.Okn.bind(this);S.send();this.vg=Q;return}k*=(t*k-5)/(t*k);var p=this.sb.length;
for(var H=0;H<v;H++){var O=this.Pz=p+H;if(this.mo[O]==null)this.mo[O]=Math.floor(Math.random()*4294967295);
var E=this.CZ(Math.round(t*k),Math.round(a*k)),L=E[0];L=OK.Ei(new Uint8Array(L));var U=w.X("span");U.innerHTML=L;
this.sb.push(U);this.RZ.appendChild(U);U.addEventListener("click",this.OIv,!1)}};OX.prototype.CZ=function(l,t,a){var k=this.PU.d(),R=k&&this.me.length!=0?this.me:null;
return Wo.Wa(l,t,this.mo[this.Pz],this.RE,a?a:R)};function $J(){WF.call(this);this.W=w.X("span","fitem");
this.bP=!1;this.PK=new Wa("No",!1,"Cancel");this.No=new Wa("Yes",!1,"Confirm");this.W.appendChild(this.PK.W);
this.W.appendChild(this.No.W);this.PK.a("click",this.lG,this);this.No.a("click",this.lG,this);this.G()}$J.prototype=new WF;
$J.prototype.G=function(){this.PK.Pa(w.WL("cross",null,"autoscale"));this.No.Pa(w.WL("checkmark",null,"autoscale"))};
$J.prototype.lG=function(l){this.bP=l.target==this.No;this.t(new UIEvent("click"))};$J.prototype.d=function(){return this.bP};
function WG(){WF.call(this);this.W=w.X("div")}WG.prototype=new WF;WG.prototype.Sl=function(){return!1};
WG.prototype.ci=function(l,t){};WG.prototype.g=function(l){};WG.prototype.nX=function(l){};WG.prototype.TX=function(l){this.t(new Z(w.E.z))};
WG.prototype.G=function(){};WG.prototype.gO=function(l,t){};WG.blnc=function(){WG.call(this);var l=this.W;
this.bP=null;this.fz=new H$([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.fz.a(w.E.z,this._x,this);l.appendChild(this.fz.W);
this.ai=[];for(var t=0;t<3;t++){var a=new WB(["Red","Green","Blue"][t],-100,100);a.a(w.E.z,this.TX,this);
this.ai.push(a);l.appendChild(a.W)}this.ME=new HV("Preserve Luminosity");this.ME.a(w.E.z,this.TX,this);
l.appendChild(this.ME.W)};WG.blnc.prototype=new WG;WG.blnc.prototype.G=function(){this.fz.G()};WG.blnc.prototype.g=function(l){this.bP=JSON.parse(JSON.stringify(l));
this._x()};WG.blnc.prototype.d=function(l){var t=this.bP.ai[this.fz.d()];for(var a=0;a<3;a++)t[a]=this.ai[a].d();
this.bP.Be=this.ME.d();return JSON.parse(JSON.stringify(this.bP))};WG.blnc.prototype._x=function(l){var t=this.bP.ai[this.fz.d()];
for(var a=0;a<3;a++)this.ai[a].g(t[a]);this.ME.g(this.bP.Be)};WG.brit=function(){WG.call(this);var l=this.W;
this.sn=new WB([12,2],-150,150,"");this.sn.a(w.E.z,this.TX,this);l.appendChild(this.sn.W);this.sr=new WB([12,3],-100,100,"");
this.sr.a(w.E.z,this.TX,this);l.appendChild(this.sr.W);this.mp=new HV("Old Way");this.mp.a(w.E.z,this.TX,this);
l.appendChild(this.mp.W)};WG.brit.prototype=new WG;WG.brit.prototype.G=function(){this.sn.G();this.sr.G()};
WG.brit.prototype.g=function(l){this.sn.g(l[0]);this.sr.g(l[1]);this.mp.g(l[2])};WG.brit.prototype.d=function(l){return[this.sn.d(),this.sr.d(),this.mp.d()]};
WG.curv=function(){WG.call(this);this.value=null;var l=this.W;this.Hr=new H$("...",["RGB","Red","Green","Blue"]);
this.Hr.a(w.E.z,this.cP,this);l.appendChild(this.Hr.W);this.aD=new H$(null,["Spline","Sketch"]);this.aD.a(w.E.z,this.Ok_,this);
l.appendChild(this.aD.W);var t=new Wa("Reset");t.a("click",this.pk,this);l.appendChild(t.W);this.Bj=new Oo;
this.Bj.a(w.E.z,this.hK,this);l.appendChild(this.Bj.W)};WG.curv.prototype=new WG;WG.curv.prototype.G=function(){this.Hr.Pa(Wq.get([12,4])+": ")};
WG.curv.prototype.pk=function(l){var t=this.aD.d();this.value=[];if(t==0)for(var a=0;a<4;a++){this.value.push([$.Fa.gX(0,0,!0),$.Fa.gX(255,255,!0)])}else for(var a=0;
a<4;a++){var k=[];this.value.push(k);for(var R=0;R<256;R++)k.push(R)}this.cP();this.TX()};WG.curv.prototype.Ok_=function(l){var t=this.value[0].length==256?1:0,a=this.aD.d();
if(t==a)return;this.pk()};WG.curv.prototype.hK=function(){this.value[this.Hr.d()]=this.Bj.d();this.TX()};
WG.curv.prototype.cP=function(){var l=this.value[0].length==256?1:0;this.aD.g(l);this.Bj.g(this.value[this.Hr.d()])};
WG.curv.prototype.g=function(l){this.value=l;this.cP()};WG.curv.prototype.d=function(l){return this.value};
WG.expA=function(){WG.call(this);var l=this.W;this.sx=new WB([12,5],-20,20,null,3);this.sx.a(w.E.z,this.TX,this);
l.appendChild(this.sx.W);this.sG=new WB([12,6],-.5,.5,null,3);this.sG.a(w.E.z,this.TX,this);l.appendChild(this.sG.W);
this.sR=new WB([12,7],.01,6.99,null,3);this.sR.a(w.E.z,this.TX,this);l.appendChild(this.sR.W)};WG.expA.prototype=new WG;
WG.expA.prototype.G=function(){this.sx.G();this.sG.G();this.sR.G()};WG.expA.prototype.g=function(l){this.sx.g(l[0]);
this.sG.g(l[1]);this.sR.g(l[2])};WG.expA.prototype.d=function(l){return[this.sx.d(),this.sG.d(),this.sR.d()]};
WG.grdm=function(){WG.call(this);var l=this.W;this.Ol=new Oy(!0,null,!0);l.appendChild(this.Ol.W);this.Ol.a(w.E.z,this.TX,this);
this.Ol.parent=this;this.MI=new HV([12,23]);l.appendChild(this.MI.W);this.MI.a(w.E.z,this.TX,this)};
WG.grdm.prototype=new WG;WG.grdm.prototype.gO=function(l,t){this.Ol.CI(l.rq,l.WR);if(t==Wm.tJ||t==Wm.rO)this.Ol.Sy(l.xV)};
WG.grdm.prototype.G=function(){this.MI.G()};WG.grdm.prototype.g=function(l){this.Ol.g(l[0]);this.MI.g(l[1])};
WG.grdm.prototype.d=function(l){return[this.Ol.d(),this.MI.d()]};WG.selc=function(){WG.call(this);var l=this.W;
this.Mj=[];this.QP=null;this.fz=new H$("Colors","Reds,Yellows,Greens,Cyans,Blues,Magentas,Whites,Neutrals,Blacks".split(","));
this.fz.a(w.E.z,this.Yu,this);l.appendChild(this.fz.W);for(var t=0;t<4;t++){var a=new WB(["Cyan","Magenta","Yellow","Black"][t],-100,100,"%");
a.a(w.E.z,this.Yu,this);this.Mj.push(a);l.appendChild(a.W)}this.Mr=new HV("Absolute");l.appendChild(this.Mr.W);
this.Mr.a(w.E.z,this.Yu,this)};WG.selc.prototype=new WG;WG.selc.prototype.G=function(){this.fz.G();this.Mr.G();
for(var l=0;l<4;l++)this.Mj[l].G()};WG.selc.prototype.g=function(l){this.QP=JSON.parse(JSON.stringify(l));
this._x()};WG.selc.prototype.d=function(l){return JSON.parse(JSON.stringify(this.QP))};WG.selc.prototype.Yu=function(l){if(l.target!=this.fz){var t=this.QP,a=t.xf[this.fz.d()+1];
for(var k=0;k<4;k++)a[k]=this.Mj[k].d();t.XT=this.Mr.d()}this._x();this.TX()};WG.selc.prototype._x=function(){var l=this.QP,t=l.xf[this.fz.d()+1];
for(var a=0;a<4;a++)this.Mj[a].g(t[a]);this.Mr.g(l.XT)};WG.blwh=function(){WG.call(this);var l=this.W;
this.xO=new HV([12,11]);this.xO.a(w.E.z,this.TX,this);l.appendChild(this.xO.W);this.uT=new OD;this.uT.parent=this;
this.uT.a(w.E.z,this.TX,this);l.appendChild(this.uT.W);this.P_=[];var t="Red Yellow Green Cyan Blue Magenta".split(" ");
for(var a=0;a<6;a++){var k=new WB(t[a]+"s",-200,300);k.a(w.E.z,this.TX,this);this.P_.push(k);l.appendChild(k.W)}};
WG.blwh.prototype=new WG;WG.blwh.prototype.g=function(l){for(var t=0;t<6;t++)this.P_[t].g(l[t]);this.xO.g(l[6]);
this.uT.g(l[7])};WG.blwh.prototype.d=function(){var l=[];for(var t=0;t<6;t++)l.push(this.P_[t].d());
l.push(this.xO.d());l.push(this.uT.d());return l};WG.hue2=function(){WG.call(this);this.value=null;var l=this.W;
this.fz=new H$([12,12],"Master Red Yellow Green Cyan Blue Magenta".split(" "));this.fz.a(w.E.z,this.cP,this);
l.appendChild(this.fz.W);this.hR=new WB([12,8],-180,180);this.hR.a(w.E.z,this.hD,this);l.appendChild(this.hR.W);
this.wh=new WB([12,9],-100,100);this.wh.a(w.E.z,this.hD,this);l.appendChild(this.wh.W);this.Ma=new WB([12,10],-100,100);
this.Ma.a(w.E.z,this.hD,this);l.appendChild(this.Ma.W);this.Mh=new HV([12,11]);this.Mh.a(w.E.z,this.OkT,this);
l.appendChild(this.Mh.W);this.vP=new OE("...",!0);l.appendChild(this.vP.W)};WG.hue2.prototype=new WG;
WG.hue2.prototype.G=function(){this.hR.G();this.wh.G();this.Ma.G();this.Mh.G();this.fz.G()};WG.hue2.prototype.OkT=function(l){this.value.nf=this.Mh.d();
this.cP();this.TX()};WG.hue2.prototype.hD=function(l){var t=this.pE();t[0]=this.hR.d();var a=this.wh.d();
t[1]=this.value.nf?Math.max(0,a):a;t[2]=this.Ma.d();this.cP();this.TX()};WG.hue2.prototype.pE=function(){var l=this.value;
if(l.nf)return l.xL;var t=this.fz.d();return t==0?l.DN:l.gm[t-1].ai};WG.hue2.prototype.cP=function(){var l=this.value,a="";
this.Mh.g(l.nf);if(l.nf)this.fz.Jf();else this.fz.fW();var t=this.pE();this.hR.g(t[0]);this.wh.g(t[1]);
this.Ma.g(t[2]);if(!l.nf){a+="Apply to hue interval: ";var k=this.fz.d();if(k==0)a+="full";else{var R=l.gm[k-1].Pn;
a+=R}}this.vP.g(a)};WG.hue2.prototype.g=function(l){this.value=JSON.parse(JSON.stringify(l));this.cP()};
WG.hue2.prototype.d=function(l){return JSON.parse(JSON.stringify(this.value))};WG.levl=function(){WG.call(this);
this.value=null;this._$=null;this.kD=[new x(0,0),new x(0,0),new x(0,0),new x(0,0),new x(0,0)];this.tn=-1;
this.rg=this.MD.bind(this);this.fg=this.mN.bind(this);var l=this.W;this.Hr=new H$([12,4],["RGB","Red","Green","Blue"]);
this.Hr.a(w.E.z,this.cP,this);l.appendChild(this.Hr.W);var t=new Wa("Reset");t.a("click",this.Okc,this);
l.appendChild(t.W);var a=w.X("div","");l.appendChild(a);var k=w.X("div","");l.appendChild(k);this.Ot=w.X("canvas");
a.appendChild(this.Ot);this.Aa=this.Ot.getContext("2d");this.Qv=new x(256,120);this.Ot.setAttribute("style","display:block");
w.IF(this.Ot,this.Qv.x,this.Qv.y,this.Aa);w.mM(this.Ot);w.Ox(this.Ot,this.mv.bind(this));this.YC=w.X("canvas","");
k.appendChild(this.YC);this.hA=this.YC.getContext("2d");this.xl=new x(this.Qv.x,40);this.YC.setAttribute("style","display:block");
w.IF(this.YC,this.xl.x,this.xl.y,this.hA);w.mM(this.YC);w.Ox(this.YC,this.Obg.bind(this));var R=this.vk=[];
for(var u=0;u<5;u++){var b=new HM(null,null,3);R.push(b);b.a(w.E.z,this.Okh,this);(u<2||u==4?a:k).appendChild(b.W)}a.appendChild(R[1].W);
R[4].W.setAttribute("style","margin: 0 4.7em");R[3].W.setAttribute("style","margin:0 0 0 13em")};WG.levl.prototype=new WG;
WG.levl.prototype.G=function(){this.Hr.G()};WG.levl.prototype.Okc=function(l){var t=this._$;this.g([[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]]);
this.nX(t);this.TX()};WG.levl.prototype.Okh=function(l){var t=this.value[this.Hr.d()];for(var a=0;a<4;
a++){var k=255,R=1;if(a==4){k=999;R=100}t[a]=Math.max(0,Math.min(k,parseInt(this.vk[a].d())*R))}this.cP();
this.TX()};WG.levl.prototype.cP=function(l){var t=this.value[this.Hr.d()];for(var a=0;a<5;a++)this.vk[a].g(t[a]/(a==4?100:1));
var k=this.Qv.x,R=this.Qv.y,u=this.Aa;u.clearRect(0,0,k,R);u.fillStyle="#cccccc";u.fillRect(8,8,k-16,R-16-8);
if(this._$){var b=this._$[this.Hr.d()],v=0;for(var a=0;a<b.length;a++)v+=b[a];u.fillStyle="#333333";
u.beginPath();u.moveTo(8,R-16);for(var a=0;a<256;a++){var H=55*b[a]/v;u.lineTo(8+a/256*(k-16),Math.max(8,R-16-R*H))}u.lineTo(k-8,R-16);
u.closePath();u.fill()}this.kD[0].$x(8+t[0]/255*(k-16),R-14);this.kD[1].$x(8+t[1]/255*(k-16),R-14);var N=Math.log(t[4]/100)/Math.log(9.99);
N=.5-N/2;this.kD[4].$x(this.kD[0].x+N*(this.kD[1].x-this.kD[0].x),R-14);this._z(u,this.kD[0],"#000000");
this._z(u,this.kD[4],"#777777");this._z(u,this.kD[1],"#ffffff");var k=this.xl.x,R=this.xl.y;u=this.hA;
u.clearRect(0,0,k,R);var z=u.createLinearGradient(0,0,k-16,0);z.addColorStop(0,"black");z.addColorStop(1,"white");
u.fillStyle=z;u.fillRect(8,8,k-16,16);this.kD[2].$x(8+t[2]/255*(k-16),R-14);this.kD[3].$x(8+t[3]/255*(k-16),R-14);
this._z(u,this.kD[2],"#000000");this._z(u,this.kD[3],"#ffffff")};WG.levl.prototype._z=function(l,t,a){l.fillStyle=a;
l.fillRect(t.x-5,t.y,10,10)};WG.levl.prototype.mv=function(l){var t=w.LV(l,this.Ot);if(x.tq(this.kD[4],t)<10)this.tn=4;
for(var a=0;a<3;a++)if(x.tq(this.kD[a],t)<10)this.tn=a;this.pK()};WG.levl.prototype.Obg=function(l){var t=w.LV(l,this.YC);
for(var a=2;a<4;a++)if(x.tq(this.kD[a],t)<10)this.tn=a;this.pK()};WG.levl.prototype.pK=function(l){if(this.tn==-1)return;
w.iZ(document.body,this.rg);w.Pe(document.body,this.fg)};WG.levl.prototype.MD=function(l){var t=this.value[this.Hr.d()],a=w.LV(l,this.tn==2&&this.tn==3?this.YC:this.Ot),k=255*(a.x-8)/(this.Qv.x-16);
k=Math.max(0,Math.min(255,k));if(this.tn==0)k=Math.min(k,t[1]-2);if(this.tn==1)k=Math.max(k,t[0]+2);
if(this.tn!=4)t[this.tn]=Math.round(k);else{var R=(k-t[0])/(t[1]-t[0]);R=1-2*R;R=Math.pow(9.99,R);t[4]=Math.min(999,Math.max(10,Math.round(R*100)))}this.cP();
this.TX()};WG.levl.prototype.mN=function(l){w.QU(document.body,this.rg);w.MH(document.body,this.fg);
this.tn=-1};WG.levl.prototype.g=function(l){this.value=l;this._$=null;this.cP()};WG.levl.prototype.nX=function(l){this._$=l;
this.cP()};WG.levl.prototype.d=function(l){return JSON.parse(JSON.stringify(this.value))};WG.phfl=function(){WG.call(this);
var l=this.W;this.uT=new OD;this.uT.parent=this;this.uT.a(w.E.z,this.TX,this);l.appendChild(this.uT.W);
this.dB=new WB([12,74],0,100,"%");this.dB.a(w.E.z,this.TX,this);l.appendChild(this.dB.W);this.ME=new HV("Preserve Luminosity");
this.ME.a(w.E.z,this.TX,this);l.appendChild(this.ME.W)};WG.phfl.prototype=new WG;WG.phfl.prototype.G=function(){this.dB.G()};
WG.phfl.prototype.g=function(l){this.uT.g(l.xL);this.dB.g(l.fm);this.ME.g(l.fC)};WG.phfl.prototype.d=function(){return{fm:this.dB.d(),fC:this.ME.d(),xL:this.uT.d()}};
WG.vibA=function(){WG.call(this);var l=this.W;this.hU=new WB([12,13],-100,100,null);this.hU.a(w.E.z,this.TX,this);
l.appendChild(this.hU.W);this.wh=new WB([12,9],-100,100,null);this.wh.a(w.E.z,this.TX,this);l.appendChild(this.wh.W)};
WG.vibA.prototype=new WG;WG.vibA.prototype.G=function(){this.hU.G();this.wh.G()};WG.vibA.prototype.g=function(l){this.hU.g(l[0]);
this.wh.g(l[1])};WG.vibA.prototype.d=function(l){return[this.hU.d(),this.wh.d()]};WG.thrs=function(){WG.call(this);
var l=this.W;this.hU=new WB([4,13],1,255,null);this.hU.a(w.E.z,this.TX,this);l.appendChild(this.hU.W)};
WG.thrs.prototype=new WG;WG.thrs.prototype.G=function(){this.hU.G()};WG.thrs.prototype.g=function(l){this.hU.g(l)};
WG.thrs.prototype.d=function(l){return this.hU.d()};WG.mixr=function(){WG.call(this);var l=this.W;this.Mj=[];
this.QP=null;this.fz=new H$([12,4],["Red","Green","Blue"]);this.fz.a(w.E.z,this.Yu,this);l.appendChild(this.fz.W);
l.appendChild(w.X("br"));this.Nd=new HV([12,60]);l.appendChild(this.Nd.W);this.Nd.a(w.E.z,this.Yu,this);
for(var t=0;t<4;t++){var a=new WB(["Red","Green","Blue","Total"][t],-200,200,"%");a.a(w.E.z,this.Yu,this);
this.Mj.push(a);l.appendChild(a.W)}};WG.mixr.prototype=new WG;WG.mixr.prototype.G=function(){this.fz.G();
this.Nd.G();for(var l=0;l<4;l++)this.Mj[l].G()};WG.mixr.prototype.g=function(l){this.QP=JSON.parse(JSON.stringify(l));
this._x()};WG.mixr.prototype.d=function(l){return JSON.parse(JSON.stringify(this.QP))};WG.mixr.prototype.Yu=function(l){if(l.target!=this.fz){var t=this.QP;
if(l.target==this.Nd){t.Nd=this.Nd.d();if(t.Nd)t.V=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else t.V=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var a=(t.Nd?0:this.fz.d())*5,k=this.Mj.indexOf(l.target);
t.V[a+(k<3?k:4)]=l.target.d()}}this._x();this.TX()};WG.mixr.prototype._x=function(){var l=this.QP;this.Nd.g(l.Nd);
var t=(l.Nd?0:this.fz.d())*5;for(var a=0;a<4;a++)this.Mj[a].g(l.V[t+(a<3?a:4)])};function Wn(l){WF.call(this);
this.Oii=l;this.W=w.X("div","");this.RG=[]}Wn.prototype=new WF;Wn.prototype.pr=function(l){};Wn.prototype.Sl=function(){return!1};
Wn.prototype.ci=function(l,t){};Wn.prototype.g=function(l,t,a,k,R,u){var b=[];this.JM(l,b,u);for(var v=0;
v<this.RG.length;v++)this.RG[v].g(b[v])};Wn.prototype.d=function(){var l=HU.TG(this.Oii),t=[];for(var a=0;
a<this.RG.length;a++)t.push(this.RG[a].d());this.wz(l,t);return l};Wn.prototype.Bd=function(l){};Wn.prototype.TX=function(l){this.t(new Z(w.E.z))};
Wn.prototype.G=function(){for(var l=0;l<this.RG.length;l++)this.RG[l].G()};Wn.prototype.TC=function(){w.jI(this.W,"form");
for(var l=0;l<this.RG.length;l++){this.RG[l].a(w.E.z,this.TX,this);this.W.appendChild(this.RG[l].W);
this.W.appendChild(w.X("br"))}};Wn.LnCr=function(){Wn.call(this,"LnCr");this.RG.push(new WB([12,57],-100,100));
this.RG.push(new WB([12,38],10,150,"%"));this.TC()};Wn.LnCr.prototype=new Wn;Wn.LnCr.prototype.JM=function(l,t){t[0]=l.LnIa.v;
t[1]=l.LnSi.v};Wn.LnCr.prototype.wz=function(l,t){l.LnIa.v=t[0];l.LnSi.v=t[1]};Wn["\0\0\x02\xB1"]=function(){Wn.call(this,"\0\0\x02\xB1");
this.RG.push(new WB([12,56],1,200," px"));this.TC()};Wn["\0\0\x02\xB1"].prototype=new Wn;Wn["\0\0\x02\xB1"].prototype.JM=function(l,t){t[0]=l.Rds.v.val};
Wn["\0\0\x02\xB1"].prototype.wz=function(l,t){l.Rds.v.val=t[0]};Wn.GsnB=function(){Wn.call(this,"GsnB");
this.RG.push(new WB([12,56],1,200," px"));this.TC()};Wn.GsnB.prototype=new Wn;Wn.GsnB.prototype.JM=function(l,t){t[0]=l.Rds.v.val};
Wn.GsnB.prototype.wz=function(l,t){l.Rds.v.val=t[0]};Wn.MtnB=function(){Wn.call(this,"MtnB");this.RG.push(new AZ([12,15]));
this.RG.push(new WB([12,28],1,100," px"));this.TC()};Wn.MtnB.prototype=new Wn;Wn.MtnB.prototype.JM=function(l,t){t[0]=l.Angl.v;
t[1]=l.Dstn.v.val};Wn.MtnB.prototype.wz=function(l,t){l.Angl.v=t[0].aQ;l.Dstn.v.val=t[1]};Wn.RdlB=function(){Wn.call(this,"RdlB");
this.RG.push(new WB([12,57],1,100));this.RG.push(new lI([12,36],["Spin","Zoom"]));this.RG.push(new $W("Off X",0,1,null,2));
this.RG.push(new $W("Off Y",0,1,null,2));this.TC()};Wn.RdlB.prototype=new Wn;Wn.RdlB.prototype.JM=function(l,t){t[0]=l.Amnt.v;
t[1]=["Spn","Zm"].indexOf(l.BlrM.v.BlrM);t[2]=l.Cntr.v.Hrzn.v;t[3]=l.Cntr.v.Vrtc.v};Wn.RdlB.prototype.wz=function(l,t){l.Amnt.v=t[0];
l.BlrM.v.BlrM=["Spn","Zm"][t[1]];l.Cntr.v.Hrzn.v=t[2];l.Cntr.v.Vrtc.v=t[3]};Wn.Dspl=function(){Wn.call(this,"Dspl");
this.RG.push(new H$("Smart Object",["a","b"]));this.RG.push(new WB([22,4,0],-100,100,"px"));this.RG.push(new WB([22,4,1],-100,100,"px"));
this.RG.push(new H$([24,18,0],[[24,18,3],[24,18,2]]));this.TC()};Wn.Dspl.prototype=new Wn;Wn.Dspl.prototype.JM=function(l,t,a){this.vb=[];
this.Pr=[];var k=-1;for(var R=0;R<a.length;R++){var u=a[R];this.vb.push(u.OD.trim());this.Pr.push(u._G);
if(u._G==l.DspF.v.pth)k=R}this.RG[0].SZ(this.vb);t[0]=k==-1?0:k;t[1]=l.HrzS.v;t[2]=l.VrtS.v;t[3]=["WrpA","RptE"].indexOf(l.UndA.v.UndA)};
Wn.Dspl.prototype.wz=function(l,t){if(this.Pr.length==0)return;l.DspF.v.pth=this.Pr[t[0]];l.HrzS.v=t[1];
l.VrtS.v=t[2];l.UndA.v.UndA=["WrpA","RptE"][t[3]]};Wn.Pnch=function(){Wn.call(this,"Pnch");this.RG.push(new WB([12,57],-100,100,"%"));
this.TC()};Wn.Pnch.prototype=new Wn;Wn.Pnch.prototype.JM=function(l,t){t[0]=l.Amnt.v};Wn.Pnch.prototype.wz=function(l,t){l.Amnt.v=t[0]};
Wn["Plr "]=function(){Wn.call(this,"Plr ");this.RG.push(new lI(null,["Rect to Polar","Polar to Rect"]));
this.TC()};Wn["Plr "].prototype=new Wn;Wn["Plr "].prototype.JM=function(l,t){t[0]=["RctP","PlrR"].indexOf(l.Cnvr.v.Cnvr)};
Wn["Plr "].prototype.wz=function(l,t){l.Cnvr.v.Cnvr=["RctP","PlrR"][t[0]]};Wn.Rple=function(){Wn.call(this,"Rple");
this.RG.push(new WB([12,57],-999,999));this.RG.push(new H$([12,14],[[19,8,0],[19,8,1],[19,8,2]]));this.TC()};
Wn.Rple.prototype=new Wn;Wn.Rple.prototype.JM=function(l,t){t[0]=l.Amnt.v;t[1]=["Sml","Mdm","Lrg"].indexOf(l.RplS.v.RplS)};
Wn.Rple.prototype.wz=function(l,t){l.Amnt.v=t[0];l.RplS.v.RplS=["Sml","Mdm","Lrg"][t[1]]};Wn["Shr "]=function(){Wn.call(this,"Shr ");
this.RG.push(new Oo(!0,!0));this.RG.push(new H$([24,18,0],[[24,18,3],[24,18,2]]));this.TC()};Wn["Shr "].prototype=new Wn;
Wn["Shr "].prototype.JM=function(l,t){var a=new WM(0,255/127,255/127,0,-2,128),k=JSON.parse(JSON.stringify(l.ShrP.v));
$.Fa.N(k,a);t[0]=k;t[1]=["WrpA","RptE"].indexOf(l.UndA.v.UndA)};Wn["Shr "].prototype.wz=function(l,t){var a=new WM(0,255/127,255/127,0,-2,128);
a.sI();$.Fa.N(t[0],a);l.ShrP.v=t[0];l.ShrE.v=t[0].length-1;l.UndA.v.UndA=["WrpA","RptE"][t[1]]};Wn.Sphr=function(){Wn.call(this,"Sphr");
this.RG.push(new WB([12,57],-100,100));this.RG.push(new H$([12,36],["Normal",[22,4,0],[22,4,1]]));this.TC()};
Wn.Sphr.prototype=new Wn;Wn.Sphr.prototype.JM=function(l,t){t[0]=l.Amnt.v;t[1]=["Nrml","HrzO","VrtO"].indexOf(l.SphM.v.SphM)};
Wn.Sphr.prototype.wz=function(l,t){l.Amnt.v=t[0];l.SphM.v.SphM=["Nrml","HrzO","VrtO"][t[1]]};Wn.Twrl=function(){Wn.call(this,"Twrl");
this.RG.push(new WB([12,15],-999,999));this.TC()};Wn.Twrl.prototype=new Wn;Wn.Twrl.prototype.JM=function(l,t){t[0]=l.Angl.v};
Wn.Twrl.prototype.wz=function(l,t){l.Angl.v=t[0]};Wn["\0\0\x02\xB5"]=function(){Wn.call(this,"\0\0\x02\xB5");
this.RG.push(new WB([12,56],1,200," px"));this.RG.push(new WB([4,13],1,255," px"));this.TC()};Wn["\0\0\x02\xB5"].prototype=new Wn;
Wn["\0\0\x02\xB5"].prototype.JM=function(l,t){t[0]=l.Rds.v.val;t[1]=l.Thsh.v};Wn["\0\0\x02\xB5"].prototype.wz=function(l,t){l.Rds.v.val=t[0];
l.Thsh.v=t[1]};Wn.AdNs=function(){Wn.call(this,"AdNs");this.RG.push(new WB([12,57],0,200," %"));this.RG.push(new H$([12,58],[[12,59,0],[12,59,1]]));
this.RG.push(new HV([12,60]));this.TC()};Wn.AdNs.prototype=new Wn;Wn.AdNs.prototype.JM=function(l,t){t[0]=l.Nose.v.val;
t[1]=["Unfr","Gsn"].indexOf(l.Dstr.v.Dstr);t[2]=l.Mnch.v};Wn.AdNs.prototype.wz=function(l,t){l.Nose.v.val=t[0];
l.Dstr.v.Dstr=["Unfr","Gsn"][t[1]];l.Mnch.v=t[2]};Wn.DstS=function(){Wn.call(this,"DstS");this.RG.push(new WB([12,56],1,200," px"));
this.RG.push(new WB([4,13],1,255," px"));this.TC()};Wn.DstS.prototype=new Wn;Wn.DstS.prototype.JM=function(l,t){t[0]=l.Rds.v;
t[1]=l.Thsh.v};Wn.DstS.prototype.wz=function(l,t){l.Rds.v=t[0];l.Thsh.v=t[1]};Wn["Mdn "]=function(){Wn.call(this,"Mdn ");
this.RG.push(new WB([12,56],1,200," px"));this.TC()};Wn["Mdn "].prototype=new Wn;Wn["Mdn "].prototype.JM=function(l){vs[0]=l.Rds.v.val};
Wn["Mdn "].prototype.wz=function(){WK.Rds.v.val=vs[0]};Wn.ClrH=function(){Wn.call(this,"ClrH");this.RG.push(new WB([12,56],4,100," px"));
for(var l=1;l<4;l++)this.RG.push(new WB("Angle "+l,0,90," \xB0"));this.TC()};Wn.ClrH.prototype=new Wn;
Wn.ClrH.prototype.JM=function(l,t){t[0]=l.Rds.v;for(var a=1;a<4;a++)t[a]=l["Ang"+a].v};Wn.ClrH.prototype.wz=function(l,t){l.Rds.v=t[0];
for(var a=1;a<4;a++)l["Ang"+a].v=t[a]};Wn.ClrH.prototype.G=function(){var l=this.RG;l[0].G();for(var t=1;
t<4;t++)l[t].Pa(Wq.get([12,15])+" "+t)};Wn["Msc "]=function(){Wn.call(this,"Msc ");this.RG.push(new WB([12,61],2,200," px"));
this.TC()};Wn["Msc "].prototype=new Wn;Wn["Msc "].prototype.JM=function(l,t){t[0]=l.ClSz.v.val};Wn["Msc "].prototype.wz=function(l,t){l.ClSz.v.val=t[0]};
Wn.UnsM=function(){Wn.call(this,"UnsM");this.RG.push(new WB([12,57],1,200," %"));this.RG.push(new WB([12,56],0,200," px"));
this.RG.push(new WB([4,13],0,255," "));this.TC()};Wn.UnsM.prototype=new Wn;Wn.UnsM.prototype.JM=function(l,t){t[0]=l.Amnt.v.val;
t[1]=l.Rds.v.val;t[2]=l.Thsh.v};Wn.UnsM.prototype.wz=function(l,t){l.Amnt.v.val=t[0];l.Rds.v.val=t[1];
l.Thsh.v=t[2]};Wn.HghP=function(){Wn.call(this,"HghP");this.RG.push(new WB([12,56],1,200," px"));this.TC()};
Wn.HghP.prototype=new Wn;Wn.HghP.prototype.JM=function(l,t){t[0]=l.Rds.v.val};Wn.HghP.prototype.wz=function(l,t){l.Rds.v.val=t[0]};
Wn["Mxm "]=function(){Wn.call(this,"Mxm ");this.RG.push(new WB([12,56],1,200," px"));this.TC()};Wn["Mxm "].prototype=new Wn;
Wn["Mxm "].prototype.JM=function(l,t){t[0]=l.Rds.v.val};Wn["Mxm "].prototype.wz=function(l,t){l.Rds.v.val=t[0]};
Wn["Mnm "]=function(){Wn.call(this,"Mnm ");this.RG.push(new WB([12,56],1,200," px"));this.TC()};Wn["Mnm "].prototype=new Wn;
Wn["Mnm "].prototype.JM=function(l,t){t[0]=l.Rds.v.val};Wn["Mnm "].prototype.wz=function(l,t){l.Rds.v.val=t[0]};
Wn.Ofst=function(){Wn.call(this,"Ofst");this.RG.push(new WB([22,4,0],-1024,1024," px"));this.RG.push(new WB([22,4,1],-1024,1024," px"));
this.RG.push(new H$([24,18,0],[[24,18,1],[24,18,2],[24,18,3]]));this.TC()};Wn.Ofst.prototype=new Wn;
Wn.Ofst.prototype.JM=function(l,t){t[0]=l.Hrzn.v;t[1]=l.Vrtc.v;t[2]=["Bckg","Rpt","Wrp"].indexOf(l.Fl.v.FlMd)};
Wn.Ofst.prototype.wz=function(l,t){l.Hrzn.v=t[0];l.Vrtc.v=t[1];l.Fl.v.FlMd=["Bckg","Rpt","Wrp"][t[2]]};
Wn.Rept=function(){Wn.call(this,"Rept");this.RG.push(new $W([12,38],1,300," %"));this.RG.push(new $W("Row Shift",-50,50," %"));
this.RG.push(new $W("Space X",-99,200," %"));this.RG.push(new $W("Space Y",-99,200," %"));this.RG.push(new HV([4,16,2]));
this.RG.push(new AZ([12,15]));this.TC()};Wn.Rept.prototype=new Wn;Wn.Rept.prototype.JM=function(l,t){t[0]=l.Scl.v.val;
t[1]=l.Rsft.v.val;t[2]=l.SpcX.v.val;t[3]=l.SpcY.v.val;t[4]=l.SpcC.v;t[5]=l.Angl.v};Wn.Rept.prototype.wz=function(l,t){l.Scl.v.val=t[0];
l.Rsft.v.val=t[1];l.SpcX.v.val=t[2];l.SpcY.v.val=t[3];l.SpcC.v=t[4];l.Angl.v=t[5].aQ;return l};Wn.LqFy=function(){Wn.call(this,"LqFy");
this.wr=!1;this.hJ=null;this.OiT=null;this.P=0;this.CQ={Xm:[[{P:{id:0,name:[24,1,0,1,0],r$:"liq/smudge"}}],[{P:{id:1,name:[24,1,0,1,1],r$:"liq/reconstruct"}}],[{P:{id:2,name:[24,1,0,1,2],r$:"liq/smooth"}}],[{P:{id:3,name:[24,1,0,1,3],r$:"liq/twirl"}}],[{P:{id:4,name:[24,1,0,1,4],r$:"liq/shrink"}}],[{P:{id:5,name:[24,1,0,1,5],r$:"liq/blow"}}],[{P:{id:6,name:[24,1,0,1,6],r$:"liq/pleft"}}]],keys:[]};
this.mz=new lU(this.CQ,!1);this.mz.FF(0);this.mz.a(w.E.J,this.ObS,this);this.XQ=WH.zA();this.bg=null;
this.OU=[];this.sL=-1;this.wi=null;this.vz=null;this.vp=null;this.xg=null;this.vh=null;var l=w.X("div","flexrow");
this._r=l;this.W.appendChild(l);l.appendChild(this.mz.W);this.view=new Ok(!0);this.view.ci(100,100);
this.view.a("mousedown",this.Yw,this);this.view.a("mousemove",this.sJ,this);this.view.a("mouseup",this.GW,this);
this.view.a("zoom",this.Wo,this);l.appendChild(this.view.W);var t=w.X("div","form");l.appendChild(t);
this.Pd=t;t.style.width="230px";this.wb=[new WB([12,14],0,1e3,null,!1,!0),new WB([12,74],0,100,null,!1,!1),new WB([12,84],0,100,null,!1,!1),new HV([12,46]),new WB([12,0],0,100,null,!1,!1)];
var a=this.XQ.Brsh.v;a.Dmtr.v.val=100;var k=[100,50,100,!1,100];for(var R=0;R<this.wb.length;R++){var u=this.wb[R];
u.g(k[R]);u.a(w.E.z,this.ObK,this);t.appendChild(u.W)}var b=new Wa("Reset",!0,null,!0);b.a("click",this.CF,this);
t.appendChild(b.W);this.fy=new WF;this.fy.W=w.X("div","floatcont");this.xb=new Wa("Menu",!1,null,!0);
this.xb.a("click",this.ObP,this);var v=this.xb.W;v.setAttribute("style","position:absolute; right:13px; top:47px");
this.Wo()};Wn.LqFy.prototype=new Wn;Wn.LqFy.prototype.Sl=function(){return!0};Wn.LqFy.prototype.pr=function(l){this.Pd.appendChild(l)};
Wn.LqFy.prototype.ObP=function(l){var t=this.xb.W.getBoundingClientRect();this.fy.W.appendChild(this.Pd);
var a=new Z(w.E.J,!0);a.data={T:w.h._e,jn:this.fy,x:t.right+t.width-290,y:t.top+t.height};this.t(a)};
Wn.LqFy.prototype.Bd=function(l){this.wr=l.L(J.Bl);var t=s.cD.QO(this.XQ,l);if(t!=null){this.XQ=t;this.Wo();
this.wb[0].g(t.Brsh.v.Dmtr.v.val)}else if(l.L(J.$K)&&l.L(J.IC)){var a=this.OU;if(l.L(J.hV)){if(this.sL+1<a.length)this.sL++}else if(this.sL>0)this.sL--;
this.bg.map=a[this.sL].slice(0);this._x(null)}else this.view.Bd(l)};Wn.LqFy.prototype.ObS=function(l){if(l.data.T==w.h.iA){this.P=l.data.P;
this.mz.FF(this.P)}};Wn.LqFy.prototype.ObK=function(l){var t=l.currentTarget,a=this.wb.indexOf(t),k=this.XQ.Brsh.v;
if(a==0){k.Dmtr.v.val=t.d();this.Wo()}if(a>2)this._x(null)};Wn.LqFy.prototype._F=function(){var l=this.OU;
this.sL++;l[this.sL]=this.bg.map.slice(0);while(l.length>this.sL+1)l.pop();while(l.length>50){l=l.slice(1);
this.sL--}};Wn.LqFy.prototype.Yw=function(l){this.ne();this.hJ=this.view._b();this.OiT=new x(0,0);this.a(w.E.xx,this._s,this)};
Wn.LqFy.prototype.sJ=function(l){var t=this.view._b(),a=new x(t.x-this.hJ.x,t.y-this.hJ.y);if(this.P==0||this.P==6)this.pf(a);
this.hJ=t};Wn.LqFy.prototype.GW=function(l){this._F();this.ne()};Wn.LqFy.prototype.ne=function(){if(this.OHd(w.E.xx,this._s))this.removeEventListener(w.E.xx,this._s,this)};
Wn.LqFy.prototype._s=function(l){if(this.P!=0&&this.P!=6)this.pf(new x(0,0))};Wn.LqFy.prototype.pf=function(l){var t=this.bg,a=t.wa/this.wi.$,k=this.hJ,R=this.XQ.Brsh.v,u=R.Dmtr.v.val,b=Date.now(),v=t.wa,H=t.Ii,N=Math.sqrt(l.x*l.x+l.y*l.y),z=Math.max(1,Math.ceil(N/2)),A=l.x/z,Q=l.y/z,S=k.clone(),o=this.P,p=this.wb[1].d()/100,O=this.wb[2].d()/100,E=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],L=E[o*2],U=E[o*2+1],W=(1-p)*L+p*U,Y=u*a/2;
for(var y=0;y<z;y++){var C=[];S.x+=A;S.y+=Q;$.ED.OOW(t.map,v,H,o,S.x*a,S.y*a,Y,1,p,O,new x(A*a,Q*a),C,this.wr);
$.ED.OVN(v,H,t.map,C,W*O)}var X=new d(0,0,v,H),M=new d(k.x*a,k.y*a,0,0);M.RK(u*a*.5,u*a*.5);var g=M.clone();
g.offset(l.x*a,l.y*a);M=M.wm(g);var n=new d(M.x/a,M.y/a,M.$/a,M.e/a);n=$.M.jW(n).gk(this.wi);this._x(n)};
Wn.LqFy.prototype.Wo=function(){var l=Wy.pN(this.XQ,null,this.view.nY().H),t=w.zh(l);this.view.nu(t)};
Wn.LqFy.prototype.g=function(l,t,a,k,R){if(t==null)return;if(!k.cG(a)){var u=a.wm(k),b=$.I(u.s()*4);
$.BM(t,a,b,u);t=b;a=u}this.vp=t;this.vz=R;this.vh=t.slice(0);this.xg=t.slice(0);this.wi=a;this.bg=AQ.sj(new Uint8Array(l.LqMe.v).buffer);
var v=a.$,H=a.e;if(this.bg.wa/v<.22){this.bg={wa:Math.floor(v/4),Ii:Math.floor(H/4)};this.bg.map=new Float32Array(this.bg.wa*this.bg.Ii*2)}this.OU=[];
this.sL=-1;this._F();this._x(null)};Wn.LqFy.prototype.d=function(){this.ne();var l=HU.TG("LqFy"),t=new Uint8Array(AQ.Sh(this.bg)),a=[];
for(var k=0;k<t.length;k++)a.push(t[k]);l.LqMe.v=a;return l};Wn.LqFy.prototype.ci=function(l,t){this.mz.ci(l,t);
var a=this.xb.W,k=this.Pd;this._r.appendChild(k);this._r.appendChild(a);if(l>450){k.style.marginLeft="1em";
this._r.removeChild(a);this.view.ci(l-238-45,t)}else{k.style.marginLeft="";this._r.removeChild(k);this.view.ci(l-40,t)}};
Wn.LqFy.prototype.G=function(){this.mz.G();for(var l=0;l<this.wb.length;l++)this.wb[l].G()};Wn.LqFy.prototype.CF=function(){this.ne();
this.bg.map.fill(0);this._F();this._x(null)};Wn.LqFy.prototype._x=function(l){var t=this.wi,a=this.vp,k=this.vh,R=this.bg;
$.ED.Kl(a,this.xg,t.$,t.e,l,R.map,R.wa,R.Ii,0);if(this.wb[3].HK()){$.BM(this.vz,t,k,t,l?l:t);$.j.bz("norm",this.xg,t,k,t,l?l:t,this.wb[4].d()/100)}else $.Ll(this.xg,k);
this.view.g([{Pk:t,data:k.buffer}])};function Ws(l,t){WF.call(this);this.id=t;this.MN=l;this.Pm=null;
this.W=w.X("div","window "+t);this.Aq=w.X("div","head");this.W.appendChild(this.Aq);this.OiY=this.Ob_.bind(this);
this.vN=this.ObQ.bind(this);this.vR=this.OzV.bind(this);w.mM(this.Aq);w.Ox(this.Aq,this.OiY);this.PF=w.X("span","cross");
Ws.prototype.G.call(this);w.Pe(this.PF,this.pd.bind(this));this.body=w.X("div","body");this.W.appendChild(this.body)}Ws.prototype=new WF;
Ws.prototype.xI=function(){return!1};Ws.prototype.ho=function(){return!1};Ws.prototype.G=function(){if(this.MN==null)return;
var l=typeof this.MN=="string"?this.MN:Wq.get(this.MN);this.Aq.innerHTML="<span class=\"wname\">"+l+"</span>";
this.Aq.appendChild(this.PF);var t=PIMG.__cross==null?"filter:invert(1);":"";this.PF.setAttribute("style","background-image:url("+PIMG.cross+");"+t)};
Ws.prototype.yY=function(l,t,a,k,R){};Ws.prototype.JP=function(l,t,a,k,R){};Ws.prototype.cV=function(l,t,a,k,R){};
Ws.prototype.Jy=function(l,t,a,k,R){};Ws.prototype.Bd=function(l,t,a,k){};Ws.prototype.rC=function(l){return!1};
Ws.prototype.SJ=function(l,t){return!0};Ws.prototype.oA=function(l,t,a){};Ws.prototype.gO=function(l,t){};
Ws.prototype.Sl=function(){return!1};Ws.prototype.xv=function(l,t){return l<450||t<450?new x(0,0):new x(150,150)};
Ws.prototype.ci=function(){};Ws.prototype.close=function(){this.t(new Z(w.E.sD))};Ws.prototype.Ob_=function(l){this.Pm=w.LV(l,this.W);
w.iZ(window,this.vN);w.Pe(window,this.vR)};Ws.prototype.ObQ=function(l){var t=this.W.parentNode,a=w.LV(l,t);
this.W.style.left=Math.round(a.x-this.Pm.x)+"px";this.W.style.top=t.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(a.y-this.Pm.y)))+"px"};
Ws.prototype.OzV=function(l){w.QU(window,this.vN);w.MH(window,this.vR)};Ws.prototype.pd=function(l){this.t(new Z("closebtn"));
this.close()};function lA(){Ws.call(this,[0,13,0],"account");this.As=w.X("div","form padded scrollable");
this.As.setAttribute("style","max-width:42em;  max-height:33em;");this.body.appendChild(this.As);this.Xe=[new lA.Kd,new lA.xJ];
for(var l=0;l<this.Xe.length;l++)this.Xe[l].parent=this;this.a("showpage",this.Ozl,this)}lA.prototype=new Ws;
lA.prototype.Ozl=function(l){w.BT(this.As);this.As.scrollTop=0;this.As.appendChild(this.Xe[l.data.AZ].W)};
lA.prototype.G=function(){Ws.prototype.G.call(this);for(var l=0;l<this.Xe.length;l++)this.Xe[l].G()};
lA.prototype.oA=function(l,t,a){w.BT(this.As);var k=this.Xe[0];this.As.appendChild(k.W);k.oA();this.G()};
lA.prototype.gO=function(l,t){this.oA(null,null,null)};lA.Kd=function(){WF.call(this);this.W=w.X("div");
var l=this.W,t,a,k="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.PZ=w.X("div");l.appendChild(this.PZ);this.xz=new Wa([0,11],!1,null,!0);this.xz.W.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.xz.a("click",this.TZ,this);l.appendChild(this.xz.W);this.Pj=new Wa([0,13,1],!1,null,!0);this.Pj.a("click",this.pm,this);
l.appendChild(this.Pj.W);t=w.X("h2","");t.innerHTML="Account types";l.appendChild(t);a=w.X("table","");
a.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">PSD import and export</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Advanced editing tools</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Helping us improve PP</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
l.appendChild(a);var R=[9,20,30,80,100,240,40,80,100,200,200,400];this.mL=[];for(var u=0;u<R.length;
u++)this.mL.push(new Wa("Buy: $"+R[u],!1,null,!0));for(var u=0;u<this.mL.length;u++){this.mL[u].W.setAttribute("style",k);
this.mL[u].a("click",this.Ozn,this)}t=w.X("h2","");t.innerHTML="Go Premium";l.appendChild(t);this.xn=new Wa("...",!0);
this.xn.W.setAttribute("style",k);l.appendChild(this.xn.W);a=this.pL(["Single user",this.mL[0],this.mL[1],"Team of 5",this.mL[2],this.mL[3],"Team of 20",this.mL[4],this.mL[5]]);
l.appendChild(a);this.NV=new HV("I accept",!0,"");l.appendChild(this.NV.W);this.Pq=new Wa([0,13,1],!1,null,!0);
this.Pq.a("click",this.pm,this);l.appendChild(this.Pq.W);t=w.X("h2","");t.textContent="Team Settings";
l.appendChild(t);this.dQ=new HV("Join a team");l.appendChild(this.dQ.W);this.dQ.a(w.E.z,this.pq,this);
this.dQ.AN();this.xj=new HM("Email of a leader",null,14);l.appendChild(this.xj.W);l.appendChild(w.X("br"));
this.Lb=new HV("Start a team");l.appendChild(this.Lb.W);this.Lb.a(w.E.z,this.pq,this);var b=new OE("Emails of other members:");
l.appendChild(b.W);l.appendChild(w.X("br"));this.dX=w.X("textarea");this.dX.setAttribute("rows",3);this.dX.setAttribute("cols",70);
this.dX.setAttribute("style","display:block;tab-size:4;");l.appendChild(this.dX);var v=new Wa("Save Team Settings",!1,null,!0);
l.appendChild(v.W);v.a("click",this.OzI,this);var H=this.Oip=new Wa("More about Teams",!1,null,!0);l.appendChild(H.W);
H.a("click",this.pD,this);t=w.X("h2","");t.innerHTML="Distributor Account";l.appendChild(t);this.xq=new Wa("...",!0);
this.xq.W.setAttribute("style",k);l.appendChild(this.xq.W);a=this.pL(["1000 views/month",this.mL[6],this.mL[7],"5000 views/month",this.mL[8],this.mL[9],"20000 views/month",this.mL[10],this.mL[11]]);
l.appendChild(a);this.xu=new HM("Domain name (e.g. domain.com)",null,14);l.appendChild(this.xu.W);l.appendChild(w.X("br"));
var v=new Wa("Save Domain Settings",!1,null,!0);v.AN();l.appendChild(v.W);v.a("click",this.OzP,this);
var H=new Wa("More about Distributors",!1,null,!0);l.appendChild(H.W);H.a("click",this.pD,this)};lA.Kd.prototype=new WF;
lA.Kd.prototype.pm=function(l){var t=new Z("showpage",!0);t.data={AZ:1};this.t(t)};lA.Kd.prototype.G=function(){this.xz.Pa(WY.xR()?Wq.get([0,11]):Wq.get([0,10]));
this.Pq.G();this.Pj.G()};lA.Kd.prototype.pD=function(l){var t=new Z(w.E.J,!0);t.data={T:w.h.Kn,link:"https://www.photopea.com/api/accounts#"+(l.target==this.Oip?"teams":"distributors")};
this.t(t)};lA.Kd.prototype.pq=function(l){var t=l.currentTarget==this.dQ;this.dQ.g(t);this.Lb.g(!t)};
lA.Kd.prototype.OzI=function(l){var t=this.dQ.d(),a=this.xj.d().trim(),k=this.dX.value.trim();if(a.length>60){alert("Too long email address");
return}if(k.length>600){alert("Too many team members");return}k=k.split(",").join(" ").trim();k=k.replace(/\s+/g," ");
if(k=="")k=[];else k=k.split(" ");var R=WY.vr();if(R==null)R={};if(R.acc==null)R.acc={};R.acc.team={jin:t,ldr:a,mmb:k};
WY.Tj(R,this.vI.bind(this));alert("Saved!");this.oA()};lA.Kd.prototype.OzP=function(l){var t=this.xu.d().trim();
if(t.length==0){alert("Domain is empty.");return}if(!WY.xR()){alert("You have to log in first.");return}if(WY.FG().distrib=="0"){alert("Order a distributor account first.");
return}var a=WY.vr();if(a==null)a={};if(a.acc==null)a.acc={};a.acc.dname=t;WY.Tj(a,this.vI.bind(this));
alert("Saved!");this.oA()};lA.Kd.prototype.oA=function(){if(WY.xR()){var l=WY.FG();if(l==null)return;
this.PZ.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+l.name+"</span> "+l.email+" <br/>"}else this.PZ.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var t=WY.xR()&&l.premium*1e3>Date.now();this.xn.W.style.display=t?"block":"none";if(t){var a=parseInt(l.premium)-Date.now()/1e3,k=parseInt(l.ptype),R;
if(k==-1)R="member of a team";else if(k==1)R="Single user";else R="Team of "+k;this.xn.Pa("Premium active for "+Math.round(a/(60*60*24))+" more days! ("+R+")")}var u=WY.xR()&&l.distrib*1e3>Date.now();
this.xq.W.style.display=u?"block":"none";if(u){var a=parseInt(l.distrib)-Date.now()/1e3,k=parseInt(l.ptype);
this.xq.Pa("Distributor active for "+Math.round(a/(60*60*24))+" more days! ("+k+" visitos)")}var b=WY.vr();
if(b&&b.acc&&b.acc.team){var v=b.acc.team;this.dQ.g(v.jin);this.Lb.g(!v.jin);this.xj.g(v.ldr);this.dX.value=v.mmb.join(", ")}else{this.dQ.g(!0);
this.Lb.g(!1);this.xj.g("");this.dX.value=""}if(b&&b.acc&&b.acc.dname)this.xu.g(b.acc.dname);else this.xu.g("")};
lA.Kd.prototype.pL=function(l){var t=w.X("table","");t.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> </tr>\t\t\t\t</table>\t\t\t";
for(var a=0;a<l.length;a+=3){var k=w.X("tr"),R;t.appendChild(k);R=w.X("td","left");k.appendChild(R);
R.innerHTML="<b>"+l[a]+"</b>";R=w.X("td");k.appendChild(R);R.appendChild(l[a+1].W);R=w.X("td");k.appendChild(R);
R.appendChild(l[a+2].W)}return t};lA.Kd.prototype.Ozn=function(l){var t=this.mL.indexOf(l.currentTarget);
if(!WY.xR()){alert("You must log in before buying Premium");return}if(this.NV.d()==!1&&t<6){alert("You must accept Terms of Service");
return}var a=(t&1)==0?30:90,k=[1,5,20,1e3,5e3,2e4][Math.floor(t/2)],R=WY.xR()&&WY.FG().premium*1e3>Date.now();
if(R&&k<1e3){alert("You already have premium.");return}WY.order(a,k,this.vI.bind(this));this.vE()};lA.Kd.prototype.vI=function(l){if(WY.xR()&&WY.FG().msg)alert(WY.FG().msg);
this.oA();this.vE()};lA.Kd.prototype.TZ=function(l){if(WY.xR()){WY.OzE();this.vE();this.oA(null,null,null)}else WY.TZ(this.OzU.bind(this))};
lA.Kd.prototype.OzU=function(){var l=new Z(w.E.J,!0);l.data={T:w.h.Oit};this.t(l)};lA.Kd.prototype.vE=function(){var l=new Z(w.E.J,!0);
l.data={T:w.h.yO};this.t(l)};lA.xJ=function(){WF.call(this);this.W=w.X("div");var l=this.W,t=this.Oiv=new Wa([0,13,2],!1,null,!0);
t.a("click",this.OzZ,this);l.appendChild(t.W);var a=w.X("div","");a.innerHTML=lA.xJ.OzG;l.appendChild(a)};
lA.xJ.prototype=new WF;lA.xJ.prototype.OzZ=function(l){var t=new Z("showpage",!0);t.data={AZ:0};this.t(t)};
lA.xJ.prototype.G=function(){this.Oiv.G()};lA.xJ.OzG="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function OB(){Ws.call(this,[23,4],"addguide");this.M$;this.GT={IJ:{oP:0}};this.PM=null;var l=w.X("div","form");
this.body.appendChild(l);this.cp=new HM([22,4,0],null,16);this.cp.a(w.E.z,this.F$,this);this.Lf=new HM([22,4,1],null,16);
this.Lf.a(w.E.z,this.F$,this);this.LG=new H$(null,["px","in","cm","mm"]);this.LG.a(w.E.z,this.F$,this);
l.appendChild(this.cp.W);l.appendChild(this.LG.W);l.appendChild(w.X("br"));l.appendChild(this.Lf.W);
this.No=new Wa("OK",!0,null,!0);this.No.a("click",this.SB,this);l.appendChild(this.No.W);this.a("closebtn",this.Ozu,this)}OB.prototype=new Ws;
OB.prototype.SJ=function(l,t){return l!=null};OB.prototype.G=function(){Ws.prototype.G.call(this);this.cp.G();
this.Lf.G()};OB.prototype.gO=function(l,t){var a=l.IJ.oP;this.GT.IJ.oP=a;this.LG.g(a)};OB.prototype.oA=function(l,t){this.M$=l;
this.PM=JSON.stringify(l.gh);this.Js()};OB.prototype.Js=function(){var l=this.M$,t=l.gh,a=function(k,l,R){var u=[];
for(var b=0;b<k.length;b++)u.push($.ca.$m(k[b],l.DS,R));return u.join(", ")};this.cp.g(a(t[1],l,this.GT));
this.Lf.g(a(t[0],l,this.GT))};OB.prototype.F$=function(l){if(l.currentTarget==this.LG)this.GT.IJ.oP=this.LG.d();
else{var t=this.pe(this.cp),a=this.pe(this.Lf),k=this.M$;k.gh=[a,t];k.lD=!0}this.Js()};OB.prototype.pe=function(l){var t=l.d().replace(/,/g," ").replace(/  +/g," ").trim(),a=t==""?[]:t.split(" ");
for(var k=0;k<a.length;k++)a[k]=$.ca.Oba(a[k],this.M$.DS,this.GT);return a};OB.prototype.Ozu=function(l){var t=this.M$;
t.gh=JSON.parse(this.PM);t.lD=!0;this.M$=null};OB.prototype.SB=function(l){this.F$(l);var t=new Z(w.E.q,!0);
t.P=s.lM;t.data={T:"gids",Tw:JSON.parse(this.PM),TQ:JSON.parse(JSON.stringify(this.M$.gh))};this.t(t);
this.M$=null;this.close()};function Ay(l){Ws.call(this,WT.names[l],"adjust_"+l);this.Am=l;this.PL=null;
this.As=w.X("div","form");this.As.setAttribute("style","width:24em");this.body.appendChild(this.As);
this.Bj=new WG[l];this.Bj.a(w.E.z,this.TX,this);this.As.appendChild(this.Bj.W);this.Bj.parent=this;this.No=new Wa("OK",!0,null,!0);
this.No.a("click",this.Rf,this);this.As.appendChild(this.No.W);this.a("closebtn",this.nF,this)}Ay.prototype=new Ws;
Ay.prototype.xI=function(){return!0};Ay.prototype.SJ=function(l,t){return l!=null};Ay.prototype.G=function(){Ws.prototype.G.call(this);
if(this.Bj)this.Bj.G()};Ay.prototype.TX=function(l){this.fV({T:"edit",cI:this.Bj.d()})};Ay.prototype.nF=function(l){this.fV({T:"cancel"})};
Ay.prototype.Rf=function(l){this.PL=this.Bj.d();this.fV({T:"confirm"});this.close()};Ay.prototype.oA=function(l,t,a,k){if(k.L(J.Bl)&&this.PL)this.Bj.g(this.PL);
else{var R={};WT.ov(this.Am,R);var u=WT.rh(R);this.Bj.g(u)}var b=WK.Ax.getData(l),v=$.Og(b[0].GI);this.Bj.nX(v);
this.TX(null)};Ay.prototype.gO=function(l,t){this.Bj.gO(l,t)};Ay.prototype.fV=function(l){var t=new Z(w.E.q,!0);
l.Am=this.Am;t.data=l;t.P=s.nP;t.dk=!0;this.t(t)};function AA(){Ws.call(this,[11,0],"camera");this.data=null;
this.PQ=new x(1,1);this.As=w.X("div","form hbar");this.body.appendChild(this.As);this.Obj=new H$(null,[]);
this.OC=new lI([21,0],[[21,2],[21,1]]);this.As.appendChild(this.OC.W);this.Pt=new Wa([11,0],!1,null,!0);
this.Pt.a("click",this.OSz,this);this.As.appendChild(this.Pt.W);this.NO=new OE("");this.As.appendChild(this.NO.W);
this.stream=null;this.vK=w.X("video","");this.vK.setAttribute("autoplay","true");this.body.appendChild(this.vK);
this.NA=this.OnH.bind(this);this.N$=this.Onl.bind(this);this.OiR=this.po.bind(this);this.a("closebtn",this.Ong,this)}AA.prototype=new Ws;
AA.prototype.G=function(){Ws.prototype.G.call(this);this.OC.G();this.Pt.G();this.po()};AA.prototype.FY=function(){var l=this.vK.videoWidth,t=this.vK.videoHeight,a=w.X("canvas","");
a.width=l;a.height=t;var k=a.getContext("2d");k.drawImage(this.vK,0,0,l,t);var R=k.getImageData(0,0,l,t);
return{Pk:new d(0,0,l,t),data:R.data.buffer}};AA.prototype.OSz=function(l){if(this.OC.d()==0)this.OSD();
else this.OSF()};AA.prototype.OSF=function(){var l=this.FY(),t={buffer:new Uint8Array(l.data),rect:l.Pk},a=new Z(w.E.q,!0);
a.dk=!0;a.P=s.sO;a.data={T:_.kP,qV:t};this.t(a);alert(Wq.get([21,4]))};AA.prototype.OSD=function(){var l=this.FY(),t=Hx.Op("camera",[l]),a=new Z(w.E.J,!0);
a.data={T:w.h.lT,NY:t};this.t(a);alert(Wq.get([21,5]))};AA.prototype.oA=function(l,t,a){var k={video:{width:{ideal:6e3},height:{ideal:6e3}}};
if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(k).then(this.NA).catch(this.N$);
else navigator.webkitGetUserMedia(k,this.NA,this.N$)};AA.prototype.OnH=function(l){this.stream=l;this.vK.srcObject=l;
this.vK.addEventListener("loadedmetadata",this.OiR,!1)};AA.prototype.po=function(l){var t=this.vK.videoWidth,a=this.vK.videoHeight;
this.NO.g(Wq.get([21,3])+": "+t+" x "+a+" px");this.PQ.$x(t,a);this.ci(this.wa,this.Ii)};AA.prototype.xv=function(l,t){return Math.min(l,t)<500?new x(0,0):new x(100,100)};
AA.prototype.ci=function(l,t){this.wa=l;this.Ii=t;var a=l-28,k=t-28-38,R=this.PQ.x/this.PQ.y;if(a/k>R)a=k*R;
else k=a/R;this.vK.setAttribute("style","display: block; width: "+Math.round(a)+"px; height:"+Math.round(k)+"px;")};
AA.prototype.Onl=function(l){console.log("error",l);alert(Wq.get([21,6]));this.close()};AA.prototype.Ong=function(l){if(this.stream!=null){this.stream.getTracks()[0].stop();
this.vK.src="";this.stream=null}};function AG(){Ws.call(this,[7,8],"crange");this.M$=null;this.PC=0;
this.Ph=0;this.NW=null;this.As=w.X("div","form");this.As.setAttribute("style","width:18em");this.body.appendChild(this.As);
this.xe=new WB("Fuzziness",0,200);this.xe.g(40);this.xe.a(w.E.z,this._x,this);this.As.appendChild(this.xe.W);
this.Ej=w.X("canvas");this.As.appendChild(this.Ej);this.Rh=new Wa("OK",!0,null,!0);this.Rh.a("click",this.create,this);
this.body.appendChild(this.Rh.W)}AG.prototype=new Ws;AG.prototype.SJ=function(l,t){return l!=null};AG.prototype.ho=function(){return!0};
AG.prototype.yY=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y);this.PC=Math.max(0,Math.min(l.$-1,Math.floor(u.x)));
this.Ph=Math.max(0,Math.min(l.e-1,Math.floor(u.y)));this._x()};AG.prototype.G=function(){Ws.prototype.G.call(this)};
AG.prototype.create=function(l){var t=new Z(w.E.q,!0);t.P=s.qw;t.data={T:"setsel",ER:[7,8],O:{rect:new d(0,0,this.M$.$,this.M$.e),channel:this.NW}};
t.dk=!0;this.t(t);this.close()};AG.prototype.oA=function(l,t){this.M$=l;this.PC=0;this.Ph=0;this._x()};
AG.prototype._x=function(){var l=this.M$,t=this.PC,a=this.Ph,k=this.Ej,R=k.getContext("2d"),u=Math.floor(230*w.m()),b=Math.floor(u*(l.e/l.$));
k.width=u;k.height=b;w.lA(k,u,b);var v=new d(0,0,l.$,l.e),H=l.$*l.e,N=l.FY(),z=this.NW=$.I(H),A=(a*l.$+t)*4,Q=1/255,S=N[A]*Q,o=N[A+1]*Q,p=N[A+2]*Q,O=$.kG(S,o,p),E=this.xe.d()/200,L=1/E,U=1/Math.sqrt(3);
for(var W=0;W<H;W++){var Y=W<<2,y=N[Y]*Q,C=N[Y+1]*Q,X=N[Y+2]*Q,M=$.kG(y,C,X),g=$.OO(M.Ii,O.Ii);if(M.jl==1||O.jl==1)g=0;
var n=Math.abs(M.RI-O.RI),V=Math.abs(M.jl-O.jl),i=Math.sqrt((S-y)*(S-y)+(o-C)*(o-C)+(p-X)*(p-X))*U,f=i<=E?1-i*L:0;
z[W]=255*f*(1-g)}var r=$.I(z.length*4);$.IK(r,4294967295);for(var W=0;W<3;W++)$.xm(z,r,W);var e=s.b.tS([r,v],new WM(u/l.$,0,0,b/l.e,0,0)),D=R.createImageData(e.rect.$,e.rect.e);
$.Ll(e.buffer,D.data);R.putImageData(D,0,0)};function OA(){Ws.call(this,[11,1],"colorpicker");this.LL=null;
this.Bf=null;this.QC=null;this.OR=!1;this.YT=!1;var l=w.X("div","flexrow"),u,b;this.body.appendChild(l);
this.RJ=new x;this.AS=new x;this._X=this.pR.bind(this);this.rl=this.Onk.bind(this);this.Ot=w.X("canvas","");
this.Aa=this.Ot.getContext("2d");this.Ot.width=this.Ot.height=256;w.mM(this.Ot);w.Ox(this.Ot,this.OnP.bind(this));
l.appendChild(this.Ot);this.NH=this.BO.bind(this);this.Nl=this.Onz.bind(this);this.YC=w.X("canvas","");
this.hA=this.YC.getContext("2d");this.YC.width=20;this.YC.height=256;w.mM(this.YC);w.Ox(this.YC,this.Onb.bind(this));
l.appendChild(this.YC);var t=w.X("div","form");t.setAttribute("style","width:14.5em; margin-left:1em;");
l.appendChild(t);this.Ng=w.X("div","full");t.appendChild(this.Ng);this.NI=w.X("div","full");t.appendChild(this.NI);
var a=w.X("div","flexrow");t.appendChild(a);var k=w.X("div"),R=w.X("div");a.appendChild(k);a.appendChild(R);
u=["R","G","B"];b=k;this.Pv=[];for(var v=0;v<3;v++){var H=new Hq(u[v]+":",0,255,null,0,!1,!0);this.Pv.push(H);
H.a(w.E.z,this.OnI,this);b.appendChild(H.W)}u=["H","S","B"];b=R;this.PN=[];for(var v=0;v<3;v++){var N=0,z=360,A="\xB0";
if(v!=0){z=100;A="%"}var H=new Hq(u[v]+":",N,z,A,0,!1,!0);this.PN.push(H);H.a(w.E.z,this.Oni,this);b.appendChild(H.W)}this.cp=new HM("Hex",null,6);
this.cp.a(w.E.z,this.vd,this);t.appendChild(this.cp.W);this.Lp=w.X("input","fitem");this.Lp.setAttribute("type","color");
this.Lp.addEventListener("change",this.vd.bind(this),!1);t.appendChild(this.Lp);this.LC=new Ov(9);this.LC.a(w.E.z,this.vd,this);
t.appendChild(this.LC.W);this.No=new Wa("OK",!0,null,!0);this.No.a("click",this.SB,this);t.appendChild(this.No.W);
this.a("closebtn",this.nF,this);this.Fn=!1}OA.prototype=new Ws;OA.prototype.ho=function(){return!0};
OA.prototype.ci=function(l,t){this.Ot.style.width=Math.min(256,l-250)+"px"};OA.prototype.yY=function(l,t,a,k,R){this.Fn=!0;
this.ph(l,R)};OA.prototype.JP=function(l,t,a,k,R){if(!this.Fn)return;this.ph(l,R)};OA.prototype.cV=function(l,t,a,k,R){this.Fn=!1};
OA.prototype.ph=function(l,t){var a=s.Fg.uo(l,t,1),k=a&255,R=a>>8&255,u=a>>16&255;this.Bf={D:u/255,K:R/255,l:k/255};
this.update()};OA.prototype.OnI=function(l){var t=this.Pv,a=this.xk(parseInt(t[0].d())),k=this.xk(parseInt(t[1].d())),R=this.xk(parseInt(t[2].d()));
this.Bf={D:a/255,K:k/255,l:R/255};this.update()};OA.prototype.Oni=function(l){var t=this.PN,a=this.rn(parseInt(t[0].d())/360),k=this.rn(parseInt(t[1].d())/100),R=this.rn(parseInt(t[2].d())/100);
this.Bf=$.gU(a,k,R);this.AS.y=(1-a)*255;this.update()};OA.prototype.vd=function(l){var t;if(l.currentTarget==this.LC)t=this.LC.d();
else{t=l.currentTarget==this.cp?this.cp.d():this.Lp.value;if(t.charAt(0)=="#")t=t.slice(1);if(t.length==3)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];
t=$.O$j(t)}this.Bf={D:(t>>16&255)/255,K:(t>>8&255)/255,l:(t&255)/255};this.update()};OA.prototype.OnP=function(l){w.iZ(window,this._X);
w.Pe(window,this.rl);this.pR(l)};OA.prototype.Onk=function(l){w.QU(window,this._X);w.MH(window,this.rl)};
OA.prototype.pR=function(l){var t=w.LV(l,this.Ot);t.x=t.x*(256/parseFloat(this.Ot.style.width));this.RJ.$x(this.xk(t.x),this.xk(t.y));
this.Bf=this.BV();this.update()};OA.prototype.BV=function(){var l=$.gU((255-this.xk(this.AS.y))/255,this.rn(this.RJ.x/255),this.rn(1-this.RJ.y/255));
return{D:l.D,K:l.K,l:l.l}};OA.prototype.Onb=function(l){w.iZ(window,this.NH);w.Pe(window,this.Nl);this.BO(l)};
OA.prototype.Onz=function(l){w.QU(window,this.NH);w.MH(window,this.Nl)};OA.prototype.BO=function(l){var t=w.LV(l,this.YC);
this.AS.$x(this.xk(t.x),this.xk(t.y));this.Bf=this.BV();this.update()};OA.prototype.UV=function(l){var t=l.D,a=l.K,k=l.l;
return Math.round(t*255)<<16|Math.round(a*255)<<8|Math.round(k*255)};OA.prototype.SB=function(l){this.BA();
var t=this.UV(this.Bf);this.LC.g(t);this.QC(t);this.close()};OA.prototype.nF=function(l){this.BA();if(this.OR)this.QC(this.UV(this.LL))};
OA.prototype.BA=function(l){var t=new Z(w.E.J,!0);t.data={T:w.h.oQ};this.t(t)};OA.prototype.oA=function(l,t){var a=new Z(w.E.J,!0);
a.data={T:w.h.gV,fR:"crosshair",push:!0};this.t(a);this.Fn=!1;this.QC=t.ii;this.OR=!1;this.YT=t.iP;var k=t.uT;
this.Bf={D:(k>>16&255)/255,K:(k>>8&255)/255,l:(k>>0&255)/255};this.LL=JSON.parse(JSON.stringify(this.Bf));
this.NI.setAttribute("style","height:3em;background-color:#"+$.mW(k)+";");this.update()};OA.prototype.update=function(){var l=this.Bf,t=this.UV(l),a=this.Pv;
a[0].g(Math.round(l.D*255));a[1].g(Math.round(l.K*255));a[2].g(Math.round(l.l*255));this.cp.g($.mW(t));
this.Lp.value="#"+$.mW(t);this.Ng.setAttribute("style","height:3em;background-color:#"+$.mW(t)+";");
var k=$.HC(l.D,l.K,l.l);if(k.cI==0)k.RI=this.RJ.x/255;if(k.RI==0||k.cI==0)k.Ii=(255-this.xk(this.AS.y))/255;
a=this.PN;a[0].g(Math.round(k.Ii*360));a[1].g(Math.round(k.RI*100));a[2].g(Math.round(k.cI*100));if(k.cI!=0)this.RJ.x=k.RI*255;
this.RJ.y=(1-k.cI)*255;this.AS.y=(1-k.Ii)*255;var R=this.Aa.getImageData(0,0,256,256);this.OnS(R.data,256,256,k.Ii);
this.Aa.putImageData(R,0,0);this.Aa.strokeStyle="#000000";this.Aa.beginPath();this.Aa.arc(this.RJ.x+1,this.RJ.y+1,5,0,2*Math.PI);
this.Aa.stroke();this.Aa.strokeStyle="#ffffff";this.Aa.beginPath();this.Aa.arc(this.RJ.x,this.RJ.y,5,0,2*Math.PI);
this.Aa.stroke();var R=this.hA.getImageData(0,0,20,256);this.Onn(R.data,20,256);this.hA.putImageData(R,0,0);
this.hA.strokeStyle="#ffffff";this.hA.beginPath();this.hA.moveTo(0,this.AS.y);this.hA.lineTo(20,this.AS.y);
this.hA.lineWidth=2;this.hA.stroke();if(this.YT){this.QC(this.UV(this.Bf));this.OR=!0}};OA.prototype.OnS=function(l,t,a,k){for(var R=0;
R<a;R++)for(var u=0;u<t;u++){var b=$.gU(k,u/t,(a-R-1)/a),v=R*t+u<<2;l[v+0]=~~(b.D*255);l[v+1]=~~(b.K*255);
l[v+2]=~~(b.l*255);l[v+3]=255}};OA.prototype.Onn=function(l,t,a){for(var k=0;k<a;k++){var R=$.gU(1-k/a,1,1);
for(var u=0;u<t;u++){var b=4*(k*t+u);l[b+0]=R.D*255;l[b+1]=R.K*255;l[b+2]=R.l*255;l[b+3]=255}}};OA.prototype.xk=function(l){return Math.max(0,Math.min(255,l))};
OA.prototype.rn=function(l){return Math.max(0,Math.min(1,l))};function Ar(){Ws.call(this,[11,2],"contoureditor");
this.Ni=null;this.nm=null;this.response=null;this.Su=w.X("div","cell");this.body.appendChild(this.Su);
this.$W=w.X("div","cell padded");this.body.appendChild(this.$W);var l=w.X("div","bordered padded vmargin");
this.Su.appendChild(l);this.Bj=new Oo;this.Bj.a(w.E.z,this.hK,this);l.appendChild(this.Bj.W);this.No=new Wa("OK",!0,null,!0);
this.No.a("click",this.close,this);this.$W.appendChild(this.No.W);this.coords=w.X("div","");this.coords.setAttribute("style","width:250px");
this.Su.appendChild(this.coords);this.v_=new HM("X (in)","%",4);this.vx=new HM("Y (out)","%",4);this.J$=new HV([19,3,0]);
this.v_.a(w.E.z,this.vy,this);this.vx.a(w.E.z,this.vy,this);this.J$.a(w.E.z,this.vy,this);this.coords.appendChild(this.v_.W);
this.coords.appendChild(this.J$.W);this.coords.appendChild(this.vx.W);this.a("closebtn",this.TR,this)}Ar.prototype=new Ws;
Ar.prototype.G=function(){Ws.prototype.G.call(this);this.J$.G()};Ar.prototype.hK=function(l){this.nm.Crv.v=this.Bj.d();
this.response(this.nm);this.vs()};Ar.prototype.TR=function(l){this.response(this.Ni)};Ar.prototype.oA=function(l,t){this.Ni=JSON.parse(JSON.stringify(t.cO));
this.nm=t.cO;this.response=t.response;this.Bj.g(this.nm.Crv.v);this.vs()};Ar.prototype.vs=function(){var l=this.Bj.yX();
this.coords.setAttribute("class",l==-1?"disabled":"");if(l==-1)return;var t=this.nm.Crv.v[l].v;this.v_.g(Math.round(t.Hrzn.v*(100/255)));
this.vx.g(Math.round(t.Vrtc.v*(100/255)));this.J$.g(t.Cnty.v)};Ar.prototype.vy=function(l){var t=this.Bj.yX(),a=this.nm.Crv.v[t];
a.v.Hrzn.v=parseFloat(this.v_.d())*(255/100);a.v.Vrtc.v=parseFloat(this.vx.d())*(255/100);a.v.Cnty.v=this.J$.d();
this.nm.Crv.v.sort(function(k,R){return k.v.Hrzn.v-R.v.Hrzn.v});this.Bj.g(this.nm.Crv.v,this.nm.Crv.v.indexOf(a));
this.vs();this.response(this.nm)};function lu(){Ws.call(this,[11,3],"csize");this.FU=0;this.As=w.X("div","form");
this.As.setAttribute("style","width:22em");this.body.appendChild(this.As);this.Os=new lK(!0,!0,!0,!0);
this.Os.OiH(!1);this.As.appendChild(this.Os.W);this.FE=new lI("Align with",["Document",[12,6]]);this.FE.a(w.E.z,this.OnG,this);
this.As.appendChild(this.FE.W);this.Jg=new AE("Anchor");this.As.appendChild(this.Jg.W);this.Jg.g(4);
this.Fj=new li(!1);this.Fj.Oiq(new x(0,0));this.Rh=new Wa("OK",!0,null,!0);this.Rh.a("click",this.create,this);
this.body.appendChild(this.Rh.W)}lu.prototype=new Ws;lu.prototype.SJ=function(l,t){return l!=null};lu.prototype.OnG=function(){var l=[this.Jg.W,this.Fj.W];
this.As.removeChild(l[this.FU]);this.FU=this.FE.d();this.As.appendChild(l[this.FU])};lu.prototype.G=function(){Ws.prototype.G.call(this);
this.Os.G();this.FE.G();this.Jg.G();this.Fj.G()};lu.prototype.create=function(l){var t=this.Os.d(),a=t.x,k=t.y,R=new Z(w.E.q,!0);
R.P=s.MQ;R.data={T:"canvsize",qL:a,qB:k,TO:this.Os.CU()};if(this.FU==0)R.data.ye=this.Jg.d();else R.data.n=this.Fj.OPH();
R.dk=!0;this.t(R);this.close()};lu.prototype.oA=function(l,t){this.Os.g(new x(l.$,l.e),l.DS)};function $l(){Ws.call(this,[11,4],"duplinto");
this.Q=null;this.aO=null;this.Ae=null;this.As=w.X("div","form");this.As.setAttribute("style","width:18em");
this.body.appendChild(this.As);this.AR=new H$([12,43],["abc","def"]);this.AR.a(w.E.z,this.B$,this);this.As.appendChild(this.AR.W);
this.wc=new HM([12,48]);this.As.appendChild(this.wc.W);this.No=new Wa("OK",!0,null,!0);this.No.a("click",this.SB,this);
this.As.appendChild(this.No.W)}$l.prototype=new Ws;$l.prototype.G=function(){Ws.prototype.G.call(this);
this.AR.G();this.wc.G()};$l.prototype.B$=function(l){var t=this.AR.d();if(t==this.Ae.length)this.wc.fW();
else this.wc.Jf()};$l.prototype.oA=function(l,t,a){this.Q=l.bT();this.aO=l;this.Ae=a;this.wc.g(this.Q.length==0?"Layer":this.Q[this.Q.length-1].getName());
var k=[];for(var R=0;R<a.length;R++)k.push(a[R].name);k.push([11,7]);this.AR.SZ(k);this.AR.g(a.indexOf(l));
this.B$(null)};$l.prototype.SB=function(l){var t=this.AR.d();if(t==this.Ae.length){var a=new Hb(this.wc.d()+".psd");
a.$=this.aO.$;a.e=this.aO.e;a.buffer=$.I(a.$*a.e*4);var k=a.Ow();k.wy("Background");a.aH([k]);var R=new Z(w.E.J,!0);
R.data={T:w.h.lT,NY:a};this.t(R)}var R=new Z(w.E.q,!0);R.data={T:_.bs,Q:this.Q,Tr:this.aO,fn:this.Ae[t]};
R.P=s.sO;R.dk=!0;this.t(R);this.close()};function lQ(){Ws.call(this,[1,9],"eassets");this.GT=null;this.MS=null;
var l=w.X("div","form");l.setAttribute("style","width:37em");this.body.appendChild(l);var t=w.X("span");
t.innerHTML="A layer is <b>exportable</b>, when its name starts with <b>\"-e-\"</b>.<br/>";l.appendChild(t);
this.XC=w.X("span");l.appendChild(this.XC);l.appendChild(w.X("br"));this.Fs=new AI([12,50],["PNG","JPG","SVG"]);
this.Fs.g([!0,!1,!1]);l.appendChild(this.Fs.W);this.FX=new AI([12,14],["1x","2x","3x","4x"]);this.FX.g([!0,!1,!1,!1]);
l.appendChild(this.FX.W);this.Rh=new Wa([1,9],!0,null,!0);this.Rh.a("click",this.F$,this);l.appendChild(this.Rh.W);
this.a("closebtn",this.vc,this)}lQ.prototype=new Ws;lQ.prototype.vc=function(l){this.MS=null};lQ.prototype.G=function(){Ws.prototype.G.call(this);
this.Fs.G();this.FX.G();this.Rh.G()};lQ.prototype.oA=function(l,t,a){var k=[];for(var R=0;R<l.Q.length;
R++){var u=l.Q[R].getName();if(u.startsWith("-e"))k.push(u)}var b="- - - "+k.length+" exportable layers";
this.XC.textContent=b;this.MS=l};lQ.prototype.gO=function(l,t){this.GT=l};lQ.prototype.F$=function(l){var t=this.MS,a=this.Fs.d(),k=[];
for(var R=0;R<a.length;R++)if(a[R])k.push(["PNG","JPG","SVG"][R]);var u=this.FX.d(),b={};for(var R=0;
R<t.Q.length;R++){var v=t.Q[R],H=v.getName();if(!H.startsWith("-e"))continue;var N=v.jY();v.Ro(!0);for(var z=0;
z<u.length;z++){if(!u[z])continue;var A=z+1,Q=s.Ya.Yb(t,k,A,this.GT,R);for(var S=0;S<k.length;S++){var o=k[S],p=H.slice(3)+(A==1?"":"-"+A+"x")+"."+o.toLowerCase();
b[p]=new Uint8Array(Q[S])}}v.Ro(N)}var O=UZIP.encode(b),E=new Z(w.E.J,!0);E.data={T:w.h.Sj,data:O,name:"assets.zip"};
this.t(E)};function Wk(l){Ws.call(this,Wn[l]?HU.names[l]:WT.names[l],"filter_"+l);this.Am=l;this.h$=null;
this.Bj=Wn[l]?new Wn[l]:new WG[l];this.Bj.a(w.E.z,this.TX,this);this.Bj.parent=this;if(!this.Sl())this.body.setAttribute("style","width:22em");
this.body.appendChild(this.Bj.W);this.No=new Wa("OK",!0,null,!0);this.No.a("click",this.Rf,this);if(this.Bj.Sl())this.Bj.pr(this.No.W);
else this.body.appendChild(this.No.W);this.a("closebtn",this.nF,this)}Wk.prototype=new Ws;Wk.prototype.xI=function(){return!0};
Wk.prototype.Sl=function(){return this.Bj!=null&&this.Bj.Sl()};Wk.prototype.xv=function(){return this.Bj.Sl()?new x(0,0):Ws.prototype.xv()};
Wk.prototype.G=function(){Ws.prototype.G.call(this);if(this.Bj)this.Bj.G()};Wk.prototype.gO=function(l,t){if(Wn[this.Am]==null)this.Bj.gO(l,t)};
Wk.prototype.Bd=function(l,t,a,k){if(this.Bj)this.Bj.Bd(k)};Wk.prototype.TX=function(l){var t=this.Bj.d();
if(Wn[this.Am]==null){var a=HU.TG(this.Am);t=WT.JQ(this.Am,t,a)}this.fV({T:"edit",cI:t})};Wk.prototype.oA=function(l,t){this.h$=t.h$;
var a=l.add.lnk2?l.add.lnk2:[],k,R,u=new d(0,0,l.$,l.e),b=l.Q[l._[0]],v=null;k=b.buffer;R=b.rect;if(this.Sl())v=l.FY(l._[0]-1);
if(WG[this.Am]){var H={};WT.ov(this.Am,H);this.Bj.g(WT.rh(H))}else if(Wn[this.Am])this.Bj.g(HU.TG(this.Am),k,R,u,v,a);
if(t.h$){var b=l.Q[this.h$.u];if(b.Bx()){var N=b.SS(l);k=N.buffer;R=N.rect;var z=b.add.SoLd.filterFX.v.filterFXList.v;
if(z[this.h$.index]){var A=z[this.h$.index].v.Fltr.v;if(Wn[this.Am])this.Bj.g(A,k,R,u,v,a);else this.Bj.g(WT.Jh(this.Am,A))}}}if(!this.Sl())this.TX()};
Wk.prototype.nF=function(l){this.fV({T:"cancel"})};Wk.prototype.Rf=function(l){if(this.Sl())this.TX();
this.fV({T:"confirm"});this.close()};Wk.prototype.fV=function(l){var t=new Z(w.E.q,!0);l.filter=this.Am;
l.h$=this.h$;t.data=l;t.P=s.qK;t.dk=!0;this.t(t)};Wk.prototype.ci=function(l,t){t=t-26;l=l-26;this.Bj.ci(l,t)};
function AP(){Ws.call(this,[11,5],"gradienteditor");this.LL=null;this.Bf=null;this.Wf=null;this.QC=null;
this.OR=!1;this.YT=!1;w.jI(this.body,"form");this.hQ=null;this.xh=null;this.DZ=-1;this.Ix=-1;this.ui=0;
this.rg=this.MD.bind(this);this.fg=this.mN.bind(this);this.Ot=w.X("canvas","");this.Aa=this.Ot.getContext("2d");
this.Ot.setAttribute("style","display:block");this.qy=null;w.mM(this.Ot);w.Ox(this.Ot,this.mv.bind(this));
this.JE=new Hq("Smoothness:",0,100,"%");this.JE.a(w.E.z,this.Fz,this);this.JE.parent=this;this.body.appendChild(this.JE.W);
this.body.appendChild(w.X("br"));this.Qh=new OE([12,0]);this.body.appendChild(this.Qh.W);this.J_=w.X("div","bordered padded noalign");
this.body.appendChild(this.J_);this.Ai=new Hq([12,0],0,100,"%");this.Ai.parent=this;this.Ai.a(w.E.z,this.Fz,this);
this.J_.appendChild(this.Ai.W);this.XV=new Hq([12,40],0,100,"%");this.XV.parent=this;this.XV.a(w.E.z,this.Fz,this);
this.J_.appendChild(this.XV.W);this.Fy=new Wa([5,4],!1,null,!0);this.Fy.a("click",this.Bi,this);this.J_.appendChild(this.Fy.W);
this.body.appendChild(this.Ot);this.body.appendChild(w.X("br"));this.NP=new OE([13,0]);this.body.appendChild(this.NP.W);
this.GA=w.X("div","bordered padded noalign");this.body.appendChild(this.GA);this.gR=new H$([12,44],[[12,45],[12,46],[12,47]]);
this.gR.a(w.E.z,this.Fz,this);this.GA.appendChild(this.gR.W);this.RX=new OD(!0);this.RX.parent=this;
this.RX.a(w.E.z,this.Fz,this);this.GA.appendChild(this.RX.W);this.Bw=new Hq([12,40],0,100,"%");this.Bw.parent=this;
this.Bw.a(w.E.z,this.Fz,this);this.GA.appendChild(this.Bw.W);this.FB=new Wa([5,4],!1,null,!0);this.FB.a("click",this.Bk,this);
this.GA.appendChild(this.FB.W);this.No=new Wa("OK",!0,null,!0);this.No.a("click",this.SB,this);this.body.appendChild(this.No.W);
this.a("closebtn",this.nF,this)}AP.prototype=new Ws;AP.prototype.nF=function(l){if(this.OR)this.QC(this.LL)};
AP.prototype.G=function(){Ws.prototype.G.call(this);this.Qh.G();this.NP.G();this.Fy.G();this.FB.G();
this.Ai.G();this.XV.G();this.gR.G();this.Bw.G()};AP.prototype.gO=function(l,t){this.Wf=l};AP.prototype.oA=function(l,t){this.Bf=JSON.parse(JSON.stringify(t.C));
this.LL=JSON.parse(JSON.stringify(t.C));this.hQ=this.xh=null;this.cP();this.FI();this.QC=t.ii;this.OR=!1;
this.YT=t.iP};AP.prototype.SB=function(l){var t=this.Bf;this.QC(t);this.close()};AP.prototype.rC=function(l){return l==J.tQ};
AP.prototype.Bd=function(l,t,a,k){if(k.L(J.tQ)){if(this.xh)this.Bi();if(this.hQ)this.Bk()}};AP.prototype.Bi=function(l){var t=this.Bf.Trns.v;
if(this.xh==null||t.length==2)return;t.splice(t.indexOf(this.xh),1);this.xh=null;this.cP();this.FI()};
AP.prototype.Bk=function(l){var t=this.Bf.Clrs.v;if(this.hQ==null||t.length==2)return;t.splice(t.indexOf(this.hQ),1);
this.hQ=null;this.cP();this.FI()};AP.prototype.cP=function(){var l=this.Ot,t=this.Aa,a=w.m();l.width=Math.floor(410*a);
l.height=Math.floor(90*a);w.lA(l,l.width,l.height);this.qy=new d(0,0,Math.floor(380*a),Math.floor(32*a));
this.qy.x=Math.floor((this.Ot.width-this.qy.$)/2);this.qy.y=Math.floor((this.Ot.height-this.qy.e)/2);
var k=this.qy,R=k.$,u=k.e,b=k.x,v=k.y,H=new d(0,0,R,u),N=t.getImageData(0,0,R,u),z=new Uint8Array(N.data.buffer);
$.O$(z,R,u,8,0,0);var A=$.I(R*u*4);$.C.Or(this.Bf,A,H,[1/R,0,0,1/u],R/2,u/2,!1,0,this.Wf.rq,this.Wf.WR);
$.j.bz("norm",A,k,z,k,k,1);t.clearRect(0,0,l.width,l.height);t.putImageData(N,b,v);var Q=this.Bf.Trns.v,S=this.Bf.Clrs.v,o=$.C.hG(S,this.Wf.rq,this.Wf.WR),p=Math.round(6*w.m()),O=Math.round(14*w.m()),E=this.xh?this.xh.v:null,L=this.hQ?this.hQ.v:null;
for(var U=0;U<Q.length;U++){var W=Q[U].v,Y=Math.round(255-255*W.Opct.v.val/100);if((W==E||Q[U-1]&&Q[U-1].v==E||U==this.Ix)&&U!=0){t.fillStyle="#000000";
t.fillRect(b-3+R*(Q[U-1].v.Lctn.v+(W.Lctn.v-Q[U-1].v.Lctn.v)*W.Mdpn.v/100)/4096,v-6-2,6,6)}if(W==E){t.fillStyle="#ffffff";
t.fillRect(b-p+R*(W.Lctn.v/4096)-2,v-2-O-2,2*p+4,O+4)}t.fillStyle="rgb("+Y+","+Y+","+Y+")";t.fillRect(b-p+R*(W.Lctn.v/4096),v-2-O,2*p,O)}for(var U=0;
U<S.length;U++){var y=S[U].v,C=o[U];if((y==L||S[U-1]&&S[U-1].v==L||U==this.DZ)&&U!=0){t.fillStyle="#000000";
t.fillRect(b-3+R*(S[U-1].v.Lctn.v+(y.Lctn.v-S[U-1].v.Lctn.v)*y.Mdpn.v/100)/4096,v+u+2,6,6)}if(y==L){t.fillStyle="#ffffff";
t.fillRect(b-p+R*(y.Lctn.v/4096)-2,v+u+2-2,2*p+4,O+4)}t.fillStyle="rgb("+Math.round(C.D)+", "+Math.round(C.K)+","+Math.round(C.l)+")";
t.fillRect(b-p+R*(y.Lctn.v/4096),v+u+2,2*p,O)}if(this.YT){this.QC(this.Bf);this.OR=!0}};AP.prototype.FI=function(){this.JE.g(Math.round(100*this.Bf.Intr.v/4096));
var l=this.Bf.Trns.v,t=this.Bf.Clrs.v,a=this.xh!=null,k=this.Ix!=-1;this.Ai.jP(a);this.XV.jP(a||k);this.Fy.jP(a);
if(a){this.J_.setAttribute("style","");var R=this.xh.v;this.XV.g(Math.round(100*R.Lctn.v/4096));this.Ai.g(R.Opct.v.val)}if(k)this.XV.g(l[this.Ix].v.Mdpn.v);
var a=this.hQ!=null,k=this.DZ!=-1;this.gR.jP(a);this.RX.jP(a);this.Bw.jP(a||k);this.FB.jP(a);if(a){this.GA.setAttribute("style","");
var u=this.hQ.v;this.Bw.g(Math.round(100*u.Lctn.v/4096));var b=u.Type.v.Clry;this.gR.g(["FrgC","BckC","UsrS"].indexOf(b));
if(b=="FrgC")this.RX.zm(this.Wf.rq);if(b=="BckC")this.RX.zm(this.Wf.WR);if(b=="UsrS")this.RX.g(u.Clr.v)}if(k)this.Bw.g(t[this.DZ].v.Mdpn.v)};
AP.prototype.Fz=function(l){var t=Math.round(4096*this.JE.d()/100);this.Bf.Intr.v=t;var a=this.Bf.Trns.v,k=this.Bf.Clrs.v;
if(this.xh!=null){var R=this.xh.v;R.Lctn.v=Math.round(4096*(this.XV.d()/100));R.Opct.v.val=this.Ai.d()}if(this.hQ!=null){var u=this.hQ.v;
u.Lctn.v=Math.round(4096*(this.Bw.d()/100));if(l.target==this.RX)this.gR.g(2);var b=this.gR.d();u.Type.v.Clry=["FrgC","BckC","UsrS"][b];
if(b==2)u.Clr={t:"Objc",v:this.RX.d()};else if(u.Clr)delete u.Clr}if(this.Ix!=-1)a[this.Ix].v.Mdpn.v=this.XV.d();
if(this.DZ!=-1)k[this.DZ].v.Mdpn.v=this.Bw.d();this.cP()};AP.prototype.mv=function(l){var t=w.LV(l,this.Ot),a=(t.x*w.m()-this.qy.x)/this.qy.$,k=(t.y*w.m()-this.qy.y)/this.qy.e,R=this.Bf.Trns.v,u=this.Bf.Clrs.v,b=null,v=null,H=-1,N=-1;
if(k<1)for(var z=0;z<R.length;z++){var A=R[z].v;if(Math.abs(A.Lctn.v/4096-a)<.02)b=R[z];if(z>0)if(Math.abs((R[z-1].v.Lctn.v+(A.Lctn.v-R[z-1].v.Lctn.v)*A.Mdpn.v/100)/4096-a)<.01)H=z}if(k>0)for(var z=0;
z<u.length;z++){var Q=u[z].v;if(Math.abs(Q.Lctn.v/4096-a)<.02)v=u[z];if(z>0)if(Math.abs((u[z-1].v.Lctn.v+(Q.Lctn.v-u[z-1].v.Lctn.v)*Q.Mdpn.v/100)/4096-a)<.01)N=z}if(v==null&&b==null&&H==-1&&N==-1){if(k<0){var A={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
A.v.Lctn.v=Math.round(a*4096);R.push(A);R.sort(this.UO);b=A}if(k>1){var u=this.Bf.Clrs.v,S=$.C.hG(u,this.Wf.rq,this.Wf.WR),o=$.C.kA(this.Bf,S,a),Q={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:$.C.br({D:o&255,K:o>>8&255,l:o>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
Q.v.Lctn.v=Math.round(a*4096);u.push(Q);u.sort(this.UO);v=Q}}if(v!=null||b!=null||H>-1||N>-1){this.xh=b;
this.hQ=v;this.Ix=H;this.DZ=N;this.FI();this.cP();w.iZ(window,this.rg);w.Pe(window,this.fg)}};AP.prototype.MD=function(l){var t=w.LV(l,this.Ot),a=w.m()*(t.x-this.qy.x)/this.qy.$,k=w.m()*(t.y-this.qy.y)/this.qy.e;
a=Math.max(0,Math.min(1,a));var R=this.Bf.Trns.v,u=this.Bf.Clrs.v;if(this.xh!=null){var b=this.xh.v;
b.Lctn.v=Math.round(4096*a);var v=R.indexOf(this.xh);if(v!=-1&&k<-1&&R.length>2)R.splice(v,1);if(v==-1&&k>-1)R.push(this.xh);
R.sort(this.UO)}if(this.hQ!=null){var H=this.hQ.v;H.Lctn.v=Math.round(4096*a);var N=u.indexOf(this.hQ);
if(N!=-1&&k>1.5&&u.length>2)u.splice(N,1);if(N==-1&&k<1.5)u.push(this.hQ);u.sort(this.UO)}if(this.Ix>-1){var b=R[this.Ix].v;
b.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(a*4096-R[this.Ix-1].v.Lctn.v)/(b.Lctn.v-R[this.Ix-1].v.Lctn.v))))}if(this.DZ>-1){var H=u[this.DZ].v;
H.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(a*4096-u[this.DZ-1].v.Lctn.v)/(H.Lctn.v-u[this.DZ-1].v.Lctn.v))))}if(this.xh!=null||this.hQ!=null||this.Ix>-1||this.DZ>-1){this.FI();
this.cP()}};AP.prototype.mN=function(l){w.QU(window,this.rg);w.MH(window,this.fg);if(Date.now()-this.ui<300){if(this.DZ!=-1||this.Ix!=-1){var t=(this.DZ!=-1?this.Bf.Clrs.v[this.DZ]:this.Bf.Trns.v[this.Ix]).v;
t.Mdpn.v=50;this.FI();this.cP()}else if(this.hQ!=null)this.RX.Olb()}this.ui=Date.now()};AP.prototype.UO=function(l,t){return l.v.Lctn.v-t.v.Lctn.v};
function $U(){Ws.call(this,[11,10],"isize");this.As=w.X("div","form");this.As.setAttribute("style","width:20em");
this.body.appendChild(this.As);this.Os=new lK(!0,!0);this.As.appendChild(this.Os.W);this.aD=new H$("Interpolate",["Nearest","Bilinear"]);
this.aD.g(1);this.aD.a(w.E.z,this.OQ,this);this.As.appendChild(this.aD.W);this.Rh=new Wa("OK",!0,null,!0);
this.Rh.a("click",this.create,this);this.body.appendChild(this.Rh.W)}$U.prototype=new Ws;$U.prototype.SJ=function(l,t){return l!=null};
$U.prototype.G=function(){Ws.prototype.G.call(this);this.aD.G();this.Os.G()};$U.prototype.create=function(l){var t=this.Os.d(),a=t.x,k=t.y,R=new Z(w.E.q,!0);
R.P=s.MQ;R.data={T:"imgsize",qL:a,qB:k,TO:this.Os.CU(),TP:this.aD.d()};R.dk=!0;this.t(R);this.close()};
$U.prototype.oA=function(l,t){this.Os.g(new x(l.$,l.e),l.DS)};function Hv(l,t,a){WF.call(this);this.W=w.X("div","");
this.Ar=l;this.IU=null;this.JF=t==null?!1:t;this.Z$=null;this.$O=a;this.PR=[];this.$n=[];this.JD=[];
this.BD=[];this.Jp=0;this.IU=this.OUU(Hv.BD[l]);this.TC()}Hv.prototype=new WF;Hv.prototype.OnJ=function(){for(var l=0;
l<this.BD.length;l++){w.ls(this.BD[l],"selected");if(this.JD[l]instanceof HV)this.JD[l].g(!1)}};Hv.prototype.Onp=function(l){var t=this.Onh.bind(this);
for(var a=0;a<this.JD.length;a++){var k=w.X("div","listitem");this.BD.push(k);if(a>0)k.textContent="\u2003";
k.appendChild(this.JD[a].W);if(P.XX.indexOf(this.Ar)!=-1){var R=new Wa("+");R.AN();R.W.style.float="right";
k.appendChild(R.W);var u=new Wa("\u2B0D");u.AN();u.W.style.float="right";u.W.style["margin-right"]="2px";
k.appendChild(u.W)}k.addEventListener("click",t,!1);l.appendChild(k)}};Hv.FK=function(l,t){var a=t.getBoundingClientRect();
return(l.clientY-a.top)/a.height};Hv.prototype.Onh=function(l){var t=l.target.tagName.toLowerCase();
if(t=="input"){return}if(t=="button"){var a=new Z(w.E.q,!0),k=l.target.textContent=="+",R=k?0:Hv.FK(l,l.target)<.5?-1:1;
if(k)a.data={T:"st_dupsingle",u:this.parent.data.u,tf:this.$O};else a.data={T:"st_movsingle",u:this.parent.data.u,tf:this.$O,UM:R};
a.P=s.Em;a.dk=!0;this.t(a);a=new Z("redrawall",!0);a.data={UM:R};this.t(a);return}l.preventDefault();
l.stopPropagation();this.vw();this.Jp=this.BD.indexOf(l.currentTarget);this.t(new Z("showme"))};Hv.prototype.vw=function(){if(this.IU.enab&&this.IU.enab.d()==!1)this.fV({PB:"enab",V:!0})};
Hv.prototype.OUW=function(){var l=this.BD[this.Jp];if(l)w.jI(l,"selected");return this.$n[this.Jp]};
Hv.prototype.OUU=function(l){var t={};for(var a=0;a<l.length;a++){var k=l[a],R=null;if(k=="----")R={W:w.X("hr","")};
if(k=="blOptions")R=new OE([14,10]);if(k=="brst")R=new MultiCheck([12,72],["R","G","B"]);if(k=="knko")R=new H$("Knockout",[[13,1,0],"Shallow","Deep"]);
if(k=="enab")R=new HV(P.names[P.order.indexOf(this.Ar)]);if(k=="lrMd"||k=="Md")R=new H$([12,19],HO.hZ,!1,HO.RL);
if(k=="Opct")R=new $W([12,0],0,100,"%");if(k=="iOpa")R=new $W([12,26],0,100,"%");if(k=="ShdN")R=new $W([12,68],0,100,"%");
if(k=="lagl"||k=="Angl")R=new AZ([12,15]);if(k=="uglg")R=new HV([12,27]);if(k=="Dstn")R=new $W([12,28],0,200,"px");
if(k=="Ckmt")R=new $W([12,29],0,100,"%");if(k=="blur")R=new $W([12,14],0,200,"px");if(k=="TrnS"||k=="MpgS")R=new AK([12,21]);
if(k=="Nose")R=new $W([12,30],0,100,"%");if(k=="layerConceals")R=new HV([12,31]);if(k=="AntA"||k=="antialiasGloss")R=new HV("Anti-alias");
if(k=="GlwT")R=new H$([12,32],P.mY.names);if(k=="glwS")R=new H$([12,70],P.mY.OnV);if(k=="Inpr")R=new $W([12,12],1,100,"%");
if(k=="bvlS")R=new H$([12,22],P.YA.style);if(k=="bvlT")R=new H$([12,32],P.YA.OnO);if(k=="bvlD")R=new H$(null,P.YA.dir);
if(k=="srgR")R=new $W([12,34],0,1e3,"%");if(k=="Sftn")R=new $W([12,35],0,20,"px");if(k=="Lald")R=t.lagl;
if(k=="hglM"||k=="sdwM")R=new H$([12,36],HO.hZ,!1,HO.RL);if(k=="hglC"||k=="sdwC")R=new OD;if(k=="hglO"||k=="sdwO")R=new $W([12,0],0,100,"%");
if(k=="Invr"||k=="InvT")R=new HV([4,11]);if(k=="Sz")R=new $W([12,14],1,200,"px");if(k=="Styl")R=new H$([12,40],P.stroke.names);
if(k=="PntT")R=new H$([12,66],P.stroke.OSR);if(k=="Clr")R=new OD(!0);if(k=="Grad")R=new Oy(!0,[12,37],!0);
if(k=="Rvrs")R=new HV([12,23]);if(k=="Type")R=new H$([12,22],P.C.names.slice(0,this.Ar=="FrFX"?6:5));
if(k=="Ptrn")R=new lT([12,62]);if(k=="Scl")R=new $W([12,38],10,500,"%",0,!0);if(k=="Algn")R=new HV([12,39]);
if(k=="Ofst")R=new li(!0);if(k=="phase")R=new li(!1);if(k=="useShape")R=new HV([12,21]);if(k=="useTexture")R=new HV([12,67]);
if(k=="textureDepth")R=new $W("Depth",-300,300,"%");if(R!=null)t[k]=R}return t};Hv.prototype.OUE=function(l){var t=this.$n[this.Jp];
for(var a=0;a<l.length;a++){var k=this.IU[l[a]];if(k&&t.contains(k.W))t.removeChild(k.W)}};Hv.prototype.OU_=function(l){var t=this.$n[this.Jp];
for(var a=0;a<l.length;a++){var k=this.IU[l[a]];if(k&&!t.contains(k.W))t.appendChild(k.W)}};Hv.prototype.gO=function(l,t){if(this.IU==null)return;
var a=t==Wm.CM;if(this.IU.Grad){this.IU.Grad.CI(l.rq,l.WR);if(a||t==Wm.tJ||t==Wm.rO)this.IU.Grad.Sy(l.xV)}if(this.IU.Ptrn){if(a||t==Wm.qo)this.IU.Ptrn.Sy(l.pM)}if(this.IU.TrnS){if(a||t==Wm.iU)this.IU.TrnS.Sy(l.k$)}if(this.IU.MpgS){if(a||t==Wm.iU)this.IU.MpgS.Sy(l.k$)}};
Hv.prototype.G=function(){for(var l=0;l<this.PR.length;l++)this.PR[l].G();for(var t in this.IU)if(this.IU[t]instanceof WF)this.IU[t].G()};
Hv.prototype.TC=function(){for(var l in this.IU){var t=this.IU[l];t.parent=this;if(t instanceof WF)t.a(w.E.z,this.OUZ,this);
if(this.$n.length==0||l=="useShape"||l=="useTexture"){var a=new OE(t.yw()),k=w.X("div","bordered padded");
if(this.JF==!1){k.appendChild(a.W);k.appendChild(w.X("hr",""))}this.PR.push(a);this.$n.push(k);this.JD.push(t)}else this.$n[this.$n.length-1].appendChild(t.W)}};
Hv.prototype.update=function(l,t){if(this.IU==null)return;if(this.JF)this.Z$=JSON.parse(JSON.stringify(t));
for(var a in t){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(a)!=-1)this.IU[a].g(t[a].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals useShape useTexture AntA antialiasGloss Ofst phase".split(" ").indexOf(a)!=-1){this.IU[a].g(t[a].v,l)}if(["Md","hglM","sdwM"].indexOf(a)!=-1)this.IU[a].g(HO.Ar.indexOf(t[a].v.BlnM));
if(a=="lrMd"){var k=(t.PA?["Pass Through"]:[]).concat(HO.hZ),R=(t.PA?[1]:[]).concat(HO.RL);this.IU[a].SZ(k,R);
this.IU[a].g(t[a].v)}if(a=="lagl"){var u=t.uglg&&t.uglg.v?l.Yj():t.lagl.v.val;this.IU[a].g(u)}if(a=="Lald"){var u=t.uglg&&t.uglg.v?l.Ui():t.Lald.v.val;
this.IU[a].g(null,u)}if(a=="Type")this.IU[a].g(P.C.types.indexOf(t.Type.v.GrdT));if(a=="Styl")this.IU[a].g(P.stroke.types.indexOf(t.Styl.v.FStl));
if(a=="PntT"){var b=P.stroke.pG.indexOf(t.PntT.v.FrFl);this.IU[a].g(b);if(!this.JF){this.OUE(P.uk.concat(P.RP.concat(P.Ry)));
this.OU_([P.uk,P.RP,P.Ry][b])}}if(a=="GlwT")this.IU[a].g(P.mY.types.indexOf(t.GlwT.v.BETE));if(a=="glwS")this.IU[a].g(P.mY.Xp.indexOf(t.glwS.v.IGSr));
if(a=="bvlS")this.IU[a].g(P.YA.types.indexOf(t.bvlS.v.BESl));if(a=="bvlT")this.IU[a].g(P.YA.XB.indexOf(t.bvlT.v.bvlT));
if(a=="bvlD")this.IU[a].g(["In","Out"].indexOf(t.bvlD.v.BESs))}};Hv.prototype.OUZ=function(l){for(var t in this.IU){if(this.IU[t]!=l.target)continue;
var a=null,k=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(t)!=-1)a={type:"#Prc",val:l.target.d()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(t)!=-1)a={type:"#Pxl",val:l.target.d()};if(["Angl","lagl"].indexOf(t)!=-1)a={type:"#Ang",val:l.target.d().aQ};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase".split(" ").indexOf(t)!=-1)a=l.target.d();
if(["Md","hglM","sdwM"].indexOf(t)!=-1)a={BlnM:HO.Ar[l.target.d()]};if(t=="uglg"){a=l.target.d();k=!0}if(t=="PntT"){a={FrFl:P.stroke.pG[l.target.d()]};
k=!0}if(t=="Lald")a={type:"#Ang",val:l.target.d().alt};if(t=="Type")a={GrdT:P.C.types[l.target.d()]};
if(t=="Styl")a={FStl:P.stroke.types[l.target.d()]};if(t=="GlwT")a={BETE:P.mY.types[l.target.d()]};if(t=="glwS")a={IGSr:P.mY.Xp[l.target.d()]};
if(t=="bvlS")a={BESl:P.YA.types[l.target.d()]};if(t=="bvlT")a={bvlT:P.YA.XB[l.target.d()]};if(t=="bvlD")a={BESs:["In","Out"][l.target.d()]};
this.fV({PB:t,V:a});if(k){if(this.JF)this.update(null,this.Z$);else{var R=this.parent.NY.Q[this.parent.data.u].add.lmfx[P.Sr[this.$O[0]]].v[this.$O[1]].v;
this.update(this.parent.NY,R)}}}};Hv.prototype.fV=function(l){if(this.JF){this.Z$[l.PB].v=l.V;this.t(new Z(w.E.z))}else{l.T="changeprop";
l.u=this.parent.data.u;l.AZ=this.$O;var t=new Z(w.E.q,!0);t.data=l;t.P=s.Em;t.dk=!0;this.t(t);this.t(new Z("afterchange",!0))}};
Hv.prototype.d=function(){return JSON.parse(JSON.stringify(this.Z$))};Hv.BD={bops:["blOptions","lrMd","Opct","iOpa"],DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS AntA Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS AntA Nose".split(" "),OrGl:"enab Md Clr Grad Opct Nose GlwT Ckmt blur TrnS AntA Inpr ShdN".split(" "),IrGl:"enab Md Clr Grad Opct Nose GlwT glwS Ckmt blur TrnS AntA Inpr ShdN".split(" "),ebbl:"enab bvlS bvlT bvlD srgR blur Sftn ---- lagl Lald uglg TrnS antialiasGloss hglM hglC hglO sdwM sdwC sdwO useShape MpgS AntA Inpr useTexture Ptrn Scl textureDepth InvT Algn phase".split(" "),SoFi:["enab","Md","Opct"].concat(P.uk),GrFl:["enab","Md","Opct"].concat(P.RP),patternFill:["enab","Md","Opct"].concat(P.Ry),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS AntA Invr".split(" "),FrFX:"enab Sz Styl Md Opct PntT".split(" ").concat(P.uk.concat(P.RP.concat(P.Ry)))};
function $V(){Ws.call(this,[11,6],"layerstyle");this.OzX=-1;this.data={};this.NY=null;this.GT=null;this.SU=[];
this.oI=[];w.jI(this.body,"flexrow");this.Su=w.X("div","bordered");this.Su.setAttribute("style","min-width:13em;");
this.body.appendChild(this.Su);this.Gr=w.X("div","");this.Gr.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.Gr);this.$W=w.X("div","form");this.$W.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.$W);this.No=new Wa("OK",!0,null,!0);this.No.a("click",this.Rf,this);this.$W.appendChild(this.No.W);
this.kl=new Wa([12,87],!0,null,!0);this.kl.a("click",this.OUJ,this);this.$W.appendChild(this.kl.W);this.$f=new Wl;
this.$f.parent=this;this.$f.a(w.E.z,this.OUq,this);this.$W.appendChild(this.$f.W);this.a("closebtn",this.nF,this);
this.a("redrawall",this.Bz,this)}$V.prototype=new Ws;$V.prototype.xI=function(){return!0};$V.prototype.OUq=function(l){var t=this.$f.d();
this.fV({T:"setstl",V:t.YY});this.Bz(null)};$V.prototype.OUJ=function(l){var t=this.NY,a=this.data.u;
if(a==null)a=t._[0];var k=this.NY.Q[a],R=WD.ek(k),u=new Z(w.E.J,!0);u.data={T:w.h.kn,wT:"add",wd:Wm.KI,hS:[JSON.parse(JSON.stringify(R))]};
this.t(u)};$V.prototype.OUp=function(l){this.data.index=l.currentTarget.$O;this.Rj(l.currentTarget.$O)};
$V.prototype.Bz=function(l){this.oA(this.NY,this.data)};$V.prototype.Rj=function(l,t){w.BT(this.Gr);
for(var a=0;a<this.SU.length;a++)this.SU[a].OnJ();var k=l==0?this.SU[0]:this.oI[l[0]][l[1]];this.Gr.appendChild(k.OUW());
if(t)k.vw();var R=this.NY;if(R){var u=R.Q[this.data.u];this.SU[0].update(R,WK.AI.RM(R,u));var b=u.add.lmfx;
if(b==null)return;for(var a=0;a<P.order.length;a++){var v=b[P.Sr[a]].v;for(var H=0;H<v.length;H++)this.oI[a][H].update(R,v[H].v)}}if(t)k.vw()};
$V.prototype.G=function(){Ws.prototype.G.call(this);this.kl.G();this.$f.G();for(var l=0;l<this.SU.length;
l++)this.SU[l].G()};$V.prototype.oA=function(l,t){var a=t.u==null;this.data.u=t.u;this.data.index=t.index;
t=this.data;this.NY=l;if(a)t.u=l._.length==0?l.Q.length-1:l._[0];w.BT(this.Su);var k=l.Q[t.u].add.lmfx;
this.Ra();this.SU=[new Hv("bops",!1,0)];this.oI=[];for(var R=0;R<P.order.length;R++){this.oI.push([]);
var u=k==null?[]:k[P.Sr[R]].v;for(var b=0;b<u.length;b++){var v=new Hv(P.order[R],!1,[R,b]);this.SU.push(v);
this.oI[R].push(v)}if(u.length==0){var v=new Hv(P.order[R],!1,[R,0]);this.SU.push(v);this.oI[R].push(v)}}this.G();
this.gO(this.GT,Wm.CM);for(var R=0;R<this.SU.length;R++){this.SU[R].parent=this;this.SU[R].Onp(this.Su);
this.SU[R].a("showme",this.OUp,this)}if(t.index==null)this.Rj(0);else this.Rj(t.index,a);this.a("afterchange",this.Ra,this)};
$V.prototype.Ra=function(l){var t=this.NY,a=this.data.u;if(a==null)a=t._[0];var k=this.NY.Q[a],R=WD.ek(k);
this.$f.g(R,t.add.Patt?t.add.Patt:[],t.Yj(),t.Ui())};$V.prototype.gO=function(l,t){this.GT=l;for(var a=0;
a<this.SU.length;a++)this.SU[a].gO(l,t);if(t==Wm.KI){this.$f.Sy([l._t,l.pM])}if(t==Wm.Tk){}};$V.prototype.nF=function(l){this.fV({T:"cancel"})};
$V.prototype.Rf=function(l){this.fV({T:"confirm"});this.close()};$V.prototype.fV=function(l){l.u=this.data.u;
var t=new Z(w.E.q,!0);t.data=l;t.P=s.Em;t.dk=!0;this.t(t);this.Ra()};$V.BS=function(){var l=[{name:[14,10],Cc:!0}];
for(var t=0;t<P.names.length;t++)l.push({name:P.names[t]});return l};$V.Bn=function(){var l=[{B:w.E.J,c:{T:w.h.AG,XG:"layerstyle"}}];
for(var t=0;t<P.names.length;t++)l.push({B:w.E.J,c:{T:w.h.AG,XG:"layerstyle",index:[t,0]}});return l};
$V.BU=function(l){var t=[];if(l)t.push({name:[6,48,0,0],_T:!0},{name:[6,48,0,1],_T:!0},{name:[6,48,0,2],_T:!0,Cc:!0});
for(var a in WT.ready)t.push({name:WT.names[a],Cc:WT.JJ.indexOf(a)!=-1,_T:WG[a]!=null});return t};$V.BE=function(l){var t=[];
if(l)for(var a=0;a<3;a++)t.push({B:w.E.q,P:s.sO,c:{T:_.vS,PB:a,Jk:0}});for(var k in WT.ready)t.push({B:w.E.q,P:s.sO,c:{T:_.dx,Am:k}});
return t};function lx(){Ws.call(this,[1,10],"script");var l=w.X("div","form");this.body.appendChild(l);
var t=new Wa("JS Reference",!1,null,!0);t.a("click",this.OUB,this);l.appendChild(t.W);l.appendChild(new OE("Demos:").W);
this.Nk=[];var a=lx.RQ;for(var k=0;k<a.length;k++){var R=new Wa(a[k].cj,!1,null,!0);this.Nk.push(R);
l.appendChild(R.W);R.a("click",this.OEb,this)}this.dX=w.X("textarea");this.dX.setAttribute("rows",16);
this.dX.setAttribute("cols",70);this.dX.setAttribute("style","display:block;tab-size:4; font-family:monospace;");
l.appendChild(this.dX);this.Nb=new Wa("Run",!0,null,!0);this.Nb.a("click",this.OUw,this);l.appendChild(this.Nb.W)}lx.prototype=new Ws;
lx.prototype.oA=function(l,t,a){this.dX.value=lx.RQ[0].UA};lx.prototype.OUB=function(l){var t=new Z(w.E.J,!0);
t.data={T:w.h.Kn,link:"http://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2015.pdf"};
this.t(t)};lx.prototype.OUw=function(l){var t=new Z(w.E.J,!0);t.data={T:w.h.MV,yi:this.dX.value};this.t(t)};
lx.prototype.OEb=function(l){var t=this.Nk.indexOf(l.currentTarget);this.dX.value=lx.RQ[t].UA};lx.RQ=[{cj:"Hello",UA:"\nalert(\"Hello Photopea!\");\n"},{cj:"Process Layers",UA:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{cj:"Clone Layers",UA:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function lE(){Ws.call(this,[11,7],"newproject");this.data=null;var l=w.X("div","flexrow");this.$Z=l;
this.body.appendChild(l);var t=w.X("div","form");this.As=t;l.appendChild(t);this.wc=new HM([12,48]);
t.appendChild(this.wc.W);t.appendChild(w.X("br"));this.Os=new lK(!0);this.Os.g(new x(1280,720),72);this.Os.a(w.E.z,this.RR,this);
t.appendChild(this.Os.W);this.kI=new H$([12,46],[[13,1,8],[13,1,9]]);t.appendChild(this.kI.W);t.appendChild(w.X("hr"));
this.Rh=new Wa([12,49],!0,null,!0);this.Rh.a("click",this.create,this);t.appendChild(this.Rh.W);var a=lE.lL,k=[];
for(var R=0;R<a.length;R++)k.push(a[R].name);this.yT=new lI(null,k);this.yT.a(w.E.z,this.BK,this);t.appendChild(this.yT.W);
this.yT.W.style["margin-top"]="1em";this.yt=new Ao(!0);this.yt.a(w.E.z,this.OES,this);t.appendChild(this.yt.W);
this.BK();this.pI=new OX;this.pI.parent=this;this.pI.W.setAttribute("style","margin-left:1em")}lE.prototype=new Ws;
lE.prototype.xv=function(l,t){return new x(Math.max(0,Math.min(70,(l-690)/2)),l>t?Math.max(0,Math.min(50,(t-400)/2)):0)};
lE.prototype.ci=function(l,t){this.As.setAttribute("style","width:"+Math.min(l,338)+"px");this.yt.W.style.height=t-260+"px";
var a=this.pI.W,k=a.parentNode;if(l<500){if(k!=null)this.$Z.removeChild(a)}else{if(k==null)this.$Z.appendChild(a)}this.pI.ci(l-360,t-35)};
lE.prototype.RR=function(){this.pI.g(this.Os.d())};lE.prototype.OES=function(l){var t=this.yt.d(),a=lE.lL[this.yT.d()].ai[t],k=a[4];
if(k==0)k=72;var R=a[1],u=a[2],b=["px","%","mm","in"].indexOf(a[3]),v=[1,1,25.4/k,1/k][b];R/=v;u/=v;
this.Os.g(new x(Math.round(R),Math.round(u)),k);this.Os.OiK(b);this.yt.KJ(t);this.RR()};lE.prototype.BK=function(l){var t=lE.lL[this.yT.d()].ai,a=[],k=[],R=Math.round(106*w.m()),u=Math.round(106*w.m()),b=0;
for(var v=0;v<t.length;v++)b=Math.max(b,t[v][1],t[v][2]);for(var v=0;v<t.length;v++){var H=t[v],N=H[1]+" x "+H[2]+" "+H[3];
if(H[3]=="in")N=(H[1]*25.4).toFixed(0)+" x "+(H[2]*25.4).toFixed(0)+" mm";if(H[3]=="mm")N=(H[1]/25.4).toFixed(1)+" x "+(H[2]/25.4).toFixed(1)+" in";
if(H[4])N=N+" @ "+H[4]+" ppi";k.push(N);a.push(lE.cT(H,R,u,b))}this.yt.jr(a,k,R,u)};lE.cT=function(l,t,a,k){var R=w.X("canvas",""),u=R.getContext("2d");
R.width=t;R.height=a;var b=Math.round(t/8),v=Math.floor(11*w.m()),H=l[1],N=l[2];u.fillStyle="#000000";
u.font=Math.round(v*.9)+"px \"Open Sans\", Sans-Serif";var z=H+" x "+N+" "+l[3],A=u.measureText(z);u.fillText(z,Math.round((t-A.width)/2),a-Math.round(b/2));
if(l[0]!=null){u.font="bold "+v+"px \"Open Sans\", Sans-Serif";var z=l[0],A=u.measureText(z);u.fillText(z,Math.round((t-A.width)/2),a-Math.round(b/2)-Math.round(v*1.3))}a-=Math.round(2.5*v);
var Q=Math.min((t-b)/H,(a-b)/N);Q*=.5+.5*(Math.max(H,N)/k);var S=(t-H*Q)/2,o=(a-N*Q)/2;u.strokeRect(Math.round(S)+.5,Math.round(o)+.5,Math.round(H*Q),Math.round(N*Q));
return R.toDataURL()};lE.prototype.G=function(){Ws.prototype.G.call(this);this.Os.G();this.wc.G();this.kI.G();
this.Rh.G();this.wc.g(Wq.get([11,7]));this.yT.G();this.pI.G()};lE.prototype.create=function(l){var t=this.Os.d(),a=t.x,k=t.y,R=new Hb(this.wc.d()+".psd");
R.$=a;R.e=k;R.DS=this.Os.CU();var u=R.Ow();u.wy("Background");R.aH([u]);if(this.kI.d()==0){u.rect=new d(0,0,a,k);
u.buffer=$.I(a*k*4);$.IK(u.buffer,4294967295);u.add.lspf=1<<2}R.buffer=$.I(a*k*4);this.close();var b=new Z(w.E.J,!0);
b.data={T:w.h.lT,NY:R};this.t(b);var v=this.data.Nz;if(this.data.Nz)W$.Ns(function(){var H=new XMLHttpRequest,N="https://www.googleapis.com/drive/v3/files?"+W$.Gx();
H.open("POST",N,!0);H.setRequestHeader("Content-Type","application/json");H.addEventListener("load",function(l){var z=JSON.parse(l.target.response);
R.kN={file:z,ki:"psd"};alert(R.name+" created in Google Drive")});H.send(JSON.stringify({name:R.name,OSV:[v]}))})};
lE.prototype.oA=function(l,t){if(l!=null&&l.O!=null){var a=new d(0,0,l.$,l.e).gk(l.O.rect);this.Os.g(new x(a.$,a.e))}this.data=t;
this.RR();this.wc.nk()};lE.lL=[{name:"Social",ai:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["Instagram",1080,1080,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[1,4],ai:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["A6",105,148,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],ai:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],ai:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],ai:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],ai:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",ai:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function Wb(l,t,a){Ws.call(this,t,"sel_"+l);this.T=l;this.As=w.X("div","form");this.body.appendChild(this.As);
this.wc=new HM(t,a);this.As.appendChild(this.wc.W);this.wc.g(1);this.No=new Wa("OK",!0,null,!0);this.No.a("click",this.SB,this);
this.As.appendChild(this.No.W)}Wb.prototype=new Ws;Wb.prototype.SJ=function(l,t){if(l==null)return;if(l.O==null)alert("No selection!");
return l.O!=null};Wb.prototype.SB=function(l){var t=new Z(w.E.q,!0);t.data={T:this.T,V:parseInt(this.wc.d())};
t.P=s.qw;t.dk=!0;this.t(t);this.close()};Wb.prototype.G=function(){Ws.prototype.G.call(this);if(this.wc)this.wc.G()};
Wb.prototype.oA=function(l,t){};function $H(l,t){Ws.call(this,t,l);this.lL=null;this.As=w.X("div","form");
this.body.appendChild(this.As);this.wc=new HM(t);this.As.appendChild(this.wc.W);this.No=new Wa("OK",!0,null,!0);
this.No.a("click",this.SB,this);this.As.appendChild(this.No.W)}$H.prototype=new Ws;$H.prototype.SB=function(l){var t=new Z(w.E.q,!0);
t.data={T:this.lL.mk,V:this.wc.d()};t.P=this.lL.P;t.dk=!0;this.t(t);this.close()};$H.prototype.G=function(){Ws.prototype.G.call(this);
if(this.wc)this.wc.G()};$H.prototype.oA=function(l,t){this.lL=t;this.wc.g(t.Eb);this.wc.nk()};function $Z(){Ws.call(this,[1,5],"open_from_url");
this.Tc=null;var l=w.X("div","form");this.body.appendChild(l);this.kk=new HM("URL",null,22);l.appendChild(this.kk.W);
l.appendChild(w.X("br"));this.OC=new lI([21,0],[[21,2],[21,1]]);l.appendChild(this.OC.W);this.Rh=new Wa("OK",!0,null,!0);
this.Rh.a("click",this.OEn,this);l.appendChild(this.Rh.W)}$Z.prototype=new Ws;$Z.prototype.G=function(){Ws.prototype.G.call(this);
this.OC.G()};$Z.prototype.oA=function(l,t,a){this.kk.nk();this.Tc=null;if(l&&a.indexOf(l)!=-1)this.Tc=a.indexOf(l)};
$Z.prototype.OEn=function(l){var t=new Z(w.E.J,!0),a=this.kk.d();t.data={T:w.h.HJ,wd:{url:a,ft:!0,Tc:this.OC.d()==1?this.Tc:null}};
this.t(t);this.close()};function $x(){Ws.call(this,[12,79],"preferences");this.GT=null;var l=w.X("div","form");
this.body.appendChild(l);this.BD=[new HV([8,2]),new HV([8,4]),new $W("Grid gap",1,100,"px"),new H$("Ruler units",$.ca.uB)];
for(var t=0;t<this.BD.length;t++){var a=this.BD[t];l.appendChild(a.W);l.appendChild(w.X("br"));a.a(w.E.z,this.F$,this)}this.Rh=new Wa("Apply",!0,null,!0);
this.Rh.a("click",this.F$,this)}$x.prototype=new Ws;$x.prototype.G=function(){Ws.prototype.G.call(this);
for(var l=0;l<this.BD.length;l++)this.BD[l].G()};$x.prototype.oA=function(l,t,a){};$x.prototype.gO=function(l,t){this.GT=l;
this.BD[0].g(l.IJ.gh);this.BD[1].g(l.IJ.qp);this.BD[2].g(l.IJ.cX);this.BD[3].g(l.IJ.oP)};$x.prototype.F$=function(l){var Hc=this.BD,t=JSON.parse(JSON.stringify(this.GT.IJ));
t.gh=Hc[0].d();t.qp=Hc[1].d();t.cX=Hc[2].d();t.oP=Hc[3].d();var a=new Z(w.E.J,!0);a.data={T:w.h.kn,wd:Wm.eB,sQ:t};
this.t(a)};function lF(){Ws.call(this,[11,8],"saveforweb");this.a("closebtn",function(){this.$h.nQ()},this);
this.cQ={JPG:[{yb:new WB([12,52],0,100,"%"),MB:70}],WEBP:[{yb:new WB([12,52],0,100,"%"),MB:70}],GIF:[{yb:new WB([12,52],0,100,"%"),MB:100},{yb:new HV("reverse frames"),MB:!1}],PNG:[{yb:new WB([12,52],0,100,"%"),MB:100},{yb:new HV("don't use palettes"),MB:!1}],PDF:[{yb:new HV("rasterize all"),MB:!1},{yb:new HV("rasterize text"),MB:!1}],EMF:[{yb:new HV("rasterize all"),MB:!1},{yb:new HV("rasterize text"),MB:!1}],SVG:[{yb:new HV("add raster graphics"),MB:!1},{yb:new HV("add hidden layers"),MB:!1},{yb:new HV("include fonts"),MB:!1},{yb:new HV("rasterize text"),MB:!1},{yb:new HV("add layer names"),MB:!0},{yb:new HV("pretty-print"),MB:!0}]};
for(var l in this.cQ){var t=this.cQ[l];for(var a=0;a<t.length;a++)t[a].yb.g(t[a].MB)}this.Rw=new x(512,512);
this.NY=null;this.pw=null;this.Olt=null;w.jI(this.body,"flexrow");var k=w.X("div"),R=w.X("div");this.body.appendChild(k);
this.body.appendChild(R);this.GA=w.X("div","imgcont");k.appendChild(this.GA);this.$h=new Ok;this.$h.ci(this.Rw.x,this.Rw.y);
this.Wt=w.X("span");k.appendChild(this.Wt);this.As=w.X("div","form cell padded");this.As.setAttribute("style","width:17em");
R.appendChild(this.As);this.ce=new H$([12,50],Wr.Az());this.As.appendChild(this.ce.W);this.ce.a(w.E.z,this.Js,this);
this.Os=new lK(!1,!0);this.Os.a(w.E.z,this.Js,this);this.As.appendChild(this.Os.W);this.Ce=w.X("div","");
this.As.appendChild(this.Ce);for(var u in this.cQ)for(var a=0;a<this.cQ[u].length;a++)this.cQ[u][a].yb.a(w.E.z,this.Js,this);
this.kb=new Wa([1,2],!0,null,!0);this.kb.a("click",this.save,this);this.As.appendChild(this.kb.W);this.ObW=-1}lF.prototype=new Ws;
lF.prototype.SJ=function(l,t){return l!=null};lF.prototype.G=function(){Ws.prototype.G.call(this);this.Os.G();
this.ce.G();for(var l in this.cQ)for(var t=0;t<this.cQ[l].length;t++)this.cQ[l][t].yb.G();this.kb.G()};
lF.prototype.save=function(l){var t=new Z(w.E.J,!0);t.data={T:w.h.Sj,data:this.pw,name:this.NY.name.split(".")[0]+"."+Wr.Az()[this.ce.d()].toLowerCase()};
this.t(t);this.$h.nQ();this.close()};lF.prototype.oA=function(l,t){if(t.Zg!=null)this.ce.g(t.Zg);this.NY=l;
this.Os.g(new x(l.$,l.e));this.Js()};lF.prototype.xv=function(l,t){return new x(Math.max(0,Math.min(150,(l-770)/2)),Math.max(0,Math.min(150,(t-590)/2)))};
lF.prototype.ci=function(l,t){this.wa=l;this.Ii=t;this.Rw.x=Math.min(512,l-26-226);this.Rw.y=Math.min(512,t-45);
if(this.NY==null)return;var a=this.Os.d(),l=a.x,t=a.y,k=Wr.Az()[this.ce.d()],R=Wr[k],A=0,o="<span style=\"width:",p="display:inline-block; text-align:right;\">";
if(R.oX){var u=l,b=t,v;if(k=="PDF"||R.nl){u=this.Rw.x;b=this.Rw.y}else{u=Math.min(l+20,this.Rw.x);b=Math.min(t+20,this.Rw.y)}this.GA.firstChild.setAttribute("style","display:block; width:"+u+"px; height:"+b+"px;")}else{var H=this.Olt,N=H[0].Pk,u=N.$,b=N.e;
this.$h.ci(Math.max(50,Math.min(u/w.m(),this.Rw.x)),Math.max(50,Math.min(b/w.m(),this.Rw.y)))}var z=this.pw.byteLength;
while(z>>>A+10!=0)A+=10;var Q=(z/(1<<A)).toFixed(1),S=["B","KB","MB","GB"][Math.floor(A/10)],O=k+":"+o+64+"px;"+p+Q+" "+S+"</span>";
if(this.Rw.x>200)O+=o+90+"px; opacity:"+.5+";"+p+z.toLocaleString()+" B</span>";this.Wt.innerHTML=O};
lF.prototype.Js=function(l){var t=this.Os.d(),a=t.x,k=t.y,R=Wr.Az()[this.ce.d()],u=this.cQ[R],H="";if(u==null)u=[];
if(this.ce.d()!=this.ObW){this.ObW=this.ce.d();w.BT(this.Ce);for(var b=0;b<u.length;b++){this.Ce.appendChild(u[b].yb.W);
this.Ce.appendChild(w.X("br"))}}var v=[];for(var b=0;b<u.length;b++)v.push(u[b].yb.d());this.pw=Wr.RT(this.NY,R,a,k,v);
w.BT(this.GA);this.$h.nQ();var N=Wr[R];if(N.nl){this.GA.innerHTML="<div></div>";H+="width:0px"}else if(N.oX){var z=a,A=k,Q;
if(R=="PDF"){Q=URL.createObjectURL(new Blob([this.pw],{type:"application/pdf"}))}else{Q=URL.createObjectURL(new Blob([this.pw],{type:"image/svg+xml"}))}this.GA.innerHTML="<iframe src=\""+Q+"\"></iframe>"}else{var S=this.Olt=N.cq(this.pw),o=S[0].Pk,z=o.$,A=o.e;
this.$h.g(S);this.GA.appendChild(this.$h.W);H="background: rgba(0,0,0,0);"}this.GA.setAttribute("style","display:block; background-size:"+16/w.m()+"px;"+H);
this.ci(this.wa,this.Ii)};function lZ(){Ws.call(this,[11,13],"shortcuts");var l=w.X("div","scrollable"),t="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",a="";
l.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");a+="<h2 style=\"margin-top:0;\">Main Menu</h2>";
a+=t;a+=this.rY({File:"---",Open:"Ctrl + O",Save:"Ctrl + S","Save as PSD":"Shift+Ctrl + S","Save for web":"Alt+Shift+Ctrl + S",Edit:"---","Undo / Redo":"Ctrl + Z","Step Forward":"Shift + Ctrl + Z","Step Backward":"Alt + Ctrl + Z",Cut:"Ctrl + X",Copy:"Ctrl + C",Paste:"Ctrl + V",Clear:"Delete",Fill:"Alt + Backspace","Free Transform":"Alt + Ctrl + T",Preferences:"Ctrl + K",Adjustments:"---",Levels:"Ctrl + L",Curves:"Ctrl + M","Hue / Saturation":"Ctrl + U",Invert:"Ctrl + I",Layer:"---",Duplicate:"Ctrl + J","Clipping Mask":"Alt + Ctrl + G","Group Layers":"Ctrl + G","Merge Down":"Ctrl + E",Select:"---",All:"Ctrl + A",Deselect:"Ctrl + D",View:"---","Zoom In":"Ctrl + +","Zoom Out":"Ctrl + -",Rulers:"Ctrl + R",Guides:"Ctrl + ;",Grid:"Ctrl + '",Shortcuts:"?"});
a+="</div>";a+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";a+=t;a+=this.rY({"Vertical scroll":"Wheel","Horizontal scroll":"Ctrl + Wheel",Zooming:"Alt + Wheel"});
a+="</div>";a+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
a+=t;a+=this.rY({Move:"Ctrl",Hand:"Spacebar",Zoom:"Ctrl + Spacebar"});a+="</div>";a+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
a+=t;a+=this.rY(lZ.CQ);a+=this.rY({abc:null,Other:"---","Default Colors":"D","Swap Frg. - Bckg.":"X","Decrease Brush Size":"[","Increase Brush Size":"]","Decrease Hardness":"{","Increase Hardness":"}"});
a+="</div>";l.innerHTML=a;this.body.appendChild(l)}lZ.prototype=new Ws;lZ.prototype.rY=function(l){var t="",a=!0;
for(var k in l){if(l[k]==null){a=!1;continue}if(l[k]=="---"){if(!a)t+="<br/>";t+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+k+"</div>"}else t+="<div>"+k+" <span style=\"float:right; font-weight:bold;\">"+l[k]+"</span> </div>";
a=!1}return t};lZ.CQ={"Move Tool":"V","Rectangle Select":"M","Ellipse Select":"M","Lasso Select":"L","Polygonal Lasso Select":"L","Magnetic Lasso Select":"L","Quick Select":"W","Magic Wand":"W","Crop Tool":"C",Eyedropper:"I","Spot Healing Brush Tool":"J","Healing Brush Tool":"J","Patch Tool":"J","Brush Tool":"B","Clone Tool":"S","Eraser Tool":"E","Gradient Tool":"G","Paint Bucket Tool":"G","Blur Tool":null,"Sharpen Tool":null,"Smudge Tool":null,"Dodge Tool":"O","Burn Tool":"O","Sponge Tool":"O","Type Tool":"T",Pen:"P","Free Pen":"P","Path Select":"A","Direct Select":"A",Rectangle:"U",Ellipse:"U",Line:"U","Parametric Shape":"U","Custom Shape":"U","Hand Tool":"H","Zoom Tool":"Z"};
function gg(){Ws.call(this,[2,3],"fill");this.GT=null;this.M$=null;var l=w.X("div","form padded");this.body.appendChild(l);
this.bD=new H$([2,3],[[12,45],[12,46],[13,1,10],[13,1,8],"Content Aware"]);l.appendChild(this.bD.W);
this.Rh=new Wa("OK",!0,null,!0);this.Rh.a("click",this.Rf,this);this.body.appendChild(this.Rh.W)}gg.prototype=new Ws;
gg.prototype.SJ=function(l,t){return l!=null};gg.prototype.G=function(){Ws.prototype.G.call(this);this.bD.G()};
gg.prototype.Rf=function(l){if(!this.M$.JR())return;var t=new Z(w.E.q,!0),a=this.bD.d();if(a!=4){t.P=s._a;
t.data={T:"fill",cH:a}}else{if(this.M$.O==null){alert("There is no selection.");return}t.P=s.W$;t.data={T:"heal2"}}this.t(t);
this.close()};gg.prototype.oA=function(l,t){this.M$=l};gg.prototype.gO=function(l,t){this.GT=l};function AO(){Ws.call(this,[14,9],"stroke");
this.GT=null;this.As=w.X("div","form");this.As.setAttribute("style","width:24em");this.body.appendChild(this.As);
this.bj=new Hv("FrFX",!0);this.bj.parent=this;var l=["Sz","Styl","Md","Opct"].concat(P.uk);for(var t=0;
t<l.length;t++){var a=this.bj.IU[l[t]].W;this.As.appendChild(a)}this.OVc=!1;this.Rh=new Wa("OK",!0,null,!0);
this.Rh.a("click",this.Rf,this);this.body.appendChild(this.Rh.W)}AO.prototype=new Ws;AO.prototype.SJ=function(l,t){return l!=null};
AO.prototype.G=function(){Ws.prototype.G.call(this);this.bj.G()};AO.prototype.Rf=function(l){var t=new Z(w.E.q,!0);
t.P=s._a;t.data={T:"stroke",OAD:this.bj.d()};this.t(t);this.close()};AO.prototype.oA=function(l,t){if(!this.OVc){var a=P.Oh[P.order.indexOf("FrFX")];
a=JSON.parse(a);this.bj.update(l,a);this.OVc=!0}var a=this.bj.d(),k=this.GT.rq;a.Clr.v=$.C.br({D:k>>16&255,K:k>>8&255,l:k&255});
this.bj.update(l,a)};AO.prototype.gO=function(l,t){this.GT=l};function Au(){Ws.call(this,[11,9],"textwarp");
this.BD=new Ae;this.BD.a(w.E.z,this.TX,this);this.BD.parent=this;this.As=w.X("div","form");this.As.setAttribute("style","width:20em");
this.body.appendChild(this.As);this.As.appendChild(this.BD.sF.W);this.As.appendChild(this.BD.d_.W);this.As.appendChild(this.BD.dr.W);
this.As.appendChild(this.BD.df.W);this.As.appendChild(this.BD.dD.W);this.Rh=new Wa("OK",!0,null,!0);
this.Rh.a("click",this.Rf,this);this.As.appendChild(this.Rh.W);this.a("closebtn",this.nF,this)}Au.prototype=new Ws;
Au.prototype.G=function(){Ws.prototype.G.call(this);this.BD.G()};Au.prototype.TX=function(l){var t=this.BD.d();
this.OV({T:"warp",Ha:t})};Au.prototype.OV=function(l){var t=new Z(w.E.q,!0);t.P=s.E_;t.data=l;t.dk=!0;
this.t(t)};Au.prototype.nF=function(l){this.OV({T:"warpCancel"})};Au.prototype.Rf=function(l){this.OV({T:"warpConfirm"});
this.close()};Au.prototype.oA=function(l,t){var a=l.Q[l._[0]];this.BD.g(a.add.TySh.dj)};function WA(){Ws.call(this,"Raw Photopea","rawpea");
this.RH=null;this.mH=null;this.kS=null;this.OSE=0;this.mT=null;this.Bu=null;this.OVI=500;this.Ole=500;
this.a("closebtn",this.gQ.bind(this),this);w.jI(this.body,"flexrow");var l=w.X("div"),t=w.X("div");t.setAttribute("style","padding-left: 1em");
this.body.appendChild(l);this.body.appendChild(t);this.Ej=w.X("canvas");l.appendChild(this.Ej);this.Hy=new ld(225);
this.Hy.OlB(4);t.appendChild(this.Hy.W);this.As=w.X("div");this.As.setAttribute("style","width:18em;");
t.appendChild(this.As);this.Oge=new OE("Hi",!0);this.As.appendChild(this.Oge.W);this.A$=[new WB("Temperature",2e3,13e3),new WB("Tint",-150,150),new WB([4,3],-4,4,null,!0),new WB([12,2],-150,150),new WB([12,3],-100,100)];
for(var a=0;a<this.A$.length;a++){var k=this.A$[a];k.g(0);k.a(w.E.z,this._x,this);this.As.appendChild(k.W)}this.Rh=new Wa("OK",!0,null,!0);
this.Rh.a("click",this.create,this);this.As.appendChild(this.Rh.W)}WA.prototype=new Ws;WA.prototype.Sl=function(){return!0};
WA.prototype.xv=function(){return new x(0,0)};WA.prototype.ci=function(l,t){this.OVI=l-274;this.Ole=t-32;
if(this.RH)this.Br()};WA.prototype.G=function(){Ws.prototype.G.call(this);for(var l=0;l<this.A$.length;
l++)this.A$[l].G()};WA.prototype.create=function(l){var t=this.RH,a=this.mH,k=$.I(t.width*t.height*4);
$.IK(k,4294967295);$.raw._w(a,k,t,this.DY());var t={Pk:new d(0,0,a.Dv,a.jg),data:k.buffer},R=Hx.Op("Raw Photo",[t]),u=new Z(w.E.J,!0);
u.data={T:w.h.lT,NY:R};this.t(u);this.gQ();this.close()};WA.prototype.gQ=function(){this.RH=null;this.mH=null;
this.mT=null;this.Bu=null};WA.prototype.oA=function(l,t,a,k){this.RH=t.Yo;this.mH=$.raw.OAs(this.RH);
var R=this.mH;this.Oge.g(R.Dv+" x "+R.jg+", "+(R.Dv*R.jg/1e6).toFixed(1)+" MPx");var u=$.raw.Old(t.Yo);
this.kS=Ap.rH(u);this.A$[0].g(this.kS.$Q);this.A$[1].g(this.kS.EL);for(var b=2;b<this.A$.length;b++)this.A$[b].g(0);
this.Br()};WA.prototype.gO=function(l,t){this.Hy.zm(HN.DE[l.Ek]["--text-color"])};WA.prototype.Br=function(){var l=this.mH,t=l.Dv,a=l.jg,k=1;
while(t/k>this.OVI*w.m()||a/k>this.Ole*w.m())k++;var R=Math.floor(t/k),u=Math.floor(a/k);this.mT={nr:new Float32Array(R*u*3),Dv:R,jg:u};
var b=this.Ej.getContext("2d");this.Bu=b.createImageData(R,u);$.IK(this.Bu.data,4294967295);var v=1/(k*k);
for(var H=0;H<u;H++)for(var N=0;N<R;N++){var z=0,A=0,Q=0,S=(N+1)*k,o=(H+1)*k;for(var p=H*k;p<o;p++)for(var O=N*k;
O<S;O++){var E=(p*t+O)*3;z+=this.mH.nr[E];A+=this.mH.nr[E+1];Q+=this.mH.nr[E+2]}var L=(H*R+N)*3;this.mT.nr[L]=z*v;
this.mT.nr[L+1]=A*v;this.mT.nr[L+2]=Q*v}this._x()};WA.prototype._x=function(){var l=this.RH,t=this.mT.Dv,a=this.mT.jg,k=t*a,R=this.Ej,u=R.getContext("2d");
R.width=t;R.height=a;w.lA(R,t,a);$.raw._w(this.mT,new Uint8Array(this.Bu.data.buffer),l,this.DY());u.putImageData(this.Bu,0,0);
var b=$.Og(this.Bu.data);for(var v=0;v<4;v++)for(var H=1;H<256;H++)if(b[v][H]==0)b[v][H]=b[v][H-1];for(var v=0;
v<4;v++)for(var H=1;H<256;H++)if(b[v][H]==0)b[v][H]=b[v][H-1];this.Hy.g(b,t,a)};WA.prototype.DY=function(){var l=[];
for(var t=0;t<this.A$.length;t++)l.push(this.A$[t].d());return l};function Oh(){Ws.call(this,[11,11],"vbitmap");
this.lL=null;this.ZI=null;this.kr=null;this.Zi=null;this.MS=null;this.As=w.X("div","form hbar");this.body.appendChild(this.As);
this.Qg=new $W([12,82],2,50,null);this.Qg.a(w.E.z,this.cP,this);this.As.appendChild(this.Qg.W);this.Qi=new HV([12,81]);
this.Qi.a(w.E.z,this.cP,this);this.As.appendChild(this.Qi.W);this.Rh=new Wa("OK",!1,null,!0);this.Rh.a("click",this.create,this);
this.As.appendChild(this.Rh.W);var l=w.X("div","flexrow"),t=16;this.body.appendChild(l);this.WP=new Ok;
this.WP.a("viewchange",this.Bq,this);this.kc=w.X("canvas");this.kc.setAttribute("style","margin-left: 1px; cursor:grab; cursor:-moz-grab; cursor:-webkit-grab;");
this.Aa=this.kc.getContext("2d");var a=$.I(16*16*4);$.O$(a,t,t,8,0,0);this.kL=$.scale.Wq(a,t,t);this.WP.p$(this.kc);
l.appendChild(this.WP.W);l.appendChild(this.kc)}Oh.prototype=new Ws;Oh.prototype.Sl=function(){return!0};
Oh.prototype.xv=function(){return new x(0,0)};Oh.prototype.xI=function(){return!0};Oh.prototype.ci=function(l,t){t=t-26-30;
l=Math.floor((l-28)/2);w.IF(this.kc,l,t);this.WP.ci(l,t)};Oh.prototype.Bd=function(l,t,a,k){this.WP.Bd(k)};
Oh.prototype.G=function(){Ws.prototype.G.call(this);this.Qg.G();this.Qi.G();this.Rh.G()};Oh.prototype.oA=function(l,t){this.MS=l;
var a=l.Q[l._[0]],k=$.FM.r_(a.buffer.buffer,a.rect.$,a.rect.e).OEm,R=k/((a.rect.$-2)*(a.rect.e-2));this.Qi.g(R<.75);
var u=a.rect.clone();u.x=u.y=0;this.lL={Pk:u,data:a.buffer.buffer.slice(0)};this.ZI=null;this.WP.g([this.lL]);
this.Qg.g(20);this.cP()};Oh.prototype.cP=function(){var l=this.lL,t=this.Qi.d();if(t&&this.ZI==null){var a=new Uint8Array(l.data.slice(0)),k=15,R=35,u=l.Pk.$,b=l.Pk.e,v=new $.gL(u*b);
$.jk(a,v);var H=new $.gL(u*b);$.Fu.un(v.D,v.w,H.D,u,b,k,$.Fu.IB,[R]);$.Fu.un(v.K,v.w,H.K,u,b,k,$.Fu.IB,[R]);
$.Fu.un(v.l,v.w,H.l,u,b,k,$.Fu.IB,[R]);$.Ll(v.w,H.w);var N=R/255,z=1-N;for(var A=0;A<u*b;A++)H.w[A]=N*H.w[A]+z*v.w[A];
$.Dc(H,a);this.ZI={Pk:l.Pk.clone(),data:a.buffer}}if(t)l=this.ZI;var a=new Uint8Array(l.data),u=l.Pk.$,b=l.Pk.e;
for(var A=0;A<a.length;A+=4){if(a[A+3]<10)a[A]=a[A+1]=a[A+2]=a[A+3]=0}var Q=$.FM.OPq(a,u,b,this.Qg.d(),t?.1:2e-4),S=Q.jz.slice(0);
for(var A=0;A<S.length;A++)S[A]++;var o=new Uint8Array((u+2)*(b+2));$.co(S,new d(1,1,u,b),o,new d(0,0,u+2,b+2));
var p=Math.round((u+2)*(b+2)/1e4),O=lY.OSK(o,u+2,b+2,Math.min(12,p)),E=lY.OSs(O),L=new WM(1,0,0,1,-1,-1);
for(var A=0;A<E.length;A++)$.M.N(E[A].path.p,L,E[A].path.p);this.Zi=E;this.kr=Q;for(var A=0;A<E.length;
A++){var U=E[A];for(var W=A+1;W<E.length;W++){var Y=E[W];if(Q.Zh[Y.color-1].est.q[3]>.05||Y.parent!=A)continue;
var y=Y.path.A.slice(1);y.reverse();y=["M"].concat(y);var C=[],O=Y.path.p.length;for(var X=0;X<O;X+=2){C[X]=Y.path.p[O-2-X];
C[X+1]=Y.path.p[O-2-X+1]}$.M.concat(U.path,{p:C,A:y})}}for(var A=0;A<E.length;A++){var U=E[A],M=Q.Zh[U.color-1].est.q;
if(M[3]<=.05){E.splice(A,1);A--;continue}}for(var A=1;A<E.length;A++){var g=E[A-1],U=E[A];if(g.color==U.color){$.M.concat(g.path,U.path);
E.splice(A,1);A--;continue}}this.Bq()};Oh.prototype.Bq=function(l){if(this.Zi==null)return;var t=this.lL.Pk.$,a=this.lL.Pk.e,k=this.Zi,R=this.kr.Zh,u=this.Aa,b=this.WP.nY();
u.setTransform(1,0,0,1,0,0);u.clearRect(0,0,u.canvas.width,u.canvas.height);u.translate(u.canvas.width/2,u.canvas.height/2);
u.scale(b.H,b.H);u.translate(b.n.x/b.H-t/2,b.n.y/b.H-a/2);u.scale(1/b.H,1/b.H);u.fillStyle=this.kL;u.fillRect(0,0,t*b.H,a*b.H);
u.scale(b.H,b.H);var v=[];for(var H=0;H<R.length;H++){var N=R[H].est.q;v.push({D:Math.round(255*N[0]),K:Math.round(255*N[1]),l:Math.round(255*N[2]),w:Math.round(255*N[3])})}for(var H=0;
H<k.length;H++){var z=k[H],N=v[z.color-1];if(N.w==0)continue;u.fillStyle="rgba("+N.D+","+N.K+","+N.l+","+N.w/255+")";
u.beginPath();Typr.U.pathToContext({crds:z.path.p,cmds:z.path.A},u);u.fill()}};Oh.prototype.create=function(l){var t=this.Zi,a=t.length==1,k=this.MS,R=k._[0],u=k.Q[R],b=k.Q.slice(0,R);
if(!a)b.push(k.LA());for(var v=0;v<t.length;v++){var H=t[v],N=this.kr.Zh[H.color-1].est.q;$.M.N(H.path.p,new WM(1,0,0,1,u.rect.x,u.rect.y),H.path.p);
var z=k.Ow();z.wy("Path "+v);b.push(z);z.opacity=Math.round(N[3]*255);z.Ck|=16;z.add.SoCo={classID:"null",Clr:{t:"Objc",v:$.C.br({D:255*N[0],K:255*N[1],l:255*N[2]})}};
z.add.vmsk=new _.rv;z.add.vstk=JSON.parse(JSON.stringify(P.BF.default));z.add.vmsk.k=$.M.il(H.path,!1);
z.add.vogk=[];z.GH();z.cR(k)}var A=b[b.length-1];if(!a){var z=k.Ow();z.wy(u.getName());z.add.lsct=Oz.ON;
z.wk="pass";z.Ck=24;b.push(z);A=z}var Q=u.add.lmfx;if(Q)A.add.lmfx=JSON.parse(JSON.stringify(Q));for(var v=R+1;
v<k.Q.length;v++)b.push(k.Q[v]);var S=new Z(w.E.q,!0);S.dk=!0;S.P=s.sO;S.data={T:_.gj,Cr:b,PX:[R+t.length+(a?-1:1)],ER:"Vectorize Bitmap"};
this.t(S);this.close()};function Ol(){Ws.call(this,[7,11],"redge");this.lL={};this.Ac=null;this.Xh=null;
this.MS=null;this.OOB=null;this.zq=null;var l="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEX////IyMhc4gNCAAAAEElEQVR4nGNg+M+AFeEQBgB+vw/xkaQUAAAAAABJRU5ErkJggg==\" />",t="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEV5eXkrfmUiAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />",a="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEX///+nxBvIAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />",k="<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEUAAACnej3aAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />";
this.OU=[];this.sL=-1;this.As=w.X("div","form hbar");this.body.appendChild(this.As);this.Re=new Oj;this.Re.parent=this;
this.Re.a(w.E.z,this.Wo,this);this.As.appendChild(this.Re.W);this.kJ=new lI(null,[a,t,k]);this.As.appendChild(this.kJ.W);
this.mG=new Hq([7,9],0,50,null);this.mG.parent=this;this.mG.a(w.E.z,this.cK,this);this.As.appendChild(this.mG.W);
var R=new Wa([12,90],!1,null,!0);R.a("click",function(v){alert(Wq.get([15,7,1]),5e3)},this);this.As.appendChild(R.W);
this.OPG=R;var u=w.X("span","form");this.As.appendChild(u);u.setAttribute("style","position:absolute;  right:0px");
this.ke=new lI([12,46],[l,a,k]);this.ke.a(w.E.z,this.cm,this);u.appendChild(this.ke.W);this.ko=new H$(null,[[6,13],[6,2],[17,2]]);
u.appendChild(this.ko.W);this.Rh=new Wa("OK",!1,null,!0);this.Rh.a("click",this.create,this);u.appendChild(this.Rh.W);
var b=w.X("div","flexrow");this.body.appendChild(b);this.YL=new Ok(!0);this.Qq=new Ok;this.YL.Cm(this.Qq);
this.Qq.Cm(this.YL);this.YL.a("mousedown",this.Yw,this);this.YL.a("mousemove",this.sJ,this);this.YL.a("mouseup",this.GW,this);
this.YL.a("zoom",this.Wo,this);b.appendChild(this.YL.W);b.appendChild(this.Qq.W)}Ol.prototype=new Ws;
Ol.prototype.SJ=function(l,t){var a=l!=null&&!l.Q[l._[0]].rect.wp();if(!a)alert("The layer is empty.");
return a};Ol.prototype.Sl=function(){return!0};Ol.prototype.xv=function(){return new x(0,0)};Ol.prototype.xI=function(){return!0};
Ol.prototype.ci=function(l,t){t=t-26-30;l=Math.floor((l-28)/2);this.YL.ci(l,t);this.Qq.ci(l,t)};Ol.prototype.G=function(){Ws.prototype.G.call(this);
this.Re.G();this.mG.G();this.Rh.G();this.ko.G();this.OPG.G()};Ol.prototype.gO=function(l,t){this.Xh=l;
if(t==Wm.cC){this.Re.Sy(l.Dj);this.Re.g(WH.zA(),l.Dj.BN,l.Dj.FD)}};Ol.prototype.Bd=function(l,t,a,k){this.OOB=k;
var R=s.cD.QO(this.Re.d(),k);if(R!=null){this.Re.g(R);this.Wo()}else if(k.L(J.$K)&&k.L(J.IC)){var u=this.OU,b=0;
if(k.L(J.hV)){if(this.sL+1<u.length)b=1}else if(this.sL>0)b=-1;if(b!=0){this.sL+=b;var v=this.sL,H=this.lL;
if(b==1)$.BM(u[v][2],u[v][0],H.EG,H.rect);else $.BM(u[v+1][1],u[v+1][0],H.EG,H.rect);H.bn=H.rect;this.cP()}}else this.YL.Bd(k)};
Ol.prototype._F=function(l){var t=this.lL,a=this.OU,k=$.I(l.s()*4);$.BM(t.OkY,t.rect,k,l);t.OkY=null;
var R=$.I(l.s()*4);$.BM(t.EG,t.rect,R,l);this.sL++;a[this.sL]=[l.clone(),k,R];while(a.length>this.sL+1)a.pop();
while(a.length>50){a=a.slice(1);this.sL--}};Ol.prototype.Wo=function(){var l=this.Xh,t=Wy.pN(this.Re.d(),l.Dj.BN,this.YL.nY().H),a=w.zh(t);
this.YL.nu(a)};Ol.prototype.Yw=function(l){var t=this.Xh,a=this.lL,k=this.OOB,R=this.Re.d(),u=this.YL._b(),b=[16777215,8355711,0][this.kJ.d()];
this.Ac=new Wy(R,t.Dj.list[0].BN,t.Dj.list[0].FD,{Ai:1,Hn:!0},b,t.WR,a.rect);a.OkY=a.EG.slice(0);if(k!=null&&k.L(J.hV)&&this.zq){this.Ac.moveTo(this.zq.x,this.zq.y);
this.Ac.lineTo(u.x,u.y)}else this.Ac.moveTo(u.x,u.y);this.Bc()};Ol.prototype.sJ=function(l){var t=this.lL,a=this.YL._b();
this.Ac.lineTo(a.x,a.y);this.Bc()};Ol.prototype.GW=function(l){this.zq=this.YL._b();this._F(this.Ac.eT());
this.cP()};Ol.prototype.Bc=function(){var l=this.lL,t=this.Ac,a=t.pv();if(a.wp())return;l.bn=a;$.j.bz("norm",t.xK(),t.Sa(),l.EG,l.rect,a,1);
this.cr()};Ol.prototype.oA=function(l,t){this.MS=l;var a=l.Q[l._[0]],k=a.rect.clone();this.mG.g(3);this.kJ.g(l.O==null?0:1);
this.Wo();if(l.O==null)this.mG.Jf();else this.mG.fW();var R=$.I(k.s()),u=$.I(k.s());if(l.O)$.co(l.O.channel,l.O.rect,R,k);
k.x=k.y=0;var b=k.$,v=k.e;for(var H=0;H<v;H++)for(var N=0;N<b;N++){var z=H*b+N,A=R[z];if(N>0&&R[z-1]!=A||N<b-1&&R[z+1]!=A||H>0&&R[z-b]!=A||H<v-1&&R[z+b]!=A)u[z]=255}var Q=new Float32Array(k.s());
$.style.kH(u,Q,b,v);this.lL={rect:k,nr:a.buffer,TL:R,DB:Q,Jr:$.I(k.s()*4),BQ:$.I(k.s()*4),EG:$.I(k.s()*4),BJ:null,bn:k};
this.cK();this.OU=[1];this.sL=0};Ol.prototype.cK=function(){var l=this.lL,t=l.rect.s(),a=this.mG.d(),k=l.TL.slice(0);
for(var R=0;R<t;R++)if(l.DB[R]<a)k[R]=128;$.IK(l.EG,4294967295);$.xm(k,l.EG,0);$.xm(k,l.EG,1);$.xm(k,l.EG,2);
this.cP()};Ol.prototype.cP=function(){var l=this.lL,t,R,u,b=0,v=0,H=0;this.cr();if(!0)t=l.rect;else{var a=Math.min(t.$,t.e);
a=Math.max(a,50);t.RK(a,a);t=t.gk(l.rect);while((t.$&3)!=0){t.$++;if(t.$+t.x>l.rect.$)t.x--}while((t.e&3)!=0){t.e++;
if(t.e+t.y>l.rect.e)t.y--}console.log(t)}var k=$.I(t.s());if(t.cG(l.rect)){$.Du(l.EG,k,0);R=l.nr}else{R=$.I(t.s()*4);
$.BM(l.EG,l.rect,R,t);$.Du(R,k,0);$.BM(l.nr,l.rect,R,t)}for(var N=0;N<k.length;N++){var z=k[N];if(z==0)b++;
else if(z==255)v++;else H++}if(b*v*H!=0){u=$.By.By(t,R,k)}else{u=R.slice(0);$.xm(k,u,3)}if(t.cG(l.rect))l.BJ=u;
else $.BM(u,t,l.BJ,l.rect);this.cm()};Ol.prototype.cr=function(l){var t=this.lL,a=t.bn;$.BM(t.nr,t.rect,t.Jr,t.rect,a,!0);
$.j.bz("norm",t.EG,t.rect,t.Jr,t.rect,a,.3);this.YL.g([{Pk:t.rect,data:t.Jr.buffer}])};Ol.prototype.cm=function(l){var t=this.lL;
$.IK(t.BQ,[0,4294967295,4278190080][this.ke.d()]);$.j.bz("norm",t.BJ,t.rect,t.BQ,t.rect,t.rect,1);this.Qq.g([{Pk:t.rect,data:t.BQ.buffer}])};
Ol.prototype.create=function(l){var t=this.MS,a=this.lL,k=this.ko.d(),R=t.Q[t._[0]],u=new Z(w.E.q,!0);
u.dk=!0;var b=R.rect.clone();if(k==0&&R.jY()||k!=0&&!R.jY()){u.P=s.sO;u.data={T:_.ul,u:t._[0]};this.t(u)}if(t.O!=null){u.P=s.qw;
u.data={T:"deselect"};this.t(u)}if(k==0){var v=t.Q.slice(0),H=t.Ow();H.wy(R.getName());v.splice(t._[0]+1,0,H);
H.rect=b;H.buffer=a.BJ;H.i();u.P=s.sO;u.data={T:_.gj,Cr:v,PX:[t._[0]+1],ER:[7,11]};this.t(u)}if(k==1){var N=R.c$();
u.P=s.sO;u.data={T:_.Oa,OWJ:!0};this.t(u);var z=R.c$();z.channel=$.I(b.s());z.rect=b;z.color=0;z.wU=!0;
$.Du(a.BJ,z.channel,3);if(N){var A=z.bL(N);z.rect=A.rect;z.channel=A.channel;z.color=A.color}z.$e();
R.cR()}if(k==2){var Q={rect:b,channel:$.I(b.s())};$.Du(a.BJ,Q.channel,3);u.P=s.qw;u.data={T:"setsel",O:Q,ER:this.MN};
this.t(u)}this.close()};function An(l,t,a){WF.call(this);this.name=l;this.OgI=a;this.EC=w.X("div","");
this.PY=w.X("div","pbody");this.Rv=new Wa("",!1,"");this.Rv.parent=this;this.OSw=w.X("span","cross");
this.hr=w.X("span","");this.hr.addEventListener("mousedown",this.OEd.bind(this),!1);this.OSw.addEventListener("mousedown",this.vc.bind(this),!1);
this.EC.appendChild(this.hr);if(t)this.EC.appendChild(this.OSw);this.Sx=!1;this.hr.textContent=l}An.prototype=new WF;
An.prototype.UH=function(){return new x(0,0)};An.prototype.G=function(){var l=this.name,t=typeof l=="string"?l:Wq.get(l);
this.hr.textContent=t.length>22?t.slice(0,20)+"..":t;var a=t.split(" "),k=a.length==2?a[0].substring(0,2)+a[1][0]:t.substring(0,3);
if(this.OgI==null)this.Rv.Pa(k,t);else{this.Rv.Pa("<img src=\""+this.OgI+"\" alt=\""+this.name+"\" height=\"20\" />",t)}};
An.prototype.enable=function(){this.PY.setAttribute("class","pbody")};An.prototype.disable=function(){this.PY.setAttribute("class","pbody disabled")};
An.prototype.gO=function(l,t){};An.prototype.oA=function(l,t,a){};An.prototype.ci=function(l,t){};An.prototype.OEU=function(l){this.name=l;
this.G()};An.prototype.Ux=function(){};An.prototype.OEd=function(l){this.t(new Z("select",!1))};An.prototype.vc=function(l){if(this.cF())this.t(new Z(w.E.sD,!1))};
An.prototype.cF=function(l){return!0};An.prototype.yY=function(l,t,a,k,R){};An.prototype.JP=function(l,t,a,k,R){};
An.prototype.cV=function(l,t,a,k,R){};function WC(){An.call(this,[9,3]);this.pJ=null;this._j=null;this.rq=0;
this.WR=0;var l=w.X("div","");this.PY.appendChild(l);this.Su=w.X("div","bordered cell");this.Su.setAttribute("style","width:10em; height:28.5em;");
l.appendChild(this.Su);this.BD=[];this.bq=null;this.wV=[];var t=this.OET.bind(this);this.SU=[new WC.eX,new WC.Up,new WC.FH,new WC.jM];
for(var a=0;a<this.SU.length;a++){var k=w.X("div","listitem"),R=this.SU[a].GZ,u=null;if(a==0){this.bq=new OE(R);
k.appendChild(this.bq.W)}else{u=new HV(R,!1);u.a(w.E.z,this.OEq,this);k.appendChild(u.W)}this.wV.push(u);
this.Su.appendChild(k);this.BD.push(k);k.addEventListener("click",t,!1)}this.Gr=w.X("div","cell padded");
l.appendChild(this.Gr);for(var a=0;a<this.SU.length;a++)this.SU[a].a("brushchange",this.OEZ,this);this.setItem(0);
this.Ot=w.X("canvas","");this.Ot.width=Math.floor(380*w.m());this.Ot.height=Math.floor(80*w.m());w.lA(this.Ot,this.Ot.width,this.Ot.height);
l.appendChild(this.Ot);this.Aa=this.Ot.getContext("2d");this.cP()}WC.prototype=new An("");WC.prototype.G=function(){An.prototype.G.call(this);
this.bq.G();for(var l=1;l<this.wV.length;l++)this.wV[l].G();for(var l=0;l<this.SU.length;l++)this.SU[l].G()};
WC.prototype.OEZ=function(l){var t=this.SU.indexOf(l.currentTarget),a=JSON.parse(JSON.stringify(this.SU[t]._j)),k=new Z(w.E.J,!0);
k.data={T:w.h.kn,wd:Wm.fr,_j:a};this.t(k)};WC.prototype.OEq=function(l){this.cZ(this.wV.indexOf(l.currentTarget),l.currentTarget.HK())};
WC.prototype.OET=function(l){var t=this.BD.indexOf(l.currentTarget);if(l.target.tagName.toLowerCase()=="input")return;
if(this.wV[t]&&!this.wV[t].HK()){this.wV[t].AN();this.cZ(t,!0)}this.setItem(t)};WC.prototype.cZ=function(l,t){this.SU[l].UF(t)};
WC.prototype.setItem=function(l){for(var t=0;t<this.SU.length;t++)this.BD[t].setAttribute("class","listitem");
if(this.Gr.firstChild)this.Gr.removeChild(this.Gr.firstChild);this.BD[l].setAttribute("class","listitem selected");
this.Gr.appendChild(this.SU[l].W)};WC.prototype.gO=function(l,t){this.rq=l.rq;this.WR=l.WR;if(t==Wm.cC){this.pJ=l.Dj;
for(var a=0;a<this.SU.length;a++)this.SU[a].Sy(this.pJ)}if(t==Wm.fr){this._j=l.Dj.Kh;this.cP()}if(t==Wm.tJ)this.cP()};
WC.prototype.cP=function(){if(this._j)this.enable();else{this.disable();return}for(var l=0;l<this.SU.length;
l++){this.SU[l].g(this._j);if(this.wV[l])this.wV[l].g(this.SU[l].HK())}var t=JSON.parse(JSON.stringify(this._j));
t.Brsh.v.Dmtr.v.val=Math.min(t.Brsh.v.Dmtr.v.val,50);var a=new d(0,0,this.Ot.width,this.Ot.height),k=new Wy(t,this.pJ?this.pJ.BN:null,this.pJ?this.pJ.FD:null,{Ai:1},this.rq,this.WR,a),R=40*w.m(),u=300*w.m();
k.moveTo(R,R);for(var l=0;l<=u;l+=10)k.lineTo(R+l,R+20*Math.sin(2*Math.PI*l/u));k.finish();var b=this.Aa.createImageData(a.$,a.e);
$.BM(k.xK(),k.Sa(),b.data,a);this.Aa.putImageData(b,0,0)};WC.hH=function(l){WF.call(this);this.GZ=l;
this.W=w.X("div","");this._j=null};WC.hH.prototype=new WF;WC.hH.prototype.Sy=function(l){};WC.hH.prototype.g=function(l){this._j=JSON.parse(JSON.stringify(l));
this.W.setAttribute("class",this.HK()?"":"disabled");this.cP()};WC.hH.prototype.UF=function(l){};WC.hH.prototype.HK=function(){return!1};
WC.hH.prototype.G=function(){};WC.hH.prototype.cP=function(){};WC.hH.prototype.oL=function(){this.t(new Z("brushchange"))};
WC.eX=function(){WC.hH.call(this,[15,0]);this.pJ=null;this.Oiu=null;this.Qo=new Ao(!0);this.W.appendChild(this.Qo.W);
this.Qo.a(w.E.z,this.OKW,this);this.Qo.W.style.height="10.7em";this.Qy=new WB([12,14],1,1e3," px",0,!0);
this.Qy.a(w.E.z,this.OKg,this);this.Qc=new WB([12,15],0,359," \xB0");this.Qc.a(w.E.z,this.OKS,this);
this.XA=new WB([12,16],0,100," %");this.XA.a(w.E.z,this.OKK,this);this.Xz=new WB([12,17],0,100," %");
this.Xz.a(w.E.z,this.OKs,this);this.XS=new WB([12,18],1,300," %");this.XS.a(w.E.z,this.O_P,this);this.BD=[this.Qy,this.Qc,this.XA,this.Xz,this.XS]};
WC.eX.prototype=new WC.hH;WC.eX.prototype.G=function(){this.Qy.G();this.Qc.G();this.XA.G();this.Xz.G();
this.XS.G()};WC.eX.prototype.HK=function(){return!0};WC.eX.prototype.Sy=function(l){this.pJ=l;var t=[],a=Math.floor(30*w.m()),k=Math.floor(40*w.m());
for(var R=0;R<l.list.length;R++){var u=l.list[R].v,b=Wy.cT(u,l.BN,l.FD,a,k);t.push(b)}this.Qo.jr(t,null,a,k)};
WC.eX.prototype.cP=function(){var l=this._j.Brsh.v,t=l.classID!=this.Oiu;this.Oiu=l.classID;if(t)for(var a=0;
a<this.BD.length;a++)if(this.W.contains(this.BD[a].W))this.W.removeChild(this.BD[a].W);this.Qy.g(l.Dmtr.v.val);
if(t)this.W.appendChild(this.Qy.W);this.Qc.g(l.Angl.v.val);if(t)this.W.appendChild(this.Qc.W);if(l.classID=="computedBrush"||l.classID=="sampledBrush"){this.XA.g(l.Rndn.v.val);
if(t)this.W.appendChild(this.XA.W)}if(l.classID=="computedBrush"){this.Xz.g(l.Hrdn.v.val);if(t)this.W.appendChild(this.Xz.W)}this.XS.g(l.Spcn.v.val);
if(t)this.W.appendChild(this.XS.W)};WC.eX.prototype.OKW=function(l){this._j=this.pJ.list[this.Qo.d()].v;
this.oL()};WC.eX.prototype.OKg=function(l){this._j.Brsh.v.Dmtr.v.val=l.target.d();this.oL()};WC.eX.prototype.OKS=function(l){this._j.Brsh.v.Angl.v.val=l.target.d();
this.oL()};WC.eX.prototype.OKK=function(l){this._j.Brsh.v.Rndn.v.val=l.target.d();this.oL()};WC.eX.prototype.OKs=function(l){this._j.Brsh.v.Hrdn.v.val=l.target.d();
this.oL()};WC.eX.prototype.O_P=function(l){this._j.Brsh.v.Spcn.v.val=l.target.d();this.oL()};WC.Up=function(){WC.hH.call(this,[15,1]);
this.Zk=new WB([15,4,0],0,100," %");this.Zk.a(w.E.z,this.O_j,this);this.W.appendChild(this.Zk.W);this.ZU=new WB([15,4,1],0,100," %");
this.ZU.a(w.E.z,this.O_T,this);this.W.appendChild(this.ZU.W);this.Zd=new WB([15,4,2],0,100," %");this.Zd.a(w.E.z,this.O_C,this);
this.W.appendChild(this.Zd.W);this.Zx=new WB([15,4,3],0,100," %");this.Zx.a(w.E.z,this.OrO,this);this.W.appendChild(this.Zx.W);
this.ZD=new WB([15,4,4],0,100," %");this.ZD.a(w.E.z,this.OV$,this);this.W.appendChild(this.ZD.W)};WC.Up.prototype=new WC.hH;
WC.Up.prototype.G=function(){this.Zk.G();this.ZU.G();this.Zd.G();this.Zx.G();this.ZD.G()};WC.Up.prototype.HK=function(){return this._j.useTipDynamics.v};
WC.Up.prototype.UF=function(l){this._j.useTipDynamics.v=l;WH.xk.py(this._j);this.oL()};WC.Up.prototype.cP=function(){var l=this._j;
if(l.useTipDynamics.v==!1)return;this.Zk.g(l.szVr.v.jitter.v.val);this.ZU.g(l.minimumDiameter.v.val);
this.Zd.g(l.angleDynamics.v.jitter.v.val);this.Zx.g(l.roundnessDynamics.v.jitter.v.val);this.ZD.g(l.minimumRoundness.v.val)};
WC.Up.prototype.O_j=function(l){this._j.szVr.v.jitter.v.val=l.target.d();this.oL()};WC.Up.prototype.O_T=function(l){this._j.minimumDiameter.v.val=l.target.d();
this.oL()};WC.Up.prototype.O_C=function(l){this._j.angleDynamics.v.jitter.v.val=l.target.d();this.oL()};
WC.Up.prototype.OrO=function(l){this._j.roundnessDynamics.v.jitter.v.val=l.target.d();this.oL()};WC.Up.prototype.OV$=function(l){this._j.minimumRoundness.v.val=l.target.d();
this.oL()};WC.FH=function(){WC.hH.call(this,[15,2]);this.Zj=new WB([15,5,0],0,1e3," %");this.Zj.a(w.E.z,this.OVW,this);
this.W.appendChild(this.Zj.W);this.DV=new WB([15,5,1],1,20);this.DV.a(w.E.z,this.OVx,this);this.W.appendChild(this.DV.W);
this.DO=new WB([15,5,2],0,100," %");this.DO.a(w.E.z,this.OVF,this);this.W.appendChild(this.DO.W)};WC.FH.prototype=new WC.hH;
WC.FH.prototype.G=function(){this.Zj.G();this.DV.G();this.DO.G()};WC.FH.prototype.HK=function(){return this._j.useScatter.v};
WC.FH.prototype.UF=function(l){this._j.useScatter.v=l;WH.xk.py(this._j);this.oL()};WC.FH.prototype.cP=function(){var l=this._j;
if(l.useScatter.v==!1)return;this.Zj.g(l.scatterDynamics.v.jitter.v.val);this.DV.g(l.Cnt.v);this.DO.g(l.countDynamics.v.jitter.v.val)};
WC.FH.prototype.OVW=function(l){this._j.scatterDynamics.v.jitter.v.val=l.target.d();this.oL()};WC.FH.prototype.OVx=function(l){this._j.Cnt.v=l.target.d();
this.oL()};WC.FH.prototype.OVF=function(l){this._j.countDynamics.v.jitter.v.val=l.target.d();this.oL()};
WC.jM=function(){WC.hH.call(this,[15,3]);this.DA=new WB([15,6,0],0,100," %");this.DA.a(w.E.z,this.OVu,this);
this.W.appendChild(this.DA.W);this.hR=new WB([15,6,1],0,100," %");this.hR.a(w.E.z,this.OO$,this);this.W.appendChild(this.hR.W);
this.DH=new WB([15,6,2],0,100," %");this.DH.a(w.E.z,this.OOb,this);this.W.appendChild(this.DH.W);this.Dl=new WB([15,6,3],0,100," %");
this.Dl.a(w.E.z,this.OOr,this);this.W.appendChild(this.Dl.W)};WC.jM.prototype=new WC.hH;WC.jM.prototype.G=function(){this.DA.G();
this.hR.G();this.DH.G();this.Dl.G()};WC.jM.prototype.HK=function(){return this._j.useColorDynamics.v};
WC.jM.prototype.UF=function(l){this._j.useColorDynamics.v=l;WH.xk.py(this._j);this.oL()};WC.jM.prototype.cP=function(){var l=this._j;
if(l.useColorDynamics.v==!1)return;this.DA.g(l.clVr.v.jitter.v.val);this.hR.g(l.H.v.val);this.DH.g(l.Strt.v.val);
this.Dl.g(l.Brgh.v.val)};WC.jM.prototype.OVu=function(l){this._j.clVr.v.jitter.v.val=l.target.d();this.oL()};
WC.jM.prototype.OO$=function(l){this._j.H.v.val=l.target.d();this.oL()};WC.jM.prototype.OOb=function(l){this._j.Strt.v.val=l.target.d();
this.oL()};WC.jM.prototype.OOr=function(l){this._j.Brgh.v.val=l.target.d();this.oL()};function lc(){An.call(this,[9,0]);
this.PY.setAttribute("style","min-width:200px;");this._r=w.X("div","hpbody scrollable");this._r.style.height="160px";
this.PY.appendChild(this._r);this.OPY=-1;this.bJ=[]}lc.prototype=new An("");lc.prototype.oA=function(l){w.BT(this._r);
if(l==null)return;var t=0;for(var a=0;a<l.history.length;a++)if(a<=l.XD&&!l.history[a].Ib)t=a;for(var a=0;
a<l.history.length;a++){var k=l.history[a];if(k.Ib)continue;var R=new lD(k,a,t);R.parent=this;this._r.appendChild(R.W);
this.bJ.push(R)}if(l.XD==l.history.length-1)this._r.scrollTop=this._r.scrollHeight};lc.prototype.G=function(){An.prototype.G.call(this);
for(var l=0;l<this.bJ.length;l++)this.bJ[l].G()};function lD(l,t,a){WF.call(this);this.index=t;this.W=w.X("div",t==a?"listitem selected":"listitem");
this.ru=l.name;this.G();if(t>a)this.W.style.opacity=.4;this.W.addEventListener("click",this.yY.bind(this),!1)}lD.prototype=new WF;
lD.prototype.G=function(){var l=typeof this.ru=="string"?this.ru:Wq.get(this.ru);this.W.textContent=l};
lD.prototype.yY=function(l){if(this.index==this.parent.OPY)return;this.fV({T:"h_itemchange",index:this.index})};
lD.prototype.fV=function(l){var t=new Z(w.E.q,!0);t.data=l;t.P=s.nb;this.t(t)};function A$(){An.call(this,"Histogram");
var l=w.X("div","padded");this.PY.appendChild(l);this.Hy=new ld(256);l.appendChild(this.Hy.W);this.OPs=[];
this.ud=[];var t=["Mean:","Pixels:"];for(var a=0;a<t.length;a++){var k=new OE(t[a]);this.OPs.push(k);
l.appendChild(k.W);var R=new OE("hi");this.ud.push(R);l.appendChild(R.W);l.appendChild(w.X("br"))}this.M$=null}A$.prototype=new An("");
A$.prototype.oA=function(l){this.M$=l;this._x()};A$.prototype._x=function(){var l=this.M$,N=0;if(l==null||l._.length==0)return;
if(!w.Ev(this.PY))return;var t=l.FY(),a=new d(0,0,l.$,l.e),k=a.s();if(l.O){var R=l.O.rect,u=$.I(R.s()*4);
$.BM(t,a,u,R);$.nM(l.O.channel,u);t=u;a=R;var b=l.O.channel;k=0;for(var v=0;v<b.length;v++)k+=b[v];k=Math.round(k/255)}var H=$.Og(t);
this.Hy.g(H,a.$,a.e);for(var v=0;v<256;v++)N+=v*(.333*H[1][v]+.333*H[2][v]+.333*H[3][v]);this.ud[0].g((N/k).toFixed(1)+"");
this.ud[1].g(k+"")};A$.prototype.gO=function(l,t){this.Hy.zm(HN.DE[l.Ek]["--text-color"])};A$.prototype.G=function(){An.prototype.G.call(this);
this.Hy.G()};A$.prototype.Ux=function(){this._x()};function lw(){An.call(this,[9,8]);this.wF=w.X("div","padded");
this.PY.appendChild(this.wF);this.uU=new Ov(10);this.wF.appendChild(this.uU.W);this.wF.appendChild(w.X("hr"));
this.Bt=new Op;this.Bt.parent=this;this.wF.appendChild(this.Bt.dS);this.uU.a(w.E.z,this.w$,this);this.Bt.a(w.E.z,this.w$,this)}lw.prototype=new An("");
lw.prototype.w$=function(l){var t;if(l.target==this.uU)t=this.uU.d();else{var a=this.Bt.d();t=Math.round(a.D)<<16|Math.round(a.K)<<8|Math.round(a.l)}var k=new Z(w.E.J,!0);
k.data={T:w.h.kn,wd:Wm.tJ,mk:0,V:t};this.t(k)};lw.prototype.gO=function(l,t){var a=l.rq;this.uU.g(a);
this.Bt.g({D:a>>>16&255,K:a>>>8&255,l:a>>>0&255});if(t==Wm.iE){var k=l.ObX;this.Bt.Sy(k)}};function Aw(){An.call(this,[9,4]);
this.PY.setAttribute("style","min-width:240px;");this.Im=new Wi;this.Im.parent=this;var l=w.X("div","marged");
this.PY.appendChild(l);l.appendChild(this.Im.CX.W);this.PY.appendChild(w.X("hr"));var t=w.X("div","marged");
this.PY.appendChild(t);t.appendChild(this.Im.hP.W);t.appendChild(this.Im.h_.W);var a=w.X("div","marged");
this.PY.appendChild(a);a.appendChild(this.Im.he.W);this.PY.appendChild(w.X("hr"));var k=w.X("div","marged");
this.PY.appendChild(k);k.appendChild(this.Im.GR.W);k.appendChild(this.Im.aI.W);var R=w.X("div","marged");
this.PY.appendChild(R);R.appendChild(this.Im.sS.W);R.appendChild(this.Im.hy.W);this.PY.appendChild(w.X("hr"));
var u=w.X("div","marged");this.PY.appendChild(u);u.appendChild(this.Im.dZ.W);u.appendChild(this.Im.dT.W);
u.appendChild(this.Im.du.W);u.appendChild(this.Im.dy.W);u.appendChild(this.Im.dM.W);u.appendChild(this.Im.dc.W);
u.appendChild(this.Im.dt.W)}Aw.prototype=new An("");Aw.prototype.G=function(){An.prototype.G.call(this);
this.Im.G()};Aw.prototype.gO=function(l,t){if(t!=Wm.CM&&t!=Wm.TT&&t!=Wm.rA&&t!=Wm.IA)return;this.Im.tz(l)};
function AN(){An.call(this,"CSS");this.wF=w.X("div","padded");this.PY.appendChild(this.wF);this.dX=w.X("textarea");
this.dX.setAttribute("rows",16);this.dX.setAttribute("style","display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
this.wF.appendChild(this.dX)}AN.prototype=new An("");AN.prototype.oA=function(l){if(l==null||l._.length==0)return;
var t=l.Q[l._[0]],a=CSS.OOl(t);if(a.length!=0)this.dX.value=a.join(";\n")+";";else this.dX.value=""};
function lj(){An.call(this,[9,6]);this.PY.setAttribute("style","min-width:240px;");var l=w.X("div","marged row");
this.PY.appendChild(l);var t=w.X("div","cell");t.setAttribute("style","width:10em");l.appendChild(t);
var a=w.X("div","cell");a.setAttribute("style","width:10em");l.appendChild(a);this.OPy=new OE("R:");
this.OPw=new OE("G:");this.OkF=new OE("B:");this.PY.appendChild(w.X("hr",""));var k=w.X("div","marged row");
this.PY.appendChild(k);var t=w.X("div","cell");t.setAttribute("style","width:10em");var a=w.X("div","cell");
a.setAttribute("style","width:10em");k.appendChild(t);k.appendChild(a);this.v_=new OE("");t.appendChild(this.v_.W);
t.appendChild(w.X("br"));this.vx=new OE("");t.appendChild(this.vx.W);this.rB=new OE("");a.appendChild(this.rB.W);
a.appendChild(w.X("br"));this.cp=new OE("");a.appendChild(this.cp.W);this.v_.g("X: 100 px");this.vx.g("Y: 100 px");
this.rB.g("W: 0");this.cp.g("H: 0")}lj.prototype=new An("");lj.prototype.JP=function(l,t,a,k,R){var u=l.Y.KV(R.x,R.y),b=new x(Math.floor(u.x),Math.floor(u.y));
if(!1){var v=0,H=0,N=0;if(!R.bM&&!l.OSj()&&new d(0,0,l.$,l.e).ML(b)){var z=l.FY(),A=l.$*b.y+b.x<<2;v=z[A+0];
H=z[A+1];N=z[A+2]}this.OPy.g("R: "+v);this.OPw.g("G: "+H);this.OkF.g("B: "+N)}this.v_.g("X: "+$.ca.$m(b.x,l.DS,a));
this.vx.g("Y: "+$.ca.$m(b.y,l.DS,a));this.ww(l,a)};lj.prototype.ww=function(l,t){var a=0,k=0;if(l.Y.js){a=l.Y.js.$;
k=l.Y.js.e}else if(l.O){a=l.O.rect.$;k=l.O.rect.e}this.rB.g(Wq.get([12,41]).charAt(0)+": "+$.ca.$m(Math.abs(a),l.DS,t));
this.cp.g(Wq.get([12,42]).charAt(0)+": "+$.ca.$m(Math.abs(k),l.DS,t))};lj.prototype.oA=function(l,t,a){if(l)this.ww(l,a)};
function H_(){An.call(this,[9,1]);this.cb=null;this.NY=null;this.Ae=null;this.Aq=w.X("div","lphead");
this._r=w.X("div","lpbody scrollable");this.Xd=w.X("div","lpfoot");this.Wk=new H$(null,HO.hZ,!1,HO.RL);
this.Wk.a(w.E.z,this.OOX,this);this.Aq.appendChild(this.Wk.W);this.cs=new Hq([12,0],0,100,"%",0);this.cs.a(w.E.z,this.OOe,this);
this.cs.parent=this;this.Aq.appendChild(this.cs.W);this.cM=new AI("<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />",[[12,76,2],[12,40],[7,0]]);
this.cM.a(w.E.z,this.OAO,this);this.Aq.appendChild(this.cM.W);this.cM.W.setAttribute("style","margin-right:1.5em");
this.Xx=new Hq([12,26],0,100,"%",0);this.Xx.a(w.E.z,this.OAA,this);this.Xx.parent=this;this.Dg=[];this.O$P();
this.PY.appendChild(this.Aq);this.PY.appendChild(this._r);this.PY.appendChild(this.Xd);this.PY.addEventListener("contextmenu",Hn.TR,!1);
this.wP=[{name:[14,10]},{name:[6,0]},{name:[11,4]},{name:[5,4],Cc:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",v:function(l){return{v:l.Q[l._[0]].add.SoLd!=null}},Cc:!0},{name:[6,8],v:function(l){var t=l.Q[l._[0]];
if(t.add.TySh||t.add.SoLd||t.add.SoCo||t.add.GdFl||t.add.PtFl)return{v:!0};return{v:!1}}},{name:[6,34],v:function(l){var t=l.Q[l._[0]];
return{v:t.add.lmfx!=null}}},{name:[6,40],Cc:!0,v:function(l){var t=l.Q[l._[0]];return{v:t.add.TySh!=null}}},{name:"",Cc:!0,v:function(l){var t=l.Q[l._[0]],a=t.add.TySh;
return{v:a!=null,mB:"Convert to "+(a&&Wz.Hj(a.dH)==0?"Paragraph text":"Point text")}}},{name:[6,6],Cc:!0,v:function(l){return{v:l.bW(l._[0]),rV:l.Q[l._[0]].Nq}}},{name:[11,6],Cc:!0,sub:[{name:[5,1],v:function(l){var t=l.Q[l._[0]];
return{v:t.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],v:function(l){var t=l.Q[l._[0]];return{v:t.add.lmfx!=null}}}]},{name:[6,10],v:function(l){return{v:l._.length==1&&l._[0]!=0&&!l.Q[l._[0]].PA()}}},{name:[6,12],v:function(l){return{v:l._.length>1||l.Q[l._[0]].PA()}},Cc:!0},{name:[13,0],sub:function(){var l=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],t=[];
for(var a=0;a<l.length;a++)t.push({name:l[a]});return t}()}];this.zJ=[null,_.OT,{B:w.E.J,c:{T:w.h.AG,XG:"duplinto"}},_.Gu,_.ih,_.yM,_.yh,_.yv,_.Qs,{B:w.E.q,P:s.E_,c:{T:"switchPntPrgr"}},_.Ou,null,_.fL,_.PS,_.SO];
this.Gr=new HY(this.wP);this.Gr.a("select",this.wR,this);this.Onf=[{name:[6,45],v:function(l){var t=l.Q[l._[0]];
return{v:t.SS(l).Z==null}}},{name:[6,47]}];this.OkG=[_.kx,_.Sw];this.bQ=new HY(this.Onf);this.bQ.a("select",this.wR,this);
this.Oki=[{name:"enab/disab",v:function(l){return{mB:Wq.get(l.Q[l._[0]].c$().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],v:function(l){return{v:l.JR(!1,!0)}}}];
this.Oks=[_.GB,_.bA,_.yN];this.DI=new HY(this.Oki);this.DI.a("select",this.wR,this);this.OIn=[{name:"enab/disab",v:function(l){return{mB:Wq.get(l.Q[l._[0]].SS(l).Z.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.Okp=[_.bO,_.kZ];this.bX=new HY(this.OIn);this.bX.a("select",this.wR,this);this.OVz=[{name:"enab/disab",v:function(l){return{mB:Wq.get(l.Q[l._[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.OkB=[_.fw,_.b$];this.Dk=new HY(this.OVz);this.Dk.a("select",this.wR,this);this.OVZ=$V.BU(!0);this.Okw=$V.BE(!0);
this.Xa=new HY(this.OVZ);this.Xa.a("select",this.wR,this);this.OlJ=$V.BS();this.ObO=$V.Bn();this.Df=new HY(this.OlJ);
this.Df.a("select",this.wR,this);this.a("rclick",this.OOQ,this)}H_.prototype=new An("");H_.prototype.UH=function(){return new x(250,0)};
H_.prototype.wR=function(l){var t=l.target.Mf(),a=t[0],k;if(l.target==this.Gr)k=this.zJ;if(l.target==this.bQ)k=this.OkG;
if(l.target==this.DI)k=this.Oks;if(l.target==this.Dk)k=this.OkB;if(l.target==this.bX)k=this.Okp;if(l.target==this.Xa)k=this.Okw;
if(l.target==this.Df)k=this.ObO;if(k[a]==null){if(a==0){var R=new Z(w.E.J,!0);R.data={T:w.h.AG,XG:"layerstyle",u:this.NY._[0]};
this.t(R)}else{var u=new Z(w.E.q,!0);u.P=s.Em;u.data={T:["st_copy","st_paste","st_clear"][t[1]],u:this.NY._[0]};
this.t(u)}return}if(k[a].B!=null){var b=k[a],u=new Z(b.B,!0);u.P=b.P;u.data=b.c;l.target.t(u);return}var u=new Z(w.E.q,!0);
if(l.target==this.Xa)u.data=k[a];else u.data={T:k[a]};if(k[a]==_.SO)u.data.OWp=t[1];u.P=s.sO;l.target.t(u)};
H_.prototype.OOQ=function(l){var t=this.NY,a=l.data,k,R;if(t._.indexOf(a.u)==-1){t._=[a.u];t.da=!0}if(a.cA==1){k=this.DI;
R=this.Oki}else if(a.cA==2){k=this.Dk;R=this.OVz}else if(a.cA==3){k=this.bX;R=this.OIn}else if(a.ObA){k=this.bQ;
R=this.Onf}else{k=this.Gr;R=this.wP}k.update(t,R);k.parent=this;var u=new Z(w.E.J,!0);u.data={T:w.h._e,jn:k,x:a.OgU.x+1,y:a.OgU.y+1};
this.t(u)};H_.prototype.G=function(){An.prototype.G.call(this);this.cs.G();this.cM.G();this.Xx.G();this.Gr.G();
this.DI.G();this.Dk.G();this.Xa.G();this.Df.G();if(this.NY)this.oA(this.NY);var l="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var t=0;t<this.Dg.length;t++){var a=this.Dg[t];a.Pa(w.WL(l[t]))}};H_.prototype.oA=function(l,t){if(l==null)w.jI(this.PY,"disabled");
else w.ls(this.PY,"disabled");this.NY=l;this.Ae=t;if(this.cb!=null){this._r.removeChild(this.cb._r);
this.cb=null}if(l==null)return;this.cb=new Hn(l.root,this,l,{uT:0});this._r.appendChild(this.cb._r);
if(l._.length==0){w.jI(this.Aq,"disabled")}else{w.ls(this.Aq,"disabled");if(l._.length==1&&l.TS)this.cb.tK(l._);
var a=l.Q[l._[0]];if(a.PA()){this.Wk.SZ(["Pass Through"].concat(HO.hZ),[1].concat(HO.RL));var k=HO.Rr.indexOf(a.wk);
this.Wk.g(k+1)}else{this.Wk.SZ(HO.hZ,HO.RL);var k=HO.Rr.indexOf(a.wk);this.Wk.g(k)}this.cs.g(Math.round(100*a.opacity/255));
this.cM.g([a.Mu(1),a.Mu(2),a.Mu(31)]);this.Xx.g(Math.round(100*(a.add.iOpa!=null?a.add.iOpa/255:1)))}};
H_.prototype.ci=function(l,t){var a=this.Aq.getBoundingClientRect().height;a=Math.max(a,52);var k=t-(a+34);
this._r.style.height=k+"px"};H_.prototype.OOX=function(l){this.fV({T:_.bi,sQ:this.Wk.d()})};H_.prototype.OOe=function(l){this.fV({T:_.dn,sQ:Math.round(255*this.cs.d()/100)})};
H_.prototype.OAO=function(l){this.fV({T:_.bU,sQ:[this.cM.d(),[1,2,31]]})};H_.prototype.OAA=function(l){this.fV({T:_.Py,sQ:Math.round(255*this.Xx.d()/100)})};
H_.prototype.OAH=function(l){this.tE(l,this.Xa,this.OVZ)};H_.prototype.OAU=function(l){this.tE(l,this.Df,this.OlJ)};
H_.prototype.tE=function(l,t,a){var k=l.currentTarget;if(w.Ev(t.W))return;l.stopPropagation();var R=k.getBoundingClientRect();
t.update(this.NY,a);t.parent=this;var u=new Z(w.E.J,!0);u.data={T:w.h._e,jn:t,x:R.left,y:R.top,Obk:!0};
this.t(u)};H_.prototype.OAf=function(l){this.fV({T:_.QT})};H_.prototype.OAZ=function(l){this.fV({T:_.kW})};
H_.prototype.OAG=function(l){this.fV({T:_.bv})};H_.prototype.OAB=function(l){this.fV({T:_.Gu})};H_.prototype.OAc=function(l){this.fV({T:_.kB})};
H_.prototype.fV=function(l){var t=new Z(w.E.q,!0);t.data=l;t.P=s.sO;this.t(t)};H_.prototype.O$P=function(){var l=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],t=[this.OAc,this.OAU,this.OAH,this.OAf,this.OAZ,this.OAG,this.OAB];
for(var a=0;a<l.length;a++){var k=new Wa("W",!1,l[a]);this.Dg.push(k);w.Ox(k.W,t[a].bind(this));this.Xd.appendChild(k.W);
if(a>=l.length-3){var R=k.W;R.addEventListener("drop",this.O$Q.bind(this),!1);R.addEventListener("dragover",function(u){k.AN()}.bind(this),!1);
R.addEventListener("dragenter",Hn.TR,!1);R.addEventListener("dragleave",function(u){k.QE()}.bind(this),!1)}}};
H_.prototype.O$Q=function(l){var t=0,a=this.Dg;while(a[t].W!=l.currentTarget)t++;a[t].QE();var k=l.dataTransfer.getData("Text");
if(k=="")return;var k=JSON.parse(k);if(k.rZ=="l"){var R={T:[_.kU,_.OT,_.Gu][t-4]};if(this.NY._.indexOf(k.tf)==-1)R.u=k.tf;
this.fV(R)}if(t!=6)return;if(k.rZ=="sm"||k.rZ=="s"){var u=new Z(w.E.q,!0);u.P=s.Em;u.data={T:k.rZ=="sm"?"st_clear":"st_delsingle",u:k.tf,tf:k.Yi};
this.t(u)}if(k.rZ=="fm"||k.rZ=="f"){this.fV({T:k.rZ=="fm"?_.Sw:_.QQ,u:k.tf,tf:k.Yi})}};function Hn(l,t,a,k){WF.call(this);
this.parent=t;this.hO=l;this.be=[];this.W=w.X("div","layeritem");this.EV=this.O_.bind(this);this.OgZ=this.OWb.bind(this);
this.DD=this.OWS.bind(this);var R=l.u,z=15,n=!1;this.Aq=w.X("div",a._.indexOf(l.index)!=-1?"head selected":"head");
if(l.u.add.artb!=null)w.jI(this.Aq,"artb");this.Aq.setAttribute("style","height: "+(R.EB+10)+"px");this.Oze=w.X("div","headL");
this.OVt=w.X("div","headR");this.wZ=w.X("div","lpineck");this._r=w.X("div","lpibody");this.W.appendChild(this.Aq);
this.Aq.appendChild(this.Oze);this.Aq.appendChild(this.OVt);if(R.io()||R.Bx())if(R.kO())this.W.appendChild(this.wZ);
var u=this.Aq;u.setAttribute("draggable","true");u.addEventListener("dragstart",this.Oi.bind(this),!1);
u.addEventListener("drop",this.jc.bind(this),!1);u.addEventListener("dragover",this.Ok.bind(this),!1);
u.addEventListener("dragenter",Hn.TR,!1);u.addEventListener("dragleave",this.OP.bind(this),!1);this.rj=[];
this.eJ=[];this.ds=w.X("div");this.by=w.X("div","eye");this.ds.appendChild(this.by);this.OOd=w.X("div","space");
this.bc=w.X("div","arrow");this.ObG=w.X("div","folder");this.Obu=w.X("div","clipp");this.DG=w.X("div","thumb");
this.Ds=w.X("div","chain");this.mR=w.X("div","thumb");this.DM=w.X("div","chain");this.ws=w.X("div","thumb");
this.we=w.X("div","thumb");this.Pi=w.X("div","label");this.Pi.textContent=R.getName();this.mR.setAttribute("draggable","true");
this.ws.setAttribute("draggable","true");this.ObY=w.X("div","link");this.OPW=w.X("div","lock");this.ObJ=w.X("div","lrfx");
this.DL=w.X("div","arfx");this.Aq.addEventListener("click",this.tM.bind(this),!1);this.Aq.addEventListener("contextmenu",this.DD,!1);
this.we.addEventListener("click",this.tM.bind(this),!1);this.we.addEventListener("contextmenu",this.DD,!1);
var b=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],v=R.add.lclr==null?0:b[R.add.lclr];
if(v==0)v=k.uT;var H=[v>>16,v>>8&255,v&255];for(var N=0;N<3;N++){H[N]=Math.round(.5*H[N]+.5*220)}if(1<w.m()&&w.m()<1.5)z=z/w.m();
this.ds.setAttribute("style","background-color:rgba("+H.join(",")+","+(v==0?0:1)+");");this.by.setAttribute("style","background-size: "+z+"px "+z+"px;");
var A=this.O$X.bind(this);this.ds.addEventListener("mousedown",A,!1);this.ds.addEventListener("mouseover",A,!1);
this.bc.addEventListener("click",this.O$p.bind(this),!1);this.Ds.addEventListener("click",this.O$B.bind(this),!1);
this.DM.addEventListener("click",this.OWV.bind(this),!1);this.Pi.addEventListener("click",this.OW$.bind(this),!1);
this.DL.addEventListener("click",this.OWz.bind(this),!1);this.rj[0]=this.ds;this.rj[1]=this.OOd;this.rj[10]=this.Pi;
if(R.PA()){this.rj[2]=this.bc;this.rj[3]=this.ObG;if(R.add.lsct==Oz.ON){for(var N=l.children.length-1;
N>=0;N--){var Q=new Hn(l.children[N],t,a,{uT:v});this.be.push(Q);this._r.appendChild(Q.W)}this.W.appendChild(this._r)}this.bc.setAttribute("class",R.add.lsct==Oz.ON?"open":"closed")}else{this.rj[5]=this.DG;
this.DG.appendChild(R.ks.canvas)}var S=R.c$();if(S){this.mR.appendChild(l.u.Ec.canvas);this.Ds.style.opacity=S.Bg?1:0}if(R.add.vmsk){this.ws.appendChild(l.u.KT.canvas);
this.DM.style.opacity=R.add.vmsk.Bg?1:0}if(R.Bx()&&R.SS(a).Z){this.we.appendChild(l.u._K.canvas)}if(R.io()){this.wZ.addEventListener("contextmenu",this.DD,!1);
var o=new H_.eW(Wq.get([12,1]),"sm","layerstyle",l.depth,0,null);o.parent=this;this.wZ.appendChild(o.W);
var p=R.add.lmfx,O=p.masterFXSwitch.v;o.Ro(O);for(var N=0;N<P.order.length;N++){var E=p[P.Sr[N]].v;if(E.length==0)continue;
for(var L=0;L<E.length;L++){var o=new H_.eW(Wq.get(P.names[N]),"s","layerstyle",l.depth,1,[N,L]);o.Ro(O&&E[L].v.enab.v);
o.parent=this;this.wZ.appendChild(o.W)}}}if(R.Bx()){var o=new H_.eW(Wq.get([12,55]),"fm",null,l.depth,0,-1,R.SS(a).Z?this.we:null);
o.parent=this;this.wZ.appendChild(o.W);this.OVB=o.W;this.OVB.addEventListener("contextmenu",this.DD,!1);
var p=R.add.SoLd.filterFX.v,U=p.filterFXList.v,O=p.enab.v;o.Ro(O);for(var N=U.length-1;N>=0;N--){var W=U[N].v,Y=W.filterID.v,y=K.st(Y);
if(WT.rw[y])y=WT.rw[y];var C=W.Nm.v;if(HU.names[y])C=Wq.get(HU.names[y]);if(WT.names[y])C=Wq.get(WT.names[y]);
var X=Wn[y]||WG[y]?"filter_"+y:null,o=new H_.eW(C,"f",X,l.depth,1,N);o.Ro(O&&W.enab.v);o.parent=this;
this.wZ.appendChild(o.W)}}if(a.Q.indexOf(R)==a._[0]){if(R.cA<=0)this.DG.setAttribute("class","thumb active");
if(R.cA==1)this.mR.setAttribute("class","thumb active");if(R.cA==3)this.we.setAttribute("class","thumb active");
if(R.td)this.ws.setAttribute("class","thumb active")}this.ds.style.opacity=R.jY()?1:.25;this.OOd.setAttribute("style","width:"+Math.max(0,l.depth-1)*18+"px");
var M=R.add.lspf!=null&&R.add.lspf!=0;this.OPW.style.opacity=R.Mu(31)?1:.5;var g=R.OY()&&R.add.vmsk;
this.rj[4]=R.Nq?this.Obu:null;this.rj[6]=S?this.Ds:null;this.rj[7]=S?this.mR:null;this.rj[8]=R.add.vmsk&&!g?this.DM:null;
this.rj[9]=R.add.vmsk&&!g?this.ws:null;var V=R.Xt,i=a._;if(V!=0)for(var N=0;N<i.length;N++)if(a.Q[i[N]].Xt==V){n=!0;
break}this.eJ[0]=n?this.ObY:null;this.eJ[1]=M?this.OPW:null;this.eJ[2]=R.io()?this.ObJ:null;this.eJ[3]=R.io()||R.Bx()?this.DL:null;
this.DL.setAttribute("class",R.kO()?"arfx open  gsicon":"arfx closed  gsicon");var f=this.rj;for(var N=0;
N<f.length;N++)if(f[N])this.Oze.appendChild(f[N]);f=this.eJ;for(var N=0;N<f.length;N++)if(f[N])this.OVt.appendChild(f[N])}Hn.prototype=new WF;
Hn.prototype.tK=function(l){var t=this.hO.index;if(l.indexOf(t)!=-1){if(this.W.scrollIntoView)this.W.scrollIntoView({block:"nearest"})}for(var a=0;
a<this.be.length;a++)this.be[a].tK(l)};Hn.TR=function(l){l.stopPropagation();l.preventDefault()};Hn.Obf=function(l){l.stopPropagation()};
Hn.FK=function(l,t){var a=t.getBoundingClientRect();return(l.clientY-a.top)/a.height};Hn.prototype.Oi=function(l){l.stopPropagation();
var t=l.target==this.mR?"m":l.target==this.ws?"vm":"l";l.dataTransfer.setData("Text",JSON.stringify({rZ:t,tf:this.hO.index}))};
Hn.prototype.OP=function(l){Hn.TR(l);this.LP()};Hn.prototype.jc=function(l){Hn.TR(l);this.LP();var t=l.dataTransfer.getData("Text"),a=this.parent.NY,k=Hn.FK(l,this.Aq),R=this.hO.index;
if(k>.8){var u=!0,b=a.root.H$(R);while(b.parent!=null){var v=b.parent,H=v.children;if(H.indexOf(b)!=0)u=!1;
b=b.parent}if(u){R=0;k=1}}if(t==""){w.oY(l,this,this.parent.Ae.indexOf(a),R+(k>.5?0:1))}else{var t=JSON.parse(t),N=t.rZ;
if(N=="l")this.fV({T:_.dF,source:t.tf,target:R,gB:k});else if(N=="m"||N=="vm")this.fV({T:N=="m"?_.Pf:_.PD,src:t.tf,iK:R,Gg:l.altKey});
else if(N=="s"||N=="sm")this.fV({T:_.bN,src:t.tf,iK:R,Yi:t.Yi,Gg:l.altKey})}};Hn.prototype.Ok=function(l){Hn.TR(l);
var t=Hn.FK(l,this.Aq);this.LP();var a="border-"+(t>.5?"bottom":"top");if(this.hO.u.PA()&&.5<t&&t<.8)a="border";
this.Aq.style[a]="0.2em solid rgba(0,0,0,0.5)"};Hn.prototype.LP=function(l){this.Aq.style.border="none"};
Hn.t_=-1;Hn.Oz=!1;Hn.tr=function(l){Hn.Oz=!1;document.body.removeEventListener("mouseup",Hn.tr)};Hn.prototype.O$X=function(l){if(l.button!=0)return;
if(l.type=="mousedown"){Hn.Oz=!0;document.body.addEventListener("mouseup",Hn.tr,!1)}if(l.type=="mouseover"&&(!Hn.Oz||Hn.t_==this.hO.index))return;
l.stopPropagation();l.preventDefault();this.fV({T:_.ul,u:this.hO.index});Hn.t_=this.hO.index};Hn.prototype.O$p=function(l){this.fV({T:_.QG,u:this.hO.index})};
Hn.prototype.O$B=function(l){this.fV({T:_.PT,u:this.hO.index})};Hn.prototype.OWV=function(l){this.fV({T:_.Ps,u:this.hO.index})};
Hn.prototype.OW$=function(l){if(l.detail==1)return;var t=this.hO.u,a=w.X("input","");a.setAttribute("type","text");
a.setAttribute("size","10");a.setAttribute("value",t.getName());w.BT(this.Pi);this.Pi.appendChild(a);
a.select();a.focus();this.Aq.setAttribute("draggable","false");this.Pi.addEventListener("keyup",this.EV,!1);
document.body.addEventListener("mousedown",this.OgZ,!1)};Hn.prototype.OWb=function(l){var t=l.target;
if(t.tagName&&t.tagName.toLowerCase()=="input")return;this.tY(!0)};Hn.prototype.O_=function(l){var t=J.uS;
if(t(l.code,J.ZR)||t(l.code,J.KX))this.tY(t(l.code,J.KX))};Hn.prototype.tY=function(confirm){this.Pi.removeEventListener("keyup",this.EV);
document.body.removeEventListener("mousedown",this.OgZ);if(confirm)this.fV({T:_.zl,u:this.hO.index,name:this.Pi.firstChild.value});
else this.Pi.innerHTML=this.hO.u.getName()};Hn.prototype.OWz=function(l){this.fV({T:_.QY,u:this.hO.index})};
Hn.prototype.OWS=function(l){if(this.tc(l,l.target,this.cA(l)))return;if(l.button!=2)return;var t=new Z("rclick",!0);
t.data={u:this.hO.index,cA:this.cA(l),OgU:w.LV(l,document.body),ObA:l.currentTarget==this.OVB};this.t(t)};
Hn.prototype.cA=function(l){var t=l.target;return t.parentNode==this.ws?2:t.parentNode==this.mR?1:t.parentNode==this.DG?0:t.parentNode==this.we?3:-1};
Hn.prototype.tM=function(l){var t=l.target;if(t==this.by||t==this.DL||t==this.Ds||t==this.DM||t.tagName&&t.tagName.toLowerCase()=="input")return;
var a=this.cA(l),k=this.parent.NY;if(l.button==0&&l.detail==2){if(t==this.Pi)return;var R=this.hO.index,u=k.Q[R],b=new Z(w.E.J,!0);
if(a==0&&(WT.get(u.add)||u.add.SoCo||u.add.GdFl||u.add.PtFl))b.data={T:w.h.K$,XG:"properties"};else if(a!=0&&a!=-1)b.data={T:w.h.K$,XG:"properties"};
else if(a==0&&u.add.SoLd)b.data={T:w.h.oo};else if(a==0&&u.add.TySh)b.data={T:w.h.iA,P:s.E_};else b.data={T:w.h.AG,XG:"layerstyle",u:R};
this.t(b);if(a==0&&u.add.TySh){var v=new Z(w.E.q,!0);v.P=s.E_;v.data={T:"editCurr",BY:R};this.t(v)}return}if(this.tc(l,t,a))return;
if(l.button!=0)return;var H=k.Y.nV,N={T:_.kV,u:this.hO.index,uE:a};this.fV(N);if(l.altKey){var v=new Z(w.E.q,!0);
if(a==1||a==3){v.P=s.wQ;v.data={T:"mskView",V:H==2?0:2}}else{v.P=s.sO;v.data={T:_.Ou,u:this.hO.index}}this.t(v);
return}};Hn.prototype.tc=function(l,t,a){if((l.ctrlKey||l.metaKey)&&(a==0||a==1)){var k=new Z(w.E.q,!0);
k.P=s.qw;k.data={T:"fromlayer",u:this.hO.index,O$H:a,O$i:l.shiftKey};this.t(k);return!0}return!1};Hn.prototype.fV=function(l){var t=new Z(w.E.q,!0);
t.data=l;t.P=s.sO;this.t(t)};H_.eW=function(l,t,a,k,R,u,b){WF.call(this);this.Okt=t;this.Dt=a;this.index=u;
this.W=w.X("div","styleitem");this.Aq=w.X("div","head");this.ds=w.X("div","eye gsicon");this.Pi=w.X("div","label");
this.W.appendChild(this.Aq);this.Aq.appendChild(this.ds);if(b){this.mR=b;this.Aq.appendChild(this.mR);
this.Aq.setAttribute("style","height: "+(b.firstChild.height/w.m()+10)+"px")}this.Aq.appendChild(this.Pi);
this.Pi.innerHTML=l;this.W.setAttribute("style","margin-left: "+(24+k*16+R*22)+"px");this.ds.addEventListener("click",this.OWn.bind(this),!1);
var v=this.W;v.setAttribute("draggable","true");v.addEventListener("dragstart",this.Oi.bind(this),!1);
if(!0){v.addEventListener("drop",this.jc.bind(this),!1);v.addEventListener("dragover",this.Ok.bind(this),!1);
v.addEventListener("dragenter",Hn.TR,!1);v.addEventListener("dragleave",this.OP.bind(this),!1)}this.W.addEventListener("click",this.cV.bind(this),!1)};
H_.eW.prototype=new WF;H_.eW.prototype.Oi=function(l){l.stopPropagation();l.dataTransfer.setData("Text",JSON.stringify({rZ:this.Okt,tf:this.parent.hO.index,Yi:this.index}))};
H_.eW.prototype.OP=function(l){Hn.TR(l);this.LP()};H_.eW.prototype.jc=function(l){Hn.TR(l);this.LP();
var t=l.dataTransfer.getData("Text");if(t=="")return;var t=JSON.parse(t);if(t.rZ=="f"&&t.tf==this.parent.hO.index)this.parent.fV({T:_.pV,u:t.tf,src:t.Yi,iK:this.index+(Hn.FK(l,this.Aq)>.5?0:1)});
if(t.rZ=="s"||t.rZ=="sm")this.parent.fV({T:_.bN,src:t.tf,iK:this.parent.hO.index,Yi:t.Yi,Gg:l.altKey})};
H_.eW.prototype.Ok=function(l){Hn.TR(l);var t=Hn.FK(l,this.Aq)>.5;this.LP();var a="border-"+(t?"bottom":"top");
this.Aq.style[a]="0.2em solid rgba(0,0,0,0.5)"};H_.eW.prototype.LP=function(l){this.Aq.style.border="none"};
H_.eW.prototype.Ro=function(l){var t=15;if(1<w.m()&&w.m()<1.5)t=t/w.m();this.ds.setAttribute("style","background-size: "+t+"px "+t+"px;");
this.ds.style.opacity=l?1:.2};H_.eW.prototype.cV=function(l){if(l.target==this.ds)return;if(l.detail!=1&&this.Dt!=null){var t=new Z(w.E.J,!0);
if(this.Dt.indexOf("filter")==0)t.data={T:w.h.AG,XG:this.Dt,h$:{u:this.parent.hO.index,index:this.index}};
else t.data={T:w.h.AG,XG:this.Dt,u:this.parent.hO.index,index:this.index};this.t(t)}};H_.eW.prototype.OWn=function(l){var t={fm:_.Ss,f:_.Sc,sm:_.bu,s:_.bY}[this.Okt];
this.parent.fV({T:t,u:this.parent.hO.index,index:this.index})};function Ah(){An.call(this,[9,5]);this.PY.setAttribute("style","min-width:240px;");
this.Im=new Wi;this.Im.parent=this;var l=w.X("div","marged");this.PY.appendChild(l);l.appendChild(this.Im.ik.W);
l.appendChild(this.Im.i_.W);l.appendChild(this.Im.ib.W);l.appendChild(this.Im.cE.W);l.appendChild(this.Im.tT.W);
l.appendChild(this.Im.cJ.W);l.appendChild(this.Im.CO.W);this.PY.appendChild(w.X("hr"));var t=w.X("div","marged");
this.PY.appendChild(t);t.appendChild(this.Im.aP.W);t.appendChild(this.Im.aK.W);t.appendChild(this.Im.au.W);
this.PY.appendChild(w.X("hr"));var a=w.X("div","marged");this.PY.appendChild(a);a.appendChild(this.Im.aL.W);
a.appendChild(this.Im.aX.W);a.appendChild(this.Im.sc.W)}Ah.prototype=new An("");Ah.prototype.G=function(){An.prototype.G.call(this);
this.Im.G()};Ah.prototype.gO=function(l,t){if(t!=Wm.CM&&t!=Wm.TT&&t!=Wm.rA)return;this.Im.tz(l)};function Hr(){An.call(this,[9,2]);
this.MS=null;this.OiX=-1;this.wF=w.X("div","padded");this.wF.style.width="21em";this.PY.appendChild(this.wF);
var l=w.X("span","fitem");this.wF.appendChild(l);this.cw=[new Wa([0,3]),new Wa([12,73]),new Wa([12,91,0])];
for(var t=0;t<this.cw.length;t++){var a=this.cw[t];a.a("click",this.OWf,this);l.appendChild(a.W)}this.wF.appendChild(w.X("hr"));
this.eQ=new Hr.Kg;this.eQ.parent=this;this.ee=new Hr.LZ;this.ee.parent=this;this.bw=new Hr.lY;this.bw.parent=this;
this.OkR=[this.eQ,this.ee,this.bw];this.wF.appendChild(this.eQ.W)}Hr.prototype=new An("");Hr.prototype.OWf=function(l){var t=this.cw.indexOf(l.currentTarget);
this.UB(t);this.tw(t==1?this.ee.ep:-1)};Hr.prototype.UB=function(l){for(var t=0;t<3;t++){this.cw[t].QE();
var a=this.OkR[t].W;if(a.parentNode==this.wF&&t!=l)this.wF.removeChild(a);if(a.parentNode!=this.wF&&t==l)this.wF.appendChild(a)}this.cw[l].AN()};
Hr.prototype.tw=function(l){var t=this.MS._[0],a=this.MS.Q[t],k=l+1;if(l==1&&a.td)return;var R=new Z(w.E.q,!0);
R.P=s.sO;if(l!=1&&a.td){R.data={T:_.kV,u:t,uE:2};this.t(R)}R.data={T:_.kV,u:t,uE:k};this.t(R)};Hr.prototype.G=function(){An.prototype.G.call(this);
this.oA(this.MS);for(var l=0;l<3;l++){this.cw[l].G();this.OkR[l].G()}};Hr.prototype.oA=function(l){if(l==null||l._.length==0){w.jI(this.PY,"disabled");
this.MS=null;return}else w.ls(this.PY,"disabled");var t=l._[0],a=l.Q[t],k=a.add.vogk,R=!1;if(k)for(var u=0;
u<k.length;u++)if(k[u].v.keyShapeInvalidated==null)R=!0;if(l!=this.MS||this.OiX!=t){this.MS=l;this.OiX=t;
if(R)this.UB(2);else if(a.cA<1&&!a.td)this.UB(0);else this.UB(1)}this.eQ.oA(l);this.ee.oA(l);this.bw.oA(l);
this.cw[1].jP(this.ee.ep!=-1);this.cw[2].jP(R)};Hr.prototype.gO=function(l,t){this.eQ.gO(l,t)};Hr.Kg=function(){WF.call(this);
this.W=w.X("div","form");this.OkA=new OE("Hello");this.W.appendChild(this.OkA.W);this.DC=null;this.Olr=null;
this.MS=null;this.OWd=-1;this.OVR=null;this.DU=new OD(!0);this.DU.parent=this;this.DU.a(w.E.z,this.OWG,this);
this.Cs=w.X("div","marged hiline");this.Cs.appendChild(this.DU.W);this.GO=new Hv("GrFl",!0);this.GO.parent=this;
this.GO.a(w.E.z,this.OWX,this);this.Gi=w.X("div","marged hiline");var l="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");
for(var t=0;t<l.length;t++){var a=this.GO.IU[l[t]].W;this.Gi.appendChild(a)}this.GS=new Hv("patternFill",!0);
this.GS.parent=this;this.GS.a(w.E.z,this.OWw,this);this.Gm=w.X("div","marged hiline");var l=["Ptrn","Scl","Algn","phase"];
for(var t=0;t<l.length;t++){var a=this.GS.IU[l[t]].W;this.Gm.appendChild(a)}this.dh={};for(var k in WT.names){if(WG[k]==null)continue;
this.dh[k]=new WG[k];this.dh[k].a(w.E.z,this.OWv,this);this.dh[k].parent=this}};Hr.Kg.prototype=new WF;
Hr.Kg.prototype.G=function(){for(var l in this.dh)this.dh[l].G();this.GO.G();this.GS.G()};Hr.Kg.prototype.OWG=function(l){var t=this.MS,a=t._[0],k=JSON.parse(JSON.stringify(t.Q[a].add.SoCo));
k.Clr.v=this.DU.d();this.Od({cH:1,Xj:k})};Hr.Kg.prototype.OWX=function(l){this.Od({cH:2,Xj:this.GO.d()})};
Hr.Kg.prototype.OWw=function(l){this.Od({cH:3,Xj:this.GS.d()})};Hr.Kg.prototype.Od=function(l){this.tt(s.sO,{T:_.nn,p_:[this.MS._[0]],Me:!0,V:l})};
Hr.Kg.prototype.OWv=function(l){this.tt(s.nP,{T:"edit_layer",V:this.Olr.d()})};Hr.Kg.prototype.tt=function(l,t){var a=new Z(w.E.q,!0);
a.P=l;a.data=t;this.t(a)};Hr.Kg.prototype.oA=function(l){var t=Wq.get([0,3]),a=null;this.MS=l;if(l&&l.Q.length>0){var k=l.Q[l._[0]],R=WT.get(k.add);
if(R!=null&&this.dh[R]!=null){a=this.dh[R].W;this.Olr=this.dh[R];this.dh[R].g(WT.rh(k.add));if(l._[0]!=this.OWd){var u=l.FY(l._[0]-1);
this.OVR=$.Og(u)}this.dh[R].nX(this.OVR);t=Wq.get(WT.names[R])}if(k.add.SoCo){a=this.Cs;this.DU.g(k.add.SoCo.Clr.v);
t=Wq.get([6,48,0,0])}if(k.add.GdFl){a=this.Gi;this.GO.update(l,k.add.GdFl);t=Wq.get([6,48,0,1])}if(k.add.PtFl){a=this.Gm;
this.GS.update(l,k.add.PtFl);t=Wq.get([6,48,0,2])}this.OWd=l._[0]}if(a!=this.DC){if(this.DC)this.W.removeChild(this.DC);
if(a!=null)this.W.appendChild(a);this.DC=a}this.OkA.g(t)};Hr.Kg.prototype.gO=function(l,t){this.GO.gO(l,t);
this.GS.gO(l,t);for(var a in this.dh)this.dh[a].gO(l,t)};Hr.LZ=function(){WF.call(this);this.W=w.X("div","form");
this.MS=null;this.ep=0;var l=w.X("span","fitem");this.W.appendChild(l);this.cw=[new Wa([6,2]),new Wa([6,3]),new Wa([6,50])];
for(var t=0;t<this.cw.length;t++){var a=this.cw[t];a.a("click",this.OHg,this);l.appendChild(a.W)}this.hM=new WB([12,74],0,255);
this.hM.a(w.E.z,this.Yu,this);this.W.appendChild(this.hM.W);this.vZ=new WB([7,6],0,500,"px",2,!0);this.vZ.a(w.E.z,this.Yu,this);
this.W.appendChild(this.vZ.W)};Hr.LZ.prototype=new WF;Hr.LZ.prototype.Yu=function(l){var t=this.hM.d(),a=this.vZ.d(),k=new Z(w.E.q,!0);
k.P=s.sO;k.data={T:_.kX,IO:this.MS._[0],xW:{Gv:this.ep,hM:t,vZ:a}};this.t(k)};Hr.LZ.prototype.G=function(){for(var l=0;
l<this.cw.length;l++)this.cw[l].G();this.hM.G();this.vZ.G()};Hr.LZ.prototype.oA=function(l){this.MS=l;
this.Js()};Hr.LZ.prototype.OHg=function(l){this.Js(this.cw.indexOf(l.currentTarget));this.parent.tw(this.ep)};
Hr.LZ.prototype.Js=function(l){var t=this.MS,a=this.cw;for(var k=0;k<3;k++){var R=a[k];R.QE();R.Jf()}if(t==null||t.Q.length==0)return;
var u=-1,b=t.Q[t._[0]];if(b.Bx()&&b.SS(t).Z!=null){a[2].fW();u=2}if(b.add.vmsk){a[1].fW();u=1}if(b.c$()){a[0].fW();
u=0}if(l!=null)u=l;else if(b.td)u=1;else if(b.cA==3)u=2;else if(b.cA==1)u=0;this.ep=u;if(u==-1){this.hM.Jf();
this.vZ.Jf();return}var v=b.Qx(u);this.hM.fW();this.vZ.fW();this.hM.g(v.hM);this.vZ.g(v.vZ);a[u].AN()};
Hr.lY=function(){WF.call(this);this.W=w.X("div","form");this.W.setAttribute("style","width:14em");this.bC=1;
this.DR=w.X("div");this.Re=this.Cl(["W","H","X","Y"],[12,51],this.DR);this.jU=w.X("div");var l=["\u250F","\u2513","\u2517","\u251B"];
this.eN=this.Cl(l,[12,91,2],this.jU)};Hr.lY.prototype=new WF;Hr.lY.prototype.G=function(){this.Re[0].Pa(Wq.get([12,41]).charAt(0)+":");
this.Re[1].Pa(Wq.get([12,42]).charAt(0)+":");for(var l=2;l<5;l++){this.Re[l].G()}this.eN[4].G()};Hr.lY.prototype.Cl=function(l,t,a){var k=w.X("div","numlist");
a.appendChild(k);var R=[];for(var u=0;u<4;u++){var b=new Hq(l[u],0,0,null,1,!1,!0);b.a(w.E.z,this.OHf,this);
k.appendChild(b.W);R.push(b)}R[4]=new HV(t);R[4].g(!0);a.appendChild(R[4].W);return R};Hr.lY.prototype.Av=function(l,t){for(var a=0;
a<4;a++)l[a].g(t[a])};Hr.lY.prototype.Cg=function(l){var t=[];for(var a=0;a<4;a++)t[a]=l[a].d();return t};
Hr.lY.prototype.OHf=function(l){var t=this.Re.indexOf(l.currentTarget),a=this.eN.indexOf(l.currentTarget),k=[null,null,null,null],R=[null,null,null,null];
if(t!=-1){var u=this.Cg(this.Re),b=this.Re[4].d();u[0]=Math.max(1,u[0]);u[1]=Math.max(1,u[1]);if(b&&t==0)u[1]=u[0]/this.bC;
if(b&&t==1)u[0]=u[1]*this.bC;k[0]=u[2];k[1]=u[3];k[2]=k[0]+u[0];k[3]=k[1]+u[1]}if(a!=-1){var u=this.Cg(this.eN);
R[a]=Math.max(0,u[a]);if(this.eN[4].d())for(var v=0;v<4;v++)R[v]=R[a];var H=R[3];R[3]=R[2];R[2]=H}var N=new Z(w.E.q,!0);
N.P=s.sO;N.data={T:_.PJ,_Y:k,OWs:R};this.t(N)};Hr.lY.prototype.oA=function(l){var t=this.DR.parentNode!=null,a=this.jU.parentNode!=null,k=$.$F.DY(l),R=k[0],u=k[1];
if(R){if(!t)this.W.appendChild(this.DR);this.bC=(R[2]-R[0])/(R[3]-R[1]);this.Av(this.Re,[R[2]-R[0],R[3]-R[1],R[0],R[1]])}else if(t)this.W.removeChild(this.DR);
if(u){if(!a)this.W.appendChild(this.jU);var b=u[2];u[2]=u[3];u[3]=b;this.Av(this.eN,u)}else if(a)this.W.removeChild(this.jU)};
function lr(l){An.call(this,l.name,!0);this.NY=l;this.Xh=null;this.bI=!1;this.hJ={x:0,y:0,bM:!1};this.jE=!0;
this.oS=document.createElement("canvas");this.ou=this.oS.getContext("2d");this.kc=document.createElement("canvas");
this.cO=this.kc.getContext("2d");var t=16,a=$.I(16*16*4);$.O$(a,t,t,8,0,0);this.kL=$.scale.Wq(a,t,t);
this.Obc=this.Yw.bind(this);this.oJ=this.sJ.bind(this);this.OAg=this.GW.bind(this);this.Ye=0;var k=this.PY;
w.Ox(k,this.Obc);w.iZ(k,this.oJ);k.addEventListener("wheel",this.KL.bind(this),!1);k.addEventListener("contextmenu",this.OHq.bind(this),!1);
this.jj=0;this.Tv=4;w.mM(k)}lr.prototype=new An("");lr.prototype.cF=function(){if(this.NY.bZ())return window.confirm("There is unsaved work in "+this.NY.name+". Do you really want to close it?");
return!0};lr.prototype.sZ=function(l){l.preventDefault()};lr.prototype.Yw=function(l){if(l.button!=null&&l.button!=0)return;
this.bI=!0;var t=new Z("mouse",!0);t.action="down";this.ro(l,t);this.t(t);w.QU(this.PY,this.oJ);w.iZ(window,this.oJ);
w.Pe(window,this.OAg)};lr.prototype.sJ=function(l){var t=new Z("mouse",!0);t.action="move";this.ro(l,t);
this.t(t)};lr.prototype.GW=function(l){this.bI=!1;var t=new Z("mouse",!0);t.action="up";this.ro(l,t);
this.t(t);w.QU(window,this.oJ);w.MH(window,this.OAg);w.iZ(this.PY,this.oJ)};lr.prototype.KL=function(l){this.sZ(l);
if(l.deltaX==0&&l.deltaY==0||Date.now()-this.Ye<50)return;this.Ye=Date.now();var t=new Z("mouse",!0);
t.action="scroll";this.ro(l,t);this.t(t)};lr.prototype.OHq=function(l){l.stopPropagation();l.preventDefault();
var t=new Z("mouse",!0);t.action="ctx";this.ro(l,t);this.t(t)};lr.prototype.ro=function(l,t){if(t.action!="up"){var a=w.m(),k=w.LV(l,this.PY);
this.hJ=t.rX={x:a*k.x,y:a*k.y,bM:this.bI};var R=w.LV(l,document.body);t.rX.O$O=R.x;t.rX.O$W=R.y}else this.hJ=t.rX={x:this.hJ.x,y:this.hJ.y,bM:this.bI};
t.rX.xy=1;if(l.pressure!=null&&l.pressure!=0)t.rX.xy=l.pressure*2;if(l.deltaX!=null){t.pl=new x(l.deltaX*.5,l.deltaY*.5)}};
lr.prototype.gO=function(l,t){this.Xh=l};lr.prototype.oA=function(l){this.Ux();this.OEU(l.name+(l.bZ()?" *":""));
this._x()};lr.prototype.ci=function(l,t){var a=this.NY,k=w.m();a.Y.cO.$=Math.floor(l*k);a.Y.cO.e=Math.floor(t*k);
w.IF(this.kc,l,t);w.IF(this.oS,l,t);w.IF(T.Wz(),l,t);if(a.Y.H==0)a.Y.H=s.NZ.MT(a.$,a.e,l*k,t*k);this.jE=!0;
this._x()};lr.prototype.Ux=function(){var l=this.PY.firstChild;if(!T.jS&&l==T.Wz()||T.jS&&l==this.kc)this.PY.removeChild(l);
this.PY.appendChild(T.jS?T.Wz():this.kc)};lr.prototype._x=function(){if(T.jS!=this.Tv){this.jj=0;this.jE=!0}this.Tv=T.jS;
if(this.Xh==null)return;if(T.jS)this.OHu();else this.OlS();var l=this.NY;this.jj=l.Y.H;this.jE=!1};lr.prototype.OHu=function(){if(T.jS&&lr.OgY==null)lr.OgY=new lr.FL(!1);
if(T.jS&&lr.OgM==null)lr.OgM=new lr.FL(!0);var l=this.NY,v;if(l.Fi==null)return;var t=l.Y,a=t.cO.$,k=t.cO.e,R=T.Jc;
this.cO.clearRect(0,0,t.cO.$,t.cO.e);var u=this.hm(l);if(t.DT==null)t.DT=new T.gL(t.cO.$,t.cO.e);if(u)t.DT.set(this.kc);
else{T.CT(t.DT);T.lB(0)}var b=new d(0,0,l.$*t.H,l.e*t.H);b.x=Math.round((a-l.$*t.H)/2+t.n.x);b.y=Math.round((k-l.e*t.H)/2+t.n.y);
var H=[0,0,0,0],N=[];if(l.add.artd){H=lr.Cv(l);var z=l.$,A=l.e;v=lr.OgM;for(var Q=0;Q<l.Q.length;Q++){var S=l.Q[Q];
if(S.add.artb==null||!S.jY())continue;var o=S.rM();N.push(o.x/z,o.y/A,o.$/z,o.e/A)}if(N.length>32*4)N=N.slice(0,32*4);
while(N.length<32*4)N.push(0,0,0,0)}else v=lr.OgY;T.fK(a,k);T.lB(0);T.fK(a,k);v.Se();v.cf(t.DT.bx,l.Fi.bx,new Float32Array([b.x/a,b.y/k,b.$/a,b.e/k]),new Float32Array([8/a,8/k]),l.$,l.e,1/l.Y.H,a,k,new Float32Array(N),new Float32Array(H));
R.drawArrays(R.TRIANGLES,0,6)};lr.Cv=function(l){var t=l.add.artd;if(t.canvasColor==null)return[0,0,0,0];
var a=t.canvasColor.v,k=[a.Rd.v/255,a.Grn.v/255,a.Bl.v/255,1];for(var R=0;R<4;R++)k[R]=Math.min(1,k[R]);
return k};lr.prototype.OlS=function(){var l=this.NY;if(l.buffer==null)return;var t=l.Y,a=t.cO.$,k=t.cO.e;
this.ou.clearRect(0,0,t.cO.$,t.cO.e);if(l.add.artd==null){this.cO.clearRect(0,0,t.cO.$,t.cO.e)}else{var R=lr.Cv(l);
this.cO.fillStyle="#"+$.mW(R[0]*255<<16|R[1]*255<<8|R[2]*255);this.cO.fillRect(0,0,t.cO.$,t.cO.e)}var u=t.m$(),b=t.cO.gk(u);
this.cO.save();this.cO.translate(u.x,u.y);if(l.add.artd==null){this.cO.fillStyle=this.kL;this.cO.fillRect(0,0,u.$,u.e)}else{this.cO.fillStyle="#ffffff";
this.cO.scale(t.H,t.H);for(var v=0;v<l.Q.length;v++){var H=l.Q[v];if(H.add.artb==null||!H.jY())continue;
var N=H.rM();this.cO.fillRect(N.x,N.y,N.$,N.e)}}this.cO.restore();var z=l.$!=t.IT.$||l.e!=t.IT.e;if(z)t.IT.$x(0,0,l.$,l.e);
if(t.H<=1){if(t.H!=this.jj||l.SM){if(t.H!=this.jj||t.ND==null||z)t.ND=this.cO.createImageData(Math.max(1,u.$),Math.max(1,u.e));
if(t.H<1){var A=$.ti(l.buffer,new d(0,0,l.$,l.e),t.H,new Uint8Array(t.ND.data.buffer))}else $.Ll(l.buffer,t.ND.data)}this.ou.putImageData(t.ND,u.x,u.y);
this.cO.drawImage(this.oS,b.x,b.y,b.$,b.e,b.x,b.y,b.$,b.e)}else{var Q=t.pT(),S=new d(0,0,Q.$*t.H,Q.e*t.H);
S.x=Q.x*t.H+u.x;S.y=Q.y*t.H+u.y;if(t.H!=this.jj||this.jE){t.wg=$.I(Q.s()*4);t.ND=this.cO.createImageData(S.$,S.e)}$.set(t.wg,0);
$.BM(this.NY.buffer,new d(0,0,l.$,l.e),t.wg,Q);$.scale.$j(t.wg,Q.$,Q.e,t.ND.data,S.$,S.e,t.H);this.ou.putImageData(t.ND,S.x,S.y);
this.cO.drawImage(this.oS,0,0)}this.hm(l)};lr.prototype.hm=function(l){var t=l.Y,a=!1,k=l.Q[l._[0]];
if(k!=null&&t.nV!=0&&(k.cA==1||k.cA==3)){var R=k.cA==1?k.c$():k.SS(l).Z;this.hB(R.fk(),R.Sa(),t,t.nV,R.BL());
a=!0}a=this.Olm(l,this.cO,t)||a;if(l.O){this.hB(l.O.channel,l.O.rect,t,0,0);a=!0}return a};lr.prototype.hB=function(l,t,a,k,R){var u=a.m$(),b,v,H;
if(a.H<=1){b=t.clone();b.x=Math.round(b.x*a.H);b.y=Math.round(b.y*a.H);b.$=Math.floor(b.$*a.H);b.e=Math.floor(b.e*a.H);
v=l;if(a.H<1){var N=$.I(t.s()*4);$.xm(l,N,3);var z=$.ti(N,t,a.H);b.$=z.rect.$;b.e=z.rect.e;if(a.tp==null||a.tp.length<b.s())a.tp=$.I(b.s());
v=a.tp;$.Du(z.nr,v,3)}if(a.R_==null||a.R_.width!=b.$||a.R_.height!=b.e)a.R_=this.cO.createImageData(Math.max(1,b.$),Math.max(1,b.e));
else $.IK(a.R_.data,0);var A=a.cO.clone();A.offset(-u.x,-u.y);H=b.gk(A)}else{var Q=a.pT();b=new d(Q.x*a.H,Q.y*a.H,Q.$*a.H,Q.e*a.H);
if(a.H!=this.jj||a.R_==null||a.R_.width!=b.$||a.R_.height!=b.e){a.tp=$.I(b.s());a.R_=this.cO.createImageData(b.$,b.e)}var S=$.I(Q.s());
$.set(S,R);$.co(l,t,S,Q);$.scale.Y$(S,Q.$,Q.e,a.tp,b.$,b.e,a.H);$.IK(a.R_.data,0);v=a.tp}var o=T.jS?65535:16777215;
if(k==0)$.O.O$J(v,a.R_.data,b,o,H);else{H=b.gk(new d(0,0,u.$,u.e));if(a.H<=1){var p=R<<16|R<<8|R;if(T.jS)p=p&16776960;
this.cO.fillStyle=k==2?"#"+$.mW(p):"rgba(255,0,0,"+.5*(1-R/255)+")";this.cO.fillRect(u.x,u.y,u.$,u.e);
this.cO.clearRect(H.x+u.x,H.y+u.y,H.$,H.e)}$.O.OHA(v,a.R_.data,b,o,H,k)}if(a.H<=1)this.ou.clearRect(0,0,a.cO.$,a.cO.e);
this.ou.putImageData(a.R_,u.x+b.x,u.y+b.y);this.cO.drawImage(this.oS,0,0)};lr.prototype.Olm=function(l,t,a){var k=l.F.rQ||l.F.HU||l.F.C_,R=this.Xh,u=R.IJ,b=a.m$(),v=new WM(a.H,0,0,a.H,b.x+.5,b.y+.5),H=HN.DE[R.Ek];
t.fillStyle="#333300";t.font=12*w.m()+"px sans-serif";if(l.add.artd)for(var N=0;N<l.Q.length;N++){var z=l.Q[N];
if(z.add.artb==null||!z.jY())continue;var A=z.rM(),Q=new x(A.x,A.y);Q=v.sV(Q);t.fillText(z.getName(),Math.round(Q.x),Math.round(Q.y-6));
k=!0}t.fillStyle=T.jS?"rgba(0,0,255,1)":"rgba(0,0,0,0.4)";t.strokeStyle=T.jS?"#0000ff":"#000000";if(R.md&&u.t$)for(var S=0;
S<l._.length;S++){var z=l.Q[l._[S]];if(!(z.add.vmsk&&(z.td||z.OY())))continue;var o=z.add.vmsk,p=o.k;
t.lineWidth=.5;t.beginPath();var O=$.M.FQ(p);$.M.N(O.p,v,O.p);Typr.U.pathToContext({cmds:O.A,crds:O.p},t);
t.stroke();k=!0;if(l._.length!=1)continue;var E=-1,L=Math.round(3*w.m());for(var N=0;N<p.length;N++){if(p[N].type>5)continue;
if(p[N].type==0||p[N].type==3){if(p[N].mZ!=-1)E++;continue}if(o._.indexOf(E)!=-1){var U=b.x+p[N].S.x*a.H,W=b.y+p[N].S.y*a.H;
t.fillRect(Math.round(U-L+.5),Math.round(W-L+.5),2*L-1,2*L-1)}if(o.dV.indexOf(N)!=-1){var Y=[p[N].S];
t.beginPath();t.moveTo(b.x+p[N].re.x*a.H,b.y+p[N].re.y*a.H);t.lineTo(b.x+p[N].S.x*a.H,b.y+p[N].S.y*a.H);
t.lineTo(b.x+p[N].Fx.x*a.H,b.y+p[N].Fx.y*a.H);t.stroke();if(!p[N].S.cG(p[N].re))Y.push(p[N].re);if(!p[N].S.cG(p[N].Fx))Y.push(p[N].Fx);
for(var y=0;y<Y.length;y++){var C=Y[y],U=b.x+C.x*a.H,W=b.y+C.y*a.H;if(y==0&&(p[N].type==2||p[N].type==5))t.fillRect(Math.round(U-1.2*L),Math.round(W-1.2*L),Math.round(2.4*L),Math.round(2.4*L));
else{t.beginPath();t.arc(U,W,L*1.2,0,2*Math.PI);t.fill()}}}k=!0}}t.lineWidth=1;if(l.F.rQ){t.beginPath();
var O=$.M.clone(l.F.rQ);$.M.N(O.p,v,O.p);Typr.U.pathToContext({cmds:O.A,crds:O.p},t);t.fill()}if(l.F.HU){t.beginPath();
var O=$.M.clone(l.F.HU);$.M.N(O.p,v,O.p);Typr.U.pathToContext({cmds:O.A,crds:O.p},t);t.stroke()}t.beginPath();
var L=4*w.m(),X=l.F.kp;for(var N=0;N<X.length;N+=2){k=!0;var U=b.x+X[N]*a.H,W=b.y+X[N+1]*a.H;t.rect(U-L+.5,W-L+.5,2*L-1,2*L-1)}t.stroke();
t.beginPath();var L=4*w.m(),X=l.F.OlV;for(var N=0;N<X.length;N+=2){k=!0;var U=b.x+X[N]*a.H,W=b.y+X[N+1]*a.H;
t.moveTo(U+L-.5,W);t.arc(U,W,L-.5,0,2*Math.PI)}t.fill();if(l.F.DB){k=!0;var M=l.F.DB,g=M.nR,O={A:[],p:[]};
for(var N=0;N<M.la.length;N++)$.M.concat(O,$.M.Gf(M.la[N]));O.p=O.p.concat(g);for(var N=0;N<g.length;
N+=4)O.A.push("M","L");t.beginPath();t.strokeStyle=T.jS?"#dd3300":"#dd3333";$.M.N(O.p,v,O.p);Typr.U.pathToContext({cmds:O.A,crds:O.p},t);
t.stroke();var n=w.m();t.font=Math.round(12*n)+"px sans-serif";for(var N=0;N<g.length;N+=4){var U=g[N],W=g[N+1],V=g[N+2],i=g[N+3],f=Math.sqrt((i-W)*(i-W)+(V-U)*(V-U))+"",r=new x((U+V)/2,(W+i)/2);
r=v.sV(r);t.fillStyle=T.jS?"#dd3300":"#dd3333";var e=t.measureText(f),D=e.width;t.fillRect(r.x-D/2-2.5*n,r.y-7.5*n,D+5*n,15*n);
t.fillStyle=T.jS?"#ffff00":"#ffffff";t.fillText(f,r.x-D/2,r.y+4*n)}}if(R.md){t.lineWidth=1;if(u.qp){this.tH(l,b,t,u.cX,"#808000");
k=!0}if(u.tm&&l.Y.H>7){this.tH(l,b,t,1,"rgba(128,128,0,0.5)");k=!0}if(u.gh){t.beginPath();t.strokeStyle=T.jS?"#00ff00":"#00ffff";
for(var N=0;N<l.gh[0].length;N++){var B=Math.round(l.Y.mA(l.gh[0][N],0).x)+.5;t.moveTo(B,0);t.lineTo(B,l.Y.cO.e)}for(var N=0;
N<l.gh[1].length;N++){var h=Math.round(l.Y.mA(0,l.gh[1][N]).y)+.5;t.moveTo(0,h);t.lineTo(l.Y.cO.$,h)}t.closePath();
t.stroke()}}t.strokeStyle=T.jS?"#ff0000":"#ff00ff";if(l.F.C_){t.beginPath();var O=$.M.clone(l.F.C_);
$.M.N(O.p,v,O.p);Typr.U.pathToContext({cmds:O.A,crds:O.p},t);t.stroke()}if(R.qD){if(l.Y.Dy==null||l.Y.Dy.width!=l.Y.cO.$||l.Y.mn.height!=l.Y.cO.e){l.Y.Dy=t.createImageData(l.Y.cO.$,$.ca.MK);
l.Y.mn=t.createImageData($.ca.MK,l.Y.cO.e)}var H=HN.DE[R.Ek],a=l.Y,I=a.H*l.$/2,j=a.H*l.e/2,c=[1,l.DS,l.DS/2.54,l.DS/25.4][u.oP],m=a.H,F=a.n.clone();
a.H*=c;a.n.x+=I*c-I;a.n.y+=j*c-j;$.ca.OSt(a,H["--text-color"],H["--bg-input"]);a.H=m;a.n=F;if(T.jS){$.IK(l.Y.mn.data,0,4278255615);
$.IK(l.Y.Dy.data,0,4278255615)}t.putImageData(l.Y.mn,0,0);t.putImageData(l.Y.Dy,0,0);t.fillStyle="#000000"}return k||R.qD||l.gh[0].length+l.gh[1].length>0};
lr.prototype.tH=function(l,t,a,k,R){while(k*l.Y.H<4)k*=2;var u=t.x,b=u+t.$,v=t.y,H=v+t.e;a.beginPath();
a.strokeStyle=R;for(var N=0;N<=l.$;N+=k){var z=Math.round(l.Y.mA(N,0).x)+.5;a.moveTo(z,v);a.lineTo(z,H)}for(var A=0;
A<=l.e;A+=k){var Q=Math.round(l.Y.mA(0,A).y)+.5;a.moveTo(u,Q);a.lineTo(b,Q)}a.closePath();a.stroke()};
lr.FL=function(l){T.rs.call(this);this.Obw=l;var t="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform vec4 bgClr; \t\t\t"+(l?"uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+T.CB.fe+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord); "+(l?"\t\t\t\t\tbool inr = false; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tinr = inr || ( ar.z!=0.0 && in01(nsc/ar.zw) );\t\t\t\t\t}\t\t\t\t\tvec4 BG = inr ? vec4(1.0,1.0,1.0,1.0) : bgClr; \t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b != 0.0) outc = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\tgl_FragColor = simpleBlend((1.0-src.b)*src.rgga,outc); \t\t\t\t\t\t\t}",a="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.TC(t,a)};lr.FL.prototype=new T.rs;lr.FL.prototype.cf=function(l,t,a,k,R,u,b,v,H,N,z){this.YX("srct gsize source target imgSizeZoom cnvSize ars bgClr".split(" "));
var A=T.Jc,Q=this.kT;A.uniform4fv(Q.srct,a);A.uniform2fv(Q.gsize,k);A.uniform3f(Q.imgSizeZoom,R,u,b);
A.uniform2f(Q.cnvSize,v,H);A.uniform4fv(Q.bgClr,z);if(this.Obw)A.uniform4fv(Q.ars,N);A.uniform1i(Q.source,0);
A.uniform1i(Q.target,1);A.activeTexture(A.TEXTURE0);A.bindTexture(A.TEXTURE_2D,l);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,t);A.activeTexture(A.TEXTURE0)};function lJ(){An.call(this,[9,7]);this.PY.setAttribute("style","min-width:240px;");
this.MS=null;this.oy=-1;this.Obt=[];this._r=w.X("div","scrollable");this._r.style.height="160px";this.PY.appendChild(this._r);
this.Xd=w.X("div","lpfoot");this.PY.appendChild(this.Xd);this.hI=[];var l=["reload","lrs/newlayer","lrs/bin"],t=["Update Layer Comp","New Layer Comp","Delete Layer Comp"];
for(var a=0;a<l.length;a++){var k=new Wa("<img src=\""+PIMG[l[a]]+"\" class=\"gsicon\" />",!1,t[a]);
k.a("click",this.OlF,this);this.Xd.appendChild(k.W);this.hI.push(k)}}lJ.prototype=new An("");lJ.prototype.fV=function(l){var t=new Z(w.E.q,!0);
t.data=l;t.P=s.WQ;this.t(t)};lJ.prototype.OlF=function(l){var t=this.hI.indexOf(l.currentTarget);if(t!=1)if(this.oy==-1)return;
this.fV({T:["updLC","addLC","delLC"][t],AZ:this.oy});if(t==2)this.oy=-1};lJ.prototype.oA=function(l){if(l==null)w.jI(this.PY,"disabled");
else w.ls(this.PY,"disabled");this.MS=l;w.BT(this._r);if(l==null)return;var t=l.jd.lastAppliedComp?l.jd.lastAppliedComp.v:0,a=l.jd.list.v.slice(0);
a.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var k=0;k<a.length;
k++){var R=a[k].v,u=new AW(R.Nm.v,R.compID.v,R.capturedInfo.v,t,this.oy);u.a("activate",this.Om,this);
u.parent=this;this._r.appendChild(u.W);this.Obt.push(u)}};lJ.prototype.Om=function(l){this.oy=l.currentTarget.AZ;
this.oA(this.MS)};function AW(l,t,a,k,R){WF.call(this);this.AZ=t;this.W=w.X("div","head listitem"+(t==R?" selected":""));
var u=t==k,b=new Wa("<b>"+(u?"\u2713":"\u2014")+"</b>");if(u)b.AN();this.W.appendChild(b.W);b.a("click",this.gq,this);
var v=this.hr=w.X("span");v.textContent=l;this.W.appendChild(v);this.hI=[];if(t!=0){this.W.addEventListener("mouseup",this.Om.bind(this),!1);
this.Ozg=w.X("span","headR");this.W.appendChild(this.Ozg);var H=["lrs/eye","pos","lrs/fx"],N=["Visibility","Position","Appearance"];
for(var z=0;z<H.length;z++){var A=new Wa("<img src=\""+PIMG[H[z]]+"\" class=\"autoscale gsicon\" />",!1,N[z]);
if((a>>z&1)==0)A.W.setAttribute("style","opacity:0.3");A.a("click",this.OlT,this);this.Ozg.appendChild(A.W);
this.hI.push(A)}}}AW.prototype=new WF;AW.prototype.Om=function(l){if(l.target!=this.hr&&l.target!=this.W)return;
if(l.detail==1)this.t(new Z("activate",!1));else{var t=w.X("input","");t.setAttribute("type","text");
t.setAttribute("size","10");t.setAttribute("value",this.hr.textContent);this.W.removeChild(this.hr);
this.W.appendChild(t);t.select();t.focus();t.addEventListener("keyup",this.O_.bind(this),!1)}};AW.prototype.OlT=function(l){var t=this.hI.indexOf(l.currentTarget);
this.fV({T:"editLC",UL:t,AZ:this.AZ})};AW.prototype.O_=function(l){if(J.uS(l.code,J.ZR))this.t(new Z("activate",!1));
if(J.uS(l.code,J.KX))this.fV({T:"editLC",Gy:l.target.value,AZ:this.AZ})};AW.prototype.gq=function(l){this.fV({T:"setLC",AZ:this.AZ})};
AW.prototype.fV=function(l){var t=new Z(w.E.q,!0);t.data=l;t.P=s.WQ;this.t(t)};function $g(l){An.call(this,l.name,!1,l.icon);
var t=w.X("iframe","padded");t.setAttribute("src",l.url);t.setAttribute("style","width:"+l.width+"px; height:"+l.height+"px");
this.PY.appendChild(t)}$g.prototype=new An("");function AB(){WF.call(this);this.P=0;this.r$=null;this.W=w.X("div","toolconf");
this.bh=w.X("div");this.W.appendChild(this.bh);this.body=new w.X("div","body");this.W.appendChild(this.body)}AB.prototype=new WF;
AB.prototype.OgO=function(l,t){this.P=l;this.r$=t;this.bh.innerHTML="<img src=\""+PIMG[t]+"\" class=\"toolicon gsicon\" />"};
AB.prototype.gO=function(l,t){};AB.prototype.qO=function(l){};AB.prototype.G=function(){this.bh.innerHTML=w.WL(this.r$,null,"toolicon");
this.wK()};AB.prototype.wK=function(){};function Hd(l){AB.call(this);if(l==null)return;this.wb={};for(var t=0;
t<l.length;t++){var a=l[t],k=null;if(a=="brush"){k=new Oj}if(a=="bmode"){k=new H$([12,19],HO.hZ,!1,HO.RL)}if(a=="opacity"){k=new Hq([12,0],0,100,"%");
k.g(100)}if(a=="flow"){k=new Hq([12,63],0,100,"%");k.g(100)}if(a=="smth"){k=new Hq([19,3,0],0,100,"%");
k.g(0)}if(a=="wconf"){k=new AC}if(a=="strn"){k=new Hq([12,64],1,100,"%");k.g(50)}if(a=="smode"){k=new H$([12,36],[[19,7,0],[19,7,1]]);
k.g(1)}if(a=="pdetail"){k=new HV([12,65]);k.AN()}if(a=="rng"){k=new H$([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
k.g(1)}if(a=="expo"){k=new Hq([12,5],0,100,"%");k.g(50)}if(a=="algnd"){k=new HV([12,75]);k.g(!1)}if(a=="sfrom"){k=new H$([12,70],[[17,1],[17,3],[17,0]])}if(a=="qsmode"){k=new lI([12,36],[[5,3],[18,1],[18,2]])}if(a=="redge"){k=new Wa([7,11],!1,null,!0)}if(a=="setop"){k=new Ad}if(a=="patch"){k=new lI("Drag to choose",[[12,70],[12,71]])}k.parent=this;
this.body.appendChild(k.W);this.wb[a]=k;if(a=="brush")k.a(w.E.z,this.OgW,this);else if(a=="redge")k.a("click",this.OF,this);
else k.a(w.E.z,this.oM,this)}}Hd.prototype=new AB;Hd.prototype.OF=function(){var l=new Z(w.E.J,!0);l.data={T:w.h.AG,XG:"redge"};
this.t(l)};Hd.prototype.wK=function(){for(var l in this.wb)this.wb[l].G()};Hd.prototype.qO=function(l){for(var t in l.qi){var a=l.qi[t];
if(t!="qsmode")a*=100;if(this.wb[t])this.wb[t].g(a)}};Hd.prototype.gO=function(l,t){var a=this.wb.brush;
if(a==null)return;if(t==Wm.cC)a.Sy(l.Dj);if(t==Wm.fr){a.g(l.Dj.Kh,l.Dj.BN,l.Dj.FD)}};Hd.prototype.OgW=function(){var l=new Z(w.E.J,!0);
l.data={T:w.h.kn,wd:Wm.fr,_j:this.wb.brush.d()};this.t(l)};Hd.prototype.oM=function(){var l=new Z(w.E.J,!0);
l.data={T:w.h.rx,P:this.P};for(var t in this.wb){if(t=="brush"||t=="redge")continue;l.data[t]=this.wb[t].d();
if(["opacity","flow","smth","strn","expo"].indexOf(t)!=-1)l.data[t]/=100;if(t=="bmode")l.data[t]=HO.Rr[l.data[t]]}this.t(l)};
function lb(){AB.call(this);this.data={T:w.h.rx,ct:"front",cg:0,lo:{xo:!0,xX:10},jH:{hL:0,x:1,y:1}};
this.oB=new Ad;this.body.appendChild(this.oB.W);this.oB.a(w.E.z,this.kt,this);this.tF=new Hq([7,6],0,100," px");
this.tF.parent=this;this.tF.g(0);this.body.appendChild(this.tF.W);this.tF.a(w.E.z,this.kt,this);this.z$=new Wa([7,11],!1,null,!0);
this.body.appendChild(this.z$.W);this.z$.a("click",this.OF,this)}lb.prototype=new AB;lb.prototype.qO=function(l){this.oB.g(l.ct)};
lb.prototype.wK=function(){this.tF.G();this.oB.G();this.z$.G()};lb.prototype.OF=function(){var l=new Z(w.E.J,!0);
l.data={T:w.h.AG,XG:"redge"};this.t(l)};lb.prototype.kt=function(){var l=new Z(w.E.J,!0);this.data.P=this.P;
this.data.ct=this.oB.d();this.data.cg=this.tF.d();l.data=this.data;this.t(l)};function $k(){Hd.call(this,["brush","strn"])}$k.prototype=new Hd;
function $b(){Hd.call(this,["brush","bmode","opacity","flow","smth"])}$b.prototype=new Hd;function $z(){Hd.call(this,["brush","bmode","opacity","flow","smth"])}$z.prototype=new Hd;
function $S(){Hd.call(this,["brush","rng","expo"])}$S.prototype=new Hd;function $n(){Hd.call(this,"brush bmode opacity flow algnd sfrom".split(" "))}$n.prototype=new Hd;
function Ai(){AB.call(this);var l=w.X("span","fitem");this.body.appendChild(l);var t=[[17,0],[17,1],[11,12],[17,2]];
this.cw=[];for(var a=0;a<t.length;a++){var k=new Wa(t[a],!1,null,!0);this.cw.push(k);k.AN();k.a("click",this.Ogi,this);
l.appendChild(k.W)}this.jH=new OL;this.jH.a(w.E.z,this.OgP,this);this.body.appendChild(this.jH.W);this.Yh=new $J;
this.Yh.a("click",this.lG,this)}Ai.prototype=new AB;Ai.prototype.wK=function(){this.Yh.G();for(var l=0;
l<this.cw.length;l++)this.cw[l].G();this.jH.G()};Ai.prototype.qO=function(l){var t=this.Yh.W;if(l.li)this.body.appendChild(t);
else if(this.body.contains(t))this.body.removeChild(t)};Ai.prototype.lG=function(l){var t={T:w.h.rx,P:this.P,cW:this.Yh.d()?"commit":"cancel"},a=new Z(w.E.J,!0);
a.data=t;this.t(a)};Ai.prototype.Ogi=function(l){l.target.W.blur();var t={T:w.h.rx,P:this.P,cW:"cropby",OAK:this.cw.indexOf(l.target)},a=new Z(w.E.J,!0);
a.data=t;this.t(a)};Ai.prototype.OgP=function(l){var t={T:w.h.rx,P:this.P,cW:"config",qM:{_E:this.jH.d()}},a=new Z(w.E.J,!0);
a.data=t;this.t(a)};function $E(){Hd.call(this,["brush","rng","expo"])}$E.prototype=new Hd;function $K(){Hd.call(this,["brush","opacity","flow","smth"])}$K.prototype=new Hd;
function Av(){lb.call(this,s.ac);this.jH=new OL;this.jH.a(w.E.z,this.OG,this);this.body.appendChild(this.jH.W)}Av.prototype=new lb;
Av.prototype.OG=function(l){this.data.jH=this.jH.d();this.kt()};Av.prototype.wK=function(){lb.prototype.wK.call(this);
this.jH.G()};function $A(){AB.call(this);this.jK=new H$("...",["1x1","3x3","5x5","11x11","31x31"]);this.jK.a(w.E.z,this.oM,this);
this.body.appendChild(this.jK.W)}$A.prototype=new AB;$A.prototype.oM=function(l){var t=new Z(w.E.J,!0);
t.data={T:w.h.rx,P:this.P,_L:[1,3,5,11,31][this.jK.d()]};this.t(t)};$A.prototype.wK=function(){this.jK.Pa(Wq.get([12,20])+": ")};
function lq(){AB.call(this);this.Wb=new Oy(!1);this.Wb.parent=this;this.Wb.a(w.E.z,this.Yu,this);this.body.appendChild(this.Wb.W);
this.Wb.g(JSON.parse(P.Iz.Xo).v);this.j_=new H$(null,P.C.names.slice(0,5));this.j_.a(w.E.z,this.Yu,this);
this.body.appendChild(this.j_.W);this.jD=new H$([12,19],HO.hZ,null,HO.RL);this.jD.a(w.E.z,this.Yu,this);
this.body.appendChild(this.jD.W);this.Qh=new Hq([12,0],0,100,"%");this.Qh.parent=this;this.Qh.a(w.E.z,this.Yu,this);
this.body.appendChild(this.Qh.W);this.Qh.g(100);this.jX=new HV([12,23]);this.jX.a(w.E.z,this.Yu,this);
this.body.appendChild(this.jX.W)}lq.prototype=new AB;lq.prototype.wK=function(){this.j_.G();this.jD.G();
this.Qh.G();this.jX.G()};lq.prototype.gO=function(l,t){var a=t==Wm.tJ;this.Wb.CI(l.rq,l.WR);if(a||t==Wm.rO)this.Wb.Sy(l.xV)};
lq.prototype.Yu=function(){var l=new Z(w.E.J,!0);l.data={T:w.h.rx,P:this.P};l.data.wd={C:this.Wb.d(),style:P.C.types[this.j_.d()],reverse:this.jX.HK(),zR:HO.Rr[this.jD.d()],opacity:this.Qh.d()/100};
this.t(l)};function $d(){AB.call(this)}$d.prototype=new AB;function $m(){Hd.call(this,["brush","algnd","sfrom"])}$m.prototype=new Hd;
function Ab(){AB.call(this);this.Im=new Wi;this.Im.parent=this;this.body.appendChild(this.Im.CX.W);this.body.appendChild(this.Im.hP.W);
this.body.appendChild(this.Im.hy.W);var l=w.X("span","fitem");this.body.appendChild(l);l.appendChild(this.Im.ik.W);
l.appendChild(this.Im.i_.W);l.appendChild(this.Im.ib.W);this.xE=new Wa([11,9],!1,null,!0);this.xE.a("click",this.OgD,this);
this.body.appendChild(this.xE.W);this.Yh=new $J;this.Yh.a("click",this.lG,this)}Ab.prototype=new AB;
Ab.prototype.wK=function(){this.Yh.G();this.Im.G();this.xE.G()};Ab.prototype.OgD=function(l){var t={T:w.h.rx,P:this.P,cW:"showwarp"},a=new Z(w.E.J,!0);
a.data=t;this.t(a)};Ab.prototype.qO=function(l){if(l.cW=="showactive")this.body.appendChild(this.Yh.W);
if(l.cW=="hideactive")this.body.removeChild(this.Yh.W)};Ab.prototype.gO=function(l,t){if(t!=Wm.CM&&t!=Wm.TT&&t!=Wm.rA&&t!=Wm.IA)return;
this.Im.tz(l)};Ab.prototype.lG=function(l){var t={T:w.h.rx,P:this.P,cW:this.Yh.d()?"commit":"cancel"},a=new Z(w.E.J,!0);
a.data=t;this.t(a)};function $F(){lb.call(this)}$F.prototype=new lb;function OI(){AB.call(this);var l=[],a="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.yV=new HV([12,85]);this.yV.a(w.E.z,this.oM,this);l.push(this.yV.W);this.yn=new HV([20,1]);this.yn.a(w.E.z,this.oM,this);
l.push(this.yn.W);this.yr=new HV([12,83]);this.yr.a(w.E.z,this.oM,this);l.push(this.yr.W);var t=w.X("span","fitem");
l.push(t);this.OAz=new H$("Scale Output",["1x","2x","3x","4x"],!0);t.appendChild(this.OAz.W);this.qW=new Wa(a+" PNG",!1,null,!0);
this.qW.AN();t.appendChild(this.qW.W);this.qW.a("click",this.OM,this);this.zg=new Wa(a+" SVG",!1,null,!0);
this.zg.AN();t.appendChild(this.zg.W);this.zg.a("click",this.OM,this);var k=w.X("span","fitem");l.push(k);
var R=w.X("span","fitem");l.push(R);this.hI=[];for(var u=0;u<8;u++){var b=u==3||u==7?[20,4,6]:[20,4,u<3?u:u-1],v=new Wa("Hi",!1,b);
(u<4?k:R).appendChild(v.W);v.a("click",this.OM,this);this.hI.push(v)}for(var u=0;u<l.length;u++)this.body.appendChild(l[u]);
this.OOT=l}OI.prototype=new AB;OI.prototype.qO=function(l){var t=l.EA,a=l.OAL;this.yV.g(t.Ts);this.yn.g(t.Fc);
this.yr.g(t.DB);if(a){w.BT(this.body);for(var k=0;k<a.length;k++)if(a[k]==1&&this.OOT[k])this.body.appendChild(this.OOT[k])}};
OI.prototype.OM=function(l){var t=this.hI.indexOf(l.target),a;if(t==-1)a={T:w.h.rx,P:this.P,mk:l.target==this.qW?"getPNG":"getSVG",nv:this.OAz.d()+1};
else a={T:w.h.rx,P:this.P,mk:"algn",V:t};var k=new Z(w.E.J,!0);k.data=a;this.t(k)};OI.prototype.oM=function(l){var t=new Z(w.E.J,!0);
t.data={T:w.h.rx,P:this.P,mk:"prms",Ts:this.yV.HK(),Fc:this.yn.HK(),DB:this.yr.HK()};this.t(t)};OI.prototype.wK=function(){this.yV.G();
this.yn.G();this.yr.G();var l="h0 h1 h2 hG v0 v1 v2 vG".split(" ");for(var t=0;t<8;t++){this.hI[t].Pa(w.WL("align/"+l[t],null,"autoscale"))}};
function $_(){lb.call(this);this.On=new AC;this.On.a(w.E.z,this.OgG,this);this.body.appendChild(this.On.W)}$_.prototype=new lb;
$_.prototype.OgG=function(l){this.data.lo=this.On.d();this.kt()};$_.prototype.wK=function(){lb.prototype.wK.call(this);
this.On.G()};function $j(){Hd.call(this,["setop","patch"])}$j.prototype=new Hd;function $q(){Hd.call(this,["bmode","opacity","wconf"])}$q.prototype=new Hd;
function $T(){lb.call(this)}$T.prototype=new lb;function $G(){lb.call(this)}$G.prototype=new lb;function $r(){lb.call(this);
this.jH=new OL;this.jH.a(w.E.z,this.OG,this);this.body.appendChild(this.jH.W)}$r.prototype=new lb;$r.prototype.OG=function(l){this.data.jH=this.jH.d();
this.kt()};$r.prototype.wK=function(){lb.prototype.wK.call(this);this.jH.G()};function AY(){AB.call(this);
this.wl=[new HM("X",null,3),new HM("Y",null,3),new HM("W",null,3),new HM("H",null,3),new HM([12,15],null,4),new HM([12,80,0],null,4),new Wa("Straighten Layer",!1,null,!0)];
for(var l=0;l<this.wl.length;l++){var t=this.wl[l];this.body.appendChild(t.W)}this.wl[6].a("click",this.Ogt,this);
this.qS=0}AY.prototype=new AB;AY.prototype.Ogt=function(l){if(this.qS==0){return}var t=new Z(w.E.q,!0);
t.P=s.Yc;t.data={T:"rot",ER:[2,5],V:-this.qS};this.t(t)};AY.prototype.qO=function(l){var t=l.O$k,a=l.O$z,k=a.x-t.x,R=a.y-t.y,u=this.wl;
this.qS=-Math.atan2(R,k);u[0].g(t.x);u[1].g(t.y);u[2].g(k);u[3].g(R);u[4].g((this.qS*180/Math.PI).toFixed(2));
u[5].g(Math.sqrt(k*k+R*R).toFixed(2))};AY.prototype.wK=function(){for(var l=0;l<this.wl.length;l++)this.wl[l].G()};
function $Y(){Hd.call(this,["brush","strn","pdetail"])}$Y.prototype=new Hd;function $s(){Hd.call(this,["brush"]);
this.Olj=[];var l=[[7,12]];for(var t=0;t<l.length;t++){var a=new Wa(l[t],!1,null,!0);this.Olj.push(a);
a.parent=this;this.body.appendChild(a.W);a.a("click",this.Ogv,this)}}$s.prototype=new Hd;$s.prototype.Ogv=function(l){var t=this.Olj.indexOf(l.currentTarget),a=new Z(w.E.q,!0);
a.P=s.W$;a.data={T:"heal2"};this.t(a)};function $M(){Hd.call(this,["brush","strn"])}$M.prototype=new Hd;
function $L(){Hd.call(this,["brush","flow","smode"])}$L.prototype=new Hd;function AL(){AB.call(this);
this.sI=!1;var l=w.X("span","fitem");this.body.appendChild(l);this.WS=new Wa("<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />");
l.appendChild(this.WS.W);this.WS.a("click",this.hc,this);this.qn=new Wa("<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />");
l.appendChild(this.qn.W);this.qn.a("click",this.hv,this);this.qu=new Wa([20,2]);this.body.appendChild(this.qu.W);
this.qu.a("click",this.vU,this);this.zI=new Wa([20,3]);this.body.appendChild(this.zI.W);this.zI.a("click",this.vU,this);
this.WS.AN()}AL.prototype=new AB;AL.prototype.wK=function(){this.qu.G();this.zI.G()};AL.prototype.hc=function(l){this.WS.AN();
this.qn.QE();if(l)this.oM()};AL.prototype.hv=function(l){this.qn.AN();this.WS.QE();if(l)this.oM()};AL.prototype.oM=function(){var l={T:w.h.rx,P:this.P,Kx:this.WS.HK()},t=new Z(w.E.J,!0);
t.data=l;this.t(t)};AL.prototype.qO=function(l){if(this.sI!=l.sI){if(this.WS.HK())this.hv();else this.hc()}this.sI=l.sI};
AL.prototype.vU=function(l){var t={T:w.h.rx,P:this.P,action:l.target==this.qu?"pixel":"fitscr"},a=new Z(w.E.J,!0);
a.data=t;this.t(a)};function HX(l,t){AB.call(this);if(l==null)return;this.wb={};var a=[[12,76,0],[12,76,1]];
if(t==null)a.push([12,76,2]);for(var k=0;k<l.length;k++){var R=l[k],u=null;if(R=="tmode"){u=new H$(null,a);
u.g(1)}if(R=="binop")u=new H$(null,[[18,1],[18,2],[18,3],[18,4]]);if(R=="pshape")u=new H$(null,["Polygon","Star","Spiral"]);
if(R=="shape")u=new OC([12,76,1]);if(R=="crad"){u=new Hq("Corner Radius",0,50,"px");u.g(0)}if(R=="cstr"){u=new OL}if(R=="irad"){u=new Hq("Inner Radius",0,100,"%");
u.g(40)}if(R=="length"){u=new Hq("Length",4,40);u.g(4)}if(R=="sides"){u=new Hq([12,78],3,30);u.g(5)}if(R=="width"){u=new Hq([12,41],1,100,"px");
u.g(5)}if(R=="tolr"){u=new Hq([12,24],0,100);u.g(5)}if(R=="fstyle"){u=new OS([12,26])}if(R=="sstyle"){u=new Ot}if(R=="psnap"){u=new HV("Snap to Pixels")}u.parent=this;
this.body.appendChild(u.W);this.wb[R]=u;u.a(w.E.z,this.oM,this)}}HX.prototype=new AB;HX.prototype.vj=function(l){return null};
HX.prototype.vG=function(){if(this.wb.pshape==null)return;var l=this.vj(this.wb.pshape.d());if(l==null)return;
w.BT(this.body);for(var t=0;t<l.length;t++){var a=l[t];this.body.appendChild(this.wb[a].W)}};HX.prototype.wK=function(){for(var l in this.wb)this.wb[l].G()};
HX.prototype.oM=function(l){var t=new Z(w.E.J,!0);if(l.target==this.wb.fstyle){t.data={T:w.h.kn,wd:Wm.rd,V:this.wb.fstyle.d()};
this.t(t);return}if(l.target==this.wb.sstyle){t.data={T:w.h.kn,wd:Wm.iY,V:this.wb.sstyle.d()};this.t(t);
return}if(this.wb.tmode&&this.wb.binop){if(this.wb.tmode.d()==0)this.wb.binop.fW();else this.wb.binop.Jf()}t.data={T:w.h.rx,P:this.P};
for(var a in this.wb)if(a!="sstyle")t.data[a]=this.wb[a].d();this.t(t);if(l.target==this.wb.pshape)this.vG()};
HX.prototype.gO=function(l,t){var a=this.wb.fstyle,k=this.wb.sstyle;if(a)a.gO(l,t);if(k)k.gO(l,t);if(t==Wm.CM||t==Wm.Tk)if(l.ZL.length!=0&&this.wb.shape){this.wb.shape.g(l.ZL[0]);
this.wb.shape.Sy(l.ZL)}if(t==Wm.CM||t==Wm.rd)if(a)a.g(null,l.ZP,l.OlX);if(t==Wm.CM||t==Wm.iY)if(k)k.g(null,l.ZA,l.OVw)};
function $X(){HX.call(this,["tmode","fstyle","sstyle","binop"],!0)}$X.prototype=new HX;function $e(){HX.call(this,["tmode","fstyle","sstyle","binop","tolr"])}$e.prototype=new HX;
function As(){HX.call(this,["fstyle","sstyle"]);this.OEY=null;this.OWq=null;this.OiJ=null;this.xd=new H$("Path",[[18,1],[18,2],[18,3],[18,4]]);
this.tZ=new Wa("\u25BC");this.tZ.AN();this.yD=new Wa("\u25B2");this.yD.AN();this.zi=[this.xd,this.tZ,this.yD];
for(var l=0;l<this.zi.length;l++){var t=this.zi[l];this.body.appendChild(t.W);t.parent=this;t.a(l==0?w.E.z:"click",this.jA,this)}}As.prototype=new HX;
As.prototype.qO=function(l){if(l.cW=="main"){var t=this.zi,a=l.eo;if(a&&a._.length==1){this.OWq=a.clone();
this.OiJ=JSON.stringify(l.$F);var k=a._[0],R=$.r.HP(a.k);this.xd.fW();if(k>0)this.tZ.fW();else this.tZ.Jf();
if(k<R-1)this.yD.fW();else this.yD.Jf();var u=$.r.jQ(a.k,k),b=a.k[u];this.xd.Pa("Path "+(k+1));this.xd.g([3,0,1,2][b.mZ])}else{for(var v=0;
v<t.length;v++)t[v].Jf()}}};As.prototype.wK=function(){HX.prototype.wK.call(this);this.xd.G()};As.prototype.jA=function(l){if(l.target==this.xd||l.target==this.tZ||l.target==this.yD){var t={},a=this.OWq,k=a.k,R=JSON.parse(this.OiJ),u=a._[0],b=$.r.jQ(k,u),v=k[b];
if(l.target==this.xd)v.mZ=[1,2,3,0][this.xd.d()];else{var H=l.target==this.tZ?-1:1,N=Math.min(u,u+H),z=Math.max(u,u+H),A=$.r.jQ(k,N),Q=$.r.jQ(k,z);
if(A==-1||Q==-1)return;var S=Q+$.r._U(k,z),o=R[N];R[N]=R[z];R[z]=o;var p=k.slice(0,A),O=k.slice(A,Q),E=k.slice(Q,S),L=k.slice(S);
a.k=p.concat(E.concat(O.concat(L)));a._[0]+=H}t.eo=a;t.$F=R;var U=new Z(w.E.J,!0);U.data={T:w.h.rx,P:this.P,Ce:t};
this.t(U)}};function $y(){HX.call(this,["fstyle","sstyle","psnap"])}$y.prototype=new HX;function $p(){HX.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}$p.prototype=new HX;
function $B(){HX.call(this,["tmode","fstyle","sstyle","binop","cstr"])}$B.prototype=new HX;function $c(){HX.call(this,"tmode fstyle sstyle binop pshape sides irad crad length".split(" "));
this.ObC=[["sides","crad"],["sides","irad","crad"],["length"]];this.vG()}$c.prototype=new HX;$c.prototype.vj=function(l){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.ObC[l])};
function $w(){HX.call(this,["tmode","fstyle","sstyle","binop","width"])}$w.prototype=new HX;function $t(){HX.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}$t.prototype=new HX;
function $C(){Hd.call(this,["brush","qsmode","redge"])}$C.prototype=new Hd;function Ak(){AB.call(this);
if(window.Typr==null)return;this.Tu=null;this.Ok$=w.X("span","");this.O_I=w.X("span","");var l=1;this.uZ={v_:new Hq("X",0,0,"px",l,!1,!0),vx:new Hq("Y",0,0,"px",l,!1,!0),rB:new Hq("W",0,0,["%","px"],l,!1,!0),Rh:new Wa("\u2261",null,[12,51],null),cp:new Hq("H",0,0,["%","px"],l,!1,!0),OzO:new Hq("\u2221",0,0,"\xB0",l,!1,!0),OzD:new Hq("Skew X",-85,85,"\xB0",l,!1,!0),OzB:new Hq("Skew Y",-85,85,"\xB0",l,!1,!0)};
for(var t in this.uZ){this.Ok$.appendChild(this.uZ[t].W);var a=this.uZ[t]==this.uZ.Rh?"click":w.E.z;
this.uZ[t].a(a,this.OQ,this)}this.On=new Ae(!0,!0,!0);this.On.a(w.E.z,this.OgN,this);this.On.parent=this;
var k=this.O_I,R=this.On;k.appendChild(R.sF.W);k.appendChild(R.d_.W);k.appendChild(R.dr.W);k.appendChild(R.df.W);
k.appendChild(R.dD.W);this.xE=new Wa([11,9]);this.xE.a("click",this.OIB,this);this.aD=new H$(null,["Nearest","Bilinear"]);
this.aD.g(1);this.aD.a(w.E.z,this.OQ,this);this.Yh=new $J;this.Yh.a("click",this.lG,this)}Ak.prototype=new AB;
Ak.prototype.qO=function(l){w.BT(this.body);this.Tu=l;if(l.uZ){var t=l.uZ.MU,a=l.uZ.sg.clone(),k=Math.atan2(-a.l,a.w),R=new WM;
R.rotate(-k);a.concat(R);var u=this.uZ;u.v_.g(l.uZ.fA.x);u.vx.g(l.uZ.fA.y);u.rB.g(a.w*(u.rB.xT()=="%"?100:t.$));
u.cp.g(a.N_*(u.cp.xT()=="%"?100:t.e));u.OzO.g(-k*180/Math.PI);u.OzD.g(0*180/Math.PI);u.OzB.g(Math.atan(a.Mn)*180/Math.PI);
this.body.appendChild(this.Ok$);this.xE.QE()}if(l.fO){this.On.g(l.fO);this.body.appendChild(this.O_I);
this.xE.AN()}this.body.appendChild(this.aD.W);this.body.appendChild(this.Yh.W);if(l.O$D)this.body.appendChild(this.xE.W)};
Ak.prototype.OQ=function(l){var t=this.uZ,a=this.Tu.uZ.MU;if(l.target==t.Rh)t.Rh.g(!t.Rh.d());if(t.Rh.HK()){var k=t.cp,R=t.rB,u=a.e,b=a.$;
if(l.target==t.rB){k=t.rB;R=t.cp;u=a.$;b=a.e}var v=k.d()/(k.xT()=="%"?100:u);v*=R.xT()=="%"?100:b;R.g(v)}var H=[];
for(var N in t)if(t[N]!=t.Rh){var v=t[N].d();if(t[N]==t.rB&&t[N].xT()=="px")v/=a.$/100;if(t[N]==t.cp&&t[N].xT()=="px")v/=a.e/100;
H.push(v)}var z=new x(H[0],H[1]);if(l.target==t.v_||l.target==t.vx){this.rt({cW:"cen",fA:z})}else{var A=this.Tu.uZ.sg.clone(),Q=A.clone(),S=Math.atan2(-A.l,A.w);
Q.translate(-z.x,-z.y);Q.rotate(-S);var o=new WM(Q.w,Q.l,Q.Mn,Q.N_,0,0);o.sI();Q.concat(o);Q.concat(new WM(H[2]/100,Math.tan(H[5]*Math.PI/180),Math.tan(H[6]*Math.PI/180),H[3]/100,0,0));
Q.rotate(-H[4]*Math.PI/180);Q.translate(z.x,z.y);this.Tu.uZ.sg=Q;this.rt({cW:"trn",uZ:Q,TP:this.aD.d()})}};
Ak.prototype.OgN=function(l){this.rt({cW:"wrp",fO:this.On.d()})};Ak.prototype.OIB=function(l){this.rt({cW:"switchWarp"})};
Ak.prototype.lG=function(l){this.rt({cW:this.Yh.d()?"commit":"cancel"})};Ak.prototype.rt=function(l){l.T=w.h.rx;
l.P=this.P;var t=new Z(w.E.J,!0);t.data=l;this.t(t)};Ak.prototype.wK=function(){for(var l in this.uZ)this.uZ[l].G();
this.Yh.G();this.On.G()};function $v(){Ak.call(this)}$v.prototype=new Ak;function $N(){Ak.call(this)}$N.prototype=new Ak;
function lz(){WF.call(this);this.W=w.X("div","cmanager");this.wa=0;this.Ii=0;this.Wx=[];this.yu=w.X("div","droparea");
var l=w.X("div","dropbox");l.innerHTML="Insert into current project";var t=w.X("div","dropbox");t.innerHTML="Open as new projects";
this.yu.appendChild(l);this.yu.appendChild(t);this.zP={};this.zk=w.X("div","alertcont");this.W.appendChild(this.zk);
this.OHm=w.X("div","alertcont");this.W.appendChild(this.OHm);this.Ozz=0;w.Ox(document.body,this.Oil.bind(this))}lz.prototype=new WF;
lz.prototype.Obs=function(){this.W.appendChild(this.yu)};lz.prototype.OSM=function(){this.W.removeChild(this.yu)};
lz.prototype.ci=function(l,t){this.wa=l;this.Ii=t;var a=this.yu;a.setAttribute("style","left:"+(l-600)/2+"px; top:"+(t-300)/2+"px;")};
WF.prototype.Ku=function(){var l=this.W;return l.offsetHeight+l.clientTop};lz.prototype.OIc=function(l){var t=w.X("div","alertpanel");
t.textContent=typeof l=="string"?l:Wq.get(l);this.zk.appendChild(t);this.zP[JSON.stringify(l)]=t};lz.prototype.OIw=function(l){var t=this.zP[JSON.stringify(l)];
this.zk.removeChild(t);delete this.zP[JSON.stringify(l)]};lz.prototype.alert=function(l,t){var a=this.OHm,k=w.X("div","alertpanel tpanel");
k.textContent=l;a.appendChild(k);if(t==null)t=1500;var R=t,u=Math.max(Date.now()+R,this.Ozz+R);setTimeout(function(){k.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){a.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},u-Date.now()-30);
setTimeout(function(){a.removeChild(a.firstChild);a.setAttribute("style","transition: transform 0.7s;  margin-top: 0em;  transform: translateY(0em);")},u-Date.now());
this.Ozz=u};lz.prototype.Oil=function(l){var t=this.Wx;for(var a=t.length-1;a>=0;a--){var k=t[a],R=l.target;
while(R!=null){if(R==k.W){this.Uc(k);return}R=R.parentNode}}this.Uc()};lz.prototype.Uc=function(l){var t=this.Wx;
for(var a=0;a<t.length;a++){if(l&&l.O$A(t[a]))continue;var k=t[a].W;k.style.height="auto";w.ls(k,"scrollable");
this.W.removeChild(k);t.splice(a,1);a--}};lz.prototype.OiP=function(l){this.Uc(l.jn);var t=l.jn,a=t.W;
if(this.Wx.indexOf(t)!=-1)return;this.Wx.push(t);this.W.appendChild(t.W);var k=this.wa,R=this.Ii,u=l.x,b=l.y,v=this.W.getBoundingClientRect(),H=t instanceof HY;
if(H||l.Yt){var N=t.wj(),z=t.Ku();if(H)N=Math.min(N,200);if(b+z<R){u=Math.min(u,k-N-5)}else{if(u+N<k){b=Math.min(b,R-z-5)}else if(z<b){b=b-z-2;
u=Math.min(u,k-N-5)}else{u=u-N;b=Math.min(b,R-z-5)}}if(l.Obk)b=Math.max(2,l.y-z-2)}b=Math.max(2,b);var top=Math.round(b-v.y+this.W.offsetTop);
a.style.position="absolute";a.style["z-index"]=10;a.style.left=Math.round(u)+"px";a.style.top=top+"px";
if(t.Ku()>R-5){a.style.height=R-5+"px";w.jI(a,"scrollable")}};lz.prototype.va=function(l){var t=l.jn,a=this.Wx.indexOf(t);
if(a==-1)return;this.Wx.splice(a,1);var k=t.W;this.W.removeChild(t.W)};lz.prototype.fH=function(){var l=this.Wx;
return l.length==0?null:l[l.length-1]};lz.prototype.Oi_=function(){this.va({jn:this.fH()})};function WV(){WF.call(this);
this.W=w.X("div","confbar")}WV.prototype=new WF;WV.prototype.Oif=function(l){l.parent=this;w.BT(this.W);
this.W.appendChild(l.W)};function Hx(){WF.call(this);this.HA=w.X("input","");this.HA.setAttribute("type","file");
this.HA.setAttribute("multiple","");this.HA.addEventListener("change",function(l){this.Oo(l.target.files,null,this.zz,null);
this.zz=null}.bind(this),!1);document.body.appendChild(this.HA);this.HA.setAttribute("style","display:none");
this.OUO=[];this.zb=!1;this.O_S={};this.zz=null}Hx.prototype=new WF;Hx.prototype.OX=function(l){if(l==null)l=[23,5];
var t=JSON.stringify(l),a=this.O_S;if(a[t]==null)a[t]=0;if(a[t]==0){var k=new Z(w.E.J,!0);k.data={T:w.h.yA,XC:l};
this.t(k)}a[t]++};Hx.prototype.vu=function(l){if(l==null)l=[23,5];var t=JSON.stringify(l),a=this.O_S;
if(a[t]==null)a[t]=0;a[t]--;if(a[t]==0){var k=new Z(w.E.J,!0);k.data={T:w.h.yl,XC:l};this.t(k)}};Hx.prototype.Oix=function(l,t){var a=this.HA;
if(t)a.setAttribute("accept",t);else a.removeAttribute("accept");var k=document.createEvent("MouseEvents");
k.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(k);
if(l!=null)this.zz=l};Hx.prototype.fZ=function(l){this.OUO.push(l);this.vY()};Hx.prototype.vY=function(){var l=this.OUO;
if(l.length==0||this.zb)return;this.zb=!0;var t=l.shift();this.OX();if(t.wT==null)t.wT={};var a=new XMLHttpRequest;
a.qX=t;var k=t.url;if(t.ft)k="mirror.php?url="+encodeURIComponent(k);a.open("GET",k);a.responseType="arraybuffer";
a.onload=this.vL.bind(this);a.send()};Hx.prototype.Oo=function(l,t,a,k){for(var R=0;R<l.length;R++){this.OX();
var u=l[R],b=new FileReader;b.qX=u;b.qX.Tc=a;b.qX.TF=k;b.Ozc=t;b.onload=this.vL.bind(this);b.readAsArrayBuffer(u)}this.HA.value=null};
Hx.prototype.OiF=function(l){var t=l.kN.ki,a=Wr.RT(l,t);W$.Ns(function(){var k=new XMLHttpRequest,R="https://www.googleapis.com/upload/drive/v3/files/"+l.kN.file.id+"?uploadType=media"+"&"+W$.Gx();
k.open("PATCH",R,!0);k.addEventListener("load",function(u){var b=JSON.parse(u.target.response);alert(b.name+" updated")});
k.send(a);alert("Saving \""+l.kN.file.name+"\" to Google Drive ...")})};Hx.prototype.OiZ=function(l,t){var a=l.FY(),k=t[0],R=Hx.vM(l,k);
if(window.parent!=window)window.parent.postMessage(R,"*")};Hx.prototype.OiD=function(l){this.OX("Saving ...");
setTimeout(Hx.Oij.bind({aO:l,caller:this}),50)};Hx.vM=function(l,t){var a=t.split(":"),k=a[0],R=null;
if(a.length==2){if(k=="jpg"||k=="webp")R=[Math.round(100*parseFloat(a[1]))];if(k=="psd")R=[!0,!0]}var u=Wr.RT(l,k.toUpperCase(),null,null,R);
return u};Hx.Oij=function(){var l=this.aO,t=this.caller,a=l.wT.ys,k=new lH,R=0,u="",b=encodeURIComponent;
u="p="+b("{ \"source\": "+JSON.stringify(l.tX)+", \"versions\": [");K.Rd(k,R,u);R+=u.length;var v=Date.now(),H=l.FY(),N=a.formats;
for(var z=0;z<N.length;z++){var A=Hx.vM(l,N[z]);u=b(" {\"format\": \""+N[z].split(":")[0]+"\", \"data\": \"");
K.Rd(k,R,u);R+=u.length;var Q=new Uint8Array(Hx.OiN(A)),S=Q.length;k.hf(R,S);for(var o=0;o<S;o++){k.hf(R,3);
var p=Q[o];if(p==43){k.data[R]=37;k.data[R+1]=50;k.data[R+2]=66;R+=3}else if(p==47){k.data[R]=37;k.data[R+1]=50;
k.data[R+2]=70;R+=3}else if(p==61){k.data[R]=37;k.data[R+1]=51;k.data[R+2]=68;R+=3}else{k.data[R]=p;
R++}}u=b("\" }"+(z+1<N.length?", ":""));K.Rd(k,R,u);R+=u.length}u=b("] }");K.Rd(k,R,u);R+=u.length;var O=new XMLHttpRequest;
O.open("POST",a.url,!0);O.setRequestHeader("Content-type","application/x-www-form-urlencoded");O.addEventListener("load",Hx.OiB.bind(this));
O.send(k.data.buffer.slice(0,R))};Hx.OiB=function(l){this.caller.vu("Saving ...");var t=l.target.response;
if(t.charAt(0)=="{"){t=JSON.parse(t);if(t.newSource)this.aO.tX=t.newSource;if(t.message)alert(t.message,2e3);
if(t.script)We.wO(t.script,this.caller)}else alert("Saved. Response: "+t,1500)};Hx.Oy=function(l){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(l),k=a.length,R=k%3,u=k-R,b=[],v=0,H=0,N=0;
for(var z=0;z<u;z+=3){v=a[z];H=a[z+1];N=a[z+2];b.push(t[v>>2]+t[(v&3)<<4|H>>4]+t[(H&15)<<2|N>>6]+t[N&63])}if(R==1){v=a[u];
b.push(t[v>>2]+t[(v&3)<<4]+"==")}if(R==2){v=a[u];H=a[u+1];b.push(t[v>>2]+t[(v&3)<<4|H>>4]+t[(H&15)<<2]+"=")}var A=b.join("");
return A};Hx.OiN=function(l){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(64),N=0,z=0,A=0,Q=0;
for(var k=0;k<64;k++)a[k]=t.charCodeAt(k);var R=new Uint8Array(l),u=R.length,b=u%3,v=u-b,H=[],H=new Uint8Array(Math.floor(u/3)*4+(b==0?0:4));
for(var k=0;k<v;k+=3){N=R[k];z=R[k+1];A=R[k+2];H[Q]=a[N>>2];H[Q+1]=a[(N&3)<<4|z>>4];H[Q+2]=a[(z&15)<<2|A>>6];
H[Q+3]=a[A&63];Q+=4}if(b==1){N=R[v];H[Q]=a[N>>2];H[Q+1]=a[(N&3)<<4];H[Q+2]=61;H[Q+3]=61}if(b==2){N=R[v];
z=R[v+1];H[Q]=a[N>>2];H[Q+1]=a[(N&3)<<4|z>>4];H[Q+2]=a[(z&15)<<2];H[Q+3]=61}return H.buffer};Hx.prototype.vL=function(l){var t,a=l.target.qX;
if(l.target instanceof XMLHttpRequest)t=l.target.response;else t=l.target.result;Hx.Uw(a,t,this,l.target.Ozc);
this.vu();if(l.target instanceof XMLHttpRequest){this.zb=!1;this.vY()}};Hx.Uw=function(l,t,a,k){var R;
if(l.name)R=l.name.split(".")[0];else{if(l.url.substring(0,5)=="data:"||l.url.indexOf("googleapis")!=-1)R="image";
else R=l.url.substring(l.url.lastIndexOf("/")+1).split(".")[0];R=R.slice(0,50)}var u=new Uint8Array(t),b=Wr.Xv(t);
if(b==null)b=K.NU(u,0,4);if(b=="json"){var v="";for(var H=0;H<u.length;H++)v+=String.fromCharCode(u[H]);
v=decodeURIComponent(escape(v));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(v));return}if(b=="html"){var v=OK.Ei(u,0,u.length),N=new DOMParser,z=N.parseFromString(v,"text/html"),A=z.getElementsByTagName("meta");
for(var H=0;H<A.length;H++){var Q=A[H],S=Q.getAttribute("property"),o=Q.getAttribute("content"),p=null;
if(S=="og:image")p=o;if(S==null&&o&&o.startsWith("0;url=/imgres?")){var O=o.slice(14).split("&");for(var E=0;
E<O.length;E++)if(O[E].startsWith("imgurl"))p=decodeURIComponent(O[E].slice(7))}if(p==null)continue;
var L=new Z(w.E.J,!0);L.data={T:w.h.HJ,wd:{url:p,ft:!0,Tc:l.Tc}};a.t(L)}return}if(Wr.Dz(b)){var U,W=Wr.Dz(b);
if(l.Tc!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(b)!=-1){var L=new Z(w.E.J,!0);L.data={T:w.h.w_,target:l.Tc,BY:l.TF,NY:t,GZ:R};
a.t(L);return}if(W.oX){U=new Hb(R+(b=="psd"?"":"-"+b)+".psd");W.cq(t,U)}else{var Y=W.cq(t);if(Y[0].t33421){var L=new Z(w.E.J,!0);
L.data={T:w.h.op,Yo:Y[0]};a.t(L);return}U=Hx.Op(R,Y)}U.wT=l.wT;U.tX=l.url;U.kv=l.kv;U.kN=l.kN;if(U.kN)U.kN.ki=b;
if(k)k(U.Q[0].buffer,U.Q[0].rect);else{var L=new Z(w.E.J,!0);L.data={T:l.Tc==null?w.h.lT:w.h.w_,target:l.Tc,BY:l.TF,NY:U};
a.t(L)}return}var L=new Z(w.E.J,!0);L.data={T:w.h.kn,wT:"add",wd:null,hS:null};if(b=="asl"){var y=$o.sj(t);
L.data.wd=Wm.qo;L.data.hS=y.xi;a.t(L);L.data.wd=Wm.KI;L.data.hS=y.sA;a.t(L)}else if(b=="otf"){var y=Typr.parse(t);
L.data.wd=Wm.rA;for(var H=0;H<y.length;H++){L.data.hS=y[H];a.t(L)}}else if(b=="zip"){var C=Date.now(),X=UZIP.parse(t);
for(var M in X){Hx.Uw({name:M.split("/").pop()},X[M].buffer,a,k)}}else{var g="";for(var n in Wm.NL)if(Wm.NL[n][0]==b)g=n;
if(g!=""){L.data.hS=Wm.NL[g][2].sj(t);if(b=="abr"){}L.data.wd=g;a.t(L)}else alert("Unknown file format: "+JSON.stringify(b))}};
Hx.prototype.OPV=function(l){var t=new XMLHttpRequest;t.open("POST","https://api.imgur.com/3/image",!0);
t.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");t.setRequestHeader("Content-type","application/x-www-form-urlencoded");
t.setRequestHeader("Accept","application/json");t.addEventListener("load",this.OPA);t.send("type=base64&image="+encodeURIComponent(Hx.Oy(l)));
alert("Saving to Imgur ...",4e3)};Hx.prototype.OPA=function(l){var t=JSON.parse(l.target.response);if(t.success)window.open(t.data.link,"Imgur")};
Hx.Op=function(l,t){var a=t[0].lX&&t[0].lX.startsWith("_a_"),k,R=new Hb(l+".psd"),u=new d(0,0,1,1);if(a){k=R.Ow();
k.add.lsct=Oz.ON;k.wy(l);k.wk="pass";k.Ck=24;k.Ro(!0);R.Q.push(R.LA())}for(var b=0;b<t.length;b++){var v=t[b];
u=u.wm(v.Pk);var H=R.Ow();H.Ro(b==0);H.wy("Layer "+b);if(v.DS)R.DS=v.DS;if(v.lX)H.wy(v.lX);H.rect=v.Pk.clone();
H.buffer=new Uint8Array(v.data);$.to(H);R.Q.push(H)}if(a)R.Q.push(k);R._=[a?R.Q.length-1:0];R.$=u.$;
R.e=u.e;R.buffer=$.I(u.s()*4);R.i();return R};Hx.save=function(l,t){var a=new Uint8Array(l),k=document.createElement("a");
if(typeof k.download=="string"){var R=new Blob([a]),u=window.URL.createObjectURL(R);k.href=u;k.download=t;
document.body.appendChild(k);k.click();document.body.removeChild(k)}else{var b="data:application/octet-stream;base64,"+Hx.Oy(l);
window.open(b)}};function lH(){this.size=16;this.data=$.I(16)}lH.prototype.hf=function(l,t){if(l+t<=this.size)return;
var a=this.size;while(l+t>this.size)this.size*=2;var k=$.I(this.size);for(var R=0;R<a;R++)k[R]=this.data[R];
this.data=k};function O$(l){WF.call(this);this.qt=l;this.OzR=this.OPj.bind(this);this.OVA=this.OPB.bind(this);
this.OSI=this.OPh.bind(this);this.yJ=0;this.OVD=0;this.W=w.X("div","panelblock");this.tD=w.X("div","block");
this.qC=w.X("div","collapsed");this.W.appendChild(this.tD);this.OWC=-1;this.Sx=-1;this.zS=!0;this.Hk=w.X("div","panelhead");
this.tD.appendChild(this.Hk);this._r=w.X("div","");this.tD.appendChild(this._r);this.BD=[];this.qh=null;
this.yQ=null}O$.prototype=new WF;O$.prototype.Ov=function(){return null};O$.prototype.vX=function(){if(this.Ov()){this.yQ=this.Ov();
this._r.appendChild(this.yQ)}};O$.prototype.OPl=function(){if(this.yQ){this._r.removeChild(this.yQ);
this.yQ=null}};O$.prototype.AH=function(){for(var l=0;l<this.BD.length;l++)this.BD[l].Rv.QE()};O$.prototype.UH=function(){var l=new x(0,0);
for(var t=0;t<this.BD.length;t++){var a=this.BD[t].UH();l.x=Math.max(l.x,a.x);l.y=Math.max(l.y,a.y)}return l};
O$.prototype.Ag=function(){return this.Sx};O$.prototype.OPk=function(){return this.OWC};O$.prototype.fq=function(){this.zS=!0;
this.W.removeChild(this.qC);this.W.appendChild(this.tD)};O$.prototype.collapse=function(){this.zS=!1;
this.W.appendChild(this.qC);this.W.removeChild(this.tD)};O$.prototype.OPm=function(){return 26+this._r.getBoundingClientRect().height};
O$.prototype.ci=function(l,t){this.Hk.setAttribute("style","max-width: "+l+"px");var a=this.Hk.getBoundingClientRect().height;
a=26;if(this.Sx!=-1)this.BD[this.Sx].ci(l,t-a)};O$.prototype.gO=function(l,t){this.BD[this.Sx].gO(l,t)};
O$.prototype.oA=function(l){this.BD[this.Sx].oA(l)};O$.prototype.fa=function(l){this.OPl();if(this.BD.indexOf(l)!=-1){this.qk(this.BD.indexOf(l));
return}l.parent=this;this.BD.push(l);this.Hk.appendChild(l.EC);l.EC.addEventListener("mouseover",this.OzR,!1);
this.qC.appendChild(l.Rv.W);l.Rv.a("click",this.vB,this);l.a("select",this.ve,this);l.a(w.E.sD,this.vo,this);
this.qk(this.BD.length-1)};O$.prototype.OPj=function(l){if(l.buttons==0)return;var t=l.currentTarget,a=t,k=0;
while((a=a.previousSibling)!=null)k++;this.OVD=k;t.addEventListener("mouseout",this.OVA,!1);this.yJ=setTimeout(this.OSI,700)};
O$.prototype.OPB=function(l){var t=l.currentTarget,a=t,k=0;while((a=a.previousSibling)!=null)k++;t.removeEventListener("mouseout",this.OVA);
clearTimeout(this.yJ)};O$.prototype.OPh=function(l){this.t(new Z(w.E.os,!1))};O$.prototype.OPv=function(l){return this.OVD};
O$.prototype.Ut=function(l){this.OWC=l;this.t(new Z(w.E.sD,!1));var t=this.BD[l];this.BD.splice(l,1);
this.Hk.removeChild(t.EC);this.qC.removeChild(t.Rv.W);t.EC.setAttribute("class","");t.Rv.removeEventListener("click",this.vB,this);
t.Rv.QE();t.removeEventListener("activate",this.ve);t.removeEventListener(w.E.sD,this.vo);var a=this.Sx;
if(l<a)a--;else if(l==a&&l==this.BD.length)a--;this.qk(a);if(this.BD.length==0)this.vX()};O$.prototype.qk=function(l,t){if(t==null)t=!0;
for(var a=0;a<this.BD.length;a++)this.BD[a].EC.setAttribute("class","");if(this.qh)this._r.removeChild(this.qh);
this.qh=null;this.Sx=l;if(l==-1)return;var k=this.BD[this.Sx];this.qh=k.PY;this._r.appendChild(k.PY);
k.EC.setAttribute("class","active");if(!this.zS){this.t(new Z("showFloat"));this.BD[l].Rv.AN()}if(t)this.t(new Z(w.E.z,!1));
k.Ux()};O$.prototype.ve=function(l){if(this.qt&&!this.qt.AO())return;var t=this.BD.indexOf(l.currentTarget);
this.qk(t)};O$.prototype.vo=function(l){if(this.qt&&!this.qt.AO())return;var t=this.BD.indexOf(l.currentTarget);
this.Ut(t)};O$.prototype.vB=function(l){var t=this.BD.indexOf(l.currentTarget.parent);if(this.BD[t].Rv.HK())this.t(new Z("hideFloat"));
else this.qk(t)};O$.prototype.OnU=function(l){this.t(l)};function $I(l){O$.call(this,l);this.Oiw=0;this.Hx=[];
this.pH=[];this.OSb=this.OkM.bind(this);this.OVi=this.OkC.bind(this);this.jc=this.fy.bind(this);this.An(this._r);
this.An(this.Hk);this.wx=w.X("div","intro");this.$D=["default;"];this.OKD="";var t=w.X("ul");t.setAttribute("style","margin:0;  padding:160px 0px 0 113px; font-size:1.8em;");
this.wx.appendChild(t);this.hI=[];var a=[[11,7],[1,6],"pea.psd","milk.sketch"],k=w.X("li");for(var R=0;
R<a.length;R++){if(R==2){var u=new Wa("Demo: ");k.appendChild(u.W)}var b=a[R],v=new Wa(b);v.a("click",this.Okr,this);
k.appendChild(v.W);this.hI.push(v);if(R==0||R==1||R==3||R==a.length-1){t.appendChild(k);k=w.X("li")}}var H=w.X("div");
H.setAttribute("style","margin:0;  padding:30px 22px 0 26px; font-size:1.1em");this.wx.appendChild(H);
this.OSS={};var N=["en"],z=navigator.languages;if(z)for(var R=0;R<z.length;R++){var A=z[R].split("-")[0].toLowerCase();
if(N.indexOf(A)==-1)N.push(A)}for(var R=0;R<N.length;R++){var A=N[R],v=new Wa((Wq.Gb(A)==-1?"*":"")+A.toUpperCase());
v.a("click",this.vt,this);v.zn=A;H.appendChild(v.W);this.OSS[A]=v}var Q=w.X("span");Q.setAttribute("style","float:right");
H.appendChild(Q);for(var R=0;R<HN.DE.length;R++){var S=HN.DE[R],v=new Wa("<span style=\"display:inline-block; width:10px; height:10px; background-color:#"+$.mW(S["--bg-color"])+";\"></span>");
v.a("click",this.vt,this);v.OSr=R;Q.appendChild(v.W)}}$I.prototype=new O$;$I.prototype.vt=function(l){var t=l.currentTarget,a;
if(t.zn!=null){var k=Wq.Gb(t.zn);if(k!=-1)a={T:w.h.kn,wd:Wm.o$,lang:k};else a={T:w.h.Kn,link:"https://www.photopea.com/translate?lang="+t.zn}}else a={T:w.h.kn,wd:Wm.Ia,Ek:t.OSr};
var R=new Z(w.E.J,!0);R.data=a;this.t(R)};$I.prototype.nu=function(l,t){l="cursor:"+l+";";if(t)this.$D.push(l);
else{var a=this.$D.length-1;if(this.$D[a]==l)return;this.$D[a]=l}this._r.setAttribute("style",this.$D[this.$D.length-1]+" "+this.zU)};
$I.prototype.OkO=function(){this.$D.pop();this._r.setAttribute("style",this.$D[this.$D.length-1]+" "+this.zU)};
$I.prototype.Okr=function(l){var t=this.hI.indexOf(l.target),a=new Z(w.E.J,!0);if(t==0)a.data={T:w.h.AG,XG:"newproject"};
if(t==1)a.data={T:w.h.sX};if(t>1)a.data={T:w.h.HJ,wd:{url:["images/pea.psd","images/milk.sketch"][t-2]}};
this.t(a)};$I.prototype.G=function(){for(var l=0;l<this.hI.length;l++)this.hI[l].G()};$I.prototype.Ov=function(){return this.wx};
$I.TR=function(l){l.stopPropagation();l.preventDefault()};$I.prototype.OkM=function(l){$I.TR(l);var t=l.currentTarget,a=this.Hx.indexOf(t);
this.pH[a]++;w.jI(t,"highlight")};$I.prototype.OkC=function(l){$I.TR(l);var t=l.currentTarget,a=this.Hx.indexOf(t);
this.pH[a]--;if(this.pH[a]==0)w.ls(t,"highlight")};$I.prototype.ci=function(l,t){t--;O$.prototype.ci.call(this,l,t);
this.zU="height:"+(t-(this.BD.length==0?3:25))+"px; width:"+l+"px; overflow:hidden;";this._r.setAttribute("style",this.$D[this.$D.length-1]+" "+this.zU);
var a=512,k=410,R=1,u="";if(l<a||t<k){if(l/a<t/k)R=l/a;else R=t/k}u+="background-image:url("+PIMG.intro+"); background-size: "+a+"px "+k+"px;";
u+="position:relative; top:"+Math.round((t-k)/2)+"px;  left: "+Math.round((l-a)/2)+"px; width:"+a+"px; height:"+k+"px;";
if(R!=1)u+="transform: scale("+R+","+R+");";if(this.wx)this.wx.setAttribute("style",u)};$I.prototype.An=function(l){if(this.Hx.indexOf(l)!=-1)return;
this.Hx.push(l);this.pH.push(0);l.addEventListener("dragenter",this.OSb,!1);l.addEventListener("dragleave",this.OVi,!1);
l.addEventListener("dragover",$I.TR,!1);l.addEventListener("drop",this.jc,!1)};$I.prototype.fy=function(l){this.OVi(l);
var t=null,a=l.currentTarget;if(a==this._r&&this.Sx!=-1)t=this.Sx;else if(a==this.Hk)t=null;else for(var k=0;
k<this.BD.length;k++)if(this.BD[k].EC==a)t=k;var R=l.dataTransfer.getData("Text");if(R=="")w.oY(l,this,t);
else if(t!=null){var u=new Z(w.E.J,!0);u.data={T:w.h.yP,OSf:t};this.t(u)}};$I.prototype.fa=function(l){O$.prototype.fa.call(this,l);
this.An(l.EC);w.Pe(l.EC,this.OkN.bind(this))};$I.prototype.Ut=function(l){var t=this.BD[l],a=this.Hx.indexOf(t.EC);
this.Hx.splice(a,1);this.pH.splice(a,1);O$.prototype.Ut.call(this,l)};$I.prototype.OkN=function(l){var t=this.Oiw;
this.Oiw=Date.now();if(Date.now()-t>300)return;var a=this.Hx.indexOf(l.currentTarget)-2,k=this.BD[a].NY.name,R=new Z(w.E.J,!0);
R.data={T:w.h.AG,XG:"namewindow",Eb:k.slice(0,k.length-4),P:s.sO,mk:_.zy};this.t(R)};function OO(){WF.call(this);
HN.yS(1);this.W=w.X("div","flexrow photopea");this.pi=w.X("div");this.W.appendChild(this.pi);this.hJ={x:0,y:0,bM:!1};
this.OWZ=!1;this.qv=!1;this.zE=null;this.Ogq=0;this.OgT=0;this.zK=0;if(w.mO(27))w.sv=window;else w.sv=this.W;
window.alert=function(z,A){this.WG.alert(z,A);console.log("Alert: "+z)}.bind(this);window.onmessage=function(z){if(z.data instanceof ArrayBuffer){var A=Wr.Xv(z.data),Q=Wr.Dz(A);
Hx.Uw({url:"file"},z.data,this);if(Q==null)this.Uh()}else if(z.data.charAt(0)=="{"||z.data.startsWith("amp-")||z.data.startsWith("0=goog")){clearTimeout(this.OAj)}else{var S=new Z(w.E.J,!0);
S.data={T:w.h.MV,yi:z.data};this.t(S);this.Uh()}}.bind(this);window.onbeforeunload=this.Obb.bind(this);
this.CQ={OVM:[{P:s.lM,z_:!0,Cu:[J.$K]},{P:s.Wu,z_:!1,Cu:[J.Px]},{P:s.wQ,z_:!1,Cu:[J.$K,J.Px]}],Xm:[[{P:new s.Ya,Wf:new OI}],[{P:new s.na,Wf:new $r},{P:new s.RF,Wf:new Av}],[{P:new s.Kf,Wf:new $F},{P:new s.eP,Wf:new $T},{P:new s.$S,Wf:new $G}],[{P:new s.lQ,Wf:new $C},{P:new s.Qz,Wf:new $_}],[{P:new s.L$,Wf:new Ai}],[{P:new s.Fg,Wf:new $A},{P:new s.ps,Wf:new AY}],"---",[{P:new s.Ke,Wf:new $s},{P:new s.qT,Wf:new $m},{P:new s.nE,Wf:new $j}],[{P:new s.HE,Wf:new $b},{P:new s.H_,Wf:new $z}],[{P:new s.Eu,Wf:new $n}],[{P:new s.qF,Wf:new $K}],[{P:new s.xr,Wf:new lq},{P:new s.gY,Wf:new $q}],[{P:new s.HS,Wf:new $k},{P:new s.ln,Wf:new $Y},{P:new s.lK,Wf:new $M}],[{P:new s.HF,Wf:new $E},{P:new s.Hm,Wf:new $S},{P:new s.lj,Wf:new $L}],"---",[{P:new s.Rm,Wf:new Ab}],[{P:new s.qa,Wf:new $X},{P:new s.Xn,Wf:new $e}],[{P:new s.Rs,Wf:new As},{P:new s.cu,Wf:new $y}],[{P:new s.Rect,Wf:new $p},{P:new s.ie,Wf:new $B},{P:new s.kK,Wf:new $w},{P:new s.XE,Wf:new $c},{P:new s.XK,Wf:new $t}],"---",[{P:new s.qq,Wf:new $d}],[{P:new s.NZ,Wf:new AL}]],keys:[J.Jx,J.fG,J.IL,J.Okk,J.iS,J.oq,null,J.Jn,J.Jb,J.Ic,J.E,J.Jz,null,J.JK,null,J.f,J.ra,J.h,J.kT,null,J.JS,J.IC],gm:[{P:new s.LK,Wf:new $v},{P:new s.L_,Wf:new $N}],zx:[{P:new WK.hd},{P:new WK.History},{P:new WK.hE},{P:new WK.AI},{P:new WK.Ax},{P:new WK.ET}],map:{},Ff:null,zF:null,pb:null};
var l={},t="";for(var a=0;a<this.CQ.Xm.length;a++){var k=this.CQ.Xm[a];if(k=="---")continue;for(var R=0;
R<k.length;R++){this.CQ.map[k[R].P.id]=k[R];k[R].ta=a;k[R].OSd=R;var u=Wq.get(k[R].P.name);t+="<li>"+k[R].P.id+": "+u+"</li>";
l[u]=this.CQ.keys[a]}}for(var a=0;a<this.CQ.gm.length;a++)this.CQ.map[this.CQ.gm[a].P.id]=this.CQ.gm[a];
for(var a=0;a<this.CQ.zx.length;a++)this.CQ.map[this.CQ.zx[a].P.id]=this.CQ.zx[a];for(var b in this.CQ.map){var v=this.CQ.map[b];
if(v.Wf)v.Wf.OgO(b,v.P.r$)}this.sl={OAx:!1,Dj:{FD:[],BN:[],list:[],Kh:null},xV:[],k$:[],pM:[],ObX:[],OKC:[],OKh:[],ZL:[],_t:[],ZP:{cH:1,Xj:JSON.parse(JSON.stringify(P.AL[0]))},ZA:JSON.parse(JSON.stringify(P.BF.default)),OlX:[null].concat(P.AL),OVw:[null].concat(P.AL),jF:new HA,To:{kj:[],Zl:null,SP:null},dv:[],rq:16711680,WR:0,qD:!1,md:!0,IJ:{gh:!0,qp:!1,t$:!0,tm:!0,cX:20,oP:0},rk:!0,Ty:[!0,!0,!0,!0,!0],Ek:1,pZ:!0,pY:{},pB:!0,compact:!1,wx:!0,BW:null,qV:null,O_O:null,zZ:null,BH:null};
this.sl.To=Wz.OK_();this.sl.jF.a(w.E.J,this.NQ,this);this.BI=new J;this.tu=new AT;this.CP=new WV;this.mz=new lU(this.CQ,!0);
this.G$=new Oa;this.Mc=new $I(this);this.mh=w.X("div");this.qR=!1;this.OAj=0;w.jI(this.Mc.W,"mainblock");
var H=this.pi;H.addEventListener("drop",this.Mc.jc,!1);H.addEventListener("dragover",$I.TR,!1);H.addEventListener("dragenter",$I.TR,!1);
H.addEventListener("dragleave",$I.TR,!1);this.tu.parent=this.CP.parent=this.mz.parent=this.G$.parent=this.Mc.parent=this;
this.Mc.a(w.E.z,this.Al,this);this.Mc.a(w.E.sD,this.Obv,this);this.Mc.a(w.E.os,this.Ozs,this);this.a("mouse",this.Af,this);
this.a(w.E.q,this.kM,this);this.a(w.E.J,this.NQ,this);document.body.addEventListener("keydown",this.wJ.bind(this),!1);
window.addEventListener("keyup",this.EV.bind(this),!1);window.addEventListener("resize",this.vJ.bind(this),!1);
window.addEventListener("paste",this.ObZ.bind(this),!1);window.addEventListener("copy",this.Obm.bind(this),!1);
window.addEventListener("blur",function(z){this.BI.reset()}.bind(this),!1);window.addEventListener("beforeinstallprompt",function(z){z.preventDefault();
this.sl.BW=z}.bind(this));if("serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(z){if(z.O__){console.log("Service worker installing")}else if(z.O_K){console.log("Service worker installed")}else if(z.active){console.log("Service worker active")}}).catch(function(z){console.log("Registration failed with "+z)})}this.O$n=0;
this.lt=[];this.k_=new Hx;this.k_.parent=this;this.He=new ly;this.He.parent=this;H.appendChild(this.He.W);
this.WG=new lz;this.WG.parent=this;H.appendChild(this.WG.W);H.appendChild(this.tu.W);H.appendChild(this.CP.W);
var N=this.OSa=w.X("div","flexrow");H.appendChild(N);N.appendChild(this.mz.W);N.appendChild(this.Mc.W);
N.appendChild(this.G$.W);this.k_.fZ({url:"rsrc/basic.zip"});this.FF(s.lM);WY.TC(this.Ob$.bind(this));
this.OlD=this._s.bind(this);window.requestAnimationFrame(this.OlD)}OO.prototype=new WF;OO.prototype.Uh=function(){if(window.parent!=window)window.parent.postMessage("done","*")};
OO.prototype.A_=function(){return w.sv[w.RW("vrt",2)]!=w.sv[w.RW("xksn",5)]};OO.prototype.Ob$=function(){var l=WY.vr();
if(l!=null&&l.globals!=null)this.vC(l.globals);if(!this.A_()||!this.sl.pB){this.vv();this.AY()}else{var t=w.RW("SIIFs",-5)+w.RW("qnQerwhwy",-3),a=w.YM(w.sv[t]),k=w.RW(w.mO(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
a[k](w.mD("vxik",-10),this.Obl.bind(this));a[w.RW("|~t~",13)](w.RW("ML\\",6),w.mD("o_me*^hej$_gb`",1));
a[w.RW("wjtk",4)]()}this.OWZ=!0;this.Uh();var R=new Z(w.E.J)};OO.prototype.Obl=function(l){var t=JSON.parse(l.target[w.mD("|n{wuswh",-10)]),a=w.sv[w.mD("YcVg^U]b",11)][w.mD("oaa_kj\\h",3)],k=w.sv[w.RW("Lj~p",8)][w.mD("ddk",10)]()/1e3,R=!1;
for(var u in t)if(u.indexOf(".")!=-1&&a.indexOf(u)!=-1&&parseInt(t[u])>k)R=!0;if(R)this.sl.pB=!1;var b=["hrxtyowyyyxv|t>t\x81\x80Bw\x88","rksyuzpxzzzyw}u?\x80x\x88Cx\x89","rksyuzpxz8y|px|v@u\x80\x84}\x8A\x88\x88\x8EI\x7F\x8C\x8B"];
for(var v=0;v<b.length;v++){var H=w.RW(b[v],2);if(a.indexOf(H)!=-1){var N=w.sv[w.RW("hti|unx\x7F",4)][w.RW("esi\x7F",3)],z=w.RW(">k5%y{\x81uoH.p}{\x7F\x83L\x8A|~\x8A|S{{~\x87\x84\x90\x8E\x95\x8F\x86]\x86\x91\x87\x8A\x93d\x90\x9A\x9A\xA1[\xA2\x99\xAB\x97mg\x9A\xA3Yv\x8E\xAD\xA0\\\xB1\xA6\xA4`\xA6\xA6\xAC\xB8\xB4\xB8g\xA9\xBD\x86\xAD\xBE|\x8C\x8B\xB1q\xC5\xC7\xCD\xC1\xBB\x94z\xBC\xC9\xC7\xCB\xCF\x98\xD6\xC8\xCA\xD6\xC8\x86\x85\xDA\xC8\xDA\xD0\xCF\xDF\xA9\x8F\xCD\xE3\xDF\xE1\x94\x93\xDC\xE7\xDB\xDD\xB5\x9B\xE2\xEF\xF0\xED\xF1\xB9\xAF\xB0\xF9\xFA\xFB\xB3\xD6\xEF\xF7\xFD\xF9\xFB\xF1\xEE\xBC\xF2\xFF\xFE\xB4\xD1\u010B\u010C\u010D\xC5\xE8\u0101\u0109\u010F\u010B\u010D\u0103\u0100\xCE\u0104\u0111\u0110\xE0\xD4\u0107\xE5\xE4\xD8\u0112\xDC\xEA",2);
w.BT(N);N[w.RW("lrskyP]WW",3)]=z;return}}this.vv();this.AY()};OO.prototype.AY=function(l){this.qv=!0;
if(!this.sl.wx)this.Mc.wx=null;else this.Mc.vX();this.Nh(Wm.CM);this.G();this.vJ();this.G$.oA(this.bk(),this.lt,this.sl)};
OO.prototype.vC=function(l){var t=this.sl;if(l.fcolor!=null)t.rq=l.fcolor;if(l.bcolor!=null)t.WR=l.bcolor;
if(l.rulers!=null)t.qD=l.rulers;if(l.extras!=null)t.md=l.extras;if(l.favFam!=null)t.dv=l.favFam;if(l.eparams){var a=l.eparams,k=t.IJ;
if(a.guides!=null)k.gh=a.guides;if(a.grid!=null)k.qp=a.grid;if(a.gsize!=null)k.cX=a.gsize;if(a.runits!=null)k.oP=a.runits;
if(a.paths!=null)k.t$=a.paths;if(a.pgrid!=null)k.tm=a.pgrid}if(l.lang!=null)Wq.OzK(l.lang);if(l.theme!=null)t.Ek=l.theme;
if(l.topt||t.zD){var R=l.topt?l.topt:{},u=t.zD?t.zD:{};for(var b in this.CQ.map){if(b>=100)continue;
var v="t"+b;this.CQ.map[b].P.as(R[v],u[v],this)}}};OO.prototype.vv=function(){if(this.sl.OAx)return;
this.sl.OAx=!0;var l=null,t=window.location.href,a=t.indexOf("="),k=t.indexOf("#");if(a!=-1)l=t.substring(t.indexOf("?")+1,a);
if(k!=-1){l="p";a=k}if(l=="p"||l=="state"){var R=t.substring(a+1,t.length);R=JSON.parse(decodeURI(R));
if(l=="p"){if(R.server)this.zE=R.server;if(R.resources)for(var u=0;u<R.resources.length;u++)this.k_.fZ({url:R.resources[u]});
if(R.files)for(var u=0;u<R.files.length;u++)this.k_.fZ({url:R.files[u],wT:{ys:R.server,ObU:R.script}});
if(R.environment==null)R.environment={};var b=R.environment;if(b.plugins!=null)this.G$.OSU(b.plugins);
if(b.localsave!=null)this.sl.pZ=b.localsave;if(b.customIO!=null)this.sl.pY=b.customIO;if(b.vmode!=null){var v=b.vmode;
if(v==1)this.sl.compact=!0;if(v==2)this.Aj()}if(b.intro!=null)this.sl.wx=b.intro;if(b.menus!=null)this.sl.OSy=b.menus;
if(b.tmnu!=null)this.sl.zD=b.tmnu;if(b.showpanels!=null)this.sl.OSB=b.showpanels;if(b.showtools!=null)this.sl.OVO=b.showtools;
if(b.phrases!=null)Wq.OKy(b.phrases);if(b.autosave!=null){window.setInterval(function(){var z=new Z(w.E.J);
z.data={T:w.h.xF};this.t(z)}.bind(this),b.autosave*1e3)}if(b.icons!=null){for(var H in b.icons){PIMG[H]=b.icons[H];
PIMG["__"+H]=!0}}this.vC(b)}else if(l=="state"){var N=this.k_;if(R.action=="create"){var z=new Z(w.E.J);
z.data={T:w.h.AG,XG:"newproject",Nz:R.folderId};this.t(z)}if(R.action=="open"){for(var u=0;u<R.ids.length;
u++)W$.Ns(function(){var A="https://www.googleapis.com/drive/v3/files/"+this.OSC+"?"+W$.Gx(),Q=new XMLHttpRequest;
Q.open("GET",A);Q.send();Q.onload=function(S){var o=JSON.parse(S.target.response);N.fZ({url:A+"&alt=media",name:o.name,kN:{file:o,ki:""}})}}.bind({OSC:R.ids[u]}));
alert("Loading files from Google Drive ...")}}}else{}};OO.prototype.G=function(){this.tu.G();this.G$.G();
this.mz.G();this.He.G();this.Mc.G();for(var l in this.CQ.map)if(this.CQ.map[l].Wf)this.CQ.map[l].Wf.G()};
OO.prototype.NT=function(){return w.sv[w.RW("ptih|ryy",4)][w.RW("q|pr",9)].indexOf("full")!=-1};OO.prototype.ci=function(l,t){l=Math.floor(l);
t=Math.floor(t);var a=document.getElementsByClassName("topfloat")[0],k=!this.qv||this.NT()||!this.sl.pB||WY.FG()!=null&&WY.FG().premium*1e3>Date.now()||l<500;
if(k){if(window.hideCap&&this.qv)window.hideCap()}else l-=135;if(l<900||!this.sl.pB||!this.qv)a.style.display="none";
else a.style.display="";if(k&&this.qR){this.W.removeChild(this.mh);this.mh.innerHTML="";this.qR=!1;a.style.right=0}if(!k&&!this.qR){var R=!1,u=w.X("div");
u.setAttribute("id","adsense");u.setAttribute("style","width:500px; height:500px;");document.body.appendChild(u);
u=document.getElementById("adsense");if(u==null)R=!0;else{if(!document.body.contains(u))R=!0;else if(u.getBoundingClientRect().width!=500)R=!0;
document.body.removeChild(u)}console.log(R);this.NG(R);var b=this.A_();if(b){this.W.appendChild(this.mh);
this.W.appendChild(this.pi)}else{this.W.appendChild(this.pi);this.W.appendChild(this.mh)}a.style.right=b?"0px":"135px";
this.mh.setAttribute("style","padding-top:2px;  overflow:hidden;");this.mh.style.paddingLeft=b?"0px":"15px";
this.mh.style.paddingRight=!b?"0px":"15px";this.qR=!0}var v=this.tu.Ku(),H=this.CP.Ku(),N=t-31-Math.max(H-1,0);
this.mh.style.height=t-3+"px";this.mz.ci(l,N);this.G$.ci(l,N);this.Mc.ci(l-this.mz.wj()-this.G$.wj(),N);
this.WG.ci(l,t);this.He.ci(l,t)};OO.prototype.NG=function(l){var t=function(){var v=new Z(w.E.J);v.data={T:w.h.AG,XG:"account"};
this.t(v)}.bind(this);w.BT(this.mh);if(!l&&!this.A_()){var a=w.X("div"),k;a.setAttribute("id","pp-ad-slot");
a.setAttribute("style","height:600px; width:120px;");this.mh.appendChild(a);if(Math.random()<-1){k="/162717810/CZ-photopea.com/120x600";
console.log("fc")}else{k="/21623892374/pp_tall";this.OAj=setTimeout(this.ObI.bind(this),8e3)}var R=document.createElement("script");
R.textContent="googletag.cmd.push(function() {"+" googletag.defineSlot('"+k+"', [120, 600], 'pp-ad-slot').addService(googletag.pubads());"+" googletag.pubads().enableSingleRequest();"+" googletag.enableServices();  }); "+" googletag.cmd.push(function() { googletag.display('pp-ad-slot'); });";
a.appendChild(R);var u=w.X("div");u.setAttribute("style","margin-top:7px");u.textContent="Sponsor links open in a new window.";
this.mh.appendChild(u)}else{var b=w.X("img");b.setAttribute("src","img/pp_tall.png");b.setAttribute("style","cursor:pointer;");
b.addEventListener("click",t,!1);this.mh.appendChild(b)}};OO.prototype.ObI=function(){this.NG(!1)};OO.prototype.Obb=function(l){for(var t=0;
t<this.lt.length;t++)if(this.lt[t].bZ())return"There is unsaved work in "+this.lt[t].name};OO.prototype.vJ=function(l){var t=window.innerWidth,a=window.innerHeight;
this.ci(t,a)};OO.prototype.Obm=function(l){console.log("systemCopy")};OO.prototype.ObZ=function(l){console.log("systemPaste");
if(!l.clipboardData)return;var t=l.target.tagName.toLowerCase();if(this.AX.indexOf(t)!=-1)return;var a=l.clipboardData.items;
if(a==null)return;var k=this.ObT.bind(this);if(this.lt.length==0)k=null;for(var R=0;R<a.length;R++){var u=a[R],b=u.getAsFile();
if(u.type.indexOf("text")!=-1){u.getAsString(this.ObD.bind(this))}if(u.type.indexOf("image")!=-1){var v=b;
if(v){v.name="image.png";this.k_.Oo([v],k)}}}};OO.prototype.ObD=function(l){if(l.startsWith("http")){if(l==this.sl.OVL)return;
this.sl.OVL=l;var t=new Z(w.E.J,!0);t.data={T:w.h.HJ,wd:{url:l,ft:!0}};this.t(t)}};OO.prototype.ObT=function(l,t){var a={buffer:l,rect:t},k=this.sl;
if(k.zZ)if($.cG(a.buffer,k.zZ.buffer)){return}if(k.qV){var R=new Z(w.E.q,!0);R.P=s.nb;R.data={T:"h_stepbck"};
this.t(R)}k.zZ=a;k.qV=a;var R=new Z(w.E.J,!0);R.data={T:w.h.EN};this.t(R)};OO.TR=function(l){l.stopPropagation();
l.preventDefault()};OO.prototype.NM=function(){if(Date.now()-this.OgT>1e3){if(this.He.fH()!=null)alert("Close the current window first.");
else alert("Escape or Confirm the current action (in the top menu).");this.OgT=Date.now()}};OO.prototype.kM=function(l){var t=this.bk();
if(t==null){alert("Open a document first.");return}var a=this.CQ;if(a.Ff!=l.P&&a.map[a.Ff].P.xI()&&l.P!=s.Wu&&l.P!=s.wQ){a.map[a.Ff].P.disable(t,this,this.sl,this.BI)}if(this.He.xI()&&l.dk!=!0){this.NM();
return}var k=this.CQ.map[l.P].P;k.kM(l.data,this,t,this.BI,this.sl);t.rm=!0};OO.prototype.NQ=function(l){var t=l.data.T;
if(t==w.h.yP){this.AE(l.data.OSf)}if(t==w.h.yO){this.G();this.vJ()}if(t==w.h.wW)this.vJ();if(t==w.h.yg)if(this.sl.BW){this.sl.BW.prompt();
this.sl.BW=null}if(t==w.h._e)this.WG.OiP(l.data);if(t==w.h.zN)this.WG.va(l.data);if(t==w.h.yA)this.WG.OIc(l.data.XC);
if(t==w.h.yl)this.WG.OIw(l.data.XC);if(t==w.h.wH)this.WG.Uc();if(t==w.h.gV)this.Mc.nu(l.data.fR,l.data.push);
if(t==w.h.oQ)this.Mc.OkO();if(t==w.h.yI)this.Mc.Ut(this.lt.indexOf(l.data.aO));if(t==w.h.Sp){var a=this.bk(),k=$.clone(a.FY()),R=a.Q[a._[0]],u=new d(0,0,a.$,a.e),b=Hb.m_()+"-d71c-11e5-b1ae-a548a96e5f9f",v=new Z(w.E.J,!0);
if(l.data.wd==0){var H={MU:u,name:a.name.split(".")[0],nr:k,id:b};v.data={T:w.h.kn,wT:"add",wd:Wm.qo,hS:[H]};
this.t(v)}if(l.data.wd==1){var N=$.I(u.s()*4);$.IK(N,4294967295);$.j.bz("norm",k,u,N,u,u,1);var z=$.I(u.s());
$.OW(N,z);$.sI(z);var A=$.wv(z,u),Q=$.I(A.s());$.co(z,u,Q,A);var S={MU:A,id:b,channel:Q},o=WH.zA(b),p=o.Brsh.v;
p.Dmtr.v.val=A.$;p.Spcn.v.val=10;v.data={T:w.h.kn,wT:"add",wd:Wm.cC,hS:{list:[{t:"Objc",v:o}],BN:[S],FD:[]}};
this.t(v);v.data={T:w.h.kn,wd:Wm.fr,_j:o};this.t(v)}if(l.data.wd==2){var O={Ir:R.getName(),si:b,_Y:new d(0,0,a.$,a.e),k:R.add.vmsk.clone().k};
$.r.CH(O.k,new WM(1/a.$,0,0,1/a.e,0,0));v.data={T:w.h.kn,wT:"add",wd:Wm.Tk,hS:[O]};this.t(v)}}if(t==w.h.HJ)this.k_.fZ(l.data.wd);
if(t==w.h.sX){var E=this.sl.pY.open,L=l.data.Ons;if(E&&L!=!0){var v=new Z(w.E.J,!0);v.data={T:w.h.MV,yi:E};
this.t(v)}else this.k_.Oix(L?this.Mc.Ag():null,l.data.Ogw)}if(t==w.h.yz){var U=l.data.Ogr,W=this.AJ(U);
if(U==Wm.KI){var u=new Hb;for(var Y=0;Y<W.length;Y++){var y=W[Y].YY.Lefx;if(y)WD.eV(y,u,this.sl.pM)}W={xi:u.add.Patt?u.add.Patt:[],sA:W}}var C=Wm.NL[U],k=C[2].DF(W);
Hx.save(k,C[1]+"."+C[0])}if(t==w.h.oe){var a=this.bk();if(a==null)return;if(a.SM){a.$d()}var X=this.sl.pY.publish;
if(X){var v=new Z(w.E.J,!0);v.data={T:w.h.MV,yi:X};this.t(v);return}var M=Wr.RT(a,"png");if(confirm("Your picture will be published at Imgur.com under a public URL (known only to you). Proceed?"))this.k_.OPV(M)}if(t==w.h.xF){var g=this.sl.pY.save,a=this.bk(),n=!1;
if(a==null)return;if(a.SM){a.$d()}if(a.kv){if(this.lt.indexOf(a.kv.Tr)!=-1){var k=new Uint8Array(Wr.PSD.Sn(a)),v=new Z(w.E.q,!0);
v.data={T:_.bV,NY:a.kv.Tr,data:k,id:a.kv.OOP};v.P=s.sO;this.t(v);alert("Smart Object updated")}n=!0}else if(a.kN){this.k_.OiF(a);
n=!0}else if(a.wT&&a.wT.ys){this.k_.OiD(a);n=!0}else if(l.data.qb){this.k_.OiZ(a,l.data.qb);n=!0}else if(g){var v=new Z(w.E.J,!0);
v.data={T:w.h.MV,yi:g};this.t(v);n=!0}if(n){a.DP=a.XD;a.lD=!0}else alert("Use File - Save as PSD")}if(t==w.h.wn){if(!this.sl.pZ){alert("function is disabled");
return}var g=this.sl.pY.saveAs;if(g){var v=new Z(w.E.J,!0);v.data={T:w.h.MV,yi:g};this.t(v);return}var a=this.bk();
if(a.SM){a.$d()}if(a.Q.length>8e3&&!confirm("Your document has "+a.Q.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var V=WY.FG()!=null&&WY.FG().premium*1e3>Date.now(),i=a.Xg()||a.kv&&a.kv.Tr.Xg();if(this.NT())i=!1;var f=new w.sv[(w.mD("Gc"+(w.mO(31)?"ue":"ve"),-3))]()[w.RW("edtNkqyykz",-2)]();
if(i&&!V&&f>2*15){w.sv[w.wA("clh]]c[",3)](w.wA("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-f+4*15)+w.wA(" rs}\x89\x8D\x83\x96V",-5));
return}var k=Wr.PSD.Sn(a);Hx.save(k,a.name);a.DP=a.XD;a.lD=!0}if(t==w.h.Kn)window.open(l.data.link,"_blank");
if(t==w.h.oo){if(this.He.xI()){this.NM();return}var a=this.bk(),R=a.Q[a._[0]],r=a.AV(R.add.SoLd.Idnt.v);
for(var Y=0;Y<this.lt.length;Y++){var e=this.lt[Y].kv;if(e!=null&&e.OOP==r._G&&e.Tr==a){this.Mc.qk(Y);
return}}Hx.Uw({name:r.OD,kv:{OOP:R.add.SoLd.Idnt.v,Tr:a}},r.raw.buffer,this)}if(t==w.h.wE){this.ObM()}if(t==w.h.xZ){this.Np(l.data.$_,l.data.jw)}if(t==w.h.EN){this.ObL()}if(t==w.h.MV){We.wO(l.data.yi,this)}if(t==w.h.K$)this.G$.$U(l.data.XG);
if(t==w.h.AG){if(!this.sl.pZ&&l.data.window=="saveforweb"){alert("function is disabled");return}this.He.$V(l.data.XG,this.bk(),l.data,this.lt,this.BI)}if(t==w.h.Sj)Hx.save(l.data.data,l.data.name);
if(t==w.h.lT){if(!this.He.xI()||l.dk)this.Obh(l.data.NY)}if(t==w.h.op){this.He.$V("rawpea",null,l.data,this.lt,this.BI)}if(t==w.h.w_){this.Mc.qk(l.data.target);
var v=new Z(w.E.q,!0);v.data={T:_.Qj,NY:l.data.NY,GZ:l.data.GZ,BY:l.data.BY};v.P=s.sO;this.t(v);this.FF(s.Yc)}if(t==w.h.oc){T.jS=!T.jS;
if(this.lt.length>0)this.bk().i()}if(t==w.h.Oit){this.AY()}if(t==w.h.ow){this.k_.Oo(l.data.data,null,l.data.Tc,l.data.TF)}if(t==w.h.iA){if(!this.He.fH()!=null)this.FF(l.data.P,l.data.EA)}if(t==w.h.ot){if(this.CQ.zF)this.FF(this.CQ.zF)}if(t==w.h.rx){var D=this.CQ.map[l.data.P].P,a=this.bk();
D.fE(l.data,this,a,this.BI,this.sl);if(a)a.rm=!0;this.RB()}if(t==w.h.kq){this.CQ.map[l.data.P].Wf.qO(l.data)}if(t==w.h.kn){var B=l.data.wd,h=l.data.hS,I=this.sl;
if(l.data.wT=="add"){var C=Wm.NL[B];if(C==null)I.jF.OAk(h);else{var j=this.AJ(B);if(B==Wm.cC){j.BN=j.BN.concat(h.BN);
j.FD=j.FD.concat(h.FD);j=j.list;h=h.list}for(var Y=0;Y<h.length;Y++)j.push(h[Y]);if(j.length!=h.length||B==Wm.iE||B==Wm.KI)alert(Wq.get(C[3])+" "+Wq.get([23,1])+".")}}if(l.data.wT=="del"){var C=Wm.NL[B],c=l.data.jz,j=this.AJ(B);
if(B==Wm.cC)j=j.list;for(var Y=0;Y<c.length;Y++)j[c[Y]]=null;for(var Y=0;Y<j.length;Y++)if(j[Y]==null){j.splice(Y,1);
Y--}alert(Wq.get(C[3])+" deleted.")}if(B==Wm.rd){var m=l.data.V;I.ZP=m;I.OlX[m.cH]=m.Xj}if(B==Wm.iY){var m=l.data.V;
I.ZA=m;var F=m.strokeEnabled.v,G=m.strokeStyleContent.v,q=F?{cH:1+P.BF.bt.indexOf(G.classID),Xj:G}:{cH:0};
I.OVw[q.cH]=q.Xj}if(B==Wm.TT){I.To=l.data.To}if(B==Wm.fr){I.Dj.Kh=l.data._j}if(B==Wm.IA){I.dv=l.data.sQ}if(B==Wm.tJ){if(l.data.mk==0)I.rq=l.data.V;
if(l.data.mk==1)I.WR=l.data.V;if(l.data.mk==2){var W_=I.rq;I.rq=I.WR;I.WR=W_}if(l.data.mk==3){I.rq=16777215;
I.WR=0}}if(B==Wm.eM){I.qD=!I.qD;this.vJ()}if(B==Wm.ey){I.md=!I.md;this.vJ()}var WU=I.IJ;if(B==Wm.Le){WU.t$=!WU.t$;
this.vJ()}if(B==Wm.Iq){WU.gh=!WU.gh;this.vJ()}if(B==Wm.eR){WU.qp=!WU.qp;this.vJ()}if(B==Wm.Lo){WU.tm=!WU.tm;
this.vJ()}if(B==Wm.eB){I.IJ=l.data.sQ;this.vJ()}if(B==Wm.LB){I.rk=!I.rk;this.vJ()}if(B==Wm.IG){I.Ty[l.data.yC]=!I.Ty[l.data.yC];
this.vJ()}if(B==Wm.o$){Wq.Obi(l.data.lang);this.G()}if(B==Wm.Ia){I.Ek=l.data.Ek;this.G()}this.Nh(B)}};
OO.prototype.AJ=function(l){var t=this.sl,a=[Wm.cC,Wm.rO,Wm.iU,Wm.qo,Wm.Tk,Wm.KI,Wm.iE],k=[t.Dj,t.xV,t.k$,t.pM,t.ZL,t._t,t.ObX];
return k[a.indexOf(l)]};OO.prototype.ObM=function(){this.Np();var l=this.bk();if(l==null)return;var t=l.Q[l._[0]],a=new Z(w.E.q);
if(t.td){a.P=s.QV;a.data={T:"remove",ER:"Cut Paths"}}else{a.P=s._a;a.data={T:"clear"}}this.t(a)};OO.prototype.Np=function(l,t){if(l==null)l=!1;
var a=this.sl;console.log("doCopy",l,t);var k=this.bk();if(k==null||k._.length==0)return;var R=k.Q[t==null?k._[0]:t],u=R.add.vmsk,b=R.add.vogk;
if(!l&&u&&(R.td||R.OY())&&u._.length!=0){var v=$.r.OzT(u.k,u._),H=[];for(var N=0;N<u._.length;N++)H.push(JSON.parse(JSON.stringify(b[u._[N]])));
a.BH=[v,H]}else{if(k.O==null)return;var z,A;if(l){var Q=new d(0,0,k.$,k.e);A=Q.gk(k.O.rect);z=$.I(A.s()*4);
$.BM(k.FY(),Q,z,A);$.$t(k.O.channel,k.O.rect,z,A)}else{var S=R.Qn(k,k.O);if(S==null){alert("Copied area is empty");
return}z=S.FJ;A=S.rect}a.qV={buffer:z,rect:A,Zn:new x(k.$,k.e)}}};OO.prototype.ObL=function(){console.log("doPaste");
var l=this.sl;if(this.lt.length>0){var t=this.bk(),a=t.Q[t._.length==0?t.Q.length-1:t._[0]],k=a.add.vmsk,R=new Z(w.E.q,!0);
if(l.BH!=null&&k&&(a.td||a.OY())){R.P=s.QV;R.data={T:"append",ER:"Paste Paths",Ug:l.BH[0],Zb:l.BH[1]}}else{if(l.qV==null)return;
if(a.cA>0||a.rect.wp()){R.P=s._a;R.data={T:"paste"}}else{R.P=s.sO;R.data={T:_.kP}}R.data.qV=l.qV}this.t(R)}};
OO.prototype.NC=function(){for(var l=0;l<this.lt.length;l++){var t=this.lt[l],a=!0,H="\t\t\tvar originalStem = app[\"active\"+\"Document\"].activeLayer;\t\t\t\t\t\tvar stemsAmount = 12;\t\t\tvar obj = {a:3, b:4};\t\t\tobj.a = obj.b + 3;\t\t\tfunction change(x) {  var loc = x;  loc += 4;  if(true) return loc*2;  }\t\t\tvar nv = change(3);\t\t\talert(change(6));\t\t\tvar pps = {\"a\":3,\"b\":4,\"c\":5};\t\t\tfor(var p in pps) alert(p);\t\t\tvar rnd=Math.random;\t\t\t\t\t\tvar angle = Math.floor(360 / stemsAmount);\t\t\tvar arr = [angle, angle];\t\t\talert(\"Hi from PP Script!\");\t\t\tvar narr = arr.slice(0);\t\t\t\t\t\tfor(var i = 1; i < stemsAmount; i++)\t\t\t{\t\t\t\tvar newStem = originalStem.duplicate();\t\t\t\t/*newStem.translate(-100+rnd()*200, -100+Math.random()*200);*/\t\t\t\tnewStem.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\t\t\t}\t\t\t//app.activeDocument.save();\t\t\t";
if(t.ZQ)continue;for(var k=0;k<t.Q.length;k++){var R=t.Q[k],u=R.add.TySh;if(u!=null&&!Hw.EE(u,this.sl.jF))a=!1}if(!a)continue;
if(t.y$)for(var k=0;k<t.Q.length;k++){var R=t.Q[k],u=R.add.TySh;if(u!=null&&Hw.EE(u,this.sl.jF)){var b=new HR(u.dH,this.sl.jF),v=Hw.zM(b,u);
R.rect=v.rect;R.buffer=v.nr;R.i();t.i()}}t.y$=!1;if(t.wT&&t.wT.ObU)We.wO(t.wT.ObU,this);this.Uh();t.ZQ=!0;
H=" var myFont = app.fonts.getByName(\"Arizona\"); app.activeDocument.layers[0].textItem.font = myFont.postScriptName;";
H="app.activeDocument.activeLayer.remove();";H="app.open(\"images/outline.psd\");";H="var TextLayer = app.activeDocument;\t\t\t\t\tvar myTextLayer = TextLayer.artLayers.add();\t\t\t\t\tmyTextLayer.kind = LayerKind.TEXT;\t\t\t\t\tvar myText = myTextLayer.textItem;\t\t\t\t\tmyText.size = 70;\t\t\t\t\tmyText.contents = \"Lorem Ipsum Text Boop\";\t\t\t";
H="function Point(x,y) {  this.x = x; this.y = y;  }";H="app.activeDocument.activeLayer.grouped=true;var set = app.activeDocument.layerSets.add();app.activeDocument.artLayers.getByName(\"Shape 1\").move(set, ElementPlacement.INSIDE);"}};
OO.prototype.Nh=function(l){if(l==Wm.fr){if(this.CQ.map[this.CQ.Ff].Wf)this.CQ.map[this.CQ.Ff].Wf.gO(this.sl,l)}else for(var t in this.CQ.map)if(this.CQ.map[t].Wf)this.CQ.map[t].Wf.gO(this.sl,l);
if(l==Wm.rA)this.NC();this.mz.gO(this.sl,l);this.He.gO(this.sl,l);this.Ly().gO(this.sl,l);this.G$.gO(this.sl,l);
this.tu.gO(this.sl,l);if(this.lt.length>0)this.bk().rm=!0;if(l==Wm.Ia||l==Wm.CM){HN.yS(this.sl.Ek);this.update(!0)}this.RB()};
OO.prototype.RB=function(){if(!this.OWZ)return;var l={},t=this.CQ.map;for(var a in t){var k=t[a].P;if(k.$v&&k.$v()!=null)l["t"+a]=k.$v()}var R=this.sl,u=R.IJ,b={fcolor:R.rq,bcolor:R.WR,rulers:R.qD,extras:R.md,favFam:R.dv,eparams:{guides:u.gh,grid:u.qp,paths:u.t$,pgrid:u.tm,gsize:u.cX,runits:u.oP},lang:Wq.SY(),theme:R.Ek,topt:l},v=WY.vr();
if(v==null)v={};v.globals=b;WY.Tj(v)};OO.prototype.Rt=function(){var l=this.BI,t=this.hJ,a=this.CQ.map[this.CQ.Ff].P,k=null;
for(var R=0;R<this.CQ.OVM.length;R++){var u=this.CQ.OVM[R],b=!0;for(var v=0;v<u.Cu.length;v++){var H=u.Cu[v];
if(!l.L(H))b=!1}if(b&&(!u.z_||!a.xI()))k=u.P}if(!t.bM&&this.CQ.pb!=k&&k!=this.CQ.Ff){this.CQ.pb=k;var N=this.bk();
this.Ly().enable(N,this,this.sl,this.BI,k!=null&&k!=this.CQ.Ff)}};OO.prototype.AQ=function(l){var t=this.CQ.Ff,a=this.bk();
if(t!=null){this.CQ.map[t].P.disable(a,this,this.sl,this.BI)}};OO.prototype.FF=function(l,t){var a=this.bk();
if(this.CQ.map[l].P.Jv(a,this.sl)){this.AQ();this.CQ.zF=this.CQ.Ff;this.CQ.Ff=l;this.mz.oA(this.CQ);
var k=this.CQ.map[l].Wf;this.CP.Oif(k);var R=this.CQ.map[l].P;R.enable(a,this,this.sl,this.BI,!1,t);
if(a)a.rm=!0;this.vJ()}};OO.prototype.Ly=function(l){if(this.CQ.pb&&l==null)return this.CQ.map[this.CQ.pb].P;
else return this.CQ.map[this.CQ.Ff].P};OO.prototype.Obh=function(l){var t=this.lt.indexOf(l);if(t!=-1){this.Mc.qk(t);
return}if(this.zE&&(l.wT==null||l.wT.ys==null)){l.wT={ys:this.zE}}if(l.tX==null){l.tX="local,"+this.Ogq+","+l.name;
this.Ogq++}for(var a=0;a<l.Q.length;a++){var k=l.Q[a];if(k.add.TySh!=null)Hw.EE(l.Q[a].add.TySh,this.sl.jF)}var R=w.sv[w.mD("Gc"+(w.mO(29)?"ue":"ve"),-3)];
R=R[w.mD("jj"+(!w.mO(27)?"p":"q"),4)];var u=Math.floor(R()/1e3),b=(w.mO(32)?2:1)*7e8+Math.PI*46472966;
if(u>b){l.Q=[];return}if(T.jS)T.OEE(Math.max(l.$,l.e));l.AU();l.bG();l.i();this.lt.push(l);this.Mc.fa(new lr(l));
l.rm=!0;this.NC();var v=new Z(w.E.J);v.data={T:w.h.AG,XG:"saveforweb",Zg:6};var v=new Z(w.E.q);v.P=s.nP;
v.data={T:"auto",E$:2}};OO.prototype.bk=function(){return this.lt[this.O$n]};OO.prototype.AO=function(){return this.He.fH()==null};
OO.prototype.Al=function(l){this.AQ();this.O$n=this.Mc.Ag();var t=this.bk();this.tu.OSh(t,this.sl);this.G$.oA(t,this.lt,this.sl);
this.vJ();if(t)t.rm=!0};OO.prototype.Obv=function(l){this.AQ();this.lt.splice(this.Mc.OPk(),1);if(this.lt.length==0){this.Al(l);
if(T.jS)T.Wz().parentNode.removeChild(T.Wz())}};OO.prototype.Ozs=function(l){var t=this.Mc,a=t.OPv(),k=this.Ly(),R=this.bk();
if(a==t.Ag()||!k.aM())return;this.AE(a,k)};OO.prototype.AE=function(l,t){var a=this.Mc,k=this.bk(),R=new Z(w.E.q,!0);
R.P=s.sO;R.data={T:_.bs,Q:k.bT(),Tr:k,fn:this.lt[l]};this.t(R);if(t)t.ap(k,this,this.sl,this.BI);a.qk(l);
if(t)t.yY(this.bk(),this,this.sl,this.BI,this.hJ)};OO.prototype.Af=function(l){var t=this.BI,a=this.sl,k=l.rX;
this.hJ=l.rX;var R=this.bk(),u=this.He.fH()!=null&&this.He.fH().ho()?this.He.fH():this.Ly();if(l.action=="down")u.yY(R,this,a,t,k);
if(l.action=="move")u.JP(R,this,a,t,k);if(l.action=="up")u.cV(R,this,a,t,k);if(l.action=="ctx")u.Jy(R,this,a,t,k);
var b=this.G$;if(l.action=="down")b.yY(R,this,a,t,k);if(l.action=="move")b.JP(R,this,a,t,k);if(l.action=="up")b.cV(R,this,a,t,k);
if(l.action=="down"||l.action=="up"){this.Rt()}if(l.action=="down"||l.action=="up"||l.action=="ctx"){R.rm=!0}if(l.action=="scroll"){var v=new Z(w.E.q,!0),H=l.pl.clone();
if(Math.abs(H.x)+Math.abs(H.y)<=2){H.x*=40;H.y*=40}v.data={T:"scroll",pl:H,rX:k};v.P=t.L(J.Bl)?s.wQ:s.Wu;
this.t(v)}};OO.prototype._s=function(l){var t=this.bk(),a=this.hJ;if(t&&this.Ly().ck(a)){var k=t.Y,R=k.cO.$,u=k.cO.e,b=0,v=0,H=16;
if(a.x<H)b=H-a.x;if(a.x>R-H)b=a.x-(R-H);if(a.y<H)v=H-a.y;if(a.y>u-H)v=a.y-(u-H);if((b!=0||v!=0)&&(t.$*k.H>R||t.e*k.H>u)){b=Math.min(5,b*.5);
v=Math.min(5,v*.5);if(!(a.x<H||a.y<H)){b=-b;v=-v}k.n.x+=b;k.n.y+=v;this.Af({rX:this.hJ,action:"move"});
t.da=!0}}this.update();window.requestAnimationFrame(this.OlD)};OO.prototype.update=function(l){var t=this.bk();
if(t==null)return;if(t.rm)this.Ly(!0).qU(t,this,this.sl,this.BI);if(t.SM){t.$d()}if(t.SM||t.fF||t.lD||t.da||l){this.Mc.gO(this.sl,null);
this.Mc.oA(t)}if((t.SM||t.da||t.rm)&&(!this.hJ.bM||t._R)){t.bG();this.G$.oA(t,this.lt,this.sl);this.mz.OSZ(t);
t.TS=!1}t._R=!1;t.rm=!1;t.SM=null;t.fF=t.lD=t.da=!1};OO.prototype.AX=["input","textarea","select"];OO.prototype.AD=function(l){var t=l.code,a=J.uS;
return!a(t,J.ZR)&&!a(t,J.$K)&&!a(t,J.Bl)};OO.prototype.wJ=function(l){var t=l.target.tagName.toLowerCase();
if(this.AX.indexOf(t)!=-1&&this.AD(l)||t=="button"&&(J.uS(l.code,J.KX)||J.uS(l.code,J.Lv)))return;if(J.Lc(l)){l.preventDefault()}this.BI.Oie(l.code);
this.Bd("down")};OO.prototype.EV=function(l){if(J.uS(l.code,J.Lw))this.BI.reset();this.BI.Oio(l.code);
var t=l.target.tagName.toLowerCase();if(this.AX.indexOf(t)!=-1&&this.AD(l))return;if(J.Lc(l)){l.preventDefault()}this.Bd("up")};
OO.prototype.Bd=function(l){var t=this.BI,a=this.bk();this.Rt();var k=this.fB(J.$K);if(k&&t.L(J.IC)&&l=="down"){var R=new Z(w.E.q),u=new Z(w.E.J);
R.P=s.nb;if(t.L(J.Bl)){R.data={T:"h_stepbck"}}else if(t.L(J.hV)){R.data={T:"h_stepfwd"}}else{R.data={T:"h_undoredo"}}if(this.He.fH()!=null&&this.He.fH().xI()){}else this.t(R)}if(k){var R=new Z(w.E.q),u=new Z(w.E.J);
if(t.L(J.OkH)){R.P=s.MQ;R.data={T:"trim"}}if(t.L(J.h)){R.P=s.qw;R.data={T:"all"}}if(t.L(J.gf)){R.P=s.qw;
R.data={T:"deselect"}}if(t.L(J.qG)){R.P=s.qK;R.data={T:"applylast"}}if(t.L(J.Jn)){R.P=s.sO;R.data={T:_.dp}}for(var b in WT.keys){var v=WT.keys[b],H=!0;
for(var N=0;N<v.length;N++)if(!t.L(v[N]))H=!1;if(H){R.P=s.nP;R.data={T:"start",GN:b}}}if(t.L(J.oq)&&t.L(J.hV)){R.P=s.qw;
R.data={T:"inverse"}}if(t.L(J.YR)){u.data={T:w.h.AG,XG:"newproject"}}if(t.L(J.JK)){u.data={T:w.h.sX};
t.reset()}if(t.L(J.Ic)&&l=="down"){if(t.L(J.hV)){if(t.L(J.Bl))u.data={T:w.h.AG,XG:"saveforweb"};else u.data={T:w.h.wn}}else u.data={T:w.h.xF}}if(t.L(J.oD)||t.L(J.JW)){R.P=s.sO;
R.data={T:_.de,mk:0};var z=t.L(J.hV);if(t.L(J.oD))R.data.mk=z?3:2;else R.data.mk=z?0:1}if(t.L(J.f)){u.data={T:w.h.iA,P:s.Yc}}if(t.L(J.oT)){u.data={T:w.h.AG,XG:"preferences"}}if(t.L(J.JZ)){u.data={T:w.h.wE}}if(t.L(J.iS)){u.data={T:w.h.xZ,$_:t.L(J.hV)}}if(t.L(J.Jx)){u.data={T:w.h.EN}}if(t.L(J.OkP)){u.data={T:w.h.kn,wd:Wm.eM}}if(t.L(J.JS)){u.data={T:w.h.kn,wd:Wm.ey}}if(t.L(J.Jz)){if(t.L(J.Bl)&&a.bW(a._[0])){R.P=s.sO;
R.data={T:_.Ou}}else{R.P=s.sO;R.data={T:_.kU}}}if(l=="down"&&t.L(J.E)){R.P=s.sO;if(a._.length==1&&a._[0]!=0&&!a.Q[a._[0]].PA())R.data={T:_.fL};
else if(a._.length>1)R.data={T:_.PS}}if(t.L(J.OPS)){u.data={T:w.h.kn,wd:Wm.Iq}}if(t.L(J.OPn)){u.data={T:w.h.kn,wd:Wm.eR}}if(t.L(J.Iu)||t.L(J.OPx)){R.P=s.wQ;
R.data={T:"zoom",Kx:!0}}if(t.L(J.or)){R.P=s.wQ;R.data={T:"zoom",Kx:!1}}if(t.L(J.Jq)){R.P=s.wQ;R.data={T:"adapt",V:"fitscr"}}if(t.L(J.JT)){R.P=s.wQ;
R.data={T:"adapt",V:"pixel"}}if(this.He.fH()!=null&&this.He.fH().xI()){}else{if(R.data)this.t(R);if(u.data)this.t(u)}}if(!t.L(J.$K)&&!t.L(J.Bl)&&!t.L(J.hV)&&l=="down"){var R=new Z(w.E.q),u=new Z(w.E.J),A=this.CQ.map[this.CQ.Ff],Q=-1;
for(var N=0;N<this.CQ.keys.length;N++)if(this.CQ.keys[N]&&this.fB(this.CQ.keys[N]))Q=N;if(Q!=-1){var S;
if(A.ta!=Q)S=0;if(A.ta==Q)S=(A.OSd+1)%this.CQ.Xm[Q].length;var o=this.CQ.Xm[Q][S].P.id,p=this.sl.OVO;
if((p==null||p.indexOf(parseInt(o))!=-1)&&!this.hJ.bM)u.data={T:w.h.iA,P:o}}if(t.L(J.JZ))u.data={T:w.h.kn,wd:Wm.tJ,mk:2};
if(t.L(J.gf))u.data={T:w.h.kn,wd:Wm.tJ,mk:3};if(u.data)this.t(u);var a=this.bk(),O=a?a.Y.nV:0;R.P=s.wQ;
if(a&&t.L(J.ZR)&&O!=0){R.data={T:"mskView",V:0}}if(a&&t.L(J.OPL)){R.data={T:"mskView",V:O==1?0:1}}if(a&&t.L(J.OPc)){R.data={T:"mskView",V:O==2?0:2}}if(R.data)this.t(R);
var E=t.oW();if(E!=-1&&this.fB(J.oC[E])){var L=a._[0],U=a.Q[L],W=w.oa(Math.round(100*U.opacity/255),E);
R.P=s.sO;R.data={T:_.dn,u:L,sQ:Math.round(255*W/100)};this.t(R)}}if(!t.L(J.$K)&&!t.L(J.Bl)&&t.L(J.hV)){var R=new Z(w.E.q),u=new Z(w.E.J);
if(t.L(J.Okl))u.data={T:w.h.AG,XG:"shortcuts"};if(t.L(J.ObF))u.data={T:w.h.AG,XG:"fill"};if(t.L(J.Iu)||t.L(J.or)){var L=a._[0],U=a.Q[L],Y=HO.Rr,y=Y.length,C=Y.indexOf(U.wk);
R.P=s.sO;R.data={T:_.bi,sQ:(C+y+(t.L(J.Iu)?1:-1))%y};this.t(R)}if(u.data)this.t(u)}if(t.L(J.Lv))this.Aj();
var R=new Z(w.E.q),X=l=="down"&&(this.fB(J.tQ)||this.fB(J.od));if(t.L(J.Bl)&&X){R.P=s._a;R.data={T:"fill",cH:0};
this.t(R)}else if(k&&X){R.P=s._a;R.data={T:"fill",cH:1};this.t(R)}else if(X){if(a.O!=null){R.P=s._a;
R.data={T:"clear"}}else{R.P=s.sO;R.data={T:_.Gu}}this.t(R)}var a=this.bk();if(this.WG.fH()!=null){if(t.L(J.ZR)){this.WG.Oi_()}}else if(this.He.fH()!=null){if(t.L(J.ZR)){this.He.fH().pd()}else{this.He.fH().Bd(a,this,this.sl,t)}}if(this.CQ.Ff==null)return;
var A=this.Ly();if(!this.He.fH()!=null||this.CQ.pb)A.Bd(a,this,this.sl,t)};OO.prototype.fB=function(l){var t=this.BI,a=this.CQ.map[this.CQ.Ff].P,top=this.He.fH();
return t.L(l)&&!a.rC(l)&&(top==null||!top.rC(l))};OO.prototype.Aj=function(){var l=this.OSa,t=this.pi;
if(this.zK==0){t.removeChild(this.CP.W);l.removeChild(this.mz.W);l.removeChild(this.G$.W)}else{t.appendChild(this.CP.W);
t.appendChild(l);l.appendChild(this.mz.W);l.appendChild(this.Mc.W);l.appendChild(this.G$.W)}this.zK=!this.zK;
this.vJ()};function A_(l){WF.call(this);if(l==null)return;this.W=w.X("div","sbar"+" "+l);this.TV=new w.X("div","top");
this.TV.innerHTML="> <";this.W.appendChild(this.TV);this.BP=1;this.TV.addEventListener("click",this.OzQ.bind(this),!1)}A_.prototype=new WF;
A_.prototype.OzQ=function(l){if(this.BP==0)this.fq();else this.collapse()};A_.prototype.AT=function(){this.BP=1-this.BP;
this.TV.innerHTML=this.BP==0?"< >":"> <"};A_.prototype.Au=function(){var l=new Z(w.E.J,!0);l.data={T:w.h.wW};
this.t(l)};A_.prototype.fq=function(){this.AT();this.Au()};A_.prototype.collapse=function(){this.AT();
this.Au()};function Os(l){A_.call(this,"vcolumn");this.TH=l;this.$P();this.$Z=w.X("div");this.$Z.setAttribute("style","cursor:default;");
this.OSN=this.Ozy.bind(this);this.OAC=this.OzC.bind(this);this.OgV=this.OSO.bind(this);w.Ox(this.W,this.OSN);
this.W.appendChild(this.$Z);this.zj=w.X("div","");this.$Z.appendChild(this.zj);this.Ba=null;this.Bh=w.X("div","float");
this.MJ=[];this.Oky=null;this.Obd=0}Os.prototype=new A_;Os.prototype.Ozy=function(l){if(l.target!=this.W)return;
if(this.BP==0)return;this.Oky=w.LV(l,document.body);this.Obd=this.TH;w.iZ(document,this.OAC);w.Pe(document,this.OgV)};
Os.prototype.OzC=function(l){var t=w.LV(l,document.body);this.TH=this.Obd+this.Oky.x-t.x;this.$P();var a=new Z(w.E.J,!0);
a.data={T:w.h.wW};this.t(a)};Os.prototype.OSO=function(l){w.QU(document,this.OAC);w.MH(document,this.OgV)};
Os.prototype.OSA=function(l){l.a("showFloat",this.OSk,this);l.a("hideFloat",this.$$,this);this.MJ.push(l);
l.parent=this;this.$Z.appendChild(l.W)};Os.prototype.AH=function(){for(var l=0;l<this.MJ.length;l++)this.MJ[l].AH()};
Os.prototype.OSk=function(l){this.$$(l);this.zj.appendChild(this.Bh);this.Ba=l.currentTarget.tD;this.Bh.appendChild(this.Ba);
var t=l.currentTarget.UH(),a="";if(t.x!=0)a+="width : "+t.x+"px;";if(t.y!=0)a+="height: "+t.y+"px;";
this.Bh.setAttribute("style",a);this.ci(this.wa,this.Ii)};Os.prototype.$$=function(l){this.AH();if(this.Ba){this.zj.removeChild(this.Bh);
this.Bh.removeChild(this.Ba);this.Ba=null}};Os.prototype.$P=function(){this.W.setAttribute("style","width: "+this.TH+"px; padding-left:3px; cursor:ew-resize;")};
Os.prototype.fq=function(){this.$P();this.$$();for(var l=0;l<this.MJ.length;l++)this.MJ[l].fq();A_.prototype.fq.call(this)};
Os.prototype.collapse=function(){this.W.removeAttribute("style");for(var l=0;l<this.MJ.length;l++)this.MJ[l].collapse();
A_.prototype.collapse.call(this)};Os.prototype.ci=function(l,t){this.wa=l;this.Ii=t;var a=this.MJ.length;
t-=6;if(a==0)return;l=this.TH;var k=t;for(var R=0;R<a-1;R++){var u=this.MJ[R],b=u.OPm();u.ci(l,b);k-=b}this.MJ[a-1].ci(l,k)};
function Oa(){WF.call(this);this.GT=null;this.OSW=!0;this.Ln=Oa.ra;this.W=w.X("div","rightbar");this.CE=[new Os(380),new Os(265)];
this.MJ=[[new O$,new O$,new O$,new O$],[new O$,new O$]];for(var l in this.Ln){var t=this.Ln[l];this.MJ[t.xL][t.OB].fa(t.jn)}this.MJ[1][0].qk(0)}Oa.prototype=new WF;
Oa.prototype.G=function(){for(var l in this.Ln){this.Ln[l].jn.G()}};Oa.ra={history:{jn:new lc,xL:1,OB:0},swatches:{jn:new lw,xL:1,OB:0},layers:{jn:new H_,xL:1,OB:1},info:{jn:new lj,xL:0,OB:0},histogram:{jn:new A$,xL:0,OB:0},properties:{jn:new Hr,xL:0,OB:0},css:{jn:new AN,xL:0,OB:0},brush:{jn:new WC,xL:0,OB:1},character:{jn:new Aw,xL:0,OB:2},paragraph:{jn:new Ah,xL:0,OB:2},layercomps:{jn:new lJ,xL:0,OB:3}};
Oa.prototype.OSU=function(l){for(var t=0;t<l.length;t++){var a=l[t],k="plg_"+a.name;Oa.ra[k]={jn:new $g(a),xL:0,OB:3};
this.$U(k);this.$U(k)}};Oa.prototype.gO=function(l,t){this.GT=l;for(var a in this.Ln)this.Ln[a].jn.gO(l,t)};
Oa.prototype.ci=function(l,t){this.wa=l;this.Ii=t;if(this.OSW==!0&&l!=0&&this.GT!=null){this.OSW=!1;
var a=this.GT.OSB;if(a==null)a=[1,1];for(var k=0;k<this.CE.length;k++){if(a[k]==0||a[k]==null)continue;
var R=this.CE[k];R.parent=this;this.W.appendChild(R.W);var u=this.MJ[k];for(var b=0;b<u.length;b++){if(a[k]instanceof Array&&a[k].indexOf(b)==-1)continue;
R.OSA(u[b])}}this.CE[0].collapse();if(this.wa<500||this.GT.compact){this.CE[1].collapse()}}this.CE[0].ci(l,t);
this.CE[1].ci(l,t)};Oa.prototype.$U=function(l){var t=this.Ln[l];this.MJ[t.xL][t.OB].fa(t.jn)};Oa.prototype.oA=function(l,t,a){for(var k in this.Ln)this.Ln[k].jn.oA(l,t,a)};
Oa.prototype.yY=function(l,t,a,k,R){for(var u in this.Ln)this.Ln[u].jn.yY(l,t,a,k,R)};Oa.prototype.JP=function(l,t,a,k,R){for(var u in this.Ln)this.Ln[u].jn.JP(l,t,a,k,R)};
Oa.prototype.cV=function(l,t,a,k,R){for(var u in this.Ln)this.Ln[u].jn.cV(l,t,a,k,R)};function lU(l,t){A_.call(this,"toolbar");
this.zT=null;this.wD=w.X("div","tools");this.W.appendChild(this.wD);this.MA=null;this.Onr=t;this.CQ=null;
this.BD=null;this.wP=null;this.xp=null;this.AB(l);this.rq=new OD;this.rq.a(w.E.z,this.nI,this);this.rq.parent=this;
this.WR=new OD;this.WR.a(w.E.z,this.nI,this);this.WR.parent=this;this.za=w.X("span","scont");this.cS=w.X("button","switch");
this.cS.textContent="\u21F5";this.Tl=w.X("button","switch");this.Tl.textContent="D";var a=this.OSY.bind(this);
this.cS.addEventListener("click",a,!1);this.Tl.addEventListener("click",a,!1);this.za.appendChild(this.cS);
this.za.appendChild(this.Tl)}lU.prototype=new A_;lU.prototype.OSZ=function(l){if(l==null||l._.length==0)return;
var t=l.Q[l._[0]].cA,a=t==1||t==3;this.rq.yG(a);this.WR.yG(a)};lU.prototype.AB=function(l){this.zT=l;
this.BD=[];this.wP=[];this.xp=[];this.CQ=[];var t=l.Xm;if(this.MA){var a=[],k=this.MA.OVO;for(var R=0;
R<t.length;R++){if(t[R]=="---"){a.push("---");continue}var u=[];for(var b=0;b<t[R].length;b++){var v=t[R][b];
if(k==null||k.indexOf(parseInt(v.P.id))!=-1)u.push(v)}if(u.length>0)a.push(u)}t=a}for(var R=0;R<t.length;
R++){if(t[R]=="---"){this.xp.push(null);this.wP.push("---");continue}var H=[],N=this.BD.length;for(var b=0;
b<t[R].length;b++){var v=t[R][b].P;this.CQ.push(v);var z=new gP(v.name,l.keys[R],v.r$,this.BD.length,R,t[R].length>1);
this.BD.push(z);if(b==0)this.wP.push(z);z.a(w.E.z,this.kt,this);z.a("mover",this.wL,this);H.push({name:v.name,Ht:v.r$,Cu:l.keys[R]?l.keys[R].cj:""})}if(H.length==1)this.xp.push(null);
else{var A=new HY(H);A.Onu=N;A.ta=R;this.xp.push(A);A.a("select",this.OSG,this);A.parent=this}}};lU.prototype.ci=function(l,t){var a=t-11,k=32;
if(1<w.m()&&w.m()<1.5)k=18+14*(1/w.m());var R=(this.wP.length-3)*k+3*5+61,u=Math.min(1,a/R);if(.75<=u){this.wD.setAttribute("style","widt:34px; transform-origin: top left; transform: scale("+u+","+u+");");
this.W.setAttribute("style","height:"+(t-2)+"px; overflow:hidden")}else{a-=4;this.wD.setAttribute("style","height: "+a+"px;  width:"+Math.ceil(R/a)*34+"px");
this.W.setAttribute("style","")}};lU.prototype.G=function(){for(var l=0;l<this.BD.length;l++)this.BD[l].G();
for(var l=0;l<this.xp.length;l++)if(this.xp[l])this.xp[l].G();this.cS.setAttribute("title",Wq.get([22,7,0])+" (X)");
this.Tl.setAttribute("title",Wq.get([22,7,1])+" (D)")};lU.prototype.kt=function(l){var t=new Z(w.E.J,!0);
t.data={T:w.h.iA,P:this.CQ[l.id].id};this.t(t)};lU.prototype.OSG=function(l){var t=l.target.Onu+l.target.Mf()[0];
this.BD[t].GW(null)};lU.prototype.wL=function(l){var t=new Z(w.E.J,!0);t.data={T:w.h.wH};this.t(t);var a=l.target,k=this.xp[a.ta];
if(k==null)return;var R=a.W.getBoundingClientRect(),t=new Z(w.E.J,!0);t.data={T:w.h._e,jn:k,x:R.left+R.width+8,y:R.top};
this.t(t)};lU.prototype.nI=function(l){var t=new Z(w.E.J,!0);t.data={T:w.h.kn,wd:Wm.tJ,mk:l.target==this.rq?0:1,V:l.target.tI()};
this.t(t)};lU.prototype.OSY=function(l){var t=new Z(w.E.J,!0);t.data={T:w.h.kn,wd:Wm.tJ,mk:l.currentTarget==this.cS?2:3};
this.t(t)};lU.prototype.FF=function(l){var t=-1;for(var a=0;a<this.CQ.length;a++)if(this.CQ[a].id==l)t=a;
for(var a=0;a<this.BD.length;a++){var k=this.BD[a];k.OSJ(t==a)}if(t==-1)return;this.wP[this.BD[t].ta]=this.BD[t];
w.BT(this.wD);var R=this.wP;for(var a=0;a<R.length;a++){if(R[a]=="---")this.wD.appendChild(w.X("hr"));
else this.wD.appendChild(R[a].W)}if(!this.Onr)return;this.wD.appendChild(this.rq.W);this.wD.appendChild(this.za);
this.wD.appendChild(this.WR.W)};lU.prototype.oA=function(l){this.FF(l.Ff)};lU.prototype.gO=function(l,t){this.MA=l;
if(t==Wm.CM){this.AB(this.zT);this.FF(this.zT.Ff)}this.rq.zm(l.rq);this.WR.zm(l.WR)};function gP(l,t,a,k,R,u){WF.call(this);
this.yJ=0;this.OUG=this.OSL.bind(this);this.ta=R;this.OVs=k;this.ru=l;this.OAR=t;this.OnM=u;this.r$=a;
this.W=w.X("button","");this.G();this.W.addEventListener("mousedown",this.Yw.bind(this),!1);this.W.addEventListener("click",this.GW.bind(this),!1);
this.W.addEventListener("mouseover",this.OUG,!1);this.W.addEventListener("contextmenu",gP.TR,!1)}gP.prototype=new WF;
gP.TR=function(l){l.stopPropagation();l.preventDefault();return!1};gP.prototype.G=function(){var l=typeof this.ru=="string"?this.ru:Wq.get(this.ru),t=this.OAR?" ("+this.OAR.cj+")":"";
this.W.innerHTML=w.WL(this.r$,l);this.W.setAttribute("title",l+t);if(this.OnM){var a=w.X("img","gsicon");
a.setAttribute("src",PIMG["tools/corner"]);a.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.W.appendChild(a)}};gP.prototype.Yw=function(l){this.yJ=setTimeout(this.OUG,600)};gP.prototype.GW=function(l){clearTimeout(this.yJ);
var t=new Z(w.E.z,!1);t.target=this;t.id=this.OVs;this.t(t)};gP.prototype.OSL=function(l){var t=new Z("mover",!1);
t.target=this;t.id=this.OVs;this.t(t)};gP.prototype.OSJ=function(l){this.W.setAttribute("class",l?"toolbtn active":"toolbtn")};
function AT(){WF.call(this);this.W=w.X("div","topbar");this.Tg=w.X("span","");this.W.appendChild(this.Tg);
this.Te=null;this.zu=null;this.sz=[];this.SU=[];var l=this.Yw.bind(this);for(var t=0;t<AT.data.length;
t++){var a=AT.data[t],k=w.X("button");this.sz.push(k);this.Tg.appendChild(k);w.Ox(k,l);var R=new HY(a.items);
R.parent=this;this.SU.push(R);R.a("select",this.OnE,this)}this.hx=new Wa([0,13,0],!1,null,!0);this.hx.a("click",this.OSo,this);
this.W.appendChild(this.hx.W)}AT.prototype=new WF;AT.prototype.G=function(){this.hx.G();for(var l=0;
l<AT.data.length;l++)this.sz[l].innerHTML=typeof AT.data[l].name=="string"?AT.data[l].name:Wq.get(AT.data[l].name);
this.Ah();for(var l=0;l<AT.data.length;l++)this.SU[l].G()};AT.prototype.OSo=function(l){var t=new Z(w.E.J,!0);
t.data={T:w.h.AG,XG:"account"};this.t(t)};AT.prototype.OSh=function(l,t){this.Te=l;this.zu=t};AT.prototype.gO=function(l,t){this.zu=l;
if(t==Wm.CM){var a=l.OSy;w.BT(this.Tg);for(var k=0;k<this.sz.length;k++){if(a==null||a[k]==1||a[k]instanceof Array)this.Tg.appendChild(this.sz[k]);
if(a!=null&&a[k]instanceof Array)this.SU[k].yE(a[k])}this.W.removeChild(this.hx.W);if(l.pB)this.W.appendChild(this.hx.W)}this.Ah()};
AT.prototype.Ah=function(l,t){var a=this.hx,k=12255232;if(WY.FG())k=WY.FG().premium*1e3>Date.now()?43520:16755200;
a.W.setAttribute("style","color:#ffffff; background-color:#"+$.mW(k))};AT.prototype.Js=function(){for(var l=0;
l<AT.data.length;l++)this.SU[l].update(this.Te,AT.data[l].items,this.zu)};AT.prototype.Yw=function(l){var t=this.sz.indexOf(l.currentTarget),a=this.SU[t];
if(w.Ev(a.W))return;l.preventDefault();l.stopPropagation();this.Js();var k=l.target.getBoundingClientRect(),R=new Z(w.E.J,!0);
R.data={T:w.h._e,jn:a,x:k.left,y:k.top+k.height+2};this.t(R)};AT.prototype.OnE=function(l){var t=this.SU.indexOf(l.target),a=this.SU[t].Mf(),k=AT.data[t].zJ[a[0]];
for(var R=1;R<a.length;R++)k=k.sub[a[R]];var u=k,b=new Z(u.B,!0);b.P=u.P;b.data=u.c;this.t(b)};AT.data=[{name:[0,0],items:[{name:[5,3],Cu:"Alt+Ctrl+N",title:"Create a new document"},{name:[1,0],Cu:"Ctrl+O"},{name:[1,11]},{name:[1,5],Cc:!0},{name:[11,0]},{name:[1,1],Cc:!0,v:function(l,t){return{v:l!=null&&t.pZ}}},{name:"Save ...",Cu:"Ctrl+S",v:function(l,t){var a=Wq.get([1,2])+(l==null?"":l.kv?" (Smart Object)":l.kN?" (Google Drive)":"");
return{v:l!=null&&(l.kv!=null||l.wT!=null&&l.wT.ys!=null||l.kN!=null||t.OrW!=null),mB:a}}},{name:[1,3],title:"Save for Adobe Photoshop",v:function(l,t){return{v:l!=null&&t.pZ}}},{name:[1,8],sub:function(){var l=Wr.Az(0),t=[];
for(var a=0;a<l.length;a++)t.push({name:l[a],Cu:"."+l[a].toLowerCase()});t.push({name:[0,14],sub:function(){var l=Wr.Az(1),t=[];
for(var a=0;a<l.length;a++)t.push({name:l[a],Cu:"."+l[a].toLowerCase()});return t}()});return t}()},{name:[1,9],v:function(l,t){return{v:l!=null}},Cc:!0},{name:[1,10]}],zJ:[{B:w.E.J,c:{T:w.h.AG,XG:"newproject"}},{B:w.E.J,c:{T:w.h.sX}},{B:w.E.J,c:{T:w.h.sX,Ons:!0}},{B:w.E.J,c:{T:w.h.AG,XG:"open_from_url"}},{B:w.E.J,c:{T:w.h.AG,XG:"camera"}},{B:w.E.J,c:{T:w.h.oe}},{B:w.E.J,c:{T:w.h.xF}},{B:w.E.J,c:{T:w.h.wn}},{sub:function(){var l=Wr.Az(0),t=[];
for(var a=0;a<l.length;a++)t.push({B:w.E.J,c:{T:w.h.AG,XG:"saveforweb",Zg:a}});t.push({sub:function(){var k=Wr.Az(0).length,l=Wr.Az(1),t=[];
for(var a=0;a<l.length;a++)t.push({B:w.E.J,c:{T:w.h.AG,XG:"saveforweb",Zg:k+a}});return t}()});return t}()},{B:w.E.J,c:{T:w.h.AG,XG:"eassets"}},{B:w.E.J,c:{T:w.h.AG,XG:"script"}}]},{name:[0,1],items:[{name:[2,8],Cu:"Ctrl + Z"},{name:[2,0],Cu:"Shift+Ctrl + Z"},{name:[2,1],Cu:"Alt+Ctrl + Z",Cc:!0},{name:[5,0],Cu:"Ctrl + X"},{name:[5,1],Cu:"Ctrl + C"},{name:[5,7],Cu:"Shift + Ctrl + C"},{name:[5,2],Cu:"Ctrl + V",v:function(l,t){return{v:t.qV!=null||t.BH!=null||t.OVL!=null}}},{name:[2,2],v:function(l){return{v:l!=null&&l.O!=null}},Cu:"Delete",Cc:!0},{name:[2,3],v:function(l){return{v:l!=null}},_T:!0,Cu:"Shift + F5"},{name:[14,9],v:function(l){return{v:l!=null}},_T:!0,Cc:!0},{name:[10,16],Cu:"Alt+Ctrl + T"},{name:[2,4],Cc:!0,sub:[{name:[2,9]},{name:[11,9],v:function(l){if(l==null||l._.length!=1)return{v:!1};
var t=l.Q[l._[0]];return{v:t.add.TySh==null}},Cc:!0},{name:"90\xB0 \u21BB",v:function(l){return{mB:Wq.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",v:function(l){return{mB:Wq.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",v:function(l){return{mB:Wq.get([2,5])+" 180\xB0"}}},{name:[2,6]},{name:[2,7]}]},{name:[12,87],sub:[{name:[12,62],v:function(l){return{v:l!=null}}},{name:[9,3],v:function(l){return{v:l!=null}}},{name:[10,31],v:function(l){return{v:l!=null&&l._.length!=0&&l.Q[l._[0]].add.vmsk!=null}}}]},{name:[12,79],_T:!0,Cu:"Ctrl + K"}],zJ:[{B:w.E.q,P:s.nb,c:{T:"h_undoredo"}},{B:w.E.q,P:s.nb,c:{T:"h_stepfwd"}},{B:w.E.q,P:s.nb,c:{T:"h_stepbck"}},{B:w.E.J,c:{T:w.h.wE}},{B:w.E.J,c:{T:w.h.xZ}},{B:w.E.J,c:{T:w.h.xZ,$_:!0}},{B:w.E.J,c:{T:w.h.EN}},{B:w.E.q,P:s._a,c:{T:"clear"}},{B:w.E.J,c:{T:w.h.AG,XG:"fill"}},{B:w.E.J,c:{T:w.h.AG,XG:"stroke"}},{B:w.E.J,c:{T:w.h.iA,P:s.Yc}},{sub:[{B:w.E.J,c:{T:w.h.iA,P:s.Yc,EA:{fc:1}}},{B:w.E.J,c:{T:w.h.iA,P:s.Yc,EA:{fc:2}}},{B:w.E.q,P:s.Yc,c:{T:"rot",ER:[2,5],V:-Math.PI/2}},{B:w.E.q,P:s.Yc,c:{T:"rot",ER:[2,5],V:-3*Math.PI/2}},{B:w.E.q,P:s.Yc,c:{T:"rot",ER:[2,5],V:Math.PI}},{B:w.E.q,P:s.Yc,c:{T:"scl",ER:[2,6],V:new x(-1,1)}},{B:w.E.q,P:s.Yc,c:{T:"scl",ER:[2,7],V:new x(1,-1)}}]},{sub:[{B:w.E.J,c:{T:w.h.Sp,wd:0}},{B:w.E.J,c:{T:w.h.Sp,wd:1}},{B:w.E.J,c:{T:w.h.Sp,wd:2}}]},{B:w.E.J,c:{T:w.h.AG,XG:"preferences"}}]},{name:[0,2],items:[{name:[3],sub:function(){var l=[];
for(var t in WT.ready)l.push({name:WT.names[t],_T:WG[t]!=null,Cu:J.Oic(WT.keys[t]),Cc:WT.JJ.indexOf(t)!=-1});
return l}()},{name:[4,16,0],v:function(l){return{v:l!=null&&l.JR(!1)}}},{name:[4,16,1],v:function(l){return{v:l!=null&&l.JR(!1)}}},{name:[4,16,2],v:function(l){return{v:l!=null&&l.JR(!1)}},Cc:!0},{name:[11,11],v:function(l){return{v:l!=null&&l.JR(!1)}},Cc:!0},{name:[11,3],_T:!0},{name:[11,10],_T:!0},{name:[2,4],sub:[{name:"90\xB0 \u21BB",v:function(l){return{mB:Wq.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",v:function(l){return{mB:Wq.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",v:function(l){return{mB:Wq.get([2,5])+" 180\xB0"}}},{name:[2,6]},{name:[2,7]}]},{name:[11,12],_T:!0,v:function(l){return{v:l!=null&&l.JR(!1)}},Cu:"Ctrl + ."}],zJ:[{sub:function(){var l=[];
for(var t in WT.ready)l.push({B:w.E.q,P:s.nP,c:{T:"start",GN:t}});return l}()},{B:w.E.q,P:s.nP,c:{T:"auto",E$:0}},{B:w.E.q,P:s.nP,c:{T:"auto",E$:1}},{B:w.E.q,P:s.nP,c:{T:"auto",E$:2}},{B:w.E.J,c:{T:w.h.AG,XG:"vbitmap"}},{B:w.E.J,c:{T:w.h.AG,XG:"csize"}},{B:w.E.J,c:{T:w.h.AG,XG:"isize"}},{sub:[{B:w.E.q,P:s.MQ,c:{T:"rot",ER:[2,5],V:-Math.PI/2}},{B:w.E.q,P:s.MQ,c:{T:"rot",ER:[2,5],V:-3*Math.PI/2}},{B:w.E.q,P:s.MQ,c:{T:"rot",ER:[2,5],V:Math.PI}},{B:w.E.q,P:s.MQ,c:{T:"scl",ER:[2,6],V:new x(-1,1)}},{B:w.E.q,P:s.MQ,c:{T:"scl",ER:[2,7],V:new x(1,-1)}}]},{B:w.E.q,P:s.MQ,c:{T:"trim"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],Cu:"Ctrl + J"}]},{name:[6,0],Cu:"Ctrl + J"},{name:[11,4],v:function(l){return{v:l!=null}}},{name:[5,4],Cc:!0},{name:[11,6],Cc:!0,v:function(l){return{v:l!=null}},sub:$V.BS()},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],Cc:!0,sub:$V.BU()},{name:[6,2],sub:[{name:[6,4],v:function(l){return{v:l!=null&&l._.length!=0&&l.Q[l._[0]].c$()==null}}},{name:[6,5],v:function(l){return{v:l!=null&&l._.length!=0&&l.Q[l._[0]].c$()==null}}},{name:[5,4],v:function(l){return{v:l!=null&&l._.length!=0&&l.Q[l._[0]].c$()!=null}}},{name:[5,8],v:function(l){return{v:l!=null&&l._.length!=0&&l.Q[l._[0]].c$()!=null&&l.JR(!1,!0)}}},{name:"Enable/Disable",v:function(l){return{mB:Wq.get([5,5])+"/"+Wq.get([5,6]),v:l!=null&&l._.length!=0&&l.Q[l._[0]].c$()!=null}}}]},{name:[6,3],sub:[{name:[6,4],v:function(l){return{v:l!=null&&l._.length!=0&&l.Q[l._[0]].add.vmsk==null}}},{name:[6,5],v:function(l){return{v:l!=null&&l._.length!=0&&l.Q[l._[0]].add.vmsk==null}}},{name:[5,4],v:function(l){return{v:l!=null&&l._.length!=0&&l.Q[l._[0]].add.vmsk!=null}}},{name:"Enable/Disable",v:function(l){return{mB:Wq.get([5,5])+"/"+Wq.get([5,6]),v:l!=null&&l._.length!=0&&l.Q[l._[0]].add.vmsk!=null}}}]},{name:[6,6],Cu:"Alt+Ctrl+G",Cc:!0,v:function(l){return{rV:l!=null&&l._.length!=0&&l.Q[l._[0]].Nq,v:l!=null&&l.bW(l._[0])}}},{name:[6,7]},{name:[6,8],v:function(l){if(l==null||l._.length==0)return{v:!1};
var t=l.Q[l._[0]];if(t.add.TySh||t.add.SoLd||t.add.SoCo||t.add.GdFl||t.add.PtFl)return{v:!0};return{v:!1}}},{name:[6,34],Cc:!0,v:function(l){if(l==null||l._.length==0)return{v:!1};
var t=l.Q[l._[0]];return{v:t.add.lmfx!=null}}},{name:[6,9],Cc:!0,Cu:"Ctrl+G"},{name:[6,55],Cc:!0,sub:[{name:[6,56,0],Cu:"Sift+Ctrl+]"},{name:[6,56,1],Cu:"Ctrl+]"},{name:[6,56,2],Cu:"Ctrl+["},{name:[6,56,3],Cu:"Shift+Ctrl+["}]},{name:[6,10],v:function(l){return{v:l!=null&&l._.length==1&&l._[0]!=0&&!l.Q[l._[0]].PA()}},Cu:"Ctrl+E"},{name:[6,11],v:function(l){return{v:l!=null&&l._.length!=0&&(l._.length>1||l.Q[l._[0]].PA())}}}],zJ:[{sub:[{B:w.E.q,P:s.sO,c:{T:_.bv}},{B:w.E.q,P:s.sO,c:{T:_.kW}},{B:w.E.q,P:s.sO,c:{T:_.dp}}]},{B:w.E.q,P:s.sO,c:{T:_.OT}},{B:w.E.J,c:{T:w.h.AG,XG:"duplinto"}},{B:w.E.q,P:s.sO,c:{T:_.Gu}},{sub:$V.Bn()},{sub:[{B:w.E.q,P:s.sO,c:{T:_.vS,PB:0,Jk:0}},{B:w.E.q,P:s.sO,c:{T:_.vS,PB:1,Jk:0}},{B:w.E.q,P:s.sO,c:{T:_.vS,PB:2,Jk:0}}]},{sub:$V.BE()},{sub:[{B:w.E.q,P:s.sO,c:{T:_.Oa,dY:!1}},{B:w.E.q,P:s.sO,c:{T:_.Oa,dY:!0}},{B:w.E.q,P:s.sO,c:{T:_.bA}},{B:w.E.q,P:s.sO,c:{T:_.yN}},{B:w.E.q,P:s.sO,c:{T:_.GB}}]},{sub:[{B:w.E.q,P:s.sO,c:{T:_.aB,dY:!1}},{B:w.E.q,P:s.sO,c:{T:_.aB,dY:!0}},{B:w.E.q,P:s.sO,c:{T:_.b$}},{B:w.E.q,P:s.sO,c:{T:_.fw}}]},{B:w.E.q,P:s.sO,c:{T:_.Ou}},{B:w.E.q,P:s.sO,c:{T:_.ih}},{B:w.E.q,P:s.sO,c:{T:_.yh}},{B:w.E.q,P:s.sO,c:{T:_.yv}},{B:w.E.q,P:s.sO,c:{T:_.kU}},{sub:[{B:w.E.q,P:s.sO,c:{T:_.de,mk:0}},{B:w.E.q,P:s.sO,c:{T:_.de,mk:1}},{B:w.E.q,P:s.sO,c:{T:_.de,mk:2}},{B:w.E.q,P:s.sO,c:{T:_.de,mk:3}}]},{B:w.E.q,P:s.sO,c:{T:_.fL}},{B:w.E.q,P:s.sO,c:{T:_.PS}}]},{name:[0,5],items:[{name:[7,0],Cu:"Ctrl+A"},{name:[7,1],Cu:"Ctrl+D",v:function(l){return{v:l!=null&&l.O!=null}}},{name:[7,2],Cu:"Shift+Ctrl+I",v:function(l){return{v:l!=null&&l.O!=null}},Cc:!0},{name:[7,8],_T:!0},{name:[7,11],_T:!0,v:function(l){return{v:l!=null&&l._.length!=0&&!l.Q[l._[0]].rect.wp()}}},{name:[7,3],Cc:!0,sub:[{name:[7,9],_T:!0,v:function(l){return{v:l!=null&&l.O!=null}}},{name:[7,4],_T:!0,v:function(l){return{v:l!=null&&l.O!=null}}},{name:[7,5],_T:!0,v:function(l){return{v:l!=null&&l.O!=null}}},{name:[7,6],_T:!0,v:function(l){return{v:l!=null&&l.O!=null}}}]},{name:[7,10],v:function(l){return{v:l!=null&&l.O!=null}}}],zJ:[{B:w.E.q,P:s.qw,c:{T:"all"}},{B:w.E.q,P:s.qw,c:{T:"deselect"}},{B:w.E.q,P:s.qw,c:{T:"inverse"}},{B:w.E.J,c:{T:w.h.AG,XG:"crange"}},{B:w.E.J,c:{T:w.h.AG,XG:"redge"}},{sub:[{B:w.E.J,c:{T:w.h.AG,XG:"sel_border"}},{B:w.E.J,c:{T:w.h.AG,XG:"sel_expand"}},{B:w.E.J,c:{T:w.h.AG,XG:"sel_contract"}},{B:w.E.J,c:{T:w.h.AG,XG:"sel_feather"}}]},{B:w.E.J,c:{T:w.h.iA,P:s.WJ}}]},function(){var l={name:[0,6],items:[{name:[24,18,4],Cu:"Ctrl + F",Cc:!0}],zJ:[{B:w.E.q,P:s.qK,c:{T:"applylast"}}]};
for(var t=0;t<HU.rS.length;t++){var a=HU.rS[t];if(a.Xj!=null){l.items.push({name:HU.names[a.Xj],_T:!0});
l.zJ.push({B:w.E.q,P:s.qK,c:{T:"start",filter:a.Xj}});continue}var k={name:a.OZ,sub:[]};l.items.push(k);
var R={sub:[]};l.zJ.push(R);for(var u=0;u<a.hl.length;u++){var b={name:HU.names[a.hl[u]],_T:HU.TG(a.hl[u])!=null};
k.sub.push(b);var v={B:w.E.q,P:s.qK,c:{T:"start",filter:a.hl[u]}};R.sub.push(v)}}return l}(),{name:[0,7],items:[{name:[8,0],Cu:"Ctrl + +"},{name:[8,1],Cu:"Ctrl + -"},{name:[20,3],Cu:"Ctrl + 0"},{name:[20,2],Cu:"Ctrl + 1",Cc:!0},{name:"Extras",Cu:"Ctrl + H",v:function(l,t){return{rV:t.md}}},{name:[8,9],v:function(l,t){return{v:t.md,rV:t.IJ.t$}}},{name:[8,2],v:function(l,t){return{v:t.md,rV:t.IJ.gh}}},{name:[8,4],v:function(l,t){return{v:t.md,rV:t.IJ.qp}}},{name:[8,8],v:function(l,t){return{v:t.md,rV:t.IJ.tm}},Cc:!0},{name:[8,3],v:function(l,t){return{rV:t.qD}},Cu:"Ctrl + R",Cc:!0},{name:[8,5],v:function(l,t){return{rV:t.rk}}},{name:[8,6],Cc:!0,sub:[{name:[8,2],v:function(l,t){return{rV:t.Ty[0]}}},{name:[8,4],v:function(l,t){return{rV:t.Ty[1]}}},{name:[8,7],v:function(l,t){return{rV:t.Ty[4]}}}]},{name:[23,4],v:function(l,t){return{v:l!=null}}}],zJ:[{B:w.E.q,P:s.wQ,c:{T:"zoom",Kx:!0}},{B:w.E.q,P:s.wQ,c:{T:"zoom",Kx:!1}},{B:w.E.q,P:s.wQ,c:{T:"adapt",V:"fitscr"}},{B:w.E.q,P:s.wQ,c:{T:"adapt",V:"pixel"}},{B:w.E.J,c:{T:w.h.kn,wd:Wm.ey}},{B:w.E.J,c:{T:w.h.kn,wd:Wm.Le}},{B:w.E.J,c:{T:w.h.kn,wd:Wm.Iq}},{B:w.E.J,c:{T:w.h.kn,wd:Wm.eR}},{B:w.E.J,c:{T:w.h.kn,wd:Wm.Lo}},{B:w.E.J,c:{T:w.h.kn,wd:Wm.eM}},{B:w.E.J,c:{T:w.h.kn,wd:Wm.LB}},{sub:[{B:w.E.J,c:{T:w.h.kn,wd:Wm.IG,yC:0}},{B:w.E.J,c:{T:w.h.kn,wd:Wm.IG,yC:1}},{B:w.E.J,c:{T:w.h.kn,wd:Wm.IG,yC:4}}]},{B:w.E.J,c:{T:w.h.AG,XG:"addguide"}}]},function(){var l={name:[0,8],items:[],zJ:[]};
for(var t in Oa.ra){var a=Oa.ra[t];l.items.push({name:a.jn.name});l.zJ.push({B:w.E.J,c:{T:w.h.K$,XG:t}})}return l}(),function(){var l={name:[0,14],items:[],zJ:[]},t={name:[0,9],sub:[]};
l.items.push(t);var a={sub:[]};l.zJ.push(a);var k=Wq.OkX();for(var R=0;R<k.length;R++){var u=k[R],b=u.code,v=Wq.Gb(b);
t.sub.push({name:u.name,Cu:b,v:function(H,N){return{rV:this.Cu==Wq.SY()}}});a.sub.push({B:w.E.J,c:{T:w.h.kn,wd:Wm.o$,lang:v}})}t.sub.push({name:[0,12]});
a.sub.push({B:w.E.J,c:{T:w.h.Kn,link:"https://www.photopea.com/translate/"}});var t={name:[0,15],sub:[]};
l.items.push(t);var a={sub:[]};l.zJ.push(a);for(var R=0;R<HN.DE.length;R++){t.sub.push({name:HN.DE[R].name,v:function(H,N){return{rV:this.name==HN.DE[N.Ek].name}}});
a.sub.push({B:w.E.J,c:{T:w.h.kn,wd:Wm.Ia,Ek:R}})}l.items.push({name:"Install Photopea",v:function(H,N){return{v:N.BW!=null}}});
l.zJ.push({B:w.E.J,c:{T:w.h.yg}});l.items.push({name:[11,13]});l.zJ.push({B:w.E.J,c:{T:w.h.AG,XG:"shortcuts"}});
l.items.push({name:[0,16],v:function(H){return{rV:T.jS,v:T.rf}}});l.zJ.push({B:w.E.J,c:{T:w.h.oc}});
return l}()];function ly(){WF.call(this);this.W=w.X("div","");this.zY=0;this.ze=0;this.OB=w.X("div","");
this.OB.setAttribute("style","width:200em; height:100em; position:absolute;");this.xB=[];this.GK=[new lA,new OB,new lF,new lE,new $Z,new lx,new AA,new $x,new lZ,new OA,new AP,new Ar,new $V,new lu,new $U,new $l,new Au,new AG,new WA,new gg,new AO,new Oh,new Ol,new lQ,new Wb("border",[7,9],"px"),new Wb("expand",[7,4],"px"),new Wb("contract",[7,5],"px"),new Wb("feather",[7,6],"px"),new $H("namewindow",[12,48])];
for(var l in WG){this.GK.push(new Ay(l));this.GK.push(new Wk(l))}for(var t in Wn){this.GK.push(new Wk(t))}for(var a=0;
a<this.GK.length;a++){var k=this.GK[a];k.a(w.E.sD,this.One,this);k.parent=this}}ly.prototype=new WF;
ly.prototype.ci=function(l,t){this.zY=l;this.ze=t;for(var a=0;a<this.GK.length;a++)this.$l(this.GK[a])};
ly.prototype.G=function(){for(var l=0;l<this.GK.length;l++)this.GK[l].G()};ly.prototype.fH=function(){return this.xB.length==0?null:this.xB[this.xB.length-1]};
ly.prototype.xI=function(){for(var l=0;l<this.xB.length;l++)if(this.xB[l].xI())return!0;return!1};ly.prototype.$V=function(l,t,a,k,R){var u=null;
for(var b=0;b<this.GK.length;b++)if(this.GK[b].id==l)u=this.GK[b];if(!u.SJ(t))return;this.$l(u);if(this.xB.indexOf(u)!=-1)return;
var v=this.xB.length-1;if(v>=0)w.jI(this.xB[v].W,"wdisabled");this.W.appendChild(u.W);this.xB.push(u);
u.oA(t,a,k,R)};ly.prototype.$l=function(l){var t=this.zY,a=this.ze,k=l.xv(t,a);l.W.style.left=k.x+"px";
l.W.style.top=this.W.offsetTop+k.y+"px";l.ci(this.zY-k.x*2,this.ze-k.y*2-34)};ly.prototype.gO=function(l,t){for(var a=0;
a<this.GK.length;a++)this.GK[a].gO(l,t)};ly.prototype.One=function(l){var t=this.xB.pop();this.W.removeChild(t.W);
var a=this.xB.length-1;if(a>=0)w.ls(this.xB[a].W,"wdisabled");if(this.OB.parentNode==this.W)this.W.removeChild(this.OB)};
window.onload=function(){var l=new OO;document.body.appendChild(l.W)}}())